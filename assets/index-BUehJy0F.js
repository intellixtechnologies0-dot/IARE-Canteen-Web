(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function Lp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function ox(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var a=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return r[n]}})}),t}var cf={exports:{}},Io={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function sx(){if(vv)return Io;vv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:r,type:n,key:l,ref:a!==void 0?a:null,props:o}}return Io.Fragment=e,Io.jsx=t,Io.jsxs=t,Io}var pv;function lx(){return pv||(pv=1,cf.exports=sx()),cf.exports}var w=lx(),ff={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function ux(){if(gv)return we;gv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=g&&M[g]||M["@@iterator"],typeof M=="function"?M:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,b={};function A(M,Q,ne){this.props=M,this.context=Q,this.refs=b,this.updater=ne||m}A.prototype.isReactComponent={},A.prototype.setState=function(M,Q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Q,"setState")},A.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function S(){}S.prototype=A.prototype;function O(M,Q,ne){this.props=M,this.context=Q,this.refs=b,this.updater=ne||m}var T=O.prototype=new S;T.constructor=O,_(T,A.prototype),T.isPureReactComponent=!0;var N=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function B(M,Q,ne,ie,fe,Re){return ne=Re.ref,{$$typeof:r,type:M,key:Q,ref:ne!==void 0?ne:null,props:Re}}function Y(M,Q){return B(M.type,Q,void 0,void 0,void 0,M.props)}function F(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function X(M){var Q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ne){return Q[ne]})}var J=/\/+/g;function K(M,Q){return typeof M=="object"&&M!==null&&M.key!=null?X(""+M.key):Q.toString(36)}function ae(){}function te(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ae,ae):(M.status="pending",M.then(function(Q){M.status==="pending"&&(M.status="fulfilled",M.value=Q)},function(Q){M.status==="pending"&&(M.status="rejected",M.reason=Q)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function se(M,Q,ne,ie,fe){var Re=typeof M;(Re==="undefined"||Re==="boolean")&&(M=null);var me=!1;if(M===null)me=!0;else switch(Re){case"bigint":case"string":case"number":me=!0;break;case"object":switch(M.$$typeof){case r:case e:me=!0;break;case v:return me=M._init,se(me(M._payload),Q,ne,ie,fe)}}if(me)return fe=fe(M),me=ie===""?"."+K(M,0):ie,N(fe)?(ne="",me!=null&&(ne=me.replace(J,"$&/")+"/"),se(fe,Q,ne,"",function(pn){return pn})):fe!=null&&(F(fe)&&(fe=Y(fe,ne+(fe.key==null||M&&M.key===fe.key?"":(""+fe.key).replace(J,"$&/")+"/")+me)),Q.push(fe)),1;me=0;var ir=ie===""?".":ie+":";if(N(M))for(var rt=0;rt<M.length;rt++)ie=M[rt],Re=ir+K(ie,rt),me+=se(ie,Q,ne,Re,fe);else if(rt=x(M),typeof rt=="function")for(M=rt.call(M),rt=0;!(ie=M.next()).done;)ie=ie.value,Re=ir+K(ie,rt++),me+=se(ie,Q,ne,Re,fe);else if(Re==="object"){if(typeof M.then=="function")return se(te(M),Q,ne,ie,fe);throw Q=String(M),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return me}function L(M,Q,ne){if(M==null)return M;var ie=[],fe=0;return se(M,ie,"","",function(Re){return Q.call(ne,Re,fe++)}),ie}function re(M){if(M._status===-1){var Q=M._result;Q=Q(),Q.then(function(ne){(M._status===0||M._status===-1)&&(M._status=1,M._result=ne)},function(ne){(M._status===0||M._status===-1)&&(M._status=2,M._result=ne)}),M._status===-1&&(M._status=0,M._result=Q)}if(M._status===1)return M._result.default;throw M._result}var le=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function ye(){}return we.Children={map:L,forEach:function(M,Q,ne){L(M,function(){Q.apply(this,arguments)},ne)},count:function(M){var Q=0;return L(M,function(){Q++}),Q},toArray:function(M){return L(M,function(Q){return Q})||[]},only:function(M){if(!F(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},we.Component=A,we.Fragment=t,we.Profiler=a,we.PureComponent=O,we.StrictMode=n,we.Suspense=f,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,we.__COMPILER_RUNTIME={__proto__:null,c:function(M){return P.H.useMemoCache(M)}},we.cache=function(M){return function(){return M.apply(null,arguments)}},we.cloneElement=function(M,Q,ne){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ie=_({},M.props),fe=M.key,Re=void 0;if(Q!=null)for(me in Q.ref!==void 0&&(Re=void 0),Q.key!==void 0&&(fe=""+Q.key),Q)!D.call(Q,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&Q.ref===void 0||(ie[me]=Q[me]);var me=arguments.length-2;if(me===1)ie.children=ne;else if(1<me){for(var ir=Array(me),rt=0;rt<me;rt++)ir[rt]=arguments[rt+2];ie.children=ir}return B(M.type,fe,void 0,void 0,Re,ie)},we.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:o,_context:M},M},we.createElement=function(M,Q,ne){var ie,fe={},Re=null;if(Q!=null)for(ie in Q.key!==void 0&&(Re=""+Q.key),Q)D.call(Q,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(fe[ie]=Q[ie]);var me=arguments.length-2;if(me===1)fe.children=ne;else if(1<me){for(var ir=Array(me),rt=0;rt<me;rt++)ir[rt]=arguments[rt+2];fe.children=ir}if(M&&M.defaultProps)for(ie in me=M.defaultProps,me)fe[ie]===void 0&&(fe[ie]=me[ie]);return B(M,Re,void 0,void 0,null,fe)},we.createRef=function(){return{current:null}},we.forwardRef=function(M){return{$$typeof:c,render:M}},we.isValidElement=F,we.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:re}},we.memo=function(M,Q){return{$$typeof:h,type:M,compare:Q===void 0?null:Q}},we.startTransition=function(M){var Q=P.T,ne={};P.T=ne;try{var ie=M(),fe=P.S;fe!==null&&fe(ne,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ye,le)}catch(Re){le(Re)}finally{P.T=Q}},we.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},we.use=function(M){return P.H.use(M)},we.useActionState=function(M,Q,ne){return P.H.useActionState(M,Q,ne)},we.useCallback=function(M,Q){return P.H.useCallback(M,Q)},we.useContext=function(M){return P.H.useContext(M)},we.useDebugValue=function(){},we.useDeferredValue=function(M,Q){return P.H.useDeferredValue(M,Q)},we.useEffect=function(M,Q,ne){var ie=P.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(M,Q)},we.useId=function(){return P.H.useId()},we.useImperativeHandle=function(M,Q,ne){return P.H.useImperativeHandle(M,Q,ne)},we.useInsertionEffect=function(M,Q){return P.H.useInsertionEffect(M,Q)},we.useLayoutEffect=function(M,Q){return P.H.useLayoutEffect(M,Q)},we.useMemo=function(M,Q){return P.H.useMemo(M,Q)},we.useOptimistic=function(M,Q){return P.H.useOptimistic(M,Q)},we.useReducer=function(M,Q,ne){return P.H.useReducer(M,Q,ne)},we.useRef=function(M){return P.H.useRef(M)},we.useState=function(M){return P.H.useState(M)},we.useSyncExternalStore=function(M,Q,ne){return P.H.useSyncExternalStore(M,Q,ne)},we.useTransition=function(){return P.H.useTransition()},we.version="19.1.1",we}var yv;function ad(){return yv||(yv=1,ff.exports=ux()),ff.exports}var U=ad();const cx=Lp(U);var df={exports:{}},No={},hf={exports:{}},vf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function fx(){return xv||(xv=1,(function(r){function e(L,re){var le=L.length;L.push(re);e:for(;0<le;){var ye=le-1>>>1,M=L[ye];if(0<a(M,re))L[ye]=re,L[le]=M,le=ye;else break e}}function t(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var re=L[0],le=L.pop();if(le!==re){L[0]=le;e:for(var ye=0,M=L.length,Q=M>>>1;ye<Q;){var ne=2*(ye+1)-1,ie=L[ne],fe=ne+1,Re=L[fe];if(0>a(ie,le))fe<M&&0>a(Re,ie)?(L[ye]=Re,L[fe]=le,ye=fe):(L[ye]=ie,L[ne]=le,ye=ne);else if(fe<M&&0>a(Re,le))L[ye]=Re,L[fe]=le,ye=fe;else break e}}return re}function a(L,re){var le=L.sortIndex-re.sortIndex;return le!==0?le:L.id-re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();r.unstable_now=function(){return l.now()-c}}var f=[],h=[],v=1,g=null,x=3,m=!1,_=!1,b=!1,A=!1,S=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function N(L){for(var re=t(h);re!==null;){if(re.callback===null)n(h);else if(re.startTime<=L)n(h),re.sortIndex=re.expirationTime,e(f,re);else break;re=t(h)}}function P(L){if(b=!1,N(L),!_)if(t(f)!==null)_=!0,D||(D=!0,K());else{var re=t(h);re!==null&&se(P,re.startTime-L)}}var D=!1,B=-1,Y=5,F=-1;function X(){return A?!0:!(r.unstable_now()-F<Y)}function J(){if(A=!1,D){var L=r.unstable_now();F=L;var re=!0;try{e:{_=!1,b&&(b=!1,O(B),B=-1),m=!0;var le=x;try{t:{for(N(L),g=t(f);g!==null&&!(g.expirationTime>L&&X());){var ye=g.callback;if(typeof ye=="function"){g.callback=null,x=g.priorityLevel;var M=ye(g.expirationTime<=L);if(L=r.unstable_now(),typeof M=="function"){g.callback=M,N(L),re=!0;break t}g===t(f)&&n(f),N(L)}else n(f);g=t(f)}if(g!==null)re=!0;else{var Q=t(h);Q!==null&&se(P,Q.startTime-L),re=!1}}break e}finally{g=null,x=le,m=!1}re=void 0}}finally{re?K():D=!1}}}var K;if(typeof T=="function")K=function(){T(J)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,te=ae.port2;ae.port1.onmessage=J,K=function(){te.postMessage(null)}}else K=function(){S(J,0)};function se(L,re){B=S(function(){L(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(L){L.callback=null},r.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<L?Math.floor(1e3/L):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(L){switch(x){case 1:case 2:case 3:var re=3;break;default:re=x}var le=x;x=re;try{return L()}finally{x=le}},r.unstable_requestPaint=function(){A=!0},r.unstable_runWithPriority=function(L,re){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var le=x;x=L;try{return re()}finally{x=le}},r.unstable_scheduleCallback=function(L,re,le){var ye=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ye+le:ye):le=ye,L){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=le+M,L={id:v++,callback:re,priorityLevel:L,startTime:le,expirationTime:M,sortIndex:-1},le>ye?(L.sortIndex=le,e(h,L),t(f)===null&&L===t(h)&&(b?(O(B),B=-1):b=!0,se(P,le-ye))):(L.sortIndex=M,e(f,L),_||m||(_=!0,D||(D=!0,K()))),L},r.unstable_shouldYield=X,r.unstable_wrapCallback=function(L){var re=x;return function(){var le=x;x=re;try{return L.apply(this,arguments)}finally{x=le}}}})(vf)),vf}var mv;function dx(){return mv||(mv=1,hf.exports=fx()),hf.exports}var pf={exports:{}},Vt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function hx(){if(_v)return Vt;_v=1;var r=ad();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,h,v){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:v}}var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Vt.createPortal=function(f,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,v)},Vt.flushSync=function(f){var h=l.T,v=n.p;try{if(l.T=null,n.p=2,f)return f()}finally{l.T=h,n.p=v,n.d.f()}},Vt.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(f,h))},Vt.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},Vt.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var v=h.as,g=c(v,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,m=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?n.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:m}):v==="script"&&n.d.X(f,{crossOrigin:g,integrity:x,fetchPriority:m,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Vt.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=c(h.as,h.crossOrigin);n.d.M(f,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(f)},Vt.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,g=c(v,h.crossOrigin);n.d.L(f,v,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Vt.preloadModule=function(f,h){if(typeof f=="string")if(h){var v=c(h.as,h.crossOrigin);n.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(f)},Vt.requestFormReset=function(f){n.d.r(f)},Vt.unstable_batchedUpdates=function(f,h){return f(h)},Vt.useFormState=function(f,h,v){return l.H.useFormState(f,h,v)},Vt.useFormStatus=function(){return l.H.useHostTransitionStatus()},Vt.version="19.1.1",Vt}var wv;function vx(){if(wv)return pf.exports;wv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pf.exports=hx(),pf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function px(){if(Ev)return No;Ev=1;var r=dx(),e=ad(),t=vx();function n(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function l(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(n(188))}function f(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(n(188));return s!==i?null:i}for(var u=i,d=s;;){var p=u.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){u=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===u)return c(p),i;if(y===d)return c(p),s;y=y.sibling}throw Error(n(188))}if(u.return!==d.return)u=p,d=y;else{for(var E=!1,C=p.child;C;){if(C===u){E=!0,u=p,d=y;break}if(C===d){E=!0,d=p,u=y;break}C=C.sibling}if(!E){for(C=y.child;C;){if(C===u){E=!0,u=y,d=p;break}if(C===d){E=!0,d=y,u=p;break}C=C.sibling}if(!E)throw Error(n(189))}}if(u.alternate!==d)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:s}function h(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=h(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function K(i){return i===null||typeof i!="object"?null:(i=J&&i[J]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Symbol.for("react.client.reference");function te(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ae?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case _:return"Fragment";case A:return"Profiler";case b:return"StrictMode";case P:return"Suspense";case D:return"SuspenseList";case F:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case m:return"Portal";case T:return(i.displayName||"Context")+".Provider";case O:return(i._context.displayName||"Context")+".Consumer";case N:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case B:return s=i.displayName||null,s!==null?s:te(i.type)||"Memo";case Y:s=i._payload,i=i._init;try{return te(i(s))}catch{}}return null}var se=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ye=[],M=-1;function Q(i){return{current:i}}function ne(i){0>M||(i.current=ye[M],ye[M]=null,M--)}function ie(i,s){M++,ye[M]=i.current,i.current=s}var fe=Q(null),Re=Q(null),me=Q(null),ir=Q(null);function rt(i,s){switch(ie(me,s),ie(Re,i),ie(fe,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?H1(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=H1(s),i=V1(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(fe),ie(fe,i)}function pn(){ne(fe),ne(Re),ne(me)}function $l(i){i.memoizedState!==null&&ie(ir,i);var s=fe.current,u=V1(s,i.type);s!==u&&(ie(Re,i),ie(fe,u))}function ts(i){Re.current===i&&(ne(fe),ne(Re)),ir.current===i&&(ne(ir),Co._currentValue=le)}var Wl=Object.prototype.hasOwnProperty,Zl=r.unstable_scheduleCallback,Kl=r.unstable_cancelCallback,jg=r.unstable_shouldYield,Ug=r.unstable_requestPaint,kr=r.unstable_now,Fg=r.unstable_getCurrentPriorityLevel,Ed=r.unstable_ImmediatePriority,Ad=r.unstable_UserBlockingPriority,rs=r.unstable_NormalPriority,zg=r.unstable_LowPriority,bd=r.unstable_IdlePriority,Hg=r.log,Vg=r.unstable_setDisableYieldValue,Mi=null,or=null;function gn(i){if(typeof Hg=="function"&&Vg(i),or&&typeof or.setStrictMode=="function")try{or.setStrictMode(Mi,i)}catch{}}var sr=Math.clz32?Math.clz32:qg,Gg=Math.log,Xg=Math.LN2;function qg(i){return i>>>=0,i===0?32:31-(Gg(i)/Xg|0)|0}var ns=256,as=4194304;function Zn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function is(i,s,u){var d=i.pendingLanes;if(d===0)return 0;var p=0,y=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var C=d&134217727;return C!==0?(d=C&~y,d!==0?p=Zn(d):(E&=C,E!==0?p=Zn(E):u||(u=C&~i,u!==0&&(p=Zn(u))))):(C=d&~y,C!==0?p=Zn(C):E!==0?p=Zn(E):u||(u=d&~i,u!==0&&(p=Zn(u)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,u=s&-s,y>=u||y===32&&(u&4194048)!==0)?s:p}function Bi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Yg(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sd(){var i=ns;return ns<<=1,(ns&4194048)===0&&(ns=256),i}function Cd(){var i=as;return as<<=1,(as&62914560)===0&&(as=4194304),i}function Ql(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function Pi(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function $g(i,s,u,d,p,y){var E=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var C=i.entanglements,I=i.expirationTimes,H=i.hiddenUpdates;for(u=E&~u;0<u;){var W=31-sr(u),ee=1<<W;C[W]=0,I[W]=-1;var G=H[W];if(G!==null)for(H[W]=null,W=0;W<G.length;W++){var q=G[W];q!==null&&(q.lane&=-536870913)}u&=~ee}d!==0&&Td(i,d,0),y!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=y&~(E&~s))}function Td(i,s,u){i.pendingLanes|=s,i.suspendedLanes&=~s;var d=31-sr(s);i.entangledLanes|=s,i.entanglements[d]=i.entanglements[d]|1073741824|u&4194090}function Od(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var d=31-sr(u),p=1<<d;p&s|i[d]&s&&(i[d]|=s),u&=~p}}function Jl(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function eu(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Rd(){var i=re.p;return i!==0?i:(i=window.event,i===void 0?32:lv(i.type))}function Wg(i,s){var u=re.p;try{return re.p=i,s()}finally{re.p=u}}var yn=Math.random().toString(36).slice(2),zt="__reactFiber$"+yn,Kt="__reactProps$"+yn,Sa="__reactContainer$"+yn,tu="__reactEvents$"+yn,Zg="__reactListeners$"+yn,Kg="__reactHandles$"+yn,Dd="__reactResources$"+yn,ki="__reactMarker$"+yn;function ru(i){delete i[zt],delete i[Kt],delete i[tu],delete i[Zg],delete i[Kg]}function Ca(i){var s=i[zt];if(s)return s;for(var u=i.parentNode;u;){if(s=u[Sa]||u[zt]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=Y1(i);i!==null;){if(u=i[zt])return u;i=Y1(i)}return s}i=u,u=i.parentNode}return null}function Ta(i){if(i=i[zt]||i[Sa]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Li(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(n(33))}function Oa(i){var s=i[Dd];return s||(s=i[Dd]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Tt(i){i[ki]=!0}var Id=new Set,Nd={};function Kn(i,s){Ra(i,s),Ra(i+"Capture",s)}function Ra(i,s){for(Nd[i]=s,i=0;i<s.length;i++)Id.add(s[i])}var Qg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Md={},Bd={};function Jg(i){return Wl.call(Bd,i)?!0:Wl.call(Md,i)?!1:Qg.test(i)?Bd[i]=!0:(Md[i]=!0,!1)}function os(i,s,u){if(Jg(s))if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+u)}}function ss(i,s,u){if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+u)}}function qr(i,s,u,d){if(d===null)i.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(s,u,""+d)}}var nu,Pd;function Da(i){if(nu===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);nu=s&&s[1]||"",Pd=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nu+i+Pd}var au=!1;function iu(i,s){if(!i||au)return"";au=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(q){var G=q}Reflect.construct(i,[],ee)}else{try{ee.call()}catch(q){G=q}i.call(ee.prototype)}}else{try{throw Error()}catch(q){G=q}(ee=i())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(q){if(q&&G&&typeof q.stack=="string")return[q.stack,G.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),E=y[0],C=y[1];if(E&&C){var I=E.split(`
`),H=C.split(`
`);for(p=d=0;d<I.length&&!I[d].includes("DetermineComponentFrameRoot");)d++;for(;p<H.length&&!H[p].includes("DetermineComponentFrameRoot");)p++;if(d===I.length||p===H.length)for(d=I.length-1,p=H.length-1;1<=d&&0<=p&&I[d]!==H[p];)p--;for(;1<=d&&0<=p;d--,p--)if(I[d]!==H[p]){if(d!==1||p!==1)do if(d--,p--,0>p||I[d]!==H[p]){var W=`
`+I[d].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=d&&0<=p);break}}}finally{au=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Da(u):""}function ey(i){switch(i.tag){case 26:case 27:case 5:return Da(i.type);case 16:return Da("Lazy");case 13:return Da("Suspense");case 19:return Da("SuspenseList");case 0:case 15:return iu(i.type,!1);case 11:return iu(i.type.render,!1);case 1:return iu(i.type,!0);case 31:return Da("Activity");default:return""}}function kd(i){try{var s="";do s+=ey(i),i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function pr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ld(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ty(i){var s=Ld(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),d=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){d=""+E,y.call(this,E)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ls(i){i._valueTracker||(i._valueTracker=ty(i))}function jd(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),d="";return i&&(d=Ld(i)?i.checked?"true":"false":i.value),i=d,i!==u?(s.setValue(i),!0):!1}function us(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ry=/[\n"\\]/g;function gr(i){return i.replace(ry,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ou(i,s,u,d,p,y,E,C){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),s!=null?E==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+pr(s)):i.value!==""+pr(s)&&(i.value=""+pr(s)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),s!=null?su(i,E,pr(s)):u!=null?su(i,E,pr(u)):d!=null&&i.removeAttribute("value"),p==null&&y!=null&&(i.defaultChecked=!!y),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.name=""+pr(C):i.removeAttribute("name")}function Ud(i,s,u,d,p,y,E,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;u=u!=null?""+pr(u):"",s=s!=null?""+pr(s):u,C||s===i.value||(i.value=s),i.defaultValue=s}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=C?i.checked:!!d,i.defaultChecked=!!d,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function su(i,s,u){s==="number"&&us(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Ia(i,s,u,d){if(i=i.options,s){s={};for(var p=0;p<u.length;p++)s["$"+u[p]]=!0;for(u=0;u<i.length;u++)p=s.hasOwnProperty("$"+i[u].value),i[u].selected!==p&&(i[u].selected=p),p&&d&&(i[u].defaultSelected=!0)}else{for(u=""+pr(u),s=null,p=0;p<i.length;p++){if(i[p].value===u){i[p].selected=!0,d&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function Fd(i,s,u){if(s!=null&&(s=""+pr(s),s!==i.value&&(i.value=s),u==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=u!=null?""+pr(u):""}function zd(i,s,u,d){if(s==null){if(d!=null){if(u!=null)throw Error(n(92));if(se(d)){if(1<d.length)throw Error(n(93));d=d[0]}u=d}u==null&&(u=""),s=u}u=pr(s),i.defaultValue=u,d=i.textContent,d===u&&d!==""&&d!==null&&(i.value=d)}function Na(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var ny=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hd(i,s,u){var d=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":d?i.setProperty(s,u):typeof u!="number"||u===0||ny.has(s)?s==="float"?i.cssFloat=u:i[s]=(""+u).trim():i[s]=u+"px"}function Vd(i,s,u){if(s!=null&&typeof s!="object")throw Error(n(62));if(i=i.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var p in s)d=s[p],s.hasOwnProperty(p)&&u[p]!==d&&Hd(i,p,d)}else for(var y in s)s.hasOwnProperty(y)&&Hd(i,y,s[y])}function lu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ay=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),iy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cs(i){return iy.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var uu=null;function cu(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ma=null,Ba=null;function Gd(i){var s=Ta(i);if(s&&(i=s.stateNode)){var u=i[Kt]||null;e:switch(i=s.stateNode,s.type){case"input":if(ou(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+gr(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var d=u[s];if(d!==i&&d.form===i.form){var p=d[Kt]||null;if(!p)throw Error(n(90));ou(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<u.length;s++)d=u[s],d.form===i.form&&jd(d)}break e;case"textarea":Fd(i,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&Ia(i,!!u.multiple,s,!1)}}}var fu=!1;function Xd(i,s,u){if(fu)return i(s,u);fu=!0;try{var d=i(s);return d}finally{if(fu=!1,(Ma!==null||Ba!==null)&&(Ws(),Ma&&(s=Ma,i=Ba,Ba=Ma=null,Gd(s),i)))for(s=0;s<i.length;s++)Gd(i[s])}}function ji(i,s){var u=i.stateNode;if(u===null)return null;var d=u[Kt]||null;if(d===null)return null;u=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,s,typeof u));return u}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),du=!1;if(Yr)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){du=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{du=!1}var xn=null,hu=null,fs=null;function qd(){if(fs)return fs;var i,s=hu,u=s.length,d,p="value"in xn?xn.value:xn.textContent,y=p.length;for(i=0;i<u&&s[i]===p[i];i++);var E=u-i;for(d=1;d<=E&&s[u-d]===p[y-d];d++);return fs=p.slice(i,1<d?1-d:void 0)}function ds(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function hs(){return!0}function Yd(){return!1}function Qt(i){function s(u,d,p,y,E){this._reactName=u,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(u=i[C],this[C]=u?u(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?hs:Yd,this.isPropagationStopped=Yd,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),s}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vs=Qt(Qn),Fi=v({},Qn,{view:0,detail:0}),oy=Qt(Fi),vu,pu,zi,ps=v({},Fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==zi&&(zi&&i.type==="mousemove"?(vu=i.screenX-zi.screenX,pu=i.screenY-zi.screenY):pu=vu=0,zi=i),vu)},movementY:function(i){return"movementY"in i?i.movementY:pu}}),$d=Qt(ps),sy=v({},ps,{dataTransfer:0}),ly=Qt(sy),uy=v({},Fi,{relatedTarget:0}),gu=Qt(uy),cy=v({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),fy=Qt(cy),dy=v({},Qn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),hy=Qt(dy),vy=v({},Qn,{data:0}),Wd=Qt(vy),py={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xy(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=yy[i])?!!s[i]:!1}function yu(){return xy}var my=v({},Fi,{key:function(i){if(i.key){var s=py[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ds(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?gy[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yu,charCode:function(i){return i.type==="keypress"?ds(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ds(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),_y=Qt(my),wy=v({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zd=Qt(wy),Ey=v({},Fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yu}),Ay=Qt(Ey),by=v({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sy=Qt(by),Cy=v({},ps,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ty=Qt(Cy),Oy=v({},Qn,{newState:0,oldState:0}),Ry=Qt(Oy),Dy=[9,13,27,32],xu=Yr&&"CompositionEvent"in window,Hi=null;Yr&&"documentMode"in document&&(Hi=document.documentMode);var Iy=Yr&&"TextEvent"in window&&!Hi,Kd=Yr&&(!xu||Hi&&8<Hi&&11>=Hi),Qd=" ",Jd=!1;function eh(i,s){switch(i){case"keyup":return Dy.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function th(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Pa=!1;function Ny(i,s){switch(i){case"compositionend":return th(s);case"keypress":return s.which!==32?null:(Jd=!0,Qd);case"textInput":return i=s.data,i===Qd&&Jd?null:i;default:return null}}function My(i,s){if(Pa)return i==="compositionend"||!xu&&eh(i,s)?(i=qd(),fs=hu=xn=null,Pa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Kd&&s.locale!=="ko"?null:s.data;default:return null}}var By={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!By[i.type]:s==="textarea"}function nh(i,s,u,d){Ma?Ba?Ba.push(d):Ba=[d]:Ma=d,s=tl(s,"onChange"),0<s.length&&(u=new vs("onChange","change",null,u,d),i.push({event:u,listeners:s}))}var Vi=null,Gi=null;function Py(i){L1(i,0)}function gs(i){var s=Li(i);if(jd(s))return i}function ah(i,s){if(i==="change")return s}var ih=!1;if(Yr){var mu;if(Yr){var _u="oninput"in document;if(!_u){var oh=document.createElement("div");oh.setAttribute("oninput","return;"),_u=typeof oh.oninput=="function"}mu=_u}else mu=!1;ih=mu&&(!document.documentMode||9<document.documentMode)}function sh(){Vi&&(Vi.detachEvent("onpropertychange",lh),Gi=Vi=null)}function lh(i){if(i.propertyName==="value"&&gs(Gi)){var s=[];nh(s,Gi,i,cu(i)),Xd(Py,s)}}function ky(i,s,u){i==="focusin"?(sh(),Vi=s,Gi=u,Vi.attachEvent("onpropertychange",lh)):i==="focusout"&&sh()}function Ly(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return gs(Gi)}function jy(i,s){if(i==="click")return gs(s)}function Uy(i,s){if(i==="input"||i==="change")return gs(s)}function Fy(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var lr=typeof Object.is=="function"?Object.is:Fy;function Xi(i,s){if(lr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),d=Object.keys(s);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var p=u[d];if(!Wl.call(s,p)||!lr(i[p],s[p]))return!1}return!0}function uh(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ch(i,s){var u=uh(i);i=0;for(var d;u;){if(u.nodeType===3){if(d=i+u.textContent.length,i<=s&&d>=s)return{node:u,offset:s-i};i=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=uh(u)}}function fh(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?fh(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function dh(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=us(i.document);s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=us(i.document)}return s}function wu(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var zy=Yr&&"documentMode"in document&&11>=document.documentMode,ka=null,Eu=null,qi=null,Au=!1;function hh(i,s,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Au||ka==null||ka!==us(d)||(d=ka,"selectionStart"in d&&wu(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),qi&&Xi(qi,d)||(qi=d,d=tl(Eu,"onSelect"),0<d.length&&(s=new vs("onSelect","select",null,s,u),i.push({event:s,listeners:d}),s.target=ka)))}function Jn(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var La={animationend:Jn("Animation","AnimationEnd"),animationiteration:Jn("Animation","AnimationIteration"),animationstart:Jn("Animation","AnimationStart"),transitionrun:Jn("Transition","TransitionRun"),transitionstart:Jn("Transition","TransitionStart"),transitioncancel:Jn("Transition","TransitionCancel"),transitionend:Jn("Transition","TransitionEnd")},bu={},vh={};Yr&&(vh=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function ea(i){if(bu[i])return bu[i];if(!La[i])return i;var s=La[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in vh)return bu[i]=s[u];return i}var ph=ea("animationend"),gh=ea("animationiteration"),yh=ea("animationstart"),Hy=ea("transitionrun"),Vy=ea("transitionstart"),Gy=ea("transitioncancel"),xh=ea("transitionend"),mh=new Map,Su="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Su.push("scrollEnd");function Tr(i,s){mh.set(i,s),Kn(s,[i])}var _h=new WeakMap;function yr(i,s){if(typeof i=="object"&&i!==null){var u=_h.get(i);return u!==void 0?u:(s={value:i,source:s,stack:kd(s)},_h.set(i,s),s)}return{value:i,source:s,stack:kd(s)}}var xr=[],ja=0,Cu=0;function ys(){for(var i=ja,s=Cu=ja=0;s<i;){var u=xr[s];xr[s++]=null;var d=xr[s];xr[s++]=null;var p=xr[s];xr[s++]=null;var y=xr[s];if(xr[s++]=null,d!==null&&p!==null){var E=d.pending;E===null?p.next=p:(p.next=E.next,E.next=p),d.pending=p}y!==0&&wh(u,p,y)}}function xs(i,s,u,d){xr[ja++]=i,xr[ja++]=s,xr[ja++]=u,xr[ja++]=d,Cu|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function Tu(i,s,u,d){return xs(i,s,u,d),ms(i)}function Ua(i,s){return xs(i,null,null,s),ms(i)}function wh(i,s,u){i.lanes|=u;var d=i.alternate;d!==null&&(d.lanes|=u);for(var p=!1,y=i.return;y!==null;)y.childLanes|=u,d=y.alternate,d!==null&&(d.childLanes|=u),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(p=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,p&&s!==null&&(p=31-sr(u),i=y.hiddenUpdates,d=i[p],d===null?i[p]=[s]:d.push(s),s.lane=u|536870912),y):null}function ms(i){if(50<xo)throw xo=0,Mc=null,Error(n(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Fa={};function Xy(i,s,u,d){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(i,s,u,d){return new Xy(i,s,u,d)}function Ou(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $r(i,s){var u=i.alternate;return u===null?(u=ur(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function Eh(i,s){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,s=u.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function _s(i,s,u,d,p,y){var E=0;if(d=i,typeof i=="function")Ou(i)&&(E=1);else if(typeof i=="string")E=Y2(i,u,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case F:return i=ur(31,u,s,p),i.elementType=F,i.lanes=y,i;case _:return ta(u.children,p,y,s);case b:E=8,p|=24;break;case A:return i=ur(12,u,s,p|2),i.elementType=A,i.lanes=y,i;case P:return i=ur(13,u,s,p),i.elementType=P,i.lanes=y,i;case D:return i=ur(19,u,s,p),i.elementType=D,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case S:case T:E=10;break e;case O:E=9;break e;case N:E=11;break e;case B:E=14;break e;case Y:E=16,d=null;break e}E=29,u=Error(n(130,i===null?"null":typeof i,"")),d=null}return s=ur(E,u,s,p),s.elementType=i,s.type=d,s.lanes=y,s}function ta(i,s,u,d){return i=ur(7,i,d,s),i.lanes=u,i}function Ru(i,s,u){return i=ur(6,i,null,s),i.lanes=u,i}function Du(i,s,u){return s=ur(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var za=[],Ha=0,ws=null,Es=0,mr=[],_r=0,ra=null,Wr=1,Zr="";function na(i,s){za[Ha++]=Es,za[Ha++]=ws,ws=i,Es=s}function Ah(i,s,u){mr[_r++]=Wr,mr[_r++]=Zr,mr[_r++]=ra,ra=i;var d=Wr;i=Zr;var p=32-sr(d)-1;d&=~(1<<p),u+=1;var y=32-sr(s)+p;if(30<y){var E=p-p%5;y=(d&(1<<E)-1).toString(32),d>>=E,p-=E,Wr=1<<32-sr(s)+p|u<<p|d,Zr=y+i}else Wr=1<<y|u<<p|d,Zr=i}function Iu(i){i.return!==null&&(na(i,1),Ah(i,1,0))}function Nu(i){for(;i===ws;)ws=za[--Ha],za[Ha]=null,Es=za[--Ha],za[Ha]=null;for(;i===ra;)ra=mr[--_r],mr[_r]=null,Zr=mr[--_r],mr[_r]=null,Wr=mr[--_r],mr[_r]=null}var qt=null,ut=null,Pe=!1,aa=null,Lr=!1,Mu=Error(n(519));function ia(i){var s=Error(n(418,""));throw Wi(yr(s,i)),Mu}function bh(i){var s=i.stateNode,u=i.type,d=i.memoizedProps;switch(s[zt]=i,s[Kt]=d,u){case"dialog":Te("cancel",s),Te("close",s);break;case"iframe":case"object":case"embed":Te("load",s);break;case"video":case"audio":for(u=0;u<_o.length;u++)Te(_o[u],s);break;case"source":Te("error",s);break;case"img":case"image":case"link":Te("error",s),Te("load",s);break;case"details":Te("toggle",s);break;case"input":Te("invalid",s),Ud(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),ls(s);break;case"select":Te("invalid",s);break;case"textarea":Te("invalid",s),zd(s,d.value,d.defaultValue,d.children),ls(s)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||d.suppressHydrationWarning===!0||z1(s.textContent,u)?(d.popover!=null&&(Te("beforetoggle",s),Te("toggle",s)),d.onScroll!=null&&Te("scroll",s),d.onScrollEnd!=null&&Te("scrollend",s),d.onClick!=null&&(s.onclick=rl),s=!0):s=!1,s||ia(i)}function Sh(i){for(qt=i.return;qt;)switch(qt.tag){case 5:case 13:Lr=!1;return;case 27:case 3:Lr=!0;return;default:qt=qt.return}}function Yi(i){if(i!==qt)return!1;if(!Pe)return Sh(i),Pe=!0,!1;var s=i.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Wc(i.type,i.memoizedProps)),u=!u),u&&ut&&ia(i),Sh(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(s===0){ut=Rr(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++;i=i.nextSibling}ut=null}}else s===27?(s=ut,Bn(i.type)?(i=Jc,Jc=null,ut=i):ut=s):ut=qt?Rr(i.stateNode.nextSibling):null;return!0}function $i(){ut=qt=null,Pe=!1}function Ch(){var i=aa;return i!==null&&(tr===null?tr=i:tr.push.apply(tr,i),aa=null),i}function Wi(i){aa===null?aa=[i]:aa.push(i)}var Bu=Q(null),oa=null,Kr=null;function mn(i,s,u){ie(Bu,s._currentValue),s._currentValue=u}function Qr(i){i._currentValue=Bu.current,ne(Bu)}function Pu(i,s,u){for(;i!==null;){var d=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),i===u)break;i=i.return}}function ku(i,s,u,d){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var y=p.dependencies;if(y!==null){var E=p.child;y=y.firstContext;e:for(;y!==null;){var C=y;y=p;for(var I=0;I<s.length;I++)if(C.context===s[I]){y.lanes|=u,C=y.alternate,C!==null&&(C.lanes|=u),Pu(y.return,u,i),d||(E=null);break e}y=C.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(n(341));E.lanes|=u,y=E.alternate,y!==null&&(y.lanes|=u),Pu(E,u,i),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===i){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function Zi(i,s,u,d){i=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(n(387));if(E=E.memoizedProps,E!==null){var C=p.type;lr(p.pendingProps.value,E.value)||(i!==null?i.push(C):i=[C])}}else if(p===ir.current){if(E=p.alternate,E===null)throw Error(n(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Co):i=[Co])}p=p.return}i!==null&&ku(s,i,u,d),s.flags|=262144}function As(i){for(i=i.firstContext;i!==null;){if(!lr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function sa(i){oa=i,Kr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ht(i){return Th(oa,i)}function bs(i,s){return oa===null&&sa(i),Th(i,s)}function Th(i,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},Kr===null){if(i===null)throw Error(n(308));Kr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Kr=Kr.next=s;return u}var qy=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(u,d){i.push(d)}};this.abort=function(){s.aborted=!0,i.forEach(function(u){return u()})}},Yy=r.unstable_scheduleCallback,$y=r.unstable_NormalPriority,yt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lu(){return{controller:new qy,data:new Map,refCount:0}}function Ki(i){i.refCount--,i.refCount===0&&Yy($y,function(){i.controller.abort()})}var Qi=null,ju=0,Va=0,Ga=null;function Wy(i,s){if(Qi===null){var u=Qi=[];ju=0,Va=Fc(),Ga={status:"pending",value:void 0,then:function(d){u.push(d)}}}return ju++,s.then(Oh,Oh),s}function Oh(){if(--ju===0&&Qi!==null){Ga!==null&&(Ga.status="fulfilled");var i=Qi;Qi=null,Va=0,Ga=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Zy(i,s){var u=[],d={status:"pending",value:null,reason:null,then:function(p){u.push(p)}};return i.then(function(){d.status="fulfilled",d.value=s;for(var p=0;p<u.length;p++)(0,u[p])(s)},function(p){for(d.status="rejected",d.reason=p,p=0;p<u.length;p++)(0,u[p])(void 0)}),d}var Rh=L.S;L.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Wy(i,s),Rh!==null&&Rh(i,s)};var la=Q(null);function Uu(){var i=la.current;return i!==null?i:Ze.pooledCache}function Ss(i,s){s===null?ie(la,la.current):ie(la,s.pool)}function Dh(){var i=Uu();return i===null?null:{parent:yt._currentValue,pool:i}}var Ji=Error(n(460)),Ih=Error(n(474)),Cs=Error(n(542)),Fu={then:function(){}};function Nh(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ts(){}function Mh(i,s,u){switch(u=i[u],u===void 0?i.push(s):u!==s&&(s.then(Ts,Ts),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Ph(i),i;default:if(typeof s.status=="string")s.then(Ts,Ts);else{if(i=Ze,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=s,i.status="pending",i.then(function(d){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=d}},function(d){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Ph(i),i}throw eo=s,Ji}}var eo=null;function Bh(){if(eo===null)throw Error(n(459));var i=eo;return eo=null,i}function Ph(i){if(i===Ji||i===Cs)throw Error(n(483))}var _n=!1;function zu(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hu(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function wn(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function En(i,s,u){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Ue&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,s=ms(i),wh(i,null,u),s}return xs(i,d,s,u),ms(i)}function to(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var d=s.lanes;d&=i.pendingLanes,u|=d,s.lanes=u,Od(i,u)}}function Vu(i,s){var u=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var p=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var E={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?p=y=E:y=y.next=E,u=u.next}while(u!==null);y===null?p=y=s:y=y.next=s}else p=y=s;u={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}var Gu=!1;function ro(){if(Gu){var i=Ga;if(i!==null)throw i}}function no(i,s,u,d){Gu=!1;var p=i.updateQueue;_n=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var I=C,H=I.next;I.next=null,E===null?y=H:E.next=H,E=I;var W=i.alternate;W!==null&&(W=W.updateQueue,C=W.lastBaseUpdate,C!==E&&(C===null?W.firstBaseUpdate=H:C.next=H,W.lastBaseUpdate=I))}if(y!==null){var ee=p.baseState;E=0,W=H=I=null,C=y;do{var G=C.lane&-536870913,q=G!==C.lane;if(q?(De&G)===G:(d&G)===G){G!==0&&G===Va&&(Gu=!0),W!==null&&(W=W.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var xe=i,pe=C;G=s;var Xe=u;switch(pe.tag){case 1:if(xe=pe.payload,typeof xe=="function"){ee=xe.call(Xe,ee,G);break e}ee=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=pe.payload,G=typeof xe=="function"?xe.call(Xe,ee,G):xe,G==null)break e;ee=v({},ee,G);break e;case 2:_n=!0}}G=C.callback,G!==null&&(i.flags|=64,q&&(i.flags|=8192),q=p.callbacks,q===null?p.callbacks=[G]:q.push(G))}else q={lane:G,tag:C.tag,payload:C.payload,callback:C.callback,next:null},W===null?(H=W=q,I=ee):W=W.next=q,E|=G;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;q=C,C=q.next,q.next=null,p.lastBaseUpdate=q,p.shared.pending=null}}while(!0);W===null&&(I=ee),p.baseState=I,p.firstBaseUpdate=H,p.lastBaseUpdate=W,y===null&&(p.shared.lanes=0),Dn|=E,i.lanes=E,i.memoizedState=ee}}function kh(i,s){if(typeof i!="function")throw Error(n(191,i));i.call(s)}function Lh(i,s){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)kh(u[i],s)}var Xa=Q(null),Os=Q(0);function jh(i,s){i=on,ie(Os,i),ie(Xa,s),on=i|s.baseLanes}function Xu(){ie(Os,on),ie(Xa,Xa.current)}function qu(){on=Os.current,ne(Xa),ne(Os)}var An=0,Ee=null,Ve=null,vt=null,Rs=!1,qa=!1,ua=!1,Ds=0,ao=0,Ya=null,Ky=0;function ft(){throw Error(n(321))}function Yu(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!lr(i[u],s[u]))return!1;return!0}function $u(i,s,u,d,p,y){return An=y,Ee=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,L.H=i===null||i.memoizedState===null?w0:E0,ua=!1,y=u(d,p),ua=!1,qa&&(y=Fh(s,u,d,p)),Uh(i),y}function Uh(i){L.H=ks;var s=Ve!==null&&Ve.next!==null;if(An=0,vt=Ve=Ee=null,Rs=!1,ao=0,Ya=null,s)throw Error(n(300));i===null||Ot||(i=i.dependencies,i!==null&&As(i)&&(Ot=!0))}function Fh(i,s,u,d){Ee=i;var p=0;do{if(qa&&(Ya=null),ao=0,qa=!1,25<=p)throw Error(n(301));if(p+=1,vt=Ve=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}L.H=a2,y=s(u,d)}while(qa);return y}function Qy(){var i=L.H,s=i.useState()[0];return s=typeof s.then=="function"?io(s):s,i=i.useState()[0],(Ve!==null?Ve.memoizedState:null)!==i&&(Ee.flags|=1024),s}function Wu(){var i=Ds!==0;return Ds=0,i}function Zu(i,s,u){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~u}function Ku(i){if(Rs){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Rs=!1}An=0,vt=Ve=Ee=null,qa=!1,ao=Ds=0,Ya=null}function Jt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ee.memoizedState=vt=i:vt=vt.next=i,vt}function pt(){if(Ve===null){var i=Ee.alternate;i=i!==null?i.memoizedState:null}else i=Ve.next;var s=vt===null?Ee.memoizedState:vt.next;if(s!==null)vt=s,Ve=i;else{if(i===null)throw Ee.alternate===null?Error(n(467)):Error(n(310));Ve=i,i={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},vt===null?Ee.memoizedState=vt=i:vt=vt.next=i}return vt}function Qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function io(i){var s=ao;return ao+=1,Ya===null&&(Ya=[]),i=Mh(Ya,i,s),s=Ee,(vt===null?s.memoizedState:vt.next)===null&&(s=s.alternate,L.H=s===null||s.memoizedState===null?w0:E0),i}function Is(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return io(i);if(i.$$typeof===T)return Ht(i)}throw Error(n(438,String(i)))}function Ju(i){var s=null,u=Ee.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var d=Ee.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=Qu(),Ee.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(i),d=0;d<i;d++)u[d]=X;return s.index++,u}function Jr(i,s){return typeof s=="function"?s(i):s}function Ns(i){var s=pt();return ec(s,Ve,i)}function ec(i,s,u){var d=i.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=u;var p=i.baseQueue,y=d.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}s.baseQueue=p=y,d.pending=null}if(y=i.baseState,p===null)i.memoizedState=y;else{s=p.next;var C=E=null,I=null,H=s,W=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(De&ee)===ee:(An&ee)===ee){var G=H.revertLane;if(G===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===Va&&(W=!0);else if((An&G)===G){H=H.next,G===Va&&(W=!0);continue}else ee={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(C=I=ee,E=y):I=I.next=ee,Ee.lanes|=G,Dn|=G;ee=H.action,ua&&u(y,ee),y=H.hasEagerState?H.eagerState:u(y,ee)}else G={lane:ee,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(C=I=G,E=y):I=I.next=G,Ee.lanes|=ee,Dn|=ee;H=H.next}while(H!==null&&H!==s);if(I===null?E=y:I.next=C,!lr(y,i.memoizedState)&&(Ot=!0,W&&(u=Ga,u!==null)))throw u;i.memoizedState=y,i.baseState=E,i.baseQueue=I,d.lastRenderedState=y}return p===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function tc(i){var s=pt(),u=s.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var d=u.dispatch,p=u.pending,y=s.memoizedState;if(p!==null){u.pending=null;var E=p=p.next;do y=i(y,E.action),E=E.next;while(E!==p);lr(y,s.memoizedState)||(Ot=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),u.lastRenderedState=y}return[y,d]}function zh(i,s,u){var d=Ee,p=pt(),y=Pe;if(y){if(u===void 0)throw Error(n(407));u=u()}else u=s();var E=!lr((Ve||p).memoizedState,u);E&&(p.memoizedState=u,Ot=!0),p=p.queue;var C=Gh.bind(null,d,p,i);if(oo(2048,8,C,[i]),p.getSnapshot!==s||E||vt!==null&&vt.memoizedState.tag&1){if(d.flags|=2048,$a(9,Ms(),Vh.bind(null,d,p,u,s),null),Ze===null)throw Error(n(349));y||(An&124)!==0||Hh(d,s,u)}return u}function Hh(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Ee.updateQueue,s===null?(s=Qu(),Ee.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function Vh(i,s,u,d){s.value=u,s.getSnapshot=d,Xh(s)&&qh(i)}function Gh(i,s,u){return u(function(){Xh(s)&&qh(i)})}function Xh(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!lr(i,u)}catch{return!0}}function qh(i){var s=Ua(i,2);s!==null&&vr(s,i,2)}function rc(i){var s=Jt();if(typeof i=="function"){var u=i;if(i=u(),ua){gn(!0);try{u()}finally{gn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:i},s}function Yh(i,s,u,d){return i.baseState=u,ec(i,Ve,typeof d=="function"?d:Jr)}function Jy(i,s,u,d,p){if(Ps(i))throw Error(n(485));if(i=s.action,i!==null){var y={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};L.T!==null?u(!0):y.isTransition=!1,d(y),u=s.pending,u===null?(y.next=s.pending=y,$h(s,y)):(y.next=u.next,s.pending=u.next=y)}}function $h(i,s){var u=s.action,d=s.payload,p=i.state;if(s.isTransition){var y=L.T,E={};L.T=E;try{var C=u(p,d),I=L.S;I!==null&&I(E,C),Wh(i,s,C)}catch(H){nc(i,s,H)}finally{L.T=y}}else try{y=u(p,d),Wh(i,s,y)}catch(H){nc(i,s,H)}}function Wh(i,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){Zh(i,s,d)},function(d){return nc(i,s,d)}):Zh(i,s,u)}function Zh(i,s,u){s.status="fulfilled",s.value=u,Kh(s),i.state=u,s=i.pending,s!==null&&(u=s.next,u===s?i.pending=null:(u=u.next,s.next=u,$h(i,u)))}function nc(i,s,u){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=u,Kh(s),s=s.next;while(s!==d)}i.action=null}function Kh(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Qh(i,s){return s}function Jh(i,s){if(Pe){var u=Ze.formState;if(u!==null){e:{var d=Ee;if(Pe){if(ut){t:{for(var p=ut,y=Lr;p.nodeType!==8;){if(!y){p=null;break t}if(p=Rr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){ut=Rr(p.nextSibling),d=p.data==="F!";break e}}ia(d)}d=!1}d&&(s=u[0])}}return u=Jt(),u.memoizedState=u.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qh,lastRenderedState:s},u.queue=d,u=x0.bind(null,Ee,d),d.dispatch=u,d=rc(!1),y=lc.bind(null,Ee,!1,d.queue),d=Jt(),p={state:s,dispatch:null,action:i,pending:null},d.queue=p,u=Jy.bind(null,Ee,p,y,u),p.dispatch=u,d.memoizedState=i,[s,u,!1]}function e0(i){var s=pt();return t0(s,Ve,i)}function t0(i,s,u){if(s=ec(i,s,Qh)[0],i=Ns(Jr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=io(s)}catch(E){throw E===Ji?Cs:E}else d=s;s=pt();var p=s.queue,y=p.dispatch;return u!==s.memoizedState&&(Ee.flags|=2048,$a(9,Ms(),e2.bind(null,p,u),null)),[d,y,i]}function e2(i,s){i.action=s}function r0(i){var s=pt(),u=Ve;if(u!==null)return t0(s,u,i);pt(),s=s.memoizedState,u=pt();var d=u.queue.dispatch;return u.memoizedState=i,[s,d,!1]}function $a(i,s,u,d){return i={tag:i,create:u,deps:d,inst:s,next:null},s=Ee.updateQueue,s===null&&(s=Qu(),Ee.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=i.next=i:(d=u.next,u.next=i,i.next=d,s.lastEffect=i),i}function Ms(){return{destroy:void 0,resource:void 0}}function n0(){return pt().memoizedState}function Bs(i,s,u,d){var p=Jt();d=d===void 0?null:d,Ee.flags|=i,p.memoizedState=$a(1|s,Ms(),u,d)}function oo(i,s,u,d){var p=pt();d=d===void 0?null:d;var y=p.memoizedState.inst;Ve!==null&&d!==null&&Yu(d,Ve.memoizedState.deps)?p.memoizedState=$a(s,y,u,d):(Ee.flags|=i,p.memoizedState=$a(1|s,y,u,d))}function a0(i,s){Bs(8390656,8,i,s)}function i0(i,s){oo(2048,8,i,s)}function o0(i,s){return oo(4,2,i,s)}function s0(i,s){return oo(4,4,i,s)}function l0(i,s){if(typeof s=="function"){i=i();var u=s(i);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function u0(i,s,u){u=u!=null?u.concat([i]):null,oo(4,4,l0.bind(null,s,i),u)}function ac(){}function c0(i,s){var u=pt();s=s===void 0?null:s;var d=u.memoizedState;return s!==null&&Yu(s,d[1])?d[0]:(u.memoizedState=[i,s],i)}function f0(i,s){var u=pt();s=s===void 0?null:s;var d=u.memoizedState;if(s!==null&&Yu(s,d[1]))return d[0];if(d=i(),ua){gn(!0);try{i()}finally{gn(!1)}}return u.memoizedState=[d,s],d}function ic(i,s,u){return u===void 0||(An&1073741824)!==0?i.memoizedState=s:(i.memoizedState=u,i=v1(),Ee.lanes|=i,Dn|=i,u)}function d0(i,s,u,d){return lr(u,s)?u:Xa.current!==null?(i=ic(i,u,d),lr(i,s)||(Ot=!0),i):(An&42)===0?(Ot=!0,i.memoizedState=u):(i=v1(),Ee.lanes|=i,Dn|=i,s)}function h0(i,s,u,d,p){var y=re.p;re.p=y!==0&&8>y?y:8;var E=L.T,C={};L.T=C,lc(i,!1,s,u);try{var I=p(),H=L.S;if(H!==null&&H(C,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=Zy(I,d);so(i,s,W,hr(i))}else so(i,s,d,hr(i))}catch(ee){so(i,s,{then:function(){},status:"rejected",reason:ee},hr())}finally{re.p=y,L.T=E}}function t2(){}function oc(i,s,u,d){if(i.tag!==5)throw Error(n(476));var p=v0(i).queue;h0(i,p,s,le,u===null?t2:function(){return p0(i),u(d)})}function v0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:le},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:u},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function p0(i){var s=v0(i).next.queue;so(i,s,{},hr())}function sc(){return Ht(Co)}function g0(){return pt().memoizedState}function y0(){return pt().memoizedState}function r2(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var u=hr();i=wn(u);var d=En(s,i,u);d!==null&&(vr(d,s,u),to(d,s,u)),s={cache:Lu()},i.payload=s;return}s=s.return}}function n2(i,s,u){var d=hr();u={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Ps(i)?m0(s,u):(u=Tu(i,s,u,d),u!==null&&(vr(u,i,d),_0(u,s,d)))}function x0(i,s,u){var d=hr();so(i,s,u,d)}function so(i,s,u,d){var p={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ps(i))m0(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,C=y(E,u);if(p.hasEagerState=!0,p.eagerState=C,lr(C,E))return xs(i,s,p,0),Ze===null&&ys(),!1}catch{}finally{}if(u=Tu(i,s,p,d),u!==null)return vr(u,i,d),_0(u,s,d),!0}return!1}function lc(i,s,u,d){if(d={lane:2,revertLane:Fc(),action:d,hasEagerState:!1,eagerState:null,next:null},Ps(i)){if(s)throw Error(n(479))}else s=Tu(i,u,d,2),s!==null&&vr(s,i,2)}function Ps(i){var s=i.alternate;return i===Ee||s!==null&&s===Ee}function m0(i,s){qa=Rs=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function _0(i,s,u){if((u&4194048)!==0){var d=s.lanes;d&=i.pendingLanes,u|=d,s.lanes=u,Od(i,u)}}var ks={readContext:Ht,use:Is,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft},w0={readContext:Ht,use:Is,useCallback:function(i,s){return Jt().memoizedState=[i,s===void 0?null:s],i},useContext:Ht,useEffect:a0,useImperativeHandle:function(i,s,u){u=u!=null?u.concat([i]):null,Bs(4194308,4,l0.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Bs(4194308,4,i,s)},useInsertionEffect:function(i,s){Bs(4,2,i,s)},useMemo:function(i,s){var u=Jt();s=s===void 0?null:s;var d=i();if(ua){gn(!0);try{i()}finally{gn(!1)}}return u.memoizedState=[d,s],d},useReducer:function(i,s,u){var d=Jt();if(u!==void 0){var p=u(s);if(ua){gn(!0);try{u(s)}finally{gn(!1)}}}else p=s;return d.memoizedState=d.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},d.queue=i,i=i.dispatch=n2.bind(null,Ee,i),[d.memoizedState,i]},useRef:function(i){var s=Jt();return i={current:i},s.memoizedState=i},useState:function(i){i=rc(i);var s=i.queue,u=x0.bind(null,Ee,s);return s.dispatch=u,[i.memoizedState,u]},useDebugValue:ac,useDeferredValue:function(i,s){var u=Jt();return ic(u,i,s)},useTransition:function(){var i=rc(!1);return i=h0.bind(null,Ee,i.queue,!0,!1),Jt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,u){var d=Ee,p=Jt();if(Pe){if(u===void 0)throw Error(n(407));u=u()}else{if(u=s(),Ze===null)throw Error(n(349));(De&124)!==0||Hh(d,s,u)}p.memoizedState=u;var y={value:u,getSnapshot:s};return p.queue=y,a0(Gh.bind(null,d,y,i),[i]),d.flags|=2048,$a(9,Ms(),Vh.bind(null,d,y,u,s),null),u},useId:function(){var i=Jt(),s=Ze.identifierPrefix;if(Pe){var u=Zr,d=Wr;u=(d&~(1<<32-sr(d)-1)).toString(32)+u,s=""+s+"R"+u,u=Ds++,0<u&&(s+="H"+u.toString(32)),s+=""}else u=Ky++,s=""+s+"r"+u.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:sc,useFormState:Jh,useActionState:Jh,useOptimistic:function(i){var s=Jt();s.memoizedState=s.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=lc.bind(null,Ee,!0,u),u.dispatch=s,[i,s]},useMemoCache:Ju,useCacheRefresh:function(){return Jt().memoizedState=r2.bind(null,Ee)}},E0={readContext:Ht,use:Is,useCallback:c0,useContext:Ht,useEffect:i0,useImperativeHandle:u0,useInsertionEffect:o0,useLayoutEffect:s0,useMemo:f0,useReducer:Ns,useRef:n0,useState:function(){return Ns(Jr)},useDebugValue:ac,useDeferredValue:function(i,s){var u=pt();return d0(u,Ve.memoizedState,i,s)},useTransition:function(){var i=Ns(Jr)[0],s=pt().memoizedState;return[typeof i=="boolean"?i:io(i),s]},useSyncExternalStore:zh,useId:g0,useHostTransitionStatus:sc,useFormState:e0,useActionState:e0,useOptimistic:function(i,s){var u=pt();return Yh(u,Ve,i,s)},useMemoCache:Ju,useCacheRefresh:y0},a2={readContext:Ht,use:Is,useCallback:c0,useContext:Ht,useEffect:i0,useImperativeHandle:u0,useInsertionEffect:o0,useLayoutEffect:s0,useMemo:f0,useReducer:tc,useRef:n0,useState:function(){return tc(Jr)},useDebugValue:ac,useDeferredValue:function(i,s){var u=pt();return Ve===null?ic(u,i,s):d0(u,Ve.memoizedState,i,s)},useTransition:function(){var i=tc(Jr)[0],s=pt().memoizedState;return[typeof i=="boolean"?i:io(i),s]},useSyncExternalStore:zh,useId:g0,useHostTransitionStatus:sc,useFormState:r0,useActionState:r0,useOptimistic:function(i,s){var u=pt();return Ve!==null?Yh(u,Ve,i,s):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Ju,useCacheRefresh:y0},Wa=null,lo=0;function Ls(i){var s=lo;return lo+=1,Wa===null&&(Wa=[]),Mh(Wa,i,s)}function uo(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function js(i,s){throw s.$$typeof===g?Error(n(525)):(i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function A0(i){var s=i._init;return s(i._payload)}function b0(i){function s(j,k){if(i){var z=j.deletions;z===null?(j.deletions=[k],j.flags|=16):z.push(k)}}function u(j,k){if(!i)return null;for(;k!==null;)s(j,k),k=k.sibling;return null}function d(j){for(var k=new Map;j!==null;)j.key!==null?k.set(j.key,j):k.set(j.index,j),j=j.sibling;return k}function p(j,k){return j=$r(j,k),j.index=0,j.sibling=null,j}function y(j,k,z){return j.index=z,i?(z=j.alternate,z!==null?(z=z.index,z<k?(j.flags|=67108866,k):z):(j.flags|=67108866,k)):(j.flags|=1048576,k)}function E(j){return i&&j.alternate===null&&(j.flags|=67108866),j}function C(j,k,z,Z){return k===null||k.tag!==6?(k=Ru(z,j.mode,Z),k.return=j,k):(k=p(k,z),k.return=j,k)}function I(j,k,z,Z){var ue=z.type;return ue===_?W(j,k,z.props.children,Z,z.key):k!==null&&(k.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===Y&&A0(ue)===k.type)?(k=p(k,z.props),uo(k,z),k.return=j,k):(k=_s(z.type,z.key,z.props,null,j.mode,Z),uo(k,z),k.return=j,k)}function H(j,k,z,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==z.containerInfo||k.stateNode.implementation!==z.implementation?(k=Du(z,j.mode,Z),k.return=j,k):(k=p(k,z.children||[]),k.return=j,k)}function W(j,k,z,Z,ue){return k===null||k.tag!==7?(k=ta(z,j.mode,Z,ue),k.return=j,k):(k=p(k,z),k.return=j,k)}function ee(j,k,z){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Ru(""+k,j.mode,z),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case x:return z=_s(k.type,k.key,k.props,null,j.mode,z),uo(z,k),z.return=j,z;case m:return k=Du(k,j.mode,z),k.return=j,k;case Y:var Z=k._init;return k=Z(k._payload),ee(j,k,z)}if(se(k)||K(k))return k=ta(k,j.mode,z,null),k.return=j,k;if(typeof k.then=="function")return ee(j,Ls(k),z);if(k.$$typeof===T)return ee(j,bs(j,k),z);js(j,k)}return null}function G(j,k,z,Z){var ue=k!==null?k.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ue!==null?null:C(j,k,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return z.key===ue?I(j,k,z,Z):null;case m:return z.key===ue?H(j,k,z,Z):null;case Y:return ue=z._init,z=ue(z._payload),G(j,k,z,Z)}if(se(z)||K(z))return ue!==null?null:W(j,k,z,Z,null);if(typeof z.then=="function")return G(j,k,Ls(z),Z);if(z.$$typeof===T)return G(j,k,bs(j,z),Z);js(j,z)}return null}function q(j,k,z,Z,ue){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(z)||null,C(k,j,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case x:return j=j.get(Z.key===null?z:Z.key)||null,I(k,j,Z,ue);case m:return j=j.get(Z.key===null?z:Z.key)||null,H(k,j,Z,ue);case Y:var be=Z._init;return Z=be(Z._payload),q(j,k,z,Z,ue)}if(se(Z)||K(Z))return j=j.get(z)||null,W(k,j,Z,ue,null);if(typeof Z.then=="function")return q(j,k,z,Ls(Z),ue);if(Z.$$typeof===T)return q(j,k,z,bs(k,Z),ue);js(k,Z)}return null}function xe(j,k,z,Z){for(var ue=null,be=null,de=k,ge=k=0,Dt=null;de!==null&&ge<z.length;ge++){de.index>ge?(Dt=de,de=null):Dt=de.sibling;var Me=G(j,de,z[ge],Z);if(Me===null){de===null&&(de=Dt);break}i&&de&&Me.alternate===null&&s(j,de),k=y(Me,k,ge),be===null?ue=Me:be.sibling=Me,be=Me,de=Dt}if(ge===z.length)return u(j,de),Pe&&na(j,ge),ue;if(de===null){for(;ge<z.length;ge++)de=ee(j,z[ge],Z),de!==null&&(k=y(de,k,ge),be===null?ue=de:be.sibling=de,be=de);return Pe&&na(j,ge),ue}for(de=d(de);ge<z.length;ge++)Dt=q(de,j,ge,z[ge],Z),Dt!==null&&(i&&Dt.alternate!==null&&de.delete(Dt.key===null?ge:Dt.key),k=y(Dt,k,ge),be===null?ue=Dt:be.sibling=Dt,be=Dt);return i&&de.forEach(function(Un){return s(j,Un)}),Pe&&na(j,ge),ue}function pe(j,k,z,Z){if(z==null)throw Error(n(151));for(var ue=null,be=null,de=k,ge=k=0,Dt=null,Me=z.next();de!==null&&!Me.done;ge++,Me=z.next()){de.index>ge?(Dt=de,de=null):Dt=de.sibling;var Un=G(j,de,Me.value,Z);if(Un===null){de===null&&(de=Dt);break}i&&de&&Un.alternate===null&&s(j,de),k=y(Un,k,ge),be===null?ue=Un:be.sibling=Un,be=Un,de=Dt}if(Me.done)return u(j,de),Pe&&na(j,ge),ue;if(de===null){for(;!Me.done;ge++,Me=z.next())Me=ee(j,Me.value,Z),Me!==null&&(k=y(Me,k,ge),be===null?ue=Me:be.sibling=Me,be=Me);return Pe&&na(j,ge),ue}for(de=d(de);!Me.done;ge++,Me=z.next())Me=q(de,j,ge,Me.value,Z),Me!==null&&(i&&Me.alternate!==null&&de.delete(Me.key===null?ge:Me.key),k=y(Me,k,ge),be===null?ue=Me:be.sibling=Me,be=Me);return i&&de.forEach(function(ix){return s(j,ix)}),Pe&&na(j,ge),ue}function Xe(j,k,z,Z){if(typeof z=="object"&&z!==null&&z.type===_&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case x:e:{for(var ue=z.key;k!==null;){if(k.key===ue){if(ue=z.type,ue===_){if(k.tag===7){u(j,k.sibling),Z=p(k,z.props.children),Z.return=j,j=Z;break e}}else if(k.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===Y&&A0(ue)===k.type){u(j,k.sibling),Z=p(k,z.props),uo(Z,z),Z.return=j,j=Z;break e}u(j,k);break}else s(j,k);k=k.sibling}z.type===_?(Z=ta(z.props.children,j.mode,Z,z.key),Z.return=j,j=Z):(Z=_s(z.type,z.key,z.props,null,j.mode,Z),uo(Z,z),Z.return=j,j=Z)}return E(j);case m:e:{for(ue=z.key;k!==null;){if(k.key===ue)if(k.tag===4&&k.stateNode.containerInfo===z.containerInfo&&k.stateNode.implementation===z.implementation){u(j,k.sibling),Z=p(k,z.children||[]),Z.return=j,j=Z;break e}else{u(j,k);break}else s(j,k);k=k.sibling}Z=Du(z,j.mode,Z),Z.return=j,j=Z}return E(j);case Y:return ue=z._init,z=ue(z._payload),Xe(j,k,z,Z)}if(se(z))return xe(j,k,z,Z);if(K(z)){if(ue=K(z),typeof ue!="function")throw Error(n(150));return z=ue.call(z),pe(j,k,z,Z)}if(typeof z.then=="function")return Xe(j,k,Ls(z),Z);if(z.$$typeof===T)return Xe(j,k,bs(j,z),Z);js(j,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,k!==null&&k.tag===6?(u(j,k.sibling),Z=p(k,z),Z.return=j,j=Z):(u(j,k),Z=Ru(z,j.mode,Z),Z.return=j,j=Z),E(j)):u(j,k)}return function(j,k,z,Z){try{lo=0;var ue=Xe(j,k,z,Z);return Wa=null,ue}catch(de){if(de===Ji||de===Cs)throw de;var be=ur(29,de,null,j.mode);return be.lanes=Z,be.return=j,be}finally{}}}var Za=b0(!0),S0=b0(!1),wr=Q(null),jr=null;function bn(i){var s=i.alternate;ie(xt,xt.current&1),ie(wr,i),jr===null&&(s===null||Xa.current!==null||s.memoizedState!==null)&&(jr=i)}function C0(i){if(i.tag===22){if(ie(xt,xt.current),ie(wr,i),jr===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(jr=i)}}else Sn()}function Sn(){ie(xt,xt.current),ie(wr,wr.current)}function en(i){ne(wr),jr===i&&(jr=null),ne(xt)}var xt=Q(0);function Us(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Qc(u)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function uc(i,s,u,d){s=i.memoizedState,u=u(d,s),u=u==null?s:v({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var cc={enqueueSetState:function(i,s,u){i=i._reactInternals;var d=hr(),p=wn(d);p.payload=s,u!=null&&(p.callback=u),s=En(i,p,d),s!==null&&(vr(s,i,d),to(s,i,d))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var d=hr(),p=wn(d);p.tag=1,p.payload=s,u!=null&&(p.callback=u),s=En(i,p,d),s!==null&&(vr(s,i,d),to(s,i,d))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=hr(),d=wn(u);d.tag=2,s!=null&&(d.callback=s),s=En(i,d,u),s!==null&&(vr(s,i,u),to(s,i,u))}};function T0(i,s,u,d,p,y,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,y,E):s.prototype&&s.prototype.isPureReactComponent?!Xi(u,d)||!Xi(p,y):!0}function O0(i,s,u,d){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,d),s.state!==i&&cc.enqueueReplaceState(s,s.state,null)}function ca(i,s){var u=s;if("ref"in s){u={};for(var d in s)d!=="ref"&&(u[d]=s[d])}if(i=i.defaultProps){u===s&&(u=v({},u));for(var p in i)u[p]===void 0&&(u[p]=i[p])}return u}var Fs=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function R0(i){Fs(i)}function D0(i){console.error(i)}function I0(i){Fs(i)}function zs(i,s){try{var u=i.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function N0(i,s,u){try{var d=i.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function fc(i,s,u){return u=wn(u),u.tag=3,u.payload={element:null},u.callback=function(){zs(i,s)},u}function M0(i){return i=wn(i),i.tag=3,i}function B0(i,s,u,d){var p=u.type.getDerivedStateFromError;if(typeof p=="function"){var y=d.value;i.payload=function(){return p(y)},i.callback=function(){N0(s,u,d)}}var E=u.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){N0(s,u,d),typeof p!="function"&&(In===null?In=new Set([this]):In.add(this));var C=d.stack;this.componentDidCatch(d.value,{componentStack:C!==null?C:""})})}function i2(i,s,u,d,p){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=u.alternate,s!==null&&Zi(s,u,p,!0),u=wr.current,u!==null){switch(u.tag){case 13:return jr===null?Pc():u.alternate===null&&ct===0&&(ct=3),u.flags&=-257,u.flags|=65536,u.lanes=p,d===Fu?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([d]):s.add(d),Lc(i,d,p)),!1;case 22:return u.flags|=65536,d===Fu?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([d]):u.add(d)),Lc(i,d,p)),!1}throw Error(n(435,u.tag))}return Lc(i,d,p),Pc(),!1}if(Pe)return s=wr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,d!==Mu&&(i=Error(n(422),{cause:d}),Wi(yr(i,u)))):(d!==Mu&&(s=Error(n(423),{cause:d}),Wi(yr(s,u))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,d=yr(d,u),p=fc(i.stateNode,d,p),Vu(i,p),ct!==4&&(ct=2)),!1;var y=Error(n(520),{cause:d});if(y=yr(y,u),yo===null?yo=[y]:yo.push(y),ct!==4&&(ct=2),s===null)return!0;d=yr(d,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,i=p&-p,u.lanes|=i,i=fc(u.stateNode,d,i),Vu(u,i),!1;case 1:if(s=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(In===null||!In.has(y))))return u.flags|=65536,p&=-p,u.lanes|=p,p=M0(p),B0(p,i,u,d),Vu(u,p),!1}u=u.return}while(u!==null);return!1}var P0=Error(n(461)),Ot=!1;function Pt(i,s,u,d){s.child=i===null?S0(s,null,u,d):Za(s,i.child,u,d)}function k0(i,s,u,d,p){u=u.render;var y=s.ref;if("ref"in d){var E={};for(var C in d)C!=="ref"&&(E[C]=d[C])}else E=d;return sa(s),d=$u(i,s,u,E,y,p),C=Wu(),i!==null&&!Ot?(Zu(i,s,p),tn(i,s,p)):(Pe&&C&&Iu(s),s.flags|=1,Pt(i,s,d,p),s.child)}function L0(i,s,u,d,p){if(i===null){var y=u.type;return typeof y=="function"&&!Ou(y)&&y.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=y,j0(i,s,y,d,p)):(i=_s(u.type,null,d,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!mc(i,p)){var E=y.memoizedProps;if(u=u.compare,u=u!==null?u:Xi,u(E,d)&&i.ref===s.ref)return tn(i,s,p)}return s.flags|=1,i=$r(y,d),i.ref=s.ref,i.return=s,s.child=i}function j0(i,s,u,d,p){if(i!==null){var y=i.memoizedProps;if(Xi(y,d)&&i.ref===s.ref)if(Ot=!1,s.pendingProps=d=y,mc(i,p))(i.flags&131072)!==0&&(Ot=!0);else return s.lanes=i.lanes,tn(i,s,p)}return dc(i,s,u,d,p)}function U0(i,s,u){var d=s.pendingProps,p=d.children,y=i!==null?i.memoizedState:null;if(d.mode==="hidden"){if((s.flags&128)!==0){if(d=y!==null?y.baseLanes|u:u,i!==null){for(p=s.child=i.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;s.childLanes=y&~d}else s.childLanes=0,s.child=null;return F0(i,s,d,u)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ss(s,y!==null?y.cachePool:null),y!==null?jh(s,y):Xu(),C0(s);else return s.lanes=s.childLanes=536870912,F0(i,s,y!==null?y.baseLanes|u:u,u)}else y!==null?(Ss(s,y.cachePool),jh(s,y),Sn(),s.memoizedState=null):(i!==null&&Ss(s,null),Xu(),Sn());return Pt(i,s,p,u),s.child}function F0(i,s,u,d){var p=Uu();return p=p===null?null:{parent:yt._currentValue,pool:p},s.memoizedState={baseLanes:u,cachePool:p},i!==null&&Ss(s,null),Xu(),C0(s),i!==null&&Zi(i,s,d,!0),null}function Hs(i,s){var u=s.ref;if(u===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(i===null||i.ref!==u)&&(s.flags|=4194816)}}function dc(i,s,u,d,p){return sa(s),u=$u(i,s,u,d,void 0,p),d=Wu(),i!==null&&!Ot?(Zu(i,s,p),tn(i,s,p)):(Pe&&d&&Iu(s),s.flags|=1,Pt(i,s,u,p),s.child)}function z0(i,s,u,d,p,y){return sa(s),s.updateQueue=null,u=Fh(s,d,u,p),Uh(i),d=Wu(),i!==null&&!Ot?(Zu(i,s,y),tn(i,s,y)):(Pe&&d&&Iu(s),s.flags|=1,Pt(i,s,u,y),s.child)}function H0(i,s,u,d,p){if(sa(s),s.stateNode===null){var y=Fa,E=u.contextType;typeof E=="object"&&E!==null&&(y=Ht(E)),y=new u(d,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=cc,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=d,y.state=s.memoizedState,y.refs={},zu(s),E=u.contextType,y.context=typeof E=="object"&&E!==null?Ht(E):Fa,y.state=s.memoizedState,E=u.getDerivedStateFromProps,typeof E=="function"&&(uc(s,u,E,d),y.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&cc.enqueueReplaceState(y,y.state,null),no(s,d,y,p),ro(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(i===null){y=s.stateNode;var C=s.memoizedProps,I=ca(u,C);y.props=I;var H=y.context,W=u.contextType;E=Fa,typeof W=="object"&&W!==null&&(E=Ht(W));var ee=u.getDerivedStateFromProps;W=typeof ee=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,W||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||H!==E)&&O0(s,y,d,E),_n=!1;var G=s.memoizedState;y.state=G,no(s,d,y,p),ro(),H=s.memoizedState,C||G!==H||_n?(typeof ee=="function"&&(uc(s,u,ee,d),H=s.memoizedState),(I=_n||T0(s,u,I,d,G,H,E))?(W||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=H),y.props=d,y.state=H,y.context=E,d=I):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{y=s.stateNode,Hu(i,s),E=s.memoizedProps,W=ca(u,E),y.props=W,ee=s.pendingProps,G=y.context,H=u.contextType,I=Fa,typeof H=="object"&&H!==null&&(I=Ht(H)),C=u.getDerivedStateFromProps,(H=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==ee||G!==I)&&O0(s,y,d,I),_n=!1,G=s.memoizedState,y.state=G,no(s,d,y,p),ro();var q=s.memoizedState;E!==ee||G!==q||_n||i!==null&&i.dependencies!==null&&As(i.dependencies)?(typeof C=="function"&&(uc(s,u,C,d),q=s.memoizedState),(W=_n||T0(s,u,W,d,G,q,I)||i!==null&&i.dependencies!==null&&As(i.dependencies))?(H||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,q,I),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,q,I)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===i.memoizedProps&&G===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&G===i.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=q),y.props=d,y.state=q,y.context=I,d=W):(typeof y.componentDidUpdate!="function"||E===i.memoizedProps&&G===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&G===i.memoizedState||(s.flags|=1024),d=!1)}return y=d,Hs(i,s),d=(s.flags&128)!==0,y||d?(y=s.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&d?(s.child=Za(s,i.child,null,p),s.child=Za(s,null,u,p)):Pt(i,s,u,p),s.memoizedState=y.state,i=s.child):i=tn(i,s,p),i}function V0(i,s,u,d){return $i(),s.flags|=256,Pt(i,s,u,d),s.child}var hc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vc(i){return{baseLanes:i,cachePool:Dh()}}function pc(i,s,u){return i=i!==null?i.childLanes&~u:0,s&&(i|=Er),i}function G0(i,s,u){var d=s.pendingProps,p=!1,y=(s.flags&128)!==0,E;if((E=y)||(E=i!==null&&i.memoizedState===null?!1:(xt.current&2)!==0),E&&(p=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,i===null){if(Pe){if(p?bn(s):Sn(),Pe){var C=ut,I;if(I=C){e:{for(I=C,C=Lr;I.nodeType!==8;){if(!C){C=null;break e}if(I=Rr(I.nextSibling),I===null){C=null;break e}}C=I}C!==null?(s.memoizedState={dehydrated:C,treeContext:ra!==null?{id:Wr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},I=ur(18,null,null,0),I.stateNode=C,I.return=s,s.child=I,qt=s,ut=null,I=!0):I=!1}I||ia(s)}if(C=s.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return Qc(C)?s.lanes=32:s.lanes=536870912,null;en(s)}return C=d.children,d=d.fallback,p?(Sn(),p=s.mode,C=Vs({mode:"hidden",children:C},p),d=ta(d,p,u,null),C.return=s,d.return=s,C.sibling=d,s.child=C,p=s.child,p.memoizedState=vc(u),p.childLanes=pc(i,E,u),s.memoizedState=hc,d):(bn(s),gc(s,C))}if(I=i.memoizedState,I!==null&&(C=I.dehydrated,C!==null)){if(y)s.flags&256?(bn(s),s.flags&=-257,s=yc(i,s,u)):s.memoizedState!==null?(Sn(),s.child=i.child,s.flags|=128,s=null):(Sn(),p=d.fallback,C=s.mode,d=Vs({mode:"visible",children:d.children},C),p=ta(p,C,u,null),p.flags|=2,d.return=s,p.return=s,d.sibling=p,s.child=d,Za(s,i.child,null,u),d=s.child,d.memoizedState=vc(u),d.childLanes=pc(i,E,u),s.memoizedState=hc,s=p);else if(bn(s),Qc(C)){if(E=C.nextSibling&&C.nextSibling.dataset,E)var H=E.dgst;E=H,d=Error(n(419)),d.stack="",d.digest=E,Wi({value:d,source:null,stack:null}),s=yc(i,s,u)}else if(Ot||Zi(i,s,u,!1),E=(u&i.childLanes)!==0,Ot||E){if(E=Ze,E!==null&&(d=u&-u,d=(d&42)!==0?1:Jl(d),d=(d&(E.suspendedLanes|u))!==0?0:d,d!==0&&d!==I.retryLane))throw I.retryLane=d,Ua(i,d),vr(E,i,d),P0;C.data==="$?"||Pc(),s=yc(i,s,u)}else C.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=I.treeContext,ut=Rr(C.nextSibling),qt=s,Pe=!0,aa=null,Lr=!1,i!==null&&(mr[_r++]=Wr,mr[_r++]=Zr,mr[_r++]=ra,Wr=i.id,Zr=i.overflow,ra=s),s=gc(s,d.children),s.flags|=4096);return s}return p?(Sn(),p=d.fallback,C=s.mode,I=i.child,H=I.sibling,d=$r(I,{mode:"hidden",children:d.children}),d.subtreeFlags=I.subtreeFlags&65011712,H!==null?p=$r(H,p):(p=ta(p,C,u,null),p.flags|=2),p.return=s,d.return=s,d.sibling=p,s.child=d,d=p,p=s.child,C=i.child.memoizedState,C===null?C=vc(u):(I=C.cachePool,I!==null?(H=yt._currentValue,I=I.parent!==H?{parent:H,pool:H}:I):I=Dh(),C={baseLanes:C.baseLanes|u,cachePool:I}),p.memoizedState=C,p.childLanes=pc(i,E,u),s.memoizedState=hc,d):(bn(s),u=i.child,i=u.sibling,u=$r(u,{mode:"visible",children:d.children}),u.return=s,u.sibling=null,i!==null&&(E=s.deletions,E===null?(s.deletions=[i],s.flags|=16):E.push(i)),s.child=u,s.memoizedState=null,u)}function gc(i,s){return s=Vs({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Vs(i,s){return i=ur(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function yc(i,s,u){return Za(s,i.child,null,u),i=gc(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function X0(i,s,u){i.lanes|=s;var d=i.alternate;d!==null&&(d.lanes|=s),Pu(i.return,s,u)}function xc(i,s,u,d,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=u,y.tailMode=p)}function q0(i,s,u){var d=s.pendingProps,p=d.revealOrder,y=d.tail;if(Pt(i,s,d.children,u),d=xt.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&X0(i,u,s);else if(i.tag===19)X0(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}switch(ie(xt,d),p){case"forwards":for(u=s.child,p=null;u!==null;)i=u.alternate,i!==null&&Us(i)===null&&(p=u),u=u.sibling;u=p,u===null?(p=s.child,s.child=null):(p=u.sibling,u.sibling=null),xc(s,!1,p,u,y);break;case"backwards":for(u=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Us(i)===null){s.child=p;break}i=p.sibling,p.sibling=u,u=p,p=i}xc(s,!0,u,null,y);break;case"together":xc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function tn(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),Dn|=s.lanes,(u&s.childLanes)===0)if(i!==null){if(Zi(i,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,u=$r(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=$r(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function mc(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&As(i)))}function o2(i,s,u){switch(s.tag){case 3:rt(s,s.stateNode.containerInfo),mn(s,yt,i.memoizedState.cache),$i();break;case 27:case 5:$l(s);break;case 4:rt(s,s.stateNode.containerInfo);break;case 10:mn(s,s.type,s.memoizedProps.value);break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(bn(s),s.flags|=128,null):(u&s.child.childLanes)!==0?G0(i,s,u):(bn(s),i=tn(i,s,u),i!==null?i.sibling:null);bn(s);break;case 19:var p=(i.flags&128)!==0;if(d=(u&s.childLanes)!==0,d||(Zi(i,s,u,!1),d=(u&s.childLanes)!==0),p){if(d)return q0(i,s,u);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ie(xt,xt.current),d)break;return null;case 22:case 23:return s.lanes=0,U0(i,s,u);case 24:mn(s,yt,i.memoizedState.cache)}return tn(i,s,u)}function Y0(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ot=!0;else{if(!mc(i,u)&&(s.flags&128)===0)return Ot=!1,o2(i,s,u);Ot=(i.flags&131072)!==0}else Ot=!1,Pe&&(s.flags&1048576)!==0&&Ah(s,Es,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var d=s.elementType,p=d._init;if(d=p(d._payload),s.type=d,typeof d=="function")Ou(d)?(i=ca(d,i),s.tag=1,s=H0(null,s,d,i,u)):(s.tag=0,s=dc(null,s,d,i,u));else{if(d!=null){if(p=d.$$typeof,p===N){s.tag=11,s=k0(null,s,d,i,u);break e}else if(p===B){s.tag=14,s=L0(null,s,d,i,u);break e}}throw s=te(d)||d,Error(n(306,s,""))}}return s;case 0:return dc(i,s,s.type,s.pendingProps,u);case 1:return d=s.type,p=ca(d,s.pendingProps),H0(i,s,d,p,u);case 3:e:{if(rt(s,s.stateNode.containerInfo),i===null)throw Error(n(387));d=s.pendingProps;var y=s.memoizedState;p=y.element,Hu(i,s),no(s,d,null,u);var E=s.memoizedState;if(d=E.cache,mn(s,yt,d),d!==y.cache&&ku(s,[yt],u,!0),ro(),d=E.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=V0(i,s,d,u);break e}else if(d!==p){p=yr(Error(n(424)),s),Wi(p),s=V0(i,s,d,u);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ut=Rr(i.firstChild),qt=s,Pe=!0,aa=null,Lr=!0,u=S0(s,null,d,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if($i(),d===p){s=tn(i,s,u);break e}Pt(i,s,d,u)}s=s.child}return s;case 26:return Hs(i,s),i===null?(u=K1(s.type,null,s.pendingProps,null))?s.memoizedState=u:Pe||(u=s.type,i=s.pendingProps,d=nl(me.current).createElement(u),d[zt]=s,d[Kt]=i,Lt(d,u,i),Tt(d),s.stateNode=d):s.memoizedState=K1(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return $l(s),i===null&&Pe&&(d=s.stateNode=$1(s.type,s.pendingProps,me.current),qt=s,Lr=!0,p=ut,Bn(s.type)?(Jc=p,ut=Rr(d.firstChild)):ut=p),Pt(i,s,s.pendingProps.children,u),Hs(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Pe&&((p=d=ut)&&(d=B2(d,s.type,s.pendingProps,Lr),d!==null?(s.stateNode=d,qt=s,ut=Rr(d.firstChild),Lr=!1,p=!0):p=!1),p||ia(s)),$l(s),p=s.type,y=s.pendingProps,E=i!==null?i.memoizedProps:null,d=y.children,Wc(p,y)?d=null:E!==null&&Wc(p,E)&&(s.flags|=32),s.memoizedState!==null&&(p=$u(i,s,Qy,null,null,u),Co._currentValue=p),Hs(i,s),Pt(i,s,d,u),s.child;case 6:return i===null&&Pe&&((i=u=ut)&&(u=P2(u,s.pendingProps,Lr),u!==null?(s.stateNode=u,qt=s,ut=null,i=!0):i=!1),i||ia(s)),null;case 13:return G0(i,s,u);case 4:return rt(s,s.stateNode.containerInfo),d=s.pendingProps,i===null?s.child=Za(s,null,d,u):Pt(i,s,d,u),s.child;case 11:return k0(i,s,s.type,s.pendingProps,u);case 7:return Pt(i,s,s.pendingProps,u),s.child;case 8:return Pt(i,s,s.pendingProps.children,u),s.child;case 12:return Pt(i,s,s.pendingProps.children,u),s.child;case 10:return d=s.pendingProps,mn(s,s.type,d.value),Pt(i,s,d.children,u),s.child;case 9:return p=s.type._context,d=s.pendingProps.children,sa(s),p=Ht(p),d=d(p),s.flags|=1,Pt(i,s,d,u),s.child;case 14:return L0(i,s,s.type,s.pendingProps,u);case 15:return j0(i,s,s.type,s.pendingProps,u);case 19:return q0(i,s,u);case 31:return d=s.pendingProps,u=s.mode,d={mode:d.mode,children:d.children},i===null?(u=Vs(d,u),u.ref=s.ref,s.child=u,u.return=s,s=u):(u=$r(i.child,d),u.ref=s.ref,s.child=u,u.return=s,s=u),s;case 22:return U0(i,s,u);case 24:return sa(s),d=Ht(yt),i===null?(p=Uu(),p===null&&(p=Ze,y=Lu(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=u),p=y),s.memoizedState={parent:d,cache:p},zu(s),mn(s,yt,p)):((i.lanes&u)!==0&&(Hu(i,s),no(s,null,null,u),ro()),p=i.memoizedState,y=s.memoizedState,p.parent!==d?(p={parent:d,cache:d},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),mn(s,yt,d)):(d=y.cache,mn(s,yt,d),d!==p.cache&&ku(s,[yt],u,!0))),Pt(i,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function rn(i){i.flags|=4}function $0(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!rv(s)){if(s=wr.current,s!==null&&((De&4194048)===De?jr!==null:(De&62914560)!==De&&(De&536870912)===0||s!==jr))throw eo=Fu,Ih;i.flags|=8192}}function Gs(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Cd():536870912,i.lanes|=s,ei|=s)}function co(i,s){if(!Pe)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function at(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,d=0;if(s)for(var p=i.child;p!==null;)u|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)u|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=d,i.childLanes=u,s}function s2(i,s,u){var d=s.pendingProps;switch(Nu(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(s),null;case 1:return at(s),null;case 3:return u=s.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Qr(yt),pn(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Yi(s)?rn(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ch())),at(s),null;case 26:return u=s.memoizedState,i===null?(rn(s),u!==null?(at(s),$0(s,u)):(at(s),s.flags&=-16777217)):u?u!==i.memoizedState?(rn(s),at(s),$0(s,u)):(at(s),s.flags&=-16777217):(i.memoizedProps!==d&&rn(s),at(s),s.flags&=-16777217),null;case 27:ts(s),u=me.current;var p=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==d&&rn(s);else{if(!d){if(s.stateNode===null)throw Error(n(166));return at(s),null}i=fe.current,Yi(s)?bh(s):(i=$1(p,d,u),s.stateNode=i,rn(s))}return at(s),null;case 5:if(ts(s),u=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==d&&rn(s);else{if(!d){if(s.stateNode===null)throw Error(n(166));return at(s),null}if(i=fe.current,Yi(s))bh(s);else{switch(p=nl(me.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof d.is=="string"?p.createElement("select",{is:d.is}):p.createElement("select"),d.multiple?i.multiple=!0:d.size&&(i.size=d.size);break;default:i=typeof d.is=="string"?p.createElement(u,{is:d.is}):p.createElement(u)}}i[zt]=s,i[Kt]=d;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=i;e:switch(Lt(i,u,d),u){case"button":case"input":case"select":case"textarea":i=!!d.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&rn(s)}}return at(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==d&&rn(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(n(166));if(i=me.current,Yi(s)){if(i=s.stateNode,u=s.memoizedProps,d=null,p=qt,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}i[zt]=s,i=!!(i.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||z1(i.nodeValue,u)),i||ia(s)}else i=nl(i).createTextNode(d),i[zt]=s,s.stateNode=i}return at(s),null;case 13:if(d=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Yi(s),d!==null&&d.dehydrated!==null){if(i===null){if(!p)throw Error(n(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[zt]=s}else $i(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;at(s),p=!1}else p=Ch(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(en(s),s):(en(s),null)}if(en(s),(s.flags&128)!==0)return s.lanes=u,s;if(u=d!==null,i=i!==null&&i.memoizedState!==null,u){d=s.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool);var y=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==p&&(d.flags|=2048)}return u!==i&&u&&(s.child.flags|=8192),Gs(s,s.updateQueue),at(s),null;case 4:return pn(),i===null&&Gc(s.stateNode.containerInfo),at(s),null;case 10:return Qr(s.type),at(s),null;case 19:if(ne(xt),p=s.memoizedState,p===null)return at(s),null;if(d=(s.flags&128)!==0,y=p.rendering,y===null)if(d)co(p,!1);else{if(ct!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=Us(i),y!==null){for(s.flags|=128,co(p,!1),i=y.updateQueue,s.updateQueue=i,Gs(s,i),s.subtreeFlags=0,i=u,u=s.child;u!==null;)Eh(u,i),u=u.sibling;return ie(xt,xt.current&1|2),s.child}i=i.sibling}p.tail!==null&&kr()>Ys&&(s.flags|=128,d=!0,co(p,!1),s.lanes=4194304)}else{if(!d)if(i=Us(y),i!==null){if(s.flags|=128,d=!0,i=i.updateQueue,s.updateQueue=i,Gs(s,i),co(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Pe)return at(s),null}else 2*kr()-p.renderingStartTime>Ys&&u!==536870912&&(s.flags|=128,d=!0,co(p,!1),s.lanes=4194304);p.isBackwards?(y.sibling=s.child,s.child=y):(i=p.last,i!==null?i.sibling=y:s.child=y,p.last=y)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=kr(),s.sibling=null,i=xt.current,ie(xt,d?i&1|2:i&1),s):(at(s),null);case 22:case 23:return en(s),qu(),d=s.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(u&536870912)!==0&&(s.flags&128)===0&&(at(s),s.subtreeFlags&6&&(s.flags|=8192)):at(s),u=s.updateQueue,u!==null&&Gs(s,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==u&&(s.flags|=2048),i!==null&&ne(la),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Qr(yt),at(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function l2(i,s){switch(Nu(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Qr(yt),pn(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return ts(s),null;case 13:if(en(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));$i()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ne(xt),null;case 4:return pn(),null;case 10:return Qr(s.type),null;case 22:case 23:return en(s),qu(),i!==null&&ne(la),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Qr(yt),null;case 25:return null;default:return null}}function W0(i,s){switch(Nu(s),s.tag){case 3:Qr(yt),pn();break;case 26:case 27:case 5:ts(s);break;case 4:pn();break;case 13:en(s);break;case 19:ne(xt);break;case 10:Qr(s.type);break;case 22:case 23:en(s),qu(),i!==null&&ne(la);break;case 24:Qr(yt)}}function fo(i,s){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var p=d.next;u=p;do{if((u.tag&i)===i){d=void 0;var y=u.create,E=u.inst;d=y(),E.destroy=d}u=u.next}while(u!==p)}}catch(C){$e(s,s.return,C)}}function Cn(i,s,u){try{var d=s.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var y=p.next;d=y;do{if((d.tag&i)===i){var E=d.inst,C=E.destroy;if(C!==void 0){E.destroy=void 0,p=s;var I=u,H=C;try{H()}catch(W){$e(p,I,W)}}}d=d.next}while(d!==y)}}catch(W){$e(s,s.return,W)}}function Z0(i){var s=i.updateQueue;if(s!==null){var u=i.stateNode;try{Lh(s,u)}catch(d){$e(i,i.return,d)}}}function K0(i,s,u){u.props=ca(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(d){$e(i,s,d)}}function ho(i,s){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof u=="function"?i.refCleanup=u(d):u.current=d}}catch(p){$e(i,s,p)}}function Ur(i,s){var u=i.ref,d=i.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(p){$e(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(p){$e(i,s,p)}else u.current=null}function Q0(i){var s=i.type,u=i.memoizedProps,d=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(p){$e(i,i.return,p)}}function _c(i,s,u){try{var d=i.stateNode;R2(d,i.type,u,s),d[Kt]=s}catch(p){$e(i,i.return,p)}}function J0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Bn(i.type)||i.tag===4}function wc(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||J0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Bn(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ec(i,s,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(i),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=rl));else if(d!==4&&(d===27&&Bn(i.type)&&(u=i.stateNode,s=null),i=i.child,i!==null))for(Ec(i,s,u),i=i.sibling;i!==null;)Ec(i,s,u),i=i.sibling}function Xs(i,s,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(d!==4&&(d===27&&Bn(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Xs(i,s,u),i=i.sibling;i!==null;)Xs(i,s,u),i=i.sibling}function e1(i){var s=i.stateNode,u=i.memoizedProps;try{for(var d=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Lt(s,d,u),s[zt]=i,s[Kt]=u}catch(y){$e(i,i.return,y)}}var nn=!1,dt=!1,Ac=!1,t1=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function u2(i,s){if(i=i.containerInfo,Yc=ul,i=dh(i),wu(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var E=0,C=-1,I=-1,H=0,W=0,ee=i,G=null;t:for(;;){for(var q;ee!==u||p!==0&&ee.nodeType!==3||(C=E+p),ee!==y||d!==0&&ee.nodeType!==3||(I=E+d),ee.nodeType===3&&(E+=ee.nodeValue.length),(q=ee.firstChild)!==null;)G=ee,ee=q;for(;;){if(ee===i)break t;if(G===u&&++H===p&&(C=E),G===y&&++W===d&&(I=E),(q=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=q}u=C===-1||I===-1?null:{start:C,end:I}}else u=null}u=u||{start:0,end:0}}else u=null;for($c={focusedElem:i,selectionRange:u},ul=!1,Rt=s;Rt!==null;)if(s=Rt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Rt=i;else for(;Rt!==null;){switch(s=Rt,y=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,u=s,p=y.memoizedProps,y=y.memoizedState,d=u.stateNode;try{var xe=ca(u.type,p,u.elementType===u.type);i=d.getSnapshotBeforeUpdate(xe,y),d.__reactInternalSnapshotBeforeUpdate=i}catch(pe){$e(u,u.return,pe)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,u=i.nodeType,u===9)Kc(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Kc(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=s.sibling,i!==null){i.return=s.return,Rt=i;break}Rt=s.return}}function r1(i,s,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Tn(i,u),d&4&&fo(5,u);break;case 1:if(Tn(i,u),d&4)if(i=u.stateNode,s===null)try{i.componentDidMount()}catch(E){$e(u,u.return,E)}else{var p=ca(u.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(E){$e(u,u.return,E)}}d&64&&Z0(u),d&512&&ho(u,u.return);break;case 3:if(Tn(i,u),d&64&&(i=u.updateQueue,i!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{Lh(i,s)}catch(E){$e(u,u.return,E)}}break;case 27:s===null&&d&4&&e1(u);case 26:case 5:Tn(i,u),s===null&&d&4&&Q0(u),d&512&&ho(u,u.return);break;case 12:Tn(i,u);break;case 13:Tn(i,u),d&4&&i1(i,u),d&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=x2.bind(null,u),k2(i,u))));break;case 22:if(d=u.memoizedState!==null||nn,!d){s=s!==null&&s.memoizedState!==null||dt,p=nn;var y=dt;nn=d,(dt=s)&&!y?On(i,u,(u.subtreeFlags&8772)!==0):Tn(i,u),nn=p,dt=y}break;case 30:break;default:Tn(i,u)}}function n1(i){var s=i.alternate;s!==null&&(i.alternate=null,n1(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ru(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var nt=null,er=!1;function an(i,s,u){for(u=u.child;u!==null;)a1(i,s,u),u=u.sibling}function a1(i,s,u){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(Mi,u)}catch{}switch(u.tag){case 26:dt||Ur(u,s),an(i,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:dt||Ur(u,s);var d=nt,p=er;Bn(u.type)&&(nt=u.stateNode,er=!1),an(i,s,u),Eo(u.stateNode),nt=d,er=p;break;case 5:dt||Ur(u,s);case 6:if(d=nt,p=er,nt=null,an(i,s,u),nt=d,er=p,nt!==null)if(er)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(u.stateNode)}catch(y){$e(u,s,y)}else try{nt.removeChild(u.stateNode)}catch(y){$e(u,s,y)}break;case 18:nt!==null&&(er?(i=nt,q1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Do(i)):q1(nt,u.stateNode));break;case 4:d=nt,p=er,nt=u.stateNode.containerInfo,er=!0,an(i,s,u),nt=d,er=p;break;case 0:case 11:case 14:case 15:dt||Cn(2,u,s),dt||Cn(4,u,s),an(i,s,u);break;case 1:dt||(Ur(u,s),d=u.stateNode,typeof d.componentWillUnmount=="function"&&K0(u,s,d)),an(i,s,u);break;case 21:an(i,s,u);break;case 22:dt=(d=dt)||u.memoizedState!==null,an(i,s,u),dt=d;break;default:an(i,s,u)}}function i1(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Do(i)}catch(u){$e(s,s.return,u)}}function c2(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new t1),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new t1),s;default:throw Error(n(435,i.tag))}}function bc(i,s){var u=c2(i);s.forEach(function(d){var p=m2.bind(null,i,d);u.has(d)||(u.add(d),d.then(p,p))})}function cr(i,s){var u=s.deletions;if(u!==null)for(var d=0;d<u.length;d++){var p=u[d],y=i,E=s,C=E;e:for(;C!==null;){switch(C.tag){case 27:if(Bn(C.type)){nt=C.stateNode,er=!1;break e}break;case 5:nt=C.stateNode,er=!1;break e;case 3:case 4:nt=C.stateNode.containerInfo,er=!0;break e}C=C.return}if(nt===null)throw Error(n(160));a1(y,E,p),nt=null,er=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)o1(s,i),s=s.sibling}var Or=null;function o1(i,s){var u=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:cr(s,i),fr(i),d&4&&(Cn(3,i,i.return),fo(3,i),Cn(5,i,i.return));break;case 1:cr(s,i),fr(i),d&512&&(dt||u===null||Ur(u,u.return)),d&64&&nn&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var p=Or;if(cr(s,i),fr(i),d&512&&(dt||u===null||Ur(u,u.return)),d&4){var y=u!==null?u.memoizedState:null;if(d=i.memoizedState,u===null)if(d===null)if(i.stateNode===null){e:{d=i.type,u=i.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":y=p.getElementsByTagName("title")[0],(!y||y[ki]||y[zt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(d),p.head.insertBefore(y,p.querySelector("head > title"))),Lt(y,d,u),y[zt]=i,Tt(y),d=y;break e;case"link":var E=ev("link","href",p).get(d+(u.href||""));if(E){for(var C=0;C<E.length;C++)if(y=E[C],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){E.splice(C,1);break t}}y=p.createElement(d),Lt(y,d,u),p.head.appendChild(y);break;case"meta":if(E=ev("meta","content",p).get(d+(u.content||""))){for(C=0;C<E.length;C++)if(y=E[C],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){E.splice(C,1);break t}}y=p.createElement(d),Lt(y,d,u),p.head.appendChild(y);break;default:throw Error(n(468,d))}y[zt]=i,Tt(y),d=y}i.stateNode=d}else tv(p,i.type,i.stateNode);else i.stateNode=J1(p,d,i.memoizedProps);else y!==d?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,d===null?tv(p,i.type,i.stateNode):J1(p,d,i.memoizedProps)):d===null&&i.stateNode!==null&&_c(i,i.memoizedProps,u.memoizedProps)}break;case 27:cr(s,i),fr(i),d&512&&(dt||u===null||Ur(u,u.return)),u!==null&&d&4&&_c(i,i.memoizedProps,u.memoizedProps);break;case 5:if(cr(s,i),fr(i),d&512&&(dt||u===null||Ur(u,u.return)),i.flags&32){p=i.stateNode;try{Na(p,"")}catch(q){$e(i,i.return,q)}}d&4&&i.stateNode!=null&&(p=i.memoizedProps,_c(i,p,u!==null?u.memoizedProps:p)),d&1024&&(Ac=!0);break;case 6:if(cr(s,i),fr(i),d&4){if(i.stateNode===null)throw Error(n(162));d=i.memoizedProps,u=i.stateNode;try{u.nodeValue=d}catch(q){$e(i,i.return,q)}}break;case 3:if(ol=null,p=Or,Or=al(s.containerInfo),cr(s,i),Or=p,fr(i),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Do(s.containerInfo)}catch(q){$e(i,i.return,q)}Ac&&(Ac=!1,s1(i));break;case 4:d=Or,Or=al(i.stateNode.containerInfo),cr(s,i),fr(i),Or=d;break;case 12:cr(s,i),fr(i);break;case 13:cr(s,i),fr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Dc=kr()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,bc(i,d)));break;case 22:p=i.memoizedState!==null;var I=u!==null&&u.memoizedState!==null,H=nn,W=dt;if(nn=H||p,dt=W||I,cr(s,i),dt=W,nn=H,fr(i),d&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(u===null||I||nn||dt||fa(i)),u=null,s=i;;){if(s.tag===5||s.tag===26){if(u===null){I=u=s;try{if(y=I.stateNode,p)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{C=I.stateNode;var ee=I.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;C.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(q){$e(I,I.return,q)}}}else if(s.tag===6){if(u===null){I=s;try{I.stateNode.nodeValue=p?"":I.memoizedProps}catch(q){$e(I,I.return,q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=i.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,bc(i,u))));break;case 19:cr(s,i),fr(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,bc(i,d)));break;case 30:break;case 21:break;default:cr(s,i),fr(i)}}function fr(i){var s=i.flags;if(s&2){try{for(var u,d=i.return;d!==null;){if(J0(d)){u=d;break}d=d.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var p=u.stateNode,y=wc(i);Xs(i,y,p);break;case 5:var E=u.stateNode;u.flags&32&&(Na(E,""),u.flags&=-33);var C=wc(i);Xs(i,C,E);break;case 3:case 4:var I=u.stateNode.containerInfo,H=wc(i);Ec(i,H,I);break;default:throw Error(n(161))}}catch(W){$e(i,i.return,W)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function s1(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;s1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Tn(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)r1(i,s.alternate,s),s=s.sibling}function fa(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Cn(4,s,s.return),fa(s);break;case 1:Ur(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&K0(s,s.return,u),fa(s);break;case 27:Eo(s.stateNode);case 26:case 5:Ur(s,s.return),fa(s);break;case 22:s.memoizedState===null&&fa(s);break;case 30:fa(s);break;default:fa(s)}i=i.sibling}}function On(i,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,p=i,y=s,E=y.flags;switch(y.tag){case 0:case 11:case 15:On(p,y,u),fo(4,y);break;case 1:if(On(p,y,u),d=y,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(H){$e(d,d.return,H)}if(d=y,p=d.updateQueue,p!==null){var C=d.stateNode;try{var I=p.shared.hiddenCallbacks;if(I!==null)for(p.shared.hiddenCallbacks=null,p=0;p<I.length;p++)kh(I[p],C)}catch(H){$e(d,d.return,H)}}u&&E&64&&Z0(y),ho(y,y.return);break;case 27:e1(y);case 26:case 5:On(p,y,u),u&&d===null&&E&4&&Q0(y),ho(y,y.return);break;case 12:On(p,y,u);break;case 13:On(p,y,u),u&&E&4&&i1(p,y);break;case 22:y.memoizedState===null&&On(p,y,u),ho(y,y.return);break;case 30:break;default:On(p,y,u)}s=s.sibling}}function Sc(i,s){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Ki(u))}function Cc(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ki(i))}function Fr(i,s,u,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)l1(i,s,u,d),s=s.sibling}function l1(i,s,u,d){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Fr(i,s,u,d),p&2048&&fo(9,s);break;case 1:Fr(i,s,u,d);break;case 3:Fr(i,s,u,d),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ki(i)));break;case 12:if(p&2048){Fr(i,s,u,d),i=s.stateNode;try{var y=s.memoizedProps,E=y.id,C=y.onPostCommit;typeof C=="function"&&C(E,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(I){$e(s,s.return,I)}}else Fr(i,s,u,d);break;case 13:Fr(i,s,u,d);break;case 23:break;case 22:y=s.stateNode,E=s.alternate,s.memoizedState!==null?y._visibility&2?Fr(i,s,u,d):vo(i,s):y._visibility&2?Fr(i,s,u,d):(y._visibility|=2,Ka(i,s,u,d,(s.subtreeFlags&10256)!==0)),p&2048&&Sc(E,s);break;case 24:Fr(i,s,u,d),p&2048&&Cc(s.alternate,s);break;default:Fr(i,s,u,d)}}function Ka(i,s,u,d,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=i,E=s,C=u,I=d,H=E.flags;switch(E.tag){case 0:case 11:case 15:Ka(y,E,C,I,p),fo(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&2?Ka(y,E,C,I,p):vo(y,E):(W._visibility|=2,Ka(y,E,C,I,p)),p&&H&2048&&Sc(E.alternate,E);break;case 24:Ka(y,E,C,I,p),p&&H&2048&&Cc(E.alternate,E);break;default:Ka(y,E,C,I,p)}s=s.sibling}}function vo(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=i,d=s,p=d.flags;switch(d.tag){case 22:vo(u,d),p&2048&&Sc(d.alternate,d);break;case 24:vo(u,d),p&2048&&Cc(d.alternate,d);break;default:vo(u,d)}s=s.sibling}}var po=8192;function Qa(i){if(i.subtreeFlags&po)for(i=i.child;i!==null;)u1(i),i=i.sibling}function u1(i){switch(i.tag){case 26:Qa(i),i.flags&po&&i.memoizedState!==null&&W2(Or,i.memoizedState,i.memoizedProps);break;case 5:Qa(i);break;case 3:case 4:var s=Or;Or=al(i.stateNode.containerInfo),Qa(i),Or=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=po,po=16777216,Qa(i),po=s):Qa(i));break;default:Qa(i)}}function c1(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function go(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var d=s[u];Rt=d,d1(d,i)}c1(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)f1(i),i=i.sibling}function f1(i){switch(i.tag){case 0:case 11:case 15:go(i),i.flags&2048&&Cn(9,i,i.return);break;case 3:go(i);break;case 12:go(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,qs(i)):go(i);break;default:go(i)}}function qs(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var d=s[u];Rt=d,d1(d,i)}c1(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Cn(8,s,s.return),qs(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,qs(s));break;default:qs(s)}i=i.sibling}}function d1(i,s){for(;Rt!==null;){var u=Rt;switch(u.tag){case 0:case 11:case 15:Cn(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Ki(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,Rt=d;else e:for(u=i;Rt!==null;){d=Rt;var p=d.sibling,y=d.return;if(n1(d),d===u){Rt=null;break e}if(p!==null){p.return=y,Rt=p;break e}Rt=y}}}var f2={getCacheForType:function(i){var s=Ht(yt),u=s.data.get(i);return u===void 0&&(u=i(),s.data.set(i,u)),u}},d2=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Ze=null,Ce=null,De=0,Fe=0,dr=null,Rn=!1,Ja=!1,Tc=!1,on=0,ct=0,Dn=0,da=0,Oc=0,Er=0,ei=0,yo=null,tr=null,Rc=!1,Dc=0,Ys=1/0,$s=null,In=null,kt=0,Nn=null,ti=null,ri=0,Ic=0,Nc=null,h1=null,xo=0,Mc=null;function hr(){if((Ue&2)!==0&&De!==0)return De&-De;if(L.T!==null){var i=Va;return i!==0?i:Fc()}return Rd()}function v1(){Er===0&&(Er=(De&536870912)===0||Pe?Sd():536870912);var i=wr.current;return i!==null&&(i.flags|=32),Er}function vr(i,s,u){(i===Ze&&(Fe===2||Fe===9)||i.cancelPendingCommit!==null)&&(ni(i,0),Mn(i,De,Er,!1)),Pi(i,u),((Ue&2)===0||i!==Ze)&&(i===Ze&&((Ue&2)===0&&(da|=u),ct===4&&Mn(i,De,Er,!1)),zr(i))}function p1(i,s,u){if((Ue&6)!==0)throw Error(n(327));var d=!u&&(s&124)===0&&(s&i.expiredLanes)===0||Bi(i,s),p=d?p2(i,s):kc(i,s,!0),y=d;do{if(p===0){Ja&&!d&&Mn(i,s,0,!1);break}else{if(u=i.current.alternate,y&&!h2(u)){p=kc(i,s,!1),y=!1;continue}if(p===2){if(y=s,i.errorRecoveryDisabledLanes&y)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var C=i;p=yo;var I=C.current.memoizedState.isDehydrated;if(I&&(ni(C,E).flags|=256),E=kc(C,E,!1),E!==2){if(Tc&&!I){C.errorRecoveryDisabledLanes|=y,da|=y,p=4;break e}y=tr,tr=p,y!==null&&(tr===null?tr=y:tr.push.apply(tr,y))}p=E}if(y=!1,p!==2)continue}}if(p===1){ni(i,0),Mn(i,s,0,!0);break}e:{switch(d=i,y=p,y){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:Mn(d,s,Er,!Rn);break e;case 2:tr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(p=Dc+300-kr(),10<p)){if(Mn(d,s,Er,!Rn),is(d,0,!0)!==0)break e;d.timeoutHandle=G1(g1.bind(null,d,u,tr,$s,Rc,s,Er,da,ei,Rn,y,2,-0,0),p);break e}g1(d,u,tr,$s,Rc,s,Er,da,ei,Rn,y,0,-0,0)}}break}while(!0);zr(i)}function g1(i,s,u,d,p,y,E,C,I,H,W,ee,G,q){if(i.timeoutHandle=-1,ee=s.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(So={stylesheets:null,count:0,unsuspend:$2},u1(s),ee=Z2(),ee!==null)){i.cancelPendingCommit=ee(A1.bind(null,i,s,y,u,d,p,E,C,I,W,1,G,q)),Mn(i,y,E,!H);return}A1(i,s,y,u,d,p,E,C,I)}function h2(i){for(var s=i;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var p=u[d],y=p.getSnapshot;p=p.value;try{if(!lr(y(),p))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Mn(i,s,u,d){s&=~Oc,s&=~da,i.suspendedLanes|=s,i.pingedLanes&=~s,d&&(i.warmLanes|=s),d=i.expirationTimes;for(var p=s;0<p;){var y=31-sr(p),E=1<<y;d[y]=-1,p&=~E}u!==0&&Td(i,u,s)}function Ws(){return(Ue&6)===0?(mo(0),!1):!0}function Bc(){if(Ce!==null){if(Fe===0)var i=Ce.return;else i=Ce,Kr=oa=null,Ku(i),Wa=null,lo=0,i=Ce;for(;i!==null;)W0(i.alternate,i),i=i.return;Ce=null}}function ni(i,s){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,I2(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Bc(),Ze=i,Ce=u=$r(i.current,null),De=s,Fe=0,dr=null,Rn=!1,Ja=Bi(i,s),Tc=!1,ei=Er=Oc=da=Dn=ct=0,tr=yo=null,Rc=!1,(s&8)!==0&&(s|=s&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=s;0<d;){var p=31-sr(d),y=1<<p;s|=i[p],d&=~y}return on=s,ys(),u}function y1(i,s){Ee=null,L.H=ks,s===Ji||s===Cs?(s=Bh(),Fe=3):s===Ih?(s=Bh(),Fe=4):Fe=s===P0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,dr=s,Ce===null&&(ct=1,zs(i,yr(s,i.current)))}function x1(){var i=L.H;return L.H=ks,i===null?ks:i}function m1(){var i=L.A;return L.A=f2,i}function Pc(){ct=4,Rn||(De&4194048)!==De&&wr.current!==null||(Ja=!0),(Dn&134217727)===0&&(da&134217727)===0||Ze===null||Mn(Ze,De,Er,!1)}function kc(i,s,u){var d=Ue;Ue|=2;var p=x1(),y=m1();(Ze!==i||De!==s)&&($s=null,ni(i,s)),s=!1;var E=ct;e:do try{if(Fe!==0&&Ce!==null){var C=Ce,I=dr;switch(Fe){case 8:Bc(),E=6;break e;case 3:case 2:case 9:case 6:wr.current===null&&(s=!0);var H=Fe;if(Fe=0,dr=null,ai(i,C,I,H),u&&Ja){E=0;break e}break;default:H=Fe,Fe=0,dr=null,ai(i,C,I,H)}}v2(),E=ct;break}catch(W){y1(i,W)}while(!0);return s&&i.shellSuspendCounter++,Kr=oa=null,Ue=d,L.H=p,L.A=y,Ce===null&&(Ze=null,De=0,ys()),E}function v2(){for(;Ce!==null;)_1(Ce)}function p2(i,s){var u=Ue;Ue|=2;var d=x1(),p=m1();Ze!==i||De!==s?($s=null,Ys=kr()+500,ni(i,s)):Ja=Bi(i,s);e:do try{if(Fe!==0&&Ce!==null){s=Ce;var y=dr;t:switch(Fe){case 1:Fe=0,dr=null,ai(i,s,y,1);break;case 2:case 9:if(Nh(y)){Fe=0,dr=null,w1(s);break}s=function(){Fe!==2&&Fe!==9||Ze!==i||(Fe=7),zr(i)},y.then(s,s);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:Nh(y)?(Fe=0,dr=null,w1(s)):(Fe=0,dr=null,ai(i,s,y,7));break;case 5:var E=null;switch(Ce.tag){case 26:E=Ce.memoizedState;case 5:case 27:var C=Ce;if(!E||rv(E)){Fe=0,dr=null;var I=C.sibling;if(I!==null)Ce=I;else{var H=C.return;H!==null?(Ce=H,Zs(H)):Ce=null}break t}}Fe=0,dr=null,ai(i,s,y,5);break;case 6:Fe=0,dr=null,ai(i,s,y,6);break;case 8:Bc(),ct=6;break e;default:throw Error(n(462))}}g2();break}catch(W){y1(i,W)}while(!0);return Kr=oa=null,L.H=d,L.A=p,Ue=u,Ce!==null?0:(Ze=null,De=0,ys(),ct)}function g2(){for(;Ce!==null&&!jg();)_1(Ce)}function _1(i){var s=Y0(i.alternate,i,on);i.memoizedProps=i.pendingProps,s===null?Zs(i):Ce=s}function w1(i){var s=i,u=s.alternate;switch(s.tag){case 15:case 0:s=z0(u,s,s.pendingProps,s.type,void 0,De);break;case 11:s=z0(u,s,s.pendingProps,s.type.render,s.ref,De);break;case 5:Ku(s);default:W0(u,s),s=Ce=Eh(s,on),s=Y0(u,s,on)}i.memoizedProps=i.pendingProps,s===null?Zs(i):Ce=s}function ai(i,s,u,d){Kr=oa=null,Ku(s),Wa=null,lo=0;var p=s.return;try{if(i2(i,p,s,u,De)){ct=1,zs(i,yr(u,i.current)),Ce=null;return}}catch(y){if(p!==null)throw Ce=p,y;ct=1,zs(i,yr(u,i.current)),Ce=null;return}s.flags&32768?(Pe||d===1?i=!0:Ja||(De&536870912)!==0?i=!1:(Rn=i=!0,(d===2||d===9||d===3||d===6)&&(d=wr.current,d!==null&&d.tag===13&&(d.flags|=16384))),E1(s,i)):Zs(s)}function Zs(i){var s=i;do{if((s.flags&32768)!==0){E1(s,Rn);return}i=s.return;var u=s2(s.alternate,s,on);if(u!==null){Ce=u;return}if(s=s.sibling,s!==null){Ce=s;return}Ce=s=i}while(s!==null);ct===0&&(ct=5)}function E1(i,s){do{var u=l2(i.alternate,i);if(u!==null){u.flags&=32767,Ce=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(i=i.sibling,i!==null)){Ce=i;return}Ce=i=u}while(i!==null);ct=6,Ce=null}function A1(i,s,u,d,p,y,E,C,I){i.cancelPendingCommit=null;do Ks();while(kt!==0);if((Ue&6)!==0)throw Error(n(327));if(s!==null){if(s===i.current)throw Error(n(177));if(y=s.lanes|s.childLanes,y|=Cu,$g(i,u,y,E,C,I),i===Ze&&(Ce=Ze=null,De=0),ti=s,Nn=i,ri=u,Ic=y,Nc=p,h1=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,_2(rs,function(){return O1(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=L.T,L.T=null,p=re.p,re.p=2,E=Ue,Ue|=4;try{u2(i,s,u)}finally{Ue=E,re.p=p,L.T=d}}kt=1,b1(),S1(),C1()}}function b1(){if(kt===1){kt=0;var i=Nn,s=ti,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=L.T,L.T=null;var d=re.p;re.p=2;var p=Ue;Ue|=4;try{o1(s,i);var y=$c,E=dh(i.containerInfo),C=y.focusedElem,I=y.selectionRange;if(E!==C&&C&&C.ownerDocument&&fh(C.ownerDocument.documentElement,C)){if(I!==null&&wu(C)){var H=I.start,W=I.end;if(W===void 0&&(W=H),"selectionStart"in C)C.selectionStart=H,C.selectionEnd=Math.min(W,C.value.length);else{var ee=C.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var q=G.getSelection(),xe=C.textContent.length,pe=Math.min(I.start,xe),Xe=I.end===void 0?pe:Math.min(I.end,xe);!q.extend&&pe>Xe&&(E=Xe,Xe=pe,pe=E);var j=ch(C,pe),k=ch(C,Xe);if(j&&k&&(q.rangeCount!==1||q.anchorNode!==j.node||q.anchorOffset!==j.offset||q.focusNode!==k.node||q.focusOffset!==k.offset)){var z=ee.createRange();z.setStart(j.node,j.offset),q.removeAllRanges(),pe>Xe?(q.addRange(z),q.extend(k.node,k.offset)):(z.setEnd(k.node,k.offset),q.addRange(z))}}}}for(ee=[],q=C;q=q.parentNode;)q.nodeType===1&&ee.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ee.length;C++){var Z=ee[C];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}ul=!!Yc,$c=Yc=null}finally{Ue=p,re.p=d,L.T=u}}i.current=s,kt=2}}function S1(){if(kt===2){kt=0;var i=Nn,s=ti,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=L.T,L.T=null;var d=re.p;re.p=2;var p=Ue;Ue|=4;try{r1(i,s.alternate,s)}finally{Ue=p,re.p=d,L.T=u}}kt=3}}function C1(){if(kt===4||kt===3){kt=0,Ug();var i=Nn,s=ti,u=ri,d=h1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?kt=5:(kt=0,ti=Nn=null,T1(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(In=null),eu(u),s=s.stateNode,or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(Mi,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=L.T,p=re.p,re.p=2,L.T=null;try{for(var y=i.onRecoverableError,E=0;E<d.length;E++){var C=d[E];y(C.value,{componentStack:C.stack})}}finally{L.T=s,re.p=p}}(ri&3)!==0&&Ks(),zr(i),p=i.pendingLanes,(u&4194090)!==0&&(p&42)!==0?i===Mc?xo++:(xo=0,Mc=i):xo=0,mo(0)}}function T1(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Ki(s)))}function Ks(i){return b1(),S1(),C1(),O1()}function O1(){if(kt!==5)return!1;var i=Nn,s=Ic;Ic=0;var u=eu(ri),d=L.T,p=re.p;try{re.p=32>u?32:u,L.T=null,u=Nc,Nc=null;var y=Nn,E=ri;if(kt=0,ti=Nn=null,ri=0,(Ue&6)!==0)throw Error(n(331));var C=Ue;if(Ue|=4,f1(y.current),l1(y,y.current,E,u),Ue=C,mo(0,!1),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(Mi,y)}catch{}return!0}finally{re.p=p,L.T=d,T1(i,s)}}function R1(i,s,u){s=yr(u,s),s=fc(i.stateNode,s,2),i=En(i,s,2),i!==null&&(Pi(i,2),zr(i))}function $e(i,s,u){if(i.tag===3)R1(i,i,u);else for(;s!==null;){if(s.tag===3){R1(s,i,u);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(In===null||!In.has(d))){i=yr(u,i),u=M0(2),d=En(s,u,2),d!==null&&(B0(u,d,s,i),Pi(d,2),zr(d));break}}s=s.return}}function Lc(i,s,u){var d=i.pingCache;if(d===null){d=i.pingCache=new d2;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(u)||(Tc=!0,p.add(u),i=y2.bind(null,i,s,u),s.then(i,i))}function y2(i,s,u){var d=i.pingCache;d!==null&&d.delete(s),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Ze===i&&(De&u)===u&&(ct===4||ct===3&&(De&62914560)===De&&300>kr()-Dc?(Ue&2)===0&&ni(i,0):Oc|=u,ei===De&&(ei=0)),zr(i)}function D1(i,s){s===0&&(s=Cd()),i=Ua(i,s),i!==null&&(Pi(i,s),zr(i))}function x2(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),D1(i,u)}function m2(i,s){var u=0;switch(i.tag){case 13:var d=i.stateNode,p=i.memoizedState;p!==null&&(u=p.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(n(314))}d!==null&&d.delete(s),D1(i,u)}function _2(i,s){return Zl(i,s)}var Qs=null,ii=null,jc=!1,Js=!1,Uc=!1,ha=0;function zr(i){i!==ii&&i.next===null&&(ii===null?Qs=ii=i:ii=ii.next=i),Js=!0,jc||(jc=!0,E2())}function mo(i,s){if(!Uc&&Js){Uc=!0;do for(var u=!1,d=Qs;d!==null;){if(i!==0){var p=d.pendingLanes;if(p===0)var y=0;else{var E=d.suspendedLanes,C=d.pingedLanes;y=(1<<31-sr(42|i)+1)-1,y&=p&~(E&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,B1(d,y))}else y=De,y=is(d,d===Ze?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||Bi(d,y)||(u=!0,B1(d,y));d=d.next}while(u);Uc=!1}}function w2(){I1()}function I1(){Js=jc=!1;var i=0;ha!==0&&(D2()&&(i=ha),ha=0);for(var s=kr(),u=null,d=Qs;d!==null;){var p=d.next,y=N1(d,s);y===0?(d.next=null,u===null?Qs=p:u.next=p,p===null&&(ii=u)):(u=d,(i!==0||(y&3)!==0)&&(Js=!0)),d=p}mo(i)}function N1(i,s){for(var u=i.suspendedLanes,d=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var E=31-sr(y),C=1<<E,I=p[E];I===-1?((C&u)===0||(C&d)!==0)&&(p[E]=Yg(C,s)):I<=s&&(i.expiredLanes|=C),y&=~C}if(s=Ze,u=De,u=is(i,i===s?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,u===0||i===s&&(Fe===2||Fe===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&Kl(d),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Bi(i,u)){if(s=u&-u,s===i.callbackPriority)return s;switch(d!==null&&Kl(d),eu(u)){case 2:case 8:u=Ad;break;case 32:u=rs;break;case 268435456:u=bd;break;default:u=rs}return d=M1.bind(null,i),u=Zl(u,d),i.callbackPriority=s,i.callbackNode=u,s}return d!==null&&d!==null&&Kl(d),i.callbackPriority=2,i.callbackNode=null,2}function M1(i,s){if(kt!==0&&kt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Ks()&&i.callbackNode!==u)return null;var d=De;return d=is(i,i===Ze?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:(p1(i,d,s),N1(i,kr()),i.callbackNode!=null&&i.callbackNode===u?M1.bind(null,i):null)}function B1(i,s){if(Ks())return null;p1(i,s,!0)}function E2(){N2(function(){(Ue&6)!==0?Zl(Ed,w2):I1()})}function Fc(){return ha===0&&(ha=Sd()),ha}function P1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:cs(""+i)}function k1(i,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,i.id&&u.setAttribute("form",i.id),s.parentNode.insertBefore(u,s),i=new FormData(i),u.parentNode.removeChild(u),i}function A2(i,s,u,d,p){if(s==="submit"&&u&&u.stateNode===p){var y=P1((p[Kt]||null).action),E=d.submitter;E&&(s=(s=E[Kt]||null)?P1(s.formAction):E.getAttribute("formAction"),s!==null&&(y=s,E=null));var C=new vs("action","action",null,d,p);i.push({event:C,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(ha!==0){var I=E?k1(p,E):new FormData(p);oc(u,{pending:!0,data:I,method:p.method,action:y},null,I)}}else typeof y=="function"&&(C.preventDefault(),I=E?k1(p,E):new FormData(p),oc(u,{pending:!0,data:I,method:p.method,action:y},y,I))},currentTarget:p}]})}}for(var zc=0;zc<Su.length;zc++){var Hc=Su[zc],b2=Hc.toLowerCase(),S2=Hc[0].toUpperCase()+Hc.slice(1);Tr(b2,"on"+S2)}Tr(ph,"onAnimationEnd"),Tr(gh,"onAnimationIteration"),Tr(yh,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(Hy,"onTransitionRun"),Tr(Vy,"onTransitionStart"),Tr(Gy,"onTransitionCancel"),Tr(xh,"onTransitionEnd"),Ra("onMouseEnter",["mouseout","mouseover"]),Ra("onMouseLeave",["mouseout","mouseover"]),Ra("onPointerEnter",["pointerout","pointerover"]),Ra("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_o));function L1(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var d=i[u],p=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var E=d.length-1;0<=E;E--){var C=d[E],I=C.instance,H=C.currentTarget;if(C=C.listener,I!==y&&p.isPropagationStopped())break e;y=C,p.currentTarget=H;try{y(p)}catch(W){Fs(W)}p.currentTarget=null,y=I}else for(E=0;E<d.length;E++){if(C=d[E],I=C.instance,H=C.currentTarget,C=C.listener,I!==y&&p.isPropagationStopped())break e;y=C,p.currentTarget=H;try{y(p)}catch(W){Fs(W)}p.currentTarget=null,y=I}}}}function Te(i,s){var u=s[tu];u===void 0&&(u=s[tu]=new Set);var d=i+"__bubble";u.has(d)||(j1(s,i,2,!1),u.add(d))}function Vc(i,s,u){var d=0;s&&(d|=4),j1(u,i,d,s)}var el="_reactListening"+Math.random().toString(36).slice(2);function Gc(i){if(!i[el]){i[el]=!0,Id.forEach(function(u){u!=="selectionchange"&&(C2.has(u)||Vc(u,!1,i),Vc(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[el]||(s[el]=!0,Vc("selectionchange",!1,s))}}function j1(i,s,u,d){switch(lv(s)){case 2:var p=J2;break;case 8:p=ex;break;default:p=af}u=p.bind(null,s,u,i),p=void 0,!du||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?i.addEventListener(s,u,{capture:!0,passive:p}):i.addEventListener(s,u,!0):p!==void 0?i.addEventListener(s,u,{passive:p}):i.addEventListener(s,u,!1)}function Xc(i,s,u,d,p){var y=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var C=d.stateNode.containerInfo;if(C===p)break;if(E===4)for(E=d.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;C!==null;){if(E=Ca(C),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){d=y=E;continue e}C=C.parentNode}}d=d.return}Xd(function(){var H=y,W=cu(u),ee=[];e:{var G=mh.get(i);if(G!==void 0){var q=vs,xe=i;switch(i){case"keypress":if(ds(u)===0)break e;case"keydown":case"keyup":q=_y;break;case"focusin":xe="focus",q=gu;break;case"focusout":xe="blur",q=gu;break;case"beforeblur":case"afterblur":q=gu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=$d;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=ly;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Ay;break;case ph:case gh:case yh:q=fy;break;case xh:q=Sy;break;case"scroll":case"scrollend":q=oy;break;case"wheel":q=Ty;break;case"copy":case"cut":case"paste":q=hy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Zd;break;case"toggle":case"beforetoggle":q=Ry}var pe=(s&4)!==0,Xe=!pe&&(i==="scroll"||i==="scrollend"),j=pe?G!==null?G+"Capture":null:G;pe=[];for(var k=H,z;k!==null;){var Z=k;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||j===null||(Z=ji(k,j),Z!=null&&pe.push(wo(k,Z,z))),Xe)break;k=k.return}0<pe.length&&(G=new q(G,xe,null,u,W),ee.push({event:G,listeners:pe}))}}if((s&7)===0){e:{if(G=i==="mouseover"||i==="pointerover",q=i==="mouseout"||i==="pointerout",G&&u!==uu&&(xe=u.relatedTarget||u.fromElement)&&(Ca(xe)||xe[Sa]))break e;if((q||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,q?(xe=u.relatedTarget||u.toElement,q=H,xe=xe?Ca(xe):null,xe!==null&&(Xe=o(xe),pe=xe.tag,xe!==Xe||pe!==5&&pe!==27&&pe!==6)&&(xe=null)):(q=null,xe=H),q!==xe)){if(pe=$d,Z="onMouseLeave",j="onMouseEnter",k="mouse",(i==="pointerout"||i==="pointerover")&&(pe=Zd,Z="onPointerLeave",j="onPointerEnter",k="pointer"),Xe=q==null?G:Li(q),z=xe==null?G:Li(xe),G=new pe(Z,k+"leave",q,u,W),G.target=Xe,G.relatedTarget=z,Z=null,Ca(W)===H&&(pe=new pe(j,k+"enter",xe,u,W),pe.target=z,pe.relatedTarget=Xe,Z=pe),Xe=Z,q&&xe)t:{for(pe=q,j=xe,k=0,z=pe;z;z=oi(z))k++;for(z=0,Z=j;Z;Z=oi(Z))z++;for(;0<k-z;)pe=oi(pe),k--;for(;0<z-k;)j=oi(j),z--;for(;k--;){if(pe===j||j!==null&&pe===j.alternate)break t;pe=oi(pe),j=oi(j)}pe=null}else pe=null;q!==null&&U1(ee,G,q,pe,!1),xe!==null&&Xe!==null&&U1(ee,Xe,xe,pe,!0)}}e:{if(G=H?Li(H):window,q=G.nodeName&&G.nodeName.toLowerCase(),q==="select"||q==="input"&&G.type==="file")var ue=ah;else if(rh(G))if(ih)ue=Uy;else{ue=Ly;var be=ky}else q=G.nodeName,!q||q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&lu(H.elementType)&&(ue=ah):ue=jy;if(ue&&(ue=ue(i,H))){nh(ee,ue,u,W);break e}be&&be(i,G,H),i==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&su(G,"number",G.value)}switch(be=H?Li(H):window,i){case"focusin":(rh(be)||be.contentEditable==="true")&&(ka=be,Eu=H,qi=null);break;case"focusout":qi=Eu=ka=null;break;case"mousedown":Au=!0;break;case"contextmenu":case"mouseup":case"dragend":Au=!1,hh(ee,u,W);break;case"selectionchange":if(zy)break;case"keydown":case"keyup":hh(ee,u,W)}var de;if(xu)e:{switch(i){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Pa?eh(i,u)&&(ge="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(ge="onCompositionStart");ge&&(Kd&&u.locale!=="ko"&&(Pa||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Pa&&(de=qd()):(xn=W,hu="value"in xn?xn.value:xn.textContent,Pa=!0)),be=tl(H,ge),0<be.length&&(ge=new Wd(ge,i,null,u,W),ee.push({event:ge,listeners:be}),de?ge.data=de:(de=th(u),de!==null&&(ge.data=de)))),(de=Iy?Ny(i,u):My(i,u))&&(ge=tl(H,"onBeforeInput"),0<ge.length&&(be=new Wd("onBeforeInput","beforeinput",null,u,W),ee.push({event:be,listeners:ge}),be.data=de)),A2(ee,i,H,u,W)}L1(ee,s)})}function wo(i,s,u){return{instance:i,listener:s,currentTarget:u}}function tl(i,s){for(var u=s+"Capture",d=[];i!==null;){var p=i,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=ji(i,u),p!=null&&d.unshift(wo(i,p,y)),p=ji(i,s),p!=null&&d.push(wo(i,p,y))),i.tag===3)return d;i=i.return}return[]}function oi(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function U1(i,s,u,d,p){for(var y=s._reactName,E=[];u!==null&&u!==d;){var C=u,I=C.alternate,H=C.stateNode;if(C=C.tag,I!==null&&I===d)break;C!==5&&C!==26&&C!==27||H===null||(I=H,p?(H=ji(u,y),H!=null&&E.unshift(wo(u,H,I))):p||(H=ji(u,y),H!=null&&E.push(wo(u,H,I)))),u=u.return}E.length!==0&&i.push({event:s,listeners:E})}var T2=/\r\n?/g,O2=/\u0000|\uFFFD/g;function F1(i){return(typeof i=="string"?i:""+i).replace(T2,`
`).replace(O2,"")}function z1(i,s){return s=F1(s),F1(i)===s}function rl(){}function Ge(i,s,u,d,p,y){switch(u){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||Na(i,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&Na(i,""+d);break;case"className":ss(i,"class",d);break;case"tabIndex":ss(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ss(i,u,d);break;case"style":Vd(i,d,y);break;case"data":if(s!=="object"){ss(i,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||u!=="href")){i.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(u);break}d=cs(""+d),i.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(s!=="input"&&Ge(i,s,"name",p.name,p,null),Ge(i,s,"formEncType",p.formEncType,p,null),Ge(i,s,"formMethod",p.formMethod,p,null),Ge(i,s,"formTarget",p.formTarget,p,null)):(Ge(i,s,"encType",p.encType,p,null),Ge(i,s,"method",p.method,p,null),Ge(i,s,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(u);break}d=cs(""+d),i.setAttribute(u,d);break;case"onClick":d!=null&&(i.onclick=rl);break;case"onScroll":d!=null&&Te("scroll",i);break;case"onScrollEnd":d!=null&&Te("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(u=d.__html,u!=null){if(p.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}u=cs(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(u,""+d):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":d===!0?i.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(u,d):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(u,d):i.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(u):i.setAttribute(u,d);break;case"popover":Te("beforetoggle",i),Te("toggle",i),os(i,"popover",d);break;case"xlinkActuate":qr(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":qr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":qr(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":qr(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":qr(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":qr(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":qr(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":qr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":qr(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":os(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=ay.get(u)||u,os(i,u,d))}}function qc(i,s,u,d,p,y){switch(u){case"style":Vd(i,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(u=d.__html,u!=null){if(p.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"children":typeof d=="string"?Na(i,d):(typeof d=="number"||typeof d=="bigint")&&Na(i,""+d);break;case"onScroll":d!=null&&Te("scroll",i);break;case"onScrollEnd":d!=null&&Te("scrollend",i);break;case"onClick":d!=null&&(i.onclick=rl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nd.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(p=u.endsWith("Capture"),s=u.slice(2,p?u.length-7:void 0),y=i[Kt]||null,y=y!=null?y[u]:null,typeof y=="function"&&i.removeEventListener(s,y,p),typeof d=="function")){typeof y!="function"&&y!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(s,d,p);break e}u in i?i[u]=d:d===!0?i.setAttribute(u,""):os(i,u,d)}}}function Lt(i,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",i),Te("load",i);var d=!1,p=!1,y;for(y in u)if(u.hasOwnProperty(y)){var E=u[y];if(E!=null)switch(y){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Ge(i,s,y,E,u,null)}}p&&Ge(i,s,"srcSet",u.srcSet,u,null),d&&Ge(i,s,"src",u.src,u,null);return;case"input":Te("invalid",i);var C=y=E=p=null,I=null,H=null;for(d in u)if(u.hasOwnProperty(d)){var W=u[d];if(W!=null)switch(d){case"name":p=W;break;case"type":E=W;break;case"checked":I=W;break;case"defaultChecked":H=W;break;case"value":y=W;break;case"defaultValue":C=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(n(137,s));break;default:Ge(i,s,d,W,u,null)}}Ud(i,y,C,I,H,E,p,!1),ls(i);return;case"select":Te("invalid",i),d=E=y=null;for(p in u)if(u.hasOwnProperty(p)&&(C=u[p],C!=null))switch(p){case"value":y=C;break;case"defaultValue":E=C;break;case"multiple":d=C;default:Ge(i,s,p,C,u,null)}s=y,u=E,i.multiple=!!d,s!=null?Ia(i,!!d,s,!1):u!=null&&Ia(i,!!d,u,!0);return;case"textarea":Te("invalid",i),y=p=d=null;for(E in u)if(u.hasOwnProperty(E)&&(C=u[E],C!=null))switch(E){case"value":d=C;break;case"defaultValue":p=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(n(91));break;default:Ge(i,s,E,C,u,null)}zd(i,d,p,y),ls(i);return;case"option":for(I in u)if(u.hasOwnProperty(I)&&(d=u[I],d!=null))switch(I){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Ge(i,s,I,d,u,null)}return;case"dialog":Te("beforetoggle",i),Te("toggle",i),Te("cancel",i),Te("close",i);break;case"iframe":case"object":Te("load",i);break;case"video":case"audio":for(d=0;d<_o.length;d++)Te(_o[d],i);break;case"image":Te("error",i),Te("load",i);break;case"details":Te("toggle",i);break;case"embed":case"source":case"link":Te("error",i),Te("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in u)if(u.hasOwnProperty(H)&&(d=u[H],d!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Ge(i,s,H,d,u,null)}return;default:if(lu(s)){for(W in u)u.hasOwnProperty(W)&&(d=u[W],d!==void 0&&qc(i,s,W,d,u,void 0));return}}for(C in u)u.hasOwnProperty(C)&&(d=u[C],d!=null&&Ge(i,s,C,d,u,null))}function R2(i,s,u,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,E=null,C=null,I=null,H=null,W=null;for(q in u){var ee=u[q];if(u.hasOwnProperty(q)&&ee!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=ee;default:d.hasOwnProperty(q)||Ge(i,s,q,null,d,ee)}}for(var G in d){var q=d[G];if(ee=u[G],d.hasOwnProperty(G)&&(q!=null||ee!=null))switch(G){case"type":y=q;break;case"name":p=q;break;case"checked":H=q;break;case"defaultChecked":W=q;break;case"value":E=q;break;case"defaultValue":C=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(n(137,s));break;default:q!==ee&&Ge(i,s,G,q,d,ee)}}ou(i,E,C,I,H,W,y,p);return;case"select":q=E=C=G=null;for(y in u)if(I=u[y],u.hasOwnProperty(y)&&I!=null)switch(y){case"value":break;case"multiple":q=I;default:d.hasOwnProperty(y)||Ge(i,s,y,null,d,I)}for(p in d)if(y=d[p],I=u[p],d.hasOwnProperty(p)&&(y!=null||I!=null))switch(p){case"value":G=y;break;case"defaultValue":C=y;break;case"multiple":E=y;default:y!==I&&Ge(i,s,p,y,d,I)}s=C,u=E,d=q,G!=null?Ia(i,!!u,G,!1):!!d!=!!u&&(s!=null?Ia(i,!!u,s,!0):Ia(i,!!u,u?[]:"",!1));return;case"textarea":q=G=null;for(C in u)if(p=u[C],u.hasOwnProperty(C)&&p!=null&&!d.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ge(i,s,C,null,d,p)}for(E in d)if(p=d[E],y=u[E],d.hasOwnProperty(E)&&(p!=null||y!=null))switch(E){case"value":G=p;break;case"defaultValue":q=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(n(91));break;default:p!==y&&Ge(i,s,E,p,d,y)}Fd(i,G,q);return;case"option":for(var xe in u)if(G=u[xe],u.hasOwnProperty(xe)&&G!=null&&!d.hasOwnProperty(xe))switch(xe){case"selected":i.selected=!1;break;default:Ge(i,s,xe,null,d,G)}for(I in d)if(G=d[I],q=u[I],d.hasOwnProperty(I)&&G!==q&&(G!=null||q!=null))switch(I){case"selected":i.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ge(i,s,I,G,d,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in u)G=u[pe],u.hasOwnProperty(pe)&&G!=null&&!d.hasOwnProperty(pe)&&Ge(i,s,pe,null,d,G);for(H in d)if(G=d[H],q=u[H],d.hasOwnProperty(H)&&G!==q&&(G!=null||q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(n(137,s));break;default:Ge(i,s,H,G,d,q)}return;default:if(lu(s)){for(var Xe in u)G=u[Xe],u.hasOwnProperty(Xe)&&G!==void 0&&!d.hasOwnProperty(Xe)&&qc(i,s,Xe,void 0,d,G);for(W in d)G=d[W],q=u[W],!d.hasOwnProperty(W)||G===q||G===void 0&&q===void 0||qc(i,s,W,G,d,q);return}}for(var j in u)G=u[j],u.hasOwnProperty(j)&&G!=null&&!d.hasOwnProperty(j)&&Ge(i,s,j,null,d,G);for(ee in d)G=d[ee],q=u[ee],!d.hasOwnProperty(ee)||G===q||G==null&&q==null||Ge(i,s,ee,G,d,q)}var Yc=null,$c=null;function nl(i){return i.nodeType===9?i:i.ownerDocument}function H1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V1(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Wc(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Zc=null;function D2(){var i=window.event;return i&&i.type==="popstate"?i===Zc?!1:(Zc=i,!0):(Zc=null,!1)}var G1=typeof setTimeout=="function"?setTimeout:void 0,I2=typeof clearTimeout=="function"?clearTimeout:void 0,X1=typeof Promise=="function"?Promise:void 0,N2=typeof queueMicrotask=="function"?queueMicrotask:typeof X1<"u"?function(i){return X1.resolve(null).then(i).catch(M2)}:G1;function M2(i){setTimeout(function(){throw i})}function Bn(i){return i==="head"}function q1(i,s){var u=s,d=0,p=0;do{var y=u.nextSibling;if(i.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(0<d&&8>d){u=d;var E=i.ownerDocument;if(u&1&&Eo(E.documentElement),u&2&&Eo(E.body),u&4)for(u=E.head,Eo(u),E=u.firstChild;E;){var C=E.nextSibling,I=E.nodeName;E[ki]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||u.removeChild(E),E=C}}if(p===0){i.removeChild(y),Do(s);return}p--}else u==="$"||u==="$?"||u==="$!"?p++:d=u.charCodeAt(0)-48;else d=0;u=y}while(u);Do(s)}function Kc(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Kc(u),ru(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function B2(i,s,u,d){for(;i.nodeType===1;){var p=u;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[ki])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Rr(i.nextSibling),i===null)break}return null}function P2(i,s,u){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Rr(i.nextSibling),i===null))return null;return i}function Qc(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function k2(i,s){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")s();else{var d=function(){s(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function Rr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Jc=null;function Y1(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}function $1(i,s,u){switch(s=nl(u),i){case"html":if(i=s.documentElement,!i)throw Error(n(452));return i;case"head":if(i=s.head,!i)throw Error(n(453));return i;case"body":if(i=s.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Eo(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);ru(i)}var Ar=new Map,W1=new Set;function al(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var sn=re.d;re.d={f:L2,r:j2,D:U2,C:F2,L:z2,m:H2,X:G2,S:V2,M:X2};function L2(){var i=sn.f(),s=Ws();return i||s}function j2(i){var s=Ta(i);s!==null&&s.tag===5&&s.type==="form"?p0(s):sn.r(i)}var si=typeof document>"u"?null:document;function Z1(i,s,u){var d=si;if(d&&typeof s=="string"&&s){var p=gr(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof u=="string"&&(p+='[crossorigin="'+u+'"]'),W1.has(p)||(W1.add(p),i={rel:i,crossOrigin:u,href:s},d.querySelector(p)===null&&(s=d.createElement("link"),Lt(s,"link",i),Tt(s),d.head.appendChild(s)))}}function U2(i){sn.D(i),Z1("dns-prefetch",i,null)}function F2(i,s){sn.C(i,s),Z1("preconnect",i,s)}function z2(i,s,u){sn.L(i,s,u);var d=si;if(d&&i&&s){var p='link[rel="preload"][as="'+gr(s)+'"]';s==="image"&&u&&u.imageSrcSet?(p+='[imagesrcset="'+gr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(p+='[imagesizes="'+gr(u.imageSizes)+'"]')):p+='[href="'+gr(i)+'"]';var y=p;switch(s){case"style":y=li(i);break;case"script":y=ui(i)}Ar.has(y)||(i=v({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:i,as:s},u),Ar.set(y,i),d.querySelector(p)!==null||s==="style"&&d.querySelector(Ao(y))||s==="script"&&d.querySelector(bo(y))||(s=d.createElement("link"),Lt(s,"link",i),Tt(s),d.head.appendChild(s)))}}function H2(i,s){sn.m(i,s);var u=si;if(u&&i){var d=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+gr(d)+'"][href="'+gr(i)+'"]',y=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ui(i)}if(!Ar.has(y)&&(i=v({rel:"modulepreload",href:i},s),Ar.set(y,i),u.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(bo(y)))return}d=u.createElement("link"),Lt(d,"link",i),Tt(d),u.head.appendChild(d)}}}function V2(i,s,u){sn.S(i,s,u);var d=si;if(d&&i){var p=Oa(d).hoistableStyles,y=li(i);s=s||"default";var E=p.get(y);if(!E){var C={loading:0,preload:null};if(E=d.querySelector(Ao(y)))C.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},u),(u=Ar.get(y))&&ef(i,u);var I=E=d.createElement("link");Tt(I),Lt(I,"link",i),I._p=new Promise(function(H,W){I.onload=H,I.onerror=W}),I.addEventListener("load",function(){C.loading|=1}),I.addEventListener("error",function(){C.loading|=2}),C.loading|=4,il(E,s,d)}E={type:"stylesheet",instance:E,count:1,state:C},p.set(y,E)}}}function G2(i,s){sn.X(i,s);var u=si;if(u&&i){var d=Oa(u).hoistableScripts,p=ui(i),y=d.get(p);y||(y=u.querySelector(bo(p)),y||(i=v({src:i,async:!0},s),(s=Ar.get(p))&&tf(i,s),y=u.createElement("script"),Tt(y),Lt(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(p,y))}}function X2(i,s){sn.M(i,s);var u=si;if(u&&i){var d=Oa(u).hoistableScripts,p=ui(i),y=d.get(p);y||(y=u.querySelector(bo(p)),y||(i=v({src:i,async:!0,type:"module"},s),(s=Ar.get(p))&&tf(i,s),y=u.createElement("script"),Tt(y),Lt(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(p,y))}}function K1(i,s,u,d){var p=(p=me.current)?al(p):null;if(!p)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=li(u.href),u=Oa(p).hoistableStyles,d=u.get(s),d||(d={type:"style",instance:null,count:0,state:null},u.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=li(u.href);var y=Oa(p).hoistableStyles,E=y.get(i);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,E),(y=p.querySelector(Ao(i)))&&!y._p&&(E.instance=y,E.state.loading=5),Ar.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ar.set(i,u),y||q2(p,i,u,E.state))),s&&d===null)throw Error(n(528,""));return E}if(s&&d!==null)throw Error(n(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ui(u),u=Oa(p).hoistableScripts,d=u.get(s),d||(d={type:"script",instance:null,count:0,state:null},u.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function li(i){return'href="'+gr(i)+'"'}function Ao(i){return'link[rel="stylesheet"]['+i+"]"}function Q1(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function q2(i,s,u,d){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=i.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),Lt(s,"link",u),Tt(s),i.head.appendChild(s))}function ui(i){return'[src="'+gr(i)+'"]'}function bo(i){return"script[async]"+i}function J1(i,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var d=i.querySelector('style[data-href~="'+gr(u.href)+'"]');if(d)return s.instance=d,Tt(d),d;var p=v({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),Tt(d),Lt(d,"style",p),il(d,u.precedence,i),s.instance=d;case"stylesheet":p=li(u.href);var y=i.querySelector(Ao(p));if(y)return s.state.loading|=4,s.instance=y,Tt(y),y;d=Q1(u),(p=Ar.get(p))&&ef(d,p),y=(i.ownerDocument||i).createElement("link"),Tt(y);var E=y;return E._p=new Promise(function(C,I){E.onload=C,E.onerror=I}),Lt(y,"link",d),s.state.loading|=4,il(y,u.precedence,i),s.instance=y;case"script":return y=ui(u.src),(p=i.querySelector(bo(y)))?(s.instance=p,Tt(p),p):(d=u,(p=Ar.get(y))&&(d=v({},u),tf(d,p)),i=i.ownerDocument||i,p=i.createElement("script"),Tt(p),Lt(p,"link",d),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,il(d,u.precedence,i));return s.instance}function il(i,s,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,y=p,E=0;E<d.length;E++){var C=d[E];if(C.dataset.precedence===s)y=C;else if(y!==p)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(i,s.firstChild))}function ef(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function tf(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var ol=null;function ev(i,s,u){if(ol===null){var d=new Map,p=ol=new Map;p.set(u,d)}else p=ol,d=p.get(u),d||(d=new Map,p.set(u,d));if(d.has(i))return d;for(d.set(i,null),u=u.getElementsByTagName(i),p=0;p<u.length;p++){var y=u[p];if(!(y[ki]||y[zt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(s)||"";E=i+E;var C=d.get(E);C?C.push(y):d.set(E,[y])}}return d}function tv(i,s,u){i=i.ownerDocument||i,i.head.insertBefore(u,s==="title"?i.querySelector("head > title"):null)}function Y2(i,s,u){if(u===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function rv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var So=null;function $2(){}function W2(i,s,u){if(So===null)throw Error(n(475));var d=So;if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=li(u.href),y=i.querySelector(Ao(p));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(d.count++,d=sl.bind(d),i.then(d,d)),s.state.loading|=4,s.instance=y,Tt(y);return}y=i.ownerDocument||i,u=Q1(u),(p=Ar.get(p))&&ef(u,p),y=y.createElement("link"),Tt(y);var E=y;E._p=new Promise(function(C,I){E.onload=C,E.onerror=I}),Lt(y,"link",u),s.instance=y}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(d.count++,s=sl.bind(d),i.addEventListener("load",s),i.addEventListener("error",s))}}function Z2(){if(So===null)throw Error(n(475));var i=So;return i.stylesheets&&i.count===0&&rf(i,i.stylesheets),0<i.count?function(s){var u=setTimeout(function(){if(i.stylesheets&&rf(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(u)}}:null}function sl(){if(this.count--,this.count===0){if(this.stylesheets)rf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ll=null;function rf(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ll=new Map,s.forEach(K2,i),ll=null,sl.call(i))}function K2(i,s){if(!(s.state.loading&4)){var u=ll.get(i);if(u)var d=u.get(null);else{u=new Map,ll.set(i,u);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var E=p[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(u.set(E.dataset.precedence,E),d=E)}d&&u.set(null,d)}p=s.instance,E=p.getAttribute("data-precedence"),y=u.get(E)||d,y===d&&u.set(null,p),u.set(E,p),this.count++,d=sl.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),y?y.parentNode.insertBefore(p,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var Co={$$typeof:T,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function Q2(i,s,u,d,p,y,E,C){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ql(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ql(0),this.hiddenUpdates=Ql(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function nv(i,s,u,d,p,y,E,C,I,H,W,ee){return i=new Q2(i,s,u,E,C,I,H,ee),s=1,y===!0&&(s|=24),y=ur(3,null,null,s),i.current=y,y.stateNode=i,s=Lu(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:d,isDehydrated:u,cache:s},zu(y),i}function av(i){return i?(i=Fa,i):Fa}function iv(i,s,u,d,p,y){p=av(p),d.context===null?d.context=p:d.pendingContext=p,d=wn(s),d.payload={element:u},y=y===void 0?null:y,y!==null&&(d.callback=y),u=En(i,d,s),u!==null&&(vr(u,i,s),to(u,i,s))}function ov(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function nf(i,s){ov(i,s),(i=i.alternate)&&ov(i,s)}function sv(i){if(i.tag===13){var s=Ua(i,67108864);s!==null&&vr(s,i,67108864),nf(i,67108864)}}var ul=!0;function J2(i,s,u,d){var p=L.T;L.T=null;var y=re.p;try{re.p=2,af(i,s,u,d)}finally{re.p=y,L.T=p}}function ex(i,s,u,d){var p=L.T;L.T=null;var y=re.p;try{re.p=8,af(i,s,u,d)}finally{re.p=y,L.T=p}}function af(i,s,u,d){if(ul){var p=of(d);if(p===null)Xc(i,s,d,cl,u),uv(i,d);else if(rx(p,i,s,u,d))d.stopPropagation();else if(uv(i,d),s&4&&-1<tx.indexOf(i)){for(;p!==null;){var y=Ta(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=Zn(y.pendingLanes);if(E!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;E;){var I=1<<31-sr(E);C.entanglements[1]|=I,E&=~I}zr(y),(Ue&6)===0&&(Ys=kr()+500,mo(0))}}break;case 13:C=Ua(y,2),C!==null&&vr(C,y,2),Ws(),nf(y,2)}if(y=of(d),y===null&&Xc(i,s,d,cl,u),y===p)break;p=y}p!==null&&d.stopPropagation()}else Xc(i,s,d,null,u)}}function of(i){return i=cu(i),sf(i)}var cl=null;function sf(i){if(cl=null,i=Ca(i),i!==null){var s=o(i);if(s===null)i=null;else{var u=s.tag;if(u===13){if(i=l(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return cl=i,null}function lv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fg()){case Ed:return 2;case Ad:return 8;case rs:case zg:return 32;case bd:return 268435456;default:return 32}default:return 32}}var lf=!1,Pn=null,kn=null,Ln=null,To=new Map,Oo=new Map,jn=[],tx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uv(i,s){switch(i){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":To.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oo.delete(s.pointerId)}}function Ro(i,s,u,d,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:u,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Ta(s),s!==null&&sv(s)),i):(i.eventSystemFlags|=d,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function rx(i,s,u,d,p){switch(s){case"focusin":return Pn=Ro(Pn,i,s,u,d,p),!0;case"dragenter":return kn=Ro(kn,i,s,u,d,p),!0;case"mouseover":return Ln=Ro(Ln,i,s,u,d,p),!0;case"pointerover":var y=p.pointerId;return To.set(y,Ro(To.get(y)||null,i,s,u,d,p)),!0;case"gotpointercapture":return y=p.pointerId,Oo.set(y,Ro(Oo.get(y)||null,i,s,u,d,p)),!0}return!1}function cv(i){var s=Ca(i.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){i.blockedOn=s,Wg(i.priority,function(){if(u.tag===13){var d=hr();d=Jl(d);var p=Ua(u,d);p!==null&&vr(p,u,d),nf(u,d)}});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function fl(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=of(i.nativeEvent);if(u===null){u=i.nativeEvent;var d=new u.constructor(u.type,u);uu=d,u.target.dispatchEvent(d),uu=null}else return s=Ta(u),s!==null&&sv(s),i.blockedOn=u,!1;s.shift()}return!0}function fv(i,s,u){fl(i)&&u.delete(s)}function nx(){lf=!1,Pn!==null&&fl(Pn)&&(Pn=null),kn!==null&&fl(kn)&&(kn=null),Ln!==null&&fl(Ln)&&(Ln=null),To.forEach(fv),Oo.forEach(fv)}function dl(i,s){i.blockedOn===s&&(i.blockedOn=null,lf||(lf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,nx)))}var hl=null;function dv(i){hl!==i&&(hl=i,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){hl===i&&(hl=null);for(var s=0;s<i.length;s+=3){var u=i[s],d=i[s+1],p=i[s+2];if(typeof d!="function"){if(sf(d||u)===null)continue;break}var y=Ta(u);y!==null&&(i.splice(s,3),s-=3,oc(y,{pending:!0,data:p,method:u.method,action:d},d,p))}}))}function Do(i){function s(I){return dl(I,i)}Pn!==null&&dl(Pn,i),kn!==null&&dl(kn,i),Ln!==null&&dl(Ln,i),To.forEach(s),Oo.forEach(s);for(var u=0;u<jn.length;u++){var d=jn[u];d.blockedOn===i&&(d.blockedOn=null)}for(;0<jn.length&&(u=jn[0],u.blockedOn===null);)cv(u),u.blockedOn===null&&jn.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var p=u[d],y=u[d+1],E=p[Kt]||null;if(typeof y=="function")E||dv(u);else if(E){var C=null;if(y&&y.hasAttribute("formAction")){if(p=y,E=y[Kt]||null)C=E.formAction;else if(sf(p)!==null)continue}else C=E.action;typeof C=="function"?u[d+1]=C:(u.splice(d,3),d-=3),dv(u)}}}function uf(i){this._internalRoot=i}vl.prototype.render=uf.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));var u=s.current,d=hr();iv(u,d,i,s,null,null)},vl.prototype.unmount=uf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;iv(i.current,2,null,i,null,null),Ws(),s[Sa]=null}};function vl(i){this._internalRoot=i}vl.prototype.unstable_scheduleHydration=function(i){if(i){var s=Rd();i={blockedOn:null,target:i,priority:s};for(var u=0;u<jn.length&&s!==0&&s<jn[u].priority;u++);jn.splice(u,0,i),u===0&&cv(i)}};var hv=e.version;if(hv!=="19.1.1")throw Error(n(527,hv,"19.1.1"));re.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=f(s),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var ax={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pl.isDisabled&&pl.supportsFiber)try{Mi=pl.inject(ax),or=pl}catch{}}return No.createRoot=function(i,s){if(!a(i))throw Error(n(299));var u=!1,d="",p=R0,y=D0,E=I0,C=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks)),s=nv(i,1,!1,null,null,u,d,p,y,E,C,null),i[Sa]=s.current,Gc(i),new uf(s)},No.hydrateRoot=function(i,s,u){if(!a(i))throw Error(n(299));var d=!1,p="",y=R0,E=D0,C=I0,I=null,H=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(p=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(E=u.onCaughtError),u.onRecoverableError!==void 0&&(C=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(I=u.unstable_transitionCallbacks),u.formState!==void 0&&(H=u.formState)),s=nv(i,1,!0,s,u??null,d,p,y,E,C,I,H),s.context=av(null),u=s.current,d=hr(),d=Jl(d),p=wn(d),p.callback=null,En(u,p,d),u=d,s.current.lanes=u,Pi(s,u),zr(s),i[Sa]=s.current,Gc(i),new vl(s)},No.version="19.1.1",No}var Av;function gx(){if(Av)return df.exports;Av=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),df.exports=px(),df.exports}var yx=gx();/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bv="popstate";function xx(r={}){function e(a,o){let{pathname:l="/",search:c="",hash:f=""}=Aa(a.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Pf("",{pathname:l,search:c,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){let l=a.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let f=a.location.href,h=f.indexOf("#");c=h===-1?f:f.slice(0,h)}return c+"#"+(typeof o=="string"?o:qo(o))}function n(a,o){Pr(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return _x(e,t,n,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Pr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mx(){return Math.random().toString(36).substring(2,10)}function Sv(r,e){return{usr:r.state,key:r.key,idx:e}}function Pf(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Aa(e):e,state:t,key:e&&e.key||n||mx()}}function qo({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Aa(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function _x(r,e,t,n={}){let{window:a=document.defaultView,v5Compat:o=!1}=n,l=a.history,c="POP",f=null,h=v();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function v(){return(l.state||{idx:null}).idx}function g(){c="POP";let A=v(),S=A==null?null:A-h;h=A,f&&f({action:c,location:b.location,delta:S})}function x(A,S){c="PUSH";let O=Pf(b.location,A,S);t&&t(O,A),h=v()+1;let T=Sv(O,h),N=b.createHref(O);try{l.pushState(T,"",N)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(N)}o&&f&&f({action:c,location:b.location,delta:1})}function m(A,S){c="REPLACE";let O=Pf(b.location,A,S);t&&t(O,A),h=v();let T=Sv(O,h),N=b.createHref(O);l.replaceState(T,"",N),o&&f&&f({action:c,location:b.location,delta:0})}function _(A){return wx(A)}let b={get action(){return c},get location(){return r(a,l)},listen(A){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(bv,g),f=A,()=>{a.removeEventListener(bv,g),f=null}},createHref(A){return e(a,A)},createURL:_,encodeLocation(A){let S=_(A);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:x,replace:m,go(A){return l.go(A)}};return b}function wx(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),lt(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:qo(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function jp(r,e,t="/"){return Ex(r,e,t,!1)}function Ex(r,e,t,n){let a=typeof e=="string"?Aa(e):e,o=hn(a.pathname||"/",t);if(o==null)return null;let l=Up(r);Ax(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let h=Bx(o);c=Nx(l[f],h,n)}return c}function Up(r,e=[],t=[],n=""){let a=(o,l,c)=>{let f={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(lt(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length));let h=dn([n,f.relativePath]),v=t.concat(f);o.children&&o.children.length>0&&(lt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Up(o.children,e,v,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:Dx(h,o.index),routesMeta:v})};return r.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))a(o,l);else for(let c of Fp(o.path))a(o,l,c)}),e}function Fp(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let l=Fp(n.join("/")),c=[];return c.push(...l.map(f=>f===""?o:[o,f].join("/"))),a&&c.push(...l),c.map(f=>r.startsWith("/")&&f===""?"/":f)}function Ax(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Ix(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var bx=/^:[\w-]+$/,Sx=3,Cx=2,Tx=1,Ox=10,Rx=-2,Cv=r=>r==="*";function Dx(r,e){let t=r.split("/"),n=t.length;return t.some(Cv)&&(n+=Rx),e&&(n+=Cx),t.filter(a=>!Cv(a)).reduce((a,o)=>a+(bx.test(o)?Sx:o===""?Tx:Ox),n)}function Ix(r,e){return r.length===e.length&&r.slice(0,-1).every((n,a)=>n===e[a])?r[r.length-1]-e[e.length-1]:0}function Nx(r,e,t=!1){let{routesMeta:n}=r,a={},o="/",l=[];for(let c=0;c<n.length;++c){let f=n[c],h=c===n.length-1,v=o==="/"?e:e.slice(o.length)||"/",g=Nl({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},v),x=f.route;if(!g&&h&&t&&!n[n.length-1].route.index&&(g=Nl({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!g)return null;Object.assign(a,g.params),l.push({params:a,pathname:dn([o,g.pathname]),pathnameBase:jx(dn([o,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(o=dn([o,g.pathnameBase]))}return l}function Nl(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=Mx(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((h,{paramName:v,isOptional:g},x)=>{if(v==="*"){let _=c[x]||"";l=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const m=c[x];return g&&!m?h[v]=void 0:h[v]=(m||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:r}}function Mx(r,e=!1,t=!0){Pr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(n.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function Bx(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function hn(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function Px(r,e="/"){let{pathname:t,search:n="",hash:a=""}=typeof r=="string"?Aa(r):r;return{pathname:t?t.startsWith("/")?t:kx(t,e):e,search:Ux(n),hash:Fx(a)}}function kx(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function gf(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Lx(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function zp(r){let e=Lx(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Hp(r,e,t,n=!1){let a;typeof r=="string"?a=Aa(r):(a={...r},lt(!a.pathname||!a.pathname.includes("?"),gf("?","pathname","search",a)),lt(!a.pathname||!a.pathname.includes("#"),gf("#","pathname","hash",a)),lt(!a.search||!a.search.includes("#"),gf("#","search","hash",a)));let o=r===""||a.pathname==="",l=o?"/":a.pathname,c;if(l==null)c=t;else{let g=e.length-1;if(!n&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),g-=1;a.pathname=x.join("/")}c=g>=0?e[g]:"/"}let f=Px(a,c),h=l&&l!=="/"&&l.endsWith("/"),v=(o||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(h||v)&&(f.pathname+="/"),f}var dn=r=>r.join("/").replace(/\/\/+/g,"/"),jx=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Ux=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Fx=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function zx(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Vp=["POST","PUT","PATCH","DELETE"];new Set(Vp);var Hx=["GET",...Vp];new Set(Hx);var Ri=U.createContext(null);Ri.displayName="DataRouter";var zl=U.createContext(null);zl.displayName="DataRouterState";U.createContext(!1);var Gp=U.createContext({isTransitioning:!1});Gp.displayName="ViewTransition";var Vx=U.createContext(new Map);Vx.displayName="Fetchers";var Gx=U.createContext(null);Gx.displayName="Await";var Xr=U.createContext(null);Xr.displayName="Navigation";var $o=U.createContext(null);$o.displayName="Location";var vn=U.createContext({outlet:null,matches:[],isDataRoute:!1});vn.displayName="Route";var id=U.createContext(null);id.displayName="RouteError";function Xx(r,{relative:e}={}){lt(Wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=U.useContext(Xr),{hash:a,pathname:o,search:l}=Zo(r,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:dn([t,o])),n.createHref({pathname:c,search:l,hash:a})}function Wo(){return U.useContext($o)!=null}function $n(){return lt(Wo(),"useLocation() may be used only in the context of a <Router> component."),U.useContext($o).location}var Xp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qp(r){U.useContext(Xr).static||U.useLayoutEffect(r)}function Hl(){let{isDataRoute:r}=U.useContext(vn);return r?am():qx()}function qx(){lt(Wo(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(Ri),{basename:e,navigator:t}=U.useContext(Xr),{matches:n}=U.useContext(vn),{pathname:a}=$n(),o=JSON.stringify(zp(n)),l=U.useRef(!1);return qp(()=>{l.current=!0}),U.useCallback((f,h={})=>{if(Pr(l.current,Xp),!l.current)return;if(typeof f=="number"){t.go(f);return}let v=Hp(f,JSON.parse(o),a,h.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:dn([e,v.pathname])),(h.replace?t.replace:t.push)(v,h.state,h)},[e,t,o,a,r])}U.createContext(null);function Zo(r,{relative:e}={}){let{matches:t}=U.useContext(vn),{pathname:n}=$n(),a=JSON.stringify(zp(t));return U.useMemo(()=>Hp(r,JSON.parse(a),n,e==="path"),[r,a,n,e])}function Yx(r,e){return Yp(r,e)}function Yp(r,e,t,n){lt(Wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=U.useContext(Xr),{matches:o}=U.useContext(vn),l=o[o.length-1],c=l?l.params:{},f=l?l.pathname:"/",h=l?l.pathnameBase:"/",v=l&&l.route;{let S=v&&v.path||"";$p(f,!v||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let g=$n(),x;if(e){let S=typeof e=="string"?Aa(e):e;lt(h==="/"||S.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${S.pathname}" was given in the \`location\` prop.`),x=S}else x=g;let m=x.pathname||"/",_=m;if(h!=="/"){let S=h.replace(/^\//,"").split("/");_="/"+m.replace(/^\//,"").split("/").slice(S.length).join("/")}let b=jp(r,{pathname:_});Pr(v||b!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Pr(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=Qx(b&&b.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:dn([h,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:dn([h,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,t,n);return e&&A?U.createElement($o.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},A):A}function $x(){let r=nm(),e=zx(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",r),l=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:o},"ErrorBoundary")," or"," ",U.createElement("code",{style:o},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:a},t):null,l)}var Wx=U.createElement($x,null),Zx=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?U.createElement(vn.Provider,{value:this.props.routeContext},U.createElement(id.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Kx({routeContext:r,match:e,children:t}){let n=U.useContext(Ri);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(vn.Provider,{value:r},t)}function Qx(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,o=t?.errors;if(o!=null){let f=a.findIndex(h=>h.route.id&&o?.[h.route.id]!==void 0);lt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,c=-1;if(t)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:v,errors:g}=t,x=h.route.loader&&!v.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||x){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((f,h,v)=>{let g,x=!1,m=null,_=null;t&&(g=o&&h.route.id?o[h.route.id]:void 0,m=h.route.errorElement||Wx,l&&(c<0&&v===0?($p("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,_=null):c===v&&(x=!0,_=h.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,v+1)),A=()=>{let S;return g?S=m:x?S=_:h.route.Component?S=U.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=f,U.createElement(Kx,{match:h,routeContext:{outlet:f,matches:b,isDataRoute:t!=null},children:S})};return t&&(h.route.ErrorBoundary||h.route.errorElement||v===0)?U.createElement(Zx,{location:t.location,revalidation:t.revalidation,component:m,error:g,children:A(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):A()},null)}function od(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jx(r){let e=U.useContext(Ri);return lt(e,od(r)),e}function em(r){let e=U.useContext(zl);return lt(e,od(r)),e}function tm(r){let e=U.useContext(vn);return lt(e,od(r)),e}function sd(r){let e=tm(r),t=e.matches[e.matches.length-1];return lt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function rm(){return sd("useRouteId")}function nm(){let r=U.useContext(id),e=em("useRouteError"),t=sd("useRouteError");return r!==void 0?r:e.errors?.[t]}function am(){let{router:r}=Jx("useNavigate"),e=sd("useNavigate"),t=U.useRef(!1);return qp(()=>{t.current=!0}),U.useCallback(async(a,o={})=>{Pr(t.current,Xp),t.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...o}))},[r,e])}var Tv={};function $p(r,e,t){!e&&!Tv[r]&&(Tv[r]=!0,Pr(!1,t))}U.memo(im);function im({routes:r,future:e,state:t}){return Yp(r,void 0,t,e)}function ln(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function om({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:a,static:o=!1}){lt(!Wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof t=="string"&&(t=Aa(t));let{pathname:f="/",search:h="",hash:v="",state:g=null,key:x="default"}=t,m=U.useMemo(()=>{let _=hn(f,l);return _==null?null:{location:{pathname:_,search:h,hash:v,state:g,key:x},navigationType:n}},[l,f,h,v,g,x,n]);return Pr(m!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${v}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:U.createElement(Xr.Provider,{value:c},U.createElement($o.Provider,{children:e,value:m}))}function sm({children:r,location:e}){return Yx(kf(r),e)}function kf(r,e=[]){let t=[];return U.Children.forEach(r,(n,a)=>{if(!U.isValidElement(n))return;let o=[...e,a];if(n.type===U.Fragment){t.push.apply(t,kf(n.props.children,o));return}lt(n.type===ln,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=kf(n.props.children,o)),t.push(l)}),t}var Tl="get",Ol="application/x-www-form-urlencoded";function Vl(r){return r!=null&&typeof r.tagName=="string"}function lm(r){return Vl(r)&&r.tagName.toLowerCase()==="button"}function um(r){return Vl(r)&&r.tagName.toLowerCase()==="form"}function cm(r){return Vl(r)&&r.tagName.toLowerCase()==="input"}function fm(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function dm(r,e){return r.button===0&&(!e||e==="_self")&&!fm(r)}var gl=null;function hm(){if(gl===null)try{new FormData(document.createElement("form"),0),gl=!1}catch{gl=!0}return gl}var vm=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yf(r){return r!=null&&!vm.has(r)?(Pr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ol}"`),null):r}function pm(r,e){let t,n,a,o,l;if(um(r)){let c=r.getAttribute("action");n=c?hn(c,e):null,t=r.getAttribute("method")||Tl,a=yf(r.getAttribute("enctype"))||Ol,o=new FormData(r)}else if(lm(r)||cm(r)&&(r.type==="submit"||r.type==="image")){let c=r.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=r.getAttribute("formaction")||c.getAttribute("action");if(n=f?hn(f,e):null,t=r.getAttribute("formmethod")||c.getAttribute("method")||Tl,a=yf(r.getAttribute("formenctype"))||yf(c.getAttribute("enctype"))||Ol,o=new FormData(c,r),!hm()){let{name:h,type:v,value:g}=r;if(v==="image"){let x=h?`${h}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else h&&o.append(h,g)}}else{if(Vl(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Tl,n=null,a=Ol,l=r}return o&&a==="text/plain"&&(l=o,o=void 0),{action:n,method:t.toLowerCase(),encType:a,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ld(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function gm(r,e,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&hn(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function ym(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xm(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function mm(r,e,t){let n=await Promise.all(r.map(async a=>{let o=e.routes[a.route.id];if(o){let l=await ym(o,t);return l.links?l.links():[]}return[]}));return Am(n.flat(1).filter(xm).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Ov(r,e,t,n,a,o){let l=(f,h)=>t[h]?f.route.id!==t[h].route.id:!0,c=(f,h)=>t[h].pathname!==f.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,h)=>l(f,h)||c(f,h)):o==="data"?e.filter((f,h)=>{let v=n.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(l(f,h)||c(f,h))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function _m(r,e,{includeHydrateFallback:t}={}){return wm(r.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function wm(r){return[...new Set(r)]}function Em(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function Am(r,e){let t=new Set;return new Set(e),r.reduce((n,a)=>{let o=JSON.stringify(Em(a));return t.has(o)||(t.add(o),n.push({key:o,link:a})),n},[])}function Wp(){let r=U.useContext(Ri);return ld(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function bm(){let r=U.useContext(zl);return ld(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ud=U.createContext(void 0);ud.displayName="FrameworkContext";function Zp(){let r=U.useContext(ud);return ld(r,"You must render this element inside a <HydratedRouter> element"),r}function Sm(r,e){let t=U.useContext(ud),[n,a]=U.useState(!1),[o,l]=U.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:h,onMouseLeave:v,onTouchStart:g}=e,x=U.useRef(null);U.useEffect(()=>{if(r==="render"&&l(!0),r==="viewport"){let b=S=>{S.forEach(O=>{l(O.isIntersecting)})},A=new IntersectionObserver(b,{threshold:.5});return x.current&&A.observe(x.current),()=>{A.disconnect()}}},[r]),U.useEffect(()=>{if(n){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[n]);let m=()=>{a(!0)},_=()=>{a(!1),l(!1)};return t?r!=="intent"?[o,x,{}]:[o,x,{onFocus:Mo(c,m),onBlur:Mo(f,_),onMouseEnter:Mo(h,m),onMouseLeave:Mo(v,_),onTouchStart:Mo(g,m)}]:[!1,x,{}]}function Mo(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function Cm({page:r,...e}){let{router:t}=Wp(),n=U.useMemo(()=>jp(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?U.createElement(Om,{page:r,matches:n,...e}):null}function Tm(r){let{manifest:e,routeModules:t}=Zp(),[n,a]=U.useState([]);return U.useEffect(()=>{let o=!1;return mm(r,e,t).then(l=>{o||a(l)}),()=>{o=!0}},[r,e,t]),n}function Om({page:r,matches:e,...t}){let n=$n(),{manifest:a,routeModules:o}=Zp(),{basename:l}=Wp(),{loaderData:c,matches:f}=bm(),h=U.useMemo(()=>Ov(r,e,f,a,n,"data"),[r,e,f,a,n]),v=U.useMemo(()=>Ov(r,e,f,a,n,"assets"),[r,e,f,a,n]),g=U.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let _=new Set,b=!1;if(e.forEach(S=>{let O=a.routes[S.route.id];!O||!O.hasLoader||(!h.some(T=>T.route.id===S.route.id)&&S.route.id in c&&o[S.route.id]?.shouldRevalidate||O.hasClientLoader?b=!0:_.add(S.route.id))}),_.size===0)return[];let A=gm(r,l,"data");return b&&_.size>0&&A.searchParams.set("_routes",e.filter(S=>_.has(S.route.id)).map(S=>S.route.id).join(",")),[A.pathname+A.search]},[l,c,n,a,h,e,r,o]),x=U.useMemo(()=>_m(v,a),[v,a]),m=Tm(v);return U.createElement(U.Fragment,null,g.map(_=>U.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),x.map(_=>U.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),m.map(({key:_,link:b})=>U.createElement("link",{key:_,nonce:t.nonce,...b})))}function Rm(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Kp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Kp&&(window.__reactRouterVersion="7.8.0")}catch{}function Dm({basename:r,children:e,window:t}){let n=U.useRef();n.current==null&&(n.current=xx({window:t,v5Compat:!0}));let a=n.current,[o,l]=U.useState({action:a.action,location:a.location}),c=U.useCallback(f=>{U.startTransition(()=>l(f))},[l]);return U.useLayoutEffect(()=>a.listen(c),[a,c]),U.createElement(om,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:a})}var Qp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jp=U.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:a,reloadDocument:o,replace:l,state:c,target:f,to:h,preventScrollReset:v,viewTransition:g,...x},m){let{basename:_}=U.useContext(Xr),b=typeof h=="string"&&Qp.test(h),A,S=!1;if(typeof h=="string"&&b&&(A=h,Kp))try{let F=new URL(window.location.href),X=h.startsWith("//")?new URL(F.protocol+h):new URL(h),J=hn(X.pathname,_);X.origin===F.origin&&J!=null?h=J+X.search+X.hash:S=!0}catch{Pr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=Xx(h,{relative:a}),[T,N,P]=Sm(n,x),D=Mm(h,{replace:l,state:c,target:f,preventScrollReset:v,relative:a,viewTransition:g});function B(F){e&&e(F),F.defaultPrevented||D(F)}let Y=U.createElement("a",{...x,...P,href:A||O,onClick:S||o?e:B,ref:Rm(m,N),target:f,"data-discover":!b&&t==="render"?"true":void 0});return T&&!b?U.createElement(U.Fragment,null,Y,U.createElement(Cm,{page:O})):Y});Jp.displayName="Link";var un=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:a=!1,style:o,to:l,viewTransition:c,children:f,...h},v){let g=Zo(l,{relative:h.relative}),x=$n(),m=U.useContext(zl),{navigator:_,basename:b}=U.useContext(Xr),A=m!=null&&jm(g)&&c===!0,S=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,O=x.pathname,T=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;t||(O=O.toLowerCase(),T=T?T.toLowerCase():null,S=S.toLowerCase()),T&&b&&(T=hn(T,b)||T);const N=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let P=O===S||!a&&O.startsWith(S)&&O.charAt(N)==="/",D=T!=null&&(T===S||!a&&T.startsWith(S)&&T.charAt(S.length)==="/"),B={isActive:P,isPending:D,isTransitioning:A},Y=P?e:void 0,F;typeof n=="function"?F=n(B):F=[n,P?"active":null,D?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let X=typeof o=="function"?o(B):o;return U.createElement(Jp,{...h,"aria-current":Y,className:F,ref:v,style:X,to:l,viewTransition:c},typeof f=="function"?f(B):f)});un.displayName="NavLink";var Im=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:a,state:o,method:l=Tl,action:c,onSubmit:f,relative:h,preventScrollReset:v,viewTransition:g,...x},m)=>{let _=km(),b=Lm(c,{relative:h}),A=l.toLowerCase()==="get"?"get":"post",S=typeof c=="string"&&Qp.test(c),O=T=>{if(f&&f(T),T.defaultPrevented)return;T.preventDefault();let N=T.nativeEvent.submitter,P=N?.getAttribute("formmethod")||l;_(N||T.currentTarget,{fetcherKey:e,method:P,navigate:t,replace:a,state:o,relative:h,preventScrollReset:v,viewTransition:g})};return U.createElement("form",{ref:m,method:A,action:b,onSubmit:n?f:O,...x,"data-discover":!S&&r==="render"?"true":void 0})});Im.displayName="Form";function Nm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eg(r){let e=U.useContext(Ri);return lt(e,Nm(r)),e}function Mm(r,{target:e,replace:t,state:n,preventScrollReset:a,relative:o,viewTransition:l}={}){let c=Hl(),f=$n(),h=Zo(r,{relative:o});return U.useCallback(v=>{if(dm(v,e)){v.preventDefault();let g=t!==void 0?t:qo(f)===qo(h);c(r,{replace:g,state:n,preventScrollReset:a,relative:o,viewTransition:l})}},[f,c,h,t,n,e,r,a,o,l])}var Bm=0,Pm=()=>`__${String(++Bm)}__`;function km(){let{router:r}=eg("useSubmit"),{basename:e}=U.useContext(Xr),t=rm();return U.useCallback(async(n,a={})=>{let{action:o,method:l,encType:c,formData:f,body:h}=pm(n,e);if(a.navigate===!1){let v=a.fetcherKey||Pm();await r.fetch(v,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||l,formEncType:a.encType||c,flushSync:a.flushSync})}else await r.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||l,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,t])}function Lm(r,{relative:e}={}){let{basename:t}=U.useContext(Xr),n=U.useContext(vn);lt(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),o={...Zo(r||".",{relative:e})},l=$n();if(r==null){o.search=l.search;let c=new URLSearchParams(o.search),f=c.getAll("index");if(f.some(v=>v==="")){c.delete("index"),f.filter(g=>g).forEach(g=>c.append("index",g));let v=c.toString();o.search=v?`?${v}`:""}}return(!r||r===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:dn([t,o.pathname])),qo(o)}function jm(r,{relative:e}={}){let t=U.useContext(Gp);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=eg("useViewTransitionState"),a=Zo(r,{relative:e});if(!t.isTransitioning)return!1;let o=hn(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=hn(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Nl(a.pathname,l)!=null||Nl(a.pathname,o)!=null}const Um="modulepreload",Fm=function(r){return"/IARE-Canteen-Web/"+r},Rv={},Ko=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){let f=function(h){return Promise.all(h.map(v=>Promise.resolve(v).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");a=f(t.map(h=>{if(h=Fm(h),h in Rv)return;Rv[h]=!0;const v=h.endsWith(".css"),g=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const x=document.createElement("link");if(x.rel=v?"stylesheet":Um,v||(x.as="script"),x.crossOrigin="",x.href=h,c&&x.setAttribute("nonce",c),document.head.appendChild(x),v)return new Promise((m,_)=>{x.addEventListener("load",m),x.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return a.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},zm=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Ko(async()=>{const{default:n}=await Promise.resolve().then(()=>Di);return{default:n}},[]).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class cd extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class Hm extends cd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Dv extends cd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Iv extends cd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Lf;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Lf||(Lf={}));var Vm=function(r,e,t,n){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(v){try{h(n.next(v))}catch(g){l(g)}}function f(v){try{h(n.throw(v))}catch(g){l(g)}}function h(v){v.done?o(v.value):a(v.value).then(c,f)}h((n=n.apply(r,e||[])).next())})};class Gm{constructor(e,{headers:t={},customFetch:n,region:a=Lf.Any}={}){this.url=e,this.headers=t,this.region=a,this.fetch=zm(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return Vm(this,void 0,void 0,function*(){try{const{headers:a,method:o,body:l}=t;let c={},{region:f}=t;f||(f=this.region);const h=new URL(`${this.url}/${e}`);f&&f!=="any"&&(c["x-region"]=f,h.searchParams.set("forceFunctionRegion",f));let v;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",v=l):typeof l=="string"?(c["Content-Type"]="text/plain",v=l):typeof FormData<"u"&&l instanceof FormData?v=l:(c["Content-Type"]="application/json",v=JSON.stringify(l)));const g=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),a),body:v}).catch(b=>{throw new Hm(b)}),x=g.headers.get("x-relay-error");if(x&&x==="true")throw new Dv(g);if(!g.ok)throw new Iv(g);let m=((n=g.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),_;return m==="application/json"?_=yield g.json():m==="application/octet-stream"?_=yield g.blob():m==="text/event-stream"?_=g:m==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(a){return{data:null,error:a,response:a instanceof Iv||a instanceof Dv?a.context:void 0}}})}}var It={},ci={},fi={},di={},hi={},vi={},Xm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ti=Xm();const qm=Ti.fetch,tg=Ti.fetch.bind(Ti),rg=Ti.Headers,Ym=Ti.Request,$m=Ti.Response,Di=Object.freeze(Object.defineProperty({__proto__:null,Headers:rg,Request:Ym,Response:$m,default:tg,fetch:qm},Symbol.toStringTag,{value:"Module"})),Wm=ox(Di);var yl={},Nv;function ng(){if(Nv)return yl;Nv=1,Object.defineProperty(yl,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return yl.default=r,yl}var Mv;function ag(){if(Mv)return vi;Mv=1;var r=vi&&vi.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(vi,"__esModule",{value:!0});const e=r(Wm),t=r(ng());class n{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=Object.assign({},this.headers),this.headers[o]=l,this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const c=this.fetch;let f=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var v,g,x;let m=null,_=null,b=null,A=h.status,S=h.statusText;if(h.ok){if(this.method!=="HEAD"){const P=await h.text();P===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?_=P:_=JSON.parse(P))}const T=(v=this.headers.Prefer)===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),N=(g=h.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");T&&N&&N.length>1&&(b=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(m={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,b=null,A=406,S="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const T=await h.text();try{m=JSON.parse(T),Array.isArray(m)&&h.status===404&&(_=[],m=null,A=200,S="OK")}catch{h.status===404&&T===""?(A=204,S="No Content"):m={message:T}}if(m&&this.isMaybeSingle&&(!((x=m?.details)===null||x===void 0)&&x.includes("0 rows"))&&(m=null,A=200,S="OK"),m&&this.shouldThrowOnError)throw new t.default(m)}return{error:m,data:_,count:b,status:A,statusText:S}});return this.shouldThrowOnError||(f=f.catch(h=>{var v,g,x;return{error:{message:`${(v=h?.name)!==null&&v!==void 0?v:"FetchError"}: ${h?.message}`,details:`${(g=h?.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(x=h?.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),f.then(o,l)}returns(){return this}overrideTypes(){return this}}return vi.default=n,vi}var Bv;function ig(){if(Bv)return hi;Bv=1;var r=hi&&hi.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(hi,"__esModule",{value:!0});const e=r(ag());class t extends e.default{select(a){let o=!1;const l=(a??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:o=!0,nullsFirst:l,foreignTable:c,referencedTable:f=c}={}){const h=f?`${f}.order`:"order",v=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${v?`${v},`:""}${a}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this}range(a,o,{foreignTable:l,referencedTable:c=l}={}){const f=typeof c>"u"?"offset":`${c}.offset`,h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${a}`),this.url.searchParams.set(h,`${o-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:o=!1,settings:l=!1,buffers:c=!1,wal:f=!1,format:h="text"}={}){var v;const g=[a?"analyze":null,o?"verbose":null,l?"settings":null,c?"buffers":null,f?"wal":null].filter(Boolean).join("|"),x=(v=this.headers.Accept)!==null&&v!==void 0?v:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${x}"; options=${g};`,h==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return hi.default=t,hi}var Pv;function fd(){if(Pv)return di;Pv=1;var r=di&&di.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(di,"__esModule",{value:!0});const e=r(ig());class t extends e.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}in(a,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:l,type:c}={}){let f="";c==="plain"?f="pl":c==="phrase"?f="ph":c==="websearch"&&(f="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${f}fts${h}.${o}`),this}match(a){return Object.entries(a).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(a,o,l){return this.url.searchParams.append(a,`not.${o}.${l}`),this}or(a,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${a})`),this}filter(a,o,l){return this.url.searchParams.append(a,`${o}.${l}`),this}}return di.default=t,di}var kv;function og(){if(kv)return fi;kv=1;var r=fi&&fi.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(fi,"__esModule",{value:!0});const e=r(fd());class t{constructor(a,{headers:o={},schema:l,fetch:c}){this.url=a,this.headers=o,this.schema=l,this.fetch=c}select(a,{head:o=!1,count:l}={}){const c=o?"HEAD":"GET";let f=!1;const h=(a??"*").split("").map(v=>/\s/.test(v)&&!f?"":(v==='"'&&(f=!f),v)).join("");return this.url.searchParams.set("select",h),l&&(this.headers.Prefer=`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:o,defaultToNull:l=!0}={}){const c="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),o&&f.push(`count=${o}`),l||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(a)){const h=a.reduce((v,g)=>v.concat(Object.keys(g)),[]);if(h.length>0){const v=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:o,ignoreDuplicates:l=!1,count:c,defaultToNull:f=!0}={}){const h="POST",v=[`resolution=${l?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&v.push(this.headers.Prefer),c&&v.push(`count=${c}`),f||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(a)){const g=a.reduce((x,m)=>x.concat(Object.keys(m)),[]);if(g.length>0){const x=[...new Set(g)].map(m=>`"${m}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:o}={}){const l="PATCH",c=[];return this.headers.Prefer&&c.push(this.headers.Prefer),o&&c.push(`count=${o}`),this.headers.Prefer=c.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const o="DELETE",l=[];return a&&l.push(`count=${a}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return fi.default=t,fi}var Bo={},Po={},Lv;function Zm(){return Lv||(Lv=1,Object.defineProperty(Po,"__esModule",{value:!0}),Po.version=void 0,Po.version="0.0.0-automated"),Po}var jv;function Km(){if(jv)return Bo;jv=1,Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.DEFAULT_HEADERS=void 0;const r=Zm();return Bo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`},Bo}var Uv;function Qm(){if(Uv)return ci;Uv=1;var r=ci&&ci.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ci,"__esModule",{value:!0});const e=r(og()),t=r(fd()),n=Km();class a{constructor(l,{headers:c={},schema:f,fetch:h}={}){this.url=l,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),c),this.schemaName=f,this.fetch=h}from(l){const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new a(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:f=!1,get:h=!1,count:v}={}){let g;const x=new URL(`${this.url}/rpc/${l}`);let m;f||h?(g=f?"HEAD":"GET",Object.entries(c).filter(([b,A])=>A!==void 0).map(([b,A])=>[b,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([b,A])=>{x.searchParams.append(b,A)})):(g="POST",m=c);const _=Object.assign({},this.headers);return v&&(_.Prefer=`count=${v}`),new t.default({method:g,url:x,headers:_,schema:this.schemaName,body:m,fetch:this.fetch,allowEmpty:!1})}}return ci.default=a,ci}var Fv;function Jm(){if(Fv)return It;Fv=1;var r=It&&It.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(It,"__esModule",{value:!0}),It.PostgrestError=It.PostgrestBuilder=It.PostgrestTransformBuilder=It.PostgrestFilterBuilder=It.PostgrestQueryBuilder=It.PostgrestClient=void 0;const e=r(Qm());It.PostgrestClient=e.default;const t=r(og());It.PostgrestQueryBuilder=t.default;const n=r(fd());It.PostgrestFilterBuilder=n.default;const a=r(ig());It.PostgrestTransformBuilder=a.default;const o=r(ag());It.PostgrestBuilder=o.default;const l=r(ng());return It.PostgrestError=l.default,It.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:o.default,PostgrestError:l.default},It}var e_=Jm();const t_=Lp(e_),{PostgrestClient:r_,PostgrestQueryBuilder:Kb,PostgrestFilterBuilder:Qb,PostgrestTransformBuilder:Jb,PostgrestBuilder:eS,PostgrestError:tS}=t_;class n_{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const t=parseInt(process.versions.node.split(".")[0]);return t>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${t} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${t} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const n=this.getWebSocketConstructor();return new n(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const a_="2.15.1",i_=`realtime-js/${a_}`,o_="1.0.0",jf=1e4,s_=1e3,l_=100;var Vo;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Vo||(Vo={}));var mt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(mt||(mt={}));var Nr;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Nr||(Nr={}));var Uf;(function(r){r.websocket="websocket"})(Uf||(Uf={}));var _a;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(_a||(_a={}));class u_{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const a=t.getUint8(1),o=t.getUint8(2);let l=this.HEADER_LENGTH+2;const c=n.decode(e.slice(l,l+a));l=l+a;const f=n.decode(e.slice(l,l+o));l=l+o;const h=JSON.parse(n.decode(e.slice(l,e.byteLength)));return{ref:null,topic:c,event:f,payload:h}}}class sg{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Ke||(Ke={}));const zv=(r,e,t={})=>{var n;const a=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((o,l)=>(o[l]=c_(l,r,e,a),o),{})},c_=(r,e,t,n)=>{const a=e.find(c=>c.name===r),o=a?.type,l=t[r];return o&&!n.includes(o)?lg(o,l):Ff(l)},lg=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return v_(e,t)}switch(r){case Ke.bool:return f_(e);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return d_(e);case Ke.json:case Ke.jsonb:return h_(e);case Ke.timestamp:return p_(e);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return Ff(e);default:return Ff(e)}},Ff=r=>r,f_=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},d_=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},h_=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},v_=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let o;const l=r.slice(1,t);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(c=>lg(e,c))}return r},p_=r=>typeof r=="string"?r.replace(" ","T"):r,ug=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class xf{constructor(e,t,n={},a=jf){this.channel=e,this.event=t,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Hv;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Hv||(Hv={}));class Go{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Go.syncState(this.state,a,o,l),this.pendingDiffs.forEach(f=>{this.state=Go.syncDiff(this.state,f,o,l)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},a=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Go.syncDiff(this.state,a,o,l),c())}),this.onJoin((a,o,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:l})}),this.onLeave((a,o,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,a){const o=this.cloneDeep(e),l=this.transformState(t),c={},f={};return this.map(o,(h,v)=>{l[h]||(f[h]=v)}),this.map(l,(h,v)=>{const g=o[h];if(g){const x=v.map(A=>A.presence_ref),m=g.map(A=>A.presence_ref),_=v.filter(A=>m.indexOf(A.presence_ref)<0),b=g.filter(A=>x.indexOf(A.presence_ref)<0);_.length>0&&(c[h]=_),b.length>0&&(f[h]=b)}else c[h]=v}),this.syncDiff(o,{joins:c,leaves:f},n,a)}static syncDiff(e,t,n,a){const{joins:o,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(o,(c,f)=>{var h;const v=(h=e[c])!==null&&h!==void 0?h:[];if(e[c]=this.cloneDeep(f),v.length>0){const g=e[c].map(m=>m.presence_ref),x=v.filter(m=>g.indexOf(m.presence_ref)<0);e[c].unshift(...x)}n(c,v,f)}),this.map(l,(c,f)=>{let h=e[c];if(!h)return;const v=f.map(g=>g.presence_ref);h=h.filter(g=>v.indexOf(g.presence_ref)<0),e[c]=h,a(c,h,f),h.length===0&&delete e[c]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const a=e[n];return"metas"in a?t[n]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[n]=a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vv;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Vv||(Vv={}));var Xo;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Xo||(Xo={}));var fn;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(fn||(fn={}));class dd{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new xf(this,Nr.join,this.params,this.timeout),this.rejoinTimer=new sg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nr.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Go(this),this.broadcastEndpointURL=ug(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==mt.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,f=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(x=>x.filter))!==null&&a!==void 0?a:[],h=!!this.bindings[Xo.PRESENCE]&&this.bindings[Xo.PRESENCE].length>0,v={},g={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:f,private:c};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(x=>e?.(fn.CHANNEL_ERROR,x)),this._onClose(()=>e?.(fn.CLOSED)),this.updateJoinPayload(Object.assign({config:g},v)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:x})=>{var m;if(this.socket.setAuth(),x===void 0){e?.(fn.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,b=(m=_?.length)!==null&&m!==void 0?m:0,A=[];for(let S=0;S<b;S++){const O=_[S],{filter:{event:T,schema:N,table:P,filter:D}}=O,B=x&&x[S];if(B&&B.event===T&&B.schema===N&&B.table===P&&B.filter===D)A.push(Object.assign(Object.assign({},O),{id:B.id}));else{this.unsubscribe(),this.state=mt.errored,e?.(fn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(fn.SUBSCRIBED);return}}).receive("error",x=>{this.state=mt.errored,e?.(fn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e?.(fn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===mt.joined&&e===Xo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async send(e,t={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:l}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,f;const h=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=mt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new xf(this,Nr.leave,{},e),n.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=mt.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const a=new AbortController,o=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(o),l}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new xf(this,e,t,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>l_){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var a,o;const l=e.toLocaleLowerCase(),{close:c,error:f,leave:h,join:v}=Nr;if(n&&[c,f,h,v].indexOf(l)>=0&&n!==this._joinRef())return;let x=this._onMessage(l,t,n);if(t&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var _,b,A;return((_=m.filter)===null||_===void 0?void 0:_.event)==="*"||((A=(b=m.filter)===null||b===void 0?void 0:b.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===l}).map(m=>m.callback(x,n)):(o=this.bindings[l])===null||o===void 0||o.filter(m=>{var _,b,A,S,O,T;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in m){const N=m.id,P=(_=m.filter)===null||_===void 0?void 0:_.event;return N&&((b=t.ids)===null||b===void 0?void 0:b.includes(N))&&(P==="*"||P?.toLocaleLowerCase()===((A=t.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const N=(O=(S=m?.filter)===null||S===void 0?void 0:S.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return N==="*"||N===((T=t?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===l}).map(m=>{if(typeof x=="object"&&"ids"in x){const _=x.data,{schema:b,table:A,commit_timestamp:S,type:O,errors:T}=_;x=Object.assign(Object.assign({},{schema:b,table:A,commit_timestamp:S,eventType:O,new:{},old:{},errors:T}),this._getPayloadRecords(_))}m.callback(x,n)})}_isClosed(){return this.state===mt.closed}_isJoined(){return this.state===mt.joined}_isJoining(){return this.state===mt.joining}_isLeaving(){return this.state===mt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const a=e.toLocaleLowerCase(),o={type:a,filter:t,callback:n};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&dd.isEqual(a.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Nr.close,{},e)}_onError(e){this._on(Nr.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=zv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=zv(e.columns,e.old_record)),t}}const Gv=()=>{},xl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},g_=[1e3,2e3,5e3,1e4],y_=1e4,x_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class m_{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jf,this.transport=null,this.heartbeatIntervalMs=xl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gv,this.ref=0,this.reconnectTimer=null,this.logger=Gv,this.conn=null,this.sendBuffer=[],this.serializer=new u_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>Ko(async()=>{const{default:c}=await Promise.resolve().then(()=>Di);return{default:c}},void 0).then(({default:c})=>c(...l)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...l)=>o(...l)},!(!((n=t?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Uf.websocket}`,this.httpEndpoint=ug(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=n_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:o_}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Vo.connecting:return _a.Connecting;case Vo.open:return _a.Open;case Vo.closing:return _a.Closing;default:return _a.Closed}}isConnected(){return this.connectionState()===_a.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(o=>o.topic===n);if(a)return a;{const o=new dd(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){const{topic:t,event:n,payload:a,ref:o}=e,l=()=>{this.encode(e,c=>{var f;(f=this.conn)===null||f===void 0||f.send(c)})};this.log("push",`${t} ${n} (${o})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(s_,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},xl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{t.topic==="phoenix"&&t.event==="phx_reply"&&this.heartbeatCallback(t.payload.status==="ok"?"ok":"error"),t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:o,ref:l}=t,c=l?`(${l})`:"",f=o.status||"";this.log("receive",`${f} ${n} ${a} ${c}`.trim(),o),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(a,o,l)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Nr.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(t);return`${e}${n}${a}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([x_],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(n=>{const a={access_token:t,version:i_};t&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Nr.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new sg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,a,o,l,c,f,h;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:jf,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:xl.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:(v=>g_[v-1]||y_),this.encode=(f=e?.encode)!==null&&f!==void 0?f:((v,g)=>g(JSON.stringify(v))),this.decode=(h=e?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class hd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Et(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class __ extends hd{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class zf extends hd{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var w_=function(r,e,t,n){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(v){try{h(n.next(v))}catch(g){l(g)}}function f(v){try{h(n.throw(v))}catch(g){l(g)}}function h(v){v.done?o(v.value):a(v.value).then(c,f)}h((n=n.apply(r,e||[])).next())})};const cg=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Ko(async()=>{const{default:n}=await Promise.resolve().then(()=>Di);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},E_=()=>w_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ko(()=>Promise.resolve().then(()=>Di),void 0)).Response:Response}),Hf=r=>{if(Array.isArray(r))return r.map(t=>Hf(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const a=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[a]=Hf(n)}),e},A_=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var ba=function(r,e,t,n){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(v){try{h(n.next(v))}catch(g){l(g)}}function f(v){try{h(n.throw(v))}catch(g){l(g)}}function h(v){v.done?o(v.value):a(v.value).then(c,f)}h((n=n.apply(r,e||[])).next())})};const mf=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),b_=(r,e,t)=>ba(void 0,void 0,void 0,function*(){const n=yield E_();r instanceof n&&!t?.noResolveJson?r.json().then(a=>{const o=r.status||500,l=a?.statusCode||o+"";e(new __(mf(a),o,l))}).catch(a=>{e(new zf(mf(a),a))}):e(new zf(mf(r),r))}),S_=(r,e,t,n)=>{const a={method:r,headers:e?.headers||{}};return r==="GET"||!n?a:(A_(n)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(n)):a.body=n,e?.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),t))};function Qo(r,e,t,n,a,o){return ba(this,void 0,void 0,function*(){return new Promise((l,c)=>{r(t,S_(e,n,a,o)).then(f=>{if(!f.ok)throw f;return n?.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>b_(f,c,n))})})}function Ml(r,e,t,n){return ba(this,void 0,void 0,function*(){return Qo(r,"GET",e,t,n)})}function Hr(r,e,t,n,a){return ba(this,void 0,void 0,function*(){return Qo(r,"POST",e,n,a,t)})}function Vf(r,e,t,n,a){return ba(this,void 0,void 0,function*(){return Qo(r,"PUT",e,n,a,t)})}function C_(r,e,t,n){return ba(this,void 0,void 0,function*(){return Qo(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function fg(r,e,t,n,a){return ba(this,void 0,void 0,function*(){return Qo(r,"DELETE",e,n,a,t)})}var Yt=function(r,e,t,n){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(v){try{h(n.next(v))}catch(g){l(g)}}function f(v){try{h(n.throw(v))}catch(g){l(g)}}function h(v){v.done?o(v.value):a(v.value).then(c,f)}h((n=n.apply(r,e||[])).next())})};const T_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class O_{constructor(e,t={},n,a){this.url=e,this.headers=t,this.bucketId=n,this.fetch=cg(a)}uploadOrUpdate(e,t,n,a){return Yt(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},Xv),a);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),f&&o.append("metadata",this.encodeMetadata(f)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",l.cacheControl),f&&o.append("metadata",this.encodeMetadata(f))):(o=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,f&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),a?.headers&&(c=Object.assign(Object.assign({},c),a.headers));const h=this._removeEmptyFolders(t),v=this._getFinalPath(h),g=yield(e=="PUT"?Vf:Hr)(this.fetch,`${this.url}/object/${v}`,o,Object.assign({headers:c},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:g.Id,fullPath:g.Key},error:null}}catch(o){if(Et(o))return{data:null,error:o};throw o}})}upload(e,t,n){return Yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,a){return Yt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),l=this._getFinalPath(o),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",t);try{let f;const h=Object.assign({upsert:Xv.upsert},a),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",h.cacheControl)):(f=n,v["cache-control"]=`max-age=${h.cacheControl}`,v["content-type"]=h.contentType);const g=yield Vf(this.fetch,c.toString(),f,{headers:v});return{data:{path:o,fullPath:g.Key},error:null}}catch(f){if(Et(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,t){return Yt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);t?.upsert&&(a["x-upsert"]="true");const o=yield Hr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(this.url+o.url),c=l.searchParams.get("token");if(!c)throw new hd("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:c},error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}})}update(e,t,n){return Yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Yt(this,void 0,void 0,function*(){try{return{data:yield Hr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Et(a))return{data:null,error:a};throw a}})}copy(e,t,n){return Yt(this,void 0,void 0,function*(){try{return{data:{path:(yield Hr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Et(a))return{data:null,error:a};throw a}})}createSignedUrl(e,t,n){return Yt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),o=yield Hr(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(a){if(Et(a))return{data:null,error:a};throw a}})}createSignedUrls(e,t,n){return Yt(this,void 0,void 0,function*(){try{const a=yield Hr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(a){if(Et(a))return{data:null,error:a};throw a}})}download(e,t){return Yt(this,void 0,void 0,function*(){const a=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),l=o?`?${o}`:"";try{const c=this._getFinalPath(e);return{data:yield(yield Ml(this.fetch,`${this.url}/${a}/${c}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(Et(c))return{data:null,error:c};throw c}})}info(e){return Yt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield Ml(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Hf(n),error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}})}exists(e){return Yt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield C_(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Et(n)&&n instanceof zf){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),a=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&a.push(o);const c=typeof t?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(t?.transform||{});f!==""&&a.push(f);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${h}`)}}}remove(e){return Yt(this,void 0,void 0,function*(){try{return{data:yield fg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Et(t))return{data:null,error:t};throw t}})}list(e,t,n){return Yt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},T_),t),{prefix:e||""});return{data:yield Hr(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Et(a))return{data:null,error:a};throw a}})}listV2(e,t){return Yt(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Hr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},t),error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const R_="2.11.0",D_={"X-Client-Info":`storage-js/${R_}`};var pi=function(r,e,t,n){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(v){try{h(n.next(v))}catch(g){l(g)}}function f(v){try{h(n.throw(v))}catch(g){l(g)}}function h(v){v.done?o(v.value):a(v.value).then(c,f)}h((n=n.apply(r,e||[])).next())})};class I_{constructor(e,t={},n,a){const o=new URL(e);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},D_),t),this.fetch=cg(n)}listBuckets(){return pi(this,void 0,void 0,function*(){try{return{data:yield Ml(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Et(e))return{data:null,error:e};throw e}})}getBucket(e){return pi(this,void 0,void 0,function*(){try{return{data:yield Ml(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Et(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return pi(this,void 0,void 0,function*(){try{return{data:yield Hr(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return pi(this,void 0,void 0,function*(){try{return{data:yield Vf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}})}emptyBucket(e){return pi(this,void 0,void 0,function*(){try{return{data:yield Hr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Et(t))return{data:null,error:t};throw t}})}deleteBucket(e){return pi(this,void 0,void 0,function*(){try{return{data:yield fg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Et(t))return{data:null,error:t};throw t}})}}class N_ extends I_{constructor(e,t={},n,a){super(e,t,n,a)}from(e){return new O_(this.url,this.headers,e,this.fetch)}}const M_="2.55.0";let Uo="";typeof Deno<"u"?Uo="deno":typeof document<"u"?Uo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Uo="react-native":Uo="node";const B_={"X-Client-Info":`supabase-js-${Uo}/${M_}`},P_={headers:B_},k_={schema:"public"},L_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},j_={};var U_=function(r,e,t,n){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(v){try{h(n.next(v))}catch(g){l(g)}}function f(v){try{h(n.throw(v))}catch(g){l(g)}}function h(v){v.done?o(v.value):a(v.value).then(c,f)}h((n=n.apply(r,e||[])).next())})};const F_=r=>{let e;return r?e=r:typeof fetch>"u"?e=tg:e=fetch,(...t)=>e(...t)},z_=()=>typeof Headers>"u"?rg:Headers,H_=(r,e,t)=>{const n=F_(t),a=z_();return(o,l)=>U_(void 0,void 0,void 0,function*(){var c;const f=(c=yield e())!==null&&c!==void 0?c:r;let h=new a(l?.headers);return h.has("apikey")||h.set("apikey",r),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),n(o,Object.assign(Object.assign({},l),{headers:h}))})};var V_=function(r,e,t,n){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(v){try{h(n.next(v))}catch(g){l(g)}}function f(v){try{h(n.throw(v))}catch(g){l(g)}}function h(v){v.done?o(v.value):a(v.value).then(c,f)}h((n=n.apply(r,e||[])).next())})};function G_(r){return r.endsWith("/")?r:r+"/"}function X_(r,e){var t,n;const{db:a,auth:o,realtime:l,global:c}=r,{db:f,auth:h,realtime:v,global:g}=e,x={db:Object.assign(Object.assign({},f),a),auth:Object.assign(Object.assign({},h),o),realtime:Object.assign(Object.assign({},v),l),storage:{},global:Object.assign(Object.assign(Object.assign({},g),c),{headers:Object.assign(Object.assign({},(t=g?.headers)!==null&&t!==void 0?t:{}),(n=c?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>V_(this,void 0,void 0,function*(){return""})};return r.accessToken?x.accessToken=r.accessToken:delete x.accessToken,x}const dg="2.71.1",wi=30*1e3,Gf=3,_f=Gf*wi,q_="http://localhost:9999",Y_="supabase.auth.token",$_={"X-Client-Info":`gotrue-js/${dg}`},Xf="X-Supabase-Api-Version",hg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},W_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Z_=600*1e3;class vd extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function _e(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class K_ extends vd{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function Q_(r){return _e(r)&&r.name==="AuthApiError"}class vg extends vd{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Wn extends vd{constructor(e,t,n,a){super(e,n,a),this.name=t,this.status=n}}class Vn extends Wn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function J_(r){return _e(r)&&r.name==="AuthSessionMissingError"}class ml extends Wn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _l extends Wn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class wl extends Wn{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ew(r){return _e(r)&&r.name==="AuthImplicitGrantRedirectError"}class qv extends Wn{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qf extends Wn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function wf(r){return _e(r)&&r.name==="AuthRetryableFetchError"}class Yv extends Wn{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Yf extends Wn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$v=` 	
\r=`.split(""),tw=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<$v.length;e+=1)r[$v[e].charCodeAt(0)]=-2;for(let e=0;e<Bl.length;e+=1)r[Bl[e].charCodeAt(0)]=e;return r})();function Wv(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(Bl[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(Bl[n]),e.queuedBits-=6}}function pg(r,e,t){const n=tw[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Zv(r){const e=[],t=l=>{e.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=l=>{aw(l,n,t)};for(let l=0;l<r.length;l+=1)pg(r.charCodeAt(l),a,o);return e.join("")}function rw(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function nw(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|a)+65536,t+=1}rw(n,e)}}function aw(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function iw(r){const e=[],t={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<r.length;a+=1)pg(r.charCodeAt(a),t,n);return new Uint8Array(e)}function ow(r){const e=[];return nw(r,t=>e.push(t)),new Uint8Array(e)}function sw(r){const e=[],t={queue:0,queuedBits:0},n=a=>{e.push(a)};return r.forEach(a=>Wv(a,t,n)),Wv(null,t,n),e.join("")}function lw(r){return Math.round(Date.now()/1e3)+r}function uw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const Ir=()=>typeof window<"u"&&typeof document<"u",va={tested:!1,writable:!1},gg=()=>{if(!Ir())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(va.tested)return va.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),va.tested=!0,va.writable=!0}catch{va.tested=!0,va.writable=!1}return va.writable};function cw(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((a,o)=>{e[o]=a})}catch{}return t.searchParams.forEach((n,a)=>{e[a]=n}),e}const yg=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Ko(async()=>{const{default:n}=await Promise.resolve().then(()=>Di);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},fw=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Ei=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},pa=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Fn=async(r,e)=>{await r.removeItem(e)};class Gl{constructor(){this.promise=new Gl.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Gl.promiseConstructor=Promise;function Ef(r){const e=r.split(".");if(e.length!==3)throw new Yf("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!W_.test(e[n]))throw new Yf("JWT not in base64url format");return{header:JSON.parse(Zv(e[0])),payload:JSON.parse(Zv(e[1])),signature:iw(e[2]),raw:{header:e[0],payload:e[1]}}}async function dw(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function hw(r,e){return new Promise((n,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await r(o);if(!e(o,null,l)){n(l);return}}catch(l){if(!e(o,l)){a(l);return}}})()})}function vw(r){return("0"+r.toString(16)).substr(-2)}function pw(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let a="";for(let o=0;o<56;o++)a+=t.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,vw).join("")}async function gw(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(n);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function yw(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await gw(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gi(r,e,t=!1){const n=pw();let a=n;t&&(a+="/PASSWORD_RECOVERY"),await Ei(r,`${e}-code-verifier`,a);const o=await yw(n);return[o,n===o?"plain":"s256"]}const xw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mw(r){const e=r.headers.get(Xf);if(!e||!e.match(xw))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function _w(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function ww(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ew=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yi(r){if(!Ew.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Af(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const n=t.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Kv(r){return JSON.parse(JSON.stringify(r))}var Aw=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};const xa=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),bw=[502,503,504];async function Qv(r){var e;if(!fw(r))throw new qf(xa(r),0);if(bw.includes(r.status))throw new qf(xa(r),r.status);let t;try{t=await r.json()}catch(o){throw new vg(xa(o),o)}let n;const a=mw(r);if(a&&a.getTime()>=hg["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new Yv(xa(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Vn}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new Yv(xa(t),r.status,t.weak_password.reasons);throw new K_(xa(t),r.status||500,n)}const Sw=(r,e,t,n)=>{const a={method:r,headers:e?.headers||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),t))};async function Oe(r,e,t,n){var a;const o=Object.assign({},n?.headers);o[Xf]||(o[Xf]=hg["2024-01-01"].name),n?.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const l=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(l.redirect_to=n.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await Cw(r,e,t+c,{headers:o,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(f):{data:Object.assign({},f),error:null}}async function Cw(r,e,t,n,a,o){const l=Sw(e,n,a,o);let c;try{c=await r(t,Object.assign({},l))}catch(f){throw console.error(f),new qf(xa(f),0)}if(c.ok||await Qv(c),n?.noResolveJson)return c;try{return await c.json()}catch(f){await Qv(f)}}function cn(r){var e;let t=null;Dw(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=lw(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function Jv(r){const e=cn(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Xn(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function Tw(r){return{data:r,error:null}}function Ow(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:a,verification_type:o}=r,l=Aw(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:t,hashed_token:n,redirect_to:a,verification_type:o},f=Object.assign({},l);return{data:{properties:c,user:f},error:null}}function Rw(r){return r}function Dw(r){return r.access_token&&r.refresh_token&&r.expires_in}const bf=["global","local","others"];var Iw=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};class Nw{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=yg(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=bf[0]){if(bf.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bf.join(", ")}`);try{return await Oe(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await Oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Xn})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Iw(e,["options"]),a=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Ow,redirectTo:t?.redirectTo})}catch(t){if(_e(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Oe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Xn})}catch(t){if(_e(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,a,o,l,c,f;try{const h={nextPage:null,lastPage:0,total:0},v=await Oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(o=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Rw});if(v.error)throw v.error;const g=await v.json(),x=(l=v.headers.get("x-total-count"))!==null&&l!==void 0?l:0,m=(f=(c=v.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return m.length>0&&(m.forEach(_=>{const b=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(_.split(";")[1].split("=")[1]);h[`${A}Page`]=b}),h.total=parseInt(x)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(_e(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){yi(e);try{return await Oe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Xn})}catch(t){if(_e(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){yi(e);try{return await Oe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Xn})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){yi(e);try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Xn})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){yi(e.userId);try{const{data:t,error:n}=await Oe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:t,error:n}}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _deleteFactor(e){yi(e.userId),yi(e.id);try{return{data:await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(_e(t))return{data:null,error:t};throw t}}}function ep(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function Mw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xi={debug:!!(globalThis&&gg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Bw extends xg{}async function Pw(r,e,t){xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),xi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return await t()}finally{xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(e===0)throw xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Bw(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(xi.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}Mw();const kw={url:q_,storageKey:Y_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function tp(r,e,t){return await t()}const mi={};class Yo{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Yo.nextInstanceID,Yo.nextInstanceID+=1,this.instanceID>0&&Ir()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},kw),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Nw({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=yg(a.fetch),this.lock=a.lock||tp,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ir()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=Pw:this.lock=tp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:gg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ep(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=ep(this.memoryStorage)),Ir()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=mi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){mi[this.storageKey]=Object.assign(Object.assign({},mi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=mi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){mi[this.storageKey]=Object.assign(Object.assign({},mi[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${dg}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=cw(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Ir()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:o}=await this._getSessionFromURL(t,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),ew(o)){const f=(e=o.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:c}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return _e(t)?{error:t}:{error:new vg("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,a;try{const o=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:cn}),{data:l,error:c}=o;if(c||!l)return{data:{user:null,session:null},error:c};const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(o){if(_e(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var t,n,a;try{let o;if("email"in e){const{email:v,password:g,options:x}=e;let m=null,_=null;this.flowType==="pkce"&&([m,_]=await gi(this.storage,this.storageKey)),o=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:v,password:g,data:(t=x?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:m,code_challenge_method:_},xform:cn})}else if("phone"in e){const{phone:v,password:g,options:x}=e;o=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:g,data:(n=x?.data)!==null&&n!==void 0?n:{},channel:(a=x?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:cn})}else throw new _l("You must provide either an email or phone number and a password");const{data:l,error:c}=o;if(c||!l)return{data:{user:null,session:null},error:c};const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(o){if(_e(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:l,options:c}=e;t=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Jv})}else if("phone"in e){const{phone:o,password:l,options:c}=e;t=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Jv})}else throw new _l("You must provide either an email or phone number and a password");const{data:n,error:a}=t;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ml}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(t){if(_e(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,a,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,n,a,o,l,c,f,h,v,g,x,m;let _,b;if("message"in e)_=e.message,b=e.signature;else{const{chain:A,wallet:S,statement:O,options:T}=e;let N;if(Ir())if(typeof S=="object")N=S;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))N=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=S}const P=new URL((t=T?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in N&&N.signIn){const D=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),O?{statement:O}:null));let B;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")B=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)B=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)_=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),b=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${P.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(a=(n=T?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=T?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((l=T?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((c=T?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((f=T?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((h=T?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((g=(v=T?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||g===void 0)&&g.length?["Resources",...T.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const D=await N.signMessage(new TextEncoder().encode(_),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=D}}try{const{data:A,error:S}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:sw(b)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:cn});if(S)throw S;return!A||!A.session||!A.user?{data:{user:null,session:null},error:new ml}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:S})}catch(A){if(_e(A))return{data:{user:null,session:null},error:A};throw A}}async _exchangeCodeForSession(e){const t=await pa(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(t??"").split("/");try{const{data:o,error:l}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:cn});if(await Fn(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new ml}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:l})}catch(o){if(_e(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:t,provider:n,token:a,access_token:o,nonce:l}=e,c=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:cn}),{data:f,error:h}=c;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new ml}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:h})}catch(t){if(_e(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,a,o,l;try{if("email"in e){const{email:c,options:f}=e;let h=null,v=null;this.flowType==="pkce"&&([h,v]=await gi(this.storage,this.storageKey));const{error:g}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(t=f?.data)!==null&&t!==void 0?t:{},create_user:(n=f?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:h,code_challenge_method:v},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:c,options:f}=e,{data:h,error:v}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(a=f?.data)!==null&&a!==void 0?a:{},create_user:(o=f?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(l=f?.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:v}}throw new _l("You must provide either an email or phone number.")}catch(c){if(_e(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var t,n;try{let a,o;"options"in e&&(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:c}=await Oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:cn});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,h=l.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(a){if(_e(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var t,n,a;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await gi(this.storage,this.storageKey)),await Oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:Tw})}catch(o){if(_e(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Vn;const{error:a}=await Oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(_e(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:o}=e,{error:l}=await Oe(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:n,type:a,options:o}=e,{data:l,error:c}=await Oe(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:c}}throw new _l("You must provide either an email or phone number and a type")}catch(t){if(_e(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await pa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<_f:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const l=await pa(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=Af()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,h,v)=>(!l&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,h,v))})}return{data:{session:e},error:null}}const{session:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Xn}):await this._useSession(async t=>{var n,a,o;const{data:l,error:c}=t;if(c)throw c;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vn}:await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:Xn})})}catch(t){if(_e(t))return J_(t)&&(await this._removeSession(),await Fn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:a,error:o}=n;if(o)throw o;if(!a.session)throw new Vn;const l=a.session;let c=null,f=null;this.flowType==="pkce"&&e.email!=null&&([c,f]=await gi(this.storage,this.storageKey));const{data:h,error:v}=await Oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:f}),jwt:l.access_token,xform:Xn});if(v)throw v;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Vn;const t=Date.now()/1e3;let n=t,a=!0,o=null;const{payload:l}=Ef(e.access_token);if(l.exp&&(n=l.exp,a=n<=t),a){const{session:c,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:f}=await this._getUser(e.access_token);if(f)throw f;o={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(t){if(_e(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:l,error:c}=t;if(c)throw c;e=(n=l.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new Vn;const{session:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(_e(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Ir())throw new wl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new wl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new qv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wl("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new qv("No code detected.");const{data:O,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:o,refresh_token:l,expires_in:c,expires_at:f,token_type:h}=e;if(!o||!c||!l||!h)throw new wl("No session defined in URL");const v=Math.round(Date.now()/1e3),g=parseInt(c);let x=v+g;f&&(x=parseInt(f));const m=x-v;m*1e3<=wi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${g}s`);const _=x-g;v-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,x,v):v-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,x,v);const{data:b,error:A}=await this._getUser(o);if(A)throw A;const S={provider_token:n,provider_refresh_token:a,access_token:o,expires_in:g,expires_at:x,refresh_token:l,token_type:h,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:e.type},error:null}}catch(n){if(_e(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await pa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:a,error:o}=t;if(o)return{error:o};const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(Q_(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await Fn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=uw(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,a;try{const{data:{session:o},error:l}=t;if(l)throw l;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await gi(this.storage,this.storageKey,!0));try{return await Oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(_e(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(_e(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:a}=await this._useSession(async o=>{var l,c,f,h,v;const{data:g,error:x}=o;if(x)throw x;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Oe(this.fetch,"GET",m,{headers:this.headers,jwt:(v=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return Ir()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(_e(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,a;const{data:o,error:l}=t;if(l)throw l;return await Oe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await hw(async a=>(a>0&&await dw(200*Math.pow(2,a-1)),this._debug(t,"refreshing attempt",a),await Oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:cn})),(a,o)=>{const l=200*Math.pow(2,a);return o&&wf(o)&&Date.now()+l-n<wi})}catch(n){if(this._debug(t,"error",n),_e(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Ir()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await pa(this.storage,this.storageKey);if(a&&this.userStorage){let l=await pa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await Ei(this.userStorage,this.storageKey+"-user",l)),a.user=(e=l?.user)!==null&&e!==void 0?e:Af()}else if(a&&!a.user&&!a.user){const l=await pa(this.storage,this.storageKey+"-user");l&&l?.user?(a.user=l.user,await Fn(this.storage,this.storageKey+"-user"),await Ei(this.storage,this.storageKey,a)):a.user=Af()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const o=((t=a.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<_f;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${_f}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),wf(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(a.access_token);!c&&l?.user?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Vn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Gl;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new Vn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={session:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(a,"error",o),_e(o)){const l={session:null,error:o};return wf(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,t)}catch(f){o.push(f)}});if(await Promise.all(l),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&t.user&&await Ei(this.userStorage,this.storageKey+"-user",{user:t.user});const a=Object.assign({},t);delete a.user;const o=Kv(a);await Ei(this.storage,this.storageKey,o)}else{const a=Kv(t);await Ei(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Fn(this.storage,this.storageKey),await Fn(this.storage,this.storageKey+"-code-verifier"),await Fn(this.storage,this.storageKey+"-user"),this.userStorage&&await Fn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ir()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),wi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/wi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${wi}ms, refresh threshold is ${Gf} ticks`),a<=Gf&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof xg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ir()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const a=[`provider=${encodeURIComponent(t)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,l]=await gi(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(c.toString())}if(n?.queryParams){const o=new URLSearchParams(n.queryParams);a.push(o.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:a,error:o}=t;return o?{data:null,error:o}:await Oe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,a;const{data:o,error:l}=t;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:f,error:h}=await Oe(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&(!((a=f?.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:a,error:o}=t;if(o)return{data:null,error:o};const{data:l,error:c}=await Oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(t){if(_e(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:a,error:o}=t;return o?{data:null,error:o}:await Oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(_e(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=e?.factors||[],a=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),o=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:a,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:a},error:o}=e;if(o)return{data:null,error:o};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Ef(a.access_token);let c=null;l.aal&&(c=l.aal);let f=c;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const v=l.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(c=>c.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(c=>c.kid===e),n&&this.jwks_cached_at+Z_>a)return n;const{data:o,error:l}=await Oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,n=o.keys.find(c=>c.kid===e),!n)?null:n}async getClaims(e,t={}){try{let n=e;if(!n){const{data:m,error:_}=await this.getSession();if(_||!m.session)return{data:null,error:_};n=m.session.access_token}const{header:a,payload:o,signature:l,raw:{header:c,payload:f}}=Ef(n);t?.allowExpired||_w(o.exp);const h=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!h){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:o,header:a,signature:l},error:null}}const v=ww(a.alg),g=await crypto.subtle.importKey("jwk",h,v,!0,["verify"]);if(!await crypto.subtle.verify(v,g,l,ow(`${c}.${f}`)))throw new Yf("Invalid JWT signature");return{data:{claims:o,header:a,signature:l},error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}}Yo.nextInstanceID=0;const Lw=Yo;class jw extends Lw{constructor(e){super(e)}}var Uw=function(r,e,t,n){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(v){try{h(n.next(v))}catch(g){l(g)}}function f(v){try{h(n.throw(v))}catch(g){l(g)}}function h(v){v.done?o(v.value):a(v.value).then(c,f)}h((n=n.apply(r,e||[])).next())})};class Fw{constructor(e,t,n){var a,o,l;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const c=G_(e),f=new URL(c);this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const h=`sb-${f.hostname.split(".")[0]}-auth-token`,v={db:k_,realtime:j_,auth:Object.assign(Object.assign({},L_),{storageKey:h}),global:P_},g=X_(n??{},v);this.storageKey=(a=g.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=g.global.headers)!==null&&o!==void 0?o:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(x,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=g.auth)!==null&&l!==void 0?l:{},this.headers,g.global.fetch),this.fetch=H_(t,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new r_(new URL("rest/v1",f).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new N_(this.storageUrl.href,this.headers,this.fetch,n?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new Gm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Uw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,storageKey:o,flowType:l,lock:c,debug:f},h,v){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jw({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),h),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,flowType:l,lock:c,debug:f,fetch:v,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new m_(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zw=(r,e,t)=>new Fw(r,e,t);function Hw(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Hw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Vw="https://znqhoohjugyblgwepovp.supabase.co",Gw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpucWhvb2hqdWd5Ymxnd2Vwb3ZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ0OTk0OTAsImV4cCI6MjA3MDA3NTQ5MH0.dEWUpJtDbzLKRv9UtxpJLEmSMT6M_QChI3eu8EjO3dY",Ye=zw(Vw,Gw,{realtime:{params:{eventsPerSecond:10}}});function Xw(r,e){var t=Object.setPrototypeOf;t?t(r,e):r.__proto__=e}function qw(r,e){e===void 0&&(e=r.constructor);var t=Error.captureStackTrace;t&&t(r,e)}var Yw=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])},r(t,n)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),$w=(function(r){Yw(e,r);function e(t,n){var a=this.constructor,o=r.call(this,t,n)||this;return Object.defineProperty(o,"name",{value:a.name,enumerable:!1,configurable:!0}),Xw(o,a.prototype),qw(o),o}return e})(Error),Ww=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),ar=(function(r){Ww(e,r);function e(t){t===void 0&&(t=void 0);var n=r.call(this,t)||this;return n.message=t,n}return e.prototype.getKind=function(){var t=this.constructor;return t.kind},e.kind="Exception",e})($w),Zw=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),ht=(function(r){Zw(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArgumentException",e})(ar),Kw=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),ve=(function(r){Kw(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e})(ar),mg=(function(){function r(e){if(this.binarizer=e,e===null)throw new ve("Binarizer must be non-null.")}return r.prototype.getWidth=function(){return this.binarizer.getWidth()},r.prototype.getHeight=function(){return this.binarizer.getHeight()},r.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},r.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},r.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},r.prototype.crop=function(e,t,n,a){var o=this.binarizer.getLuminanceSource().crop(e,t,n,a);return new r(this.binarizer.createBinarizer(o))},r.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},r.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new r(this.binarizer.createBinarizer(e))},r.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new r(this.binarizer.createBinarizer(e))},r.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},r})(),Qw=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),gt=(function(r){Qw(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})(ar),Jw=(function(){function r(e){this.source=e}return r.prototype.getLuminanceSource=function(){return this.source},r.prototype.getWidth=function(){return this.source.getWidth()},r.prototype.getHeight=function(){return this.source.getHeight()},r})(),Qe=(function(){function r(){}return r.arraycopy=function(e,t,n,a,o){for(;o--;)n[a++]=e[t++]},r.currentTimeMillis=function(){return Date.now()},r})(),e3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),pd=(function(r){e3(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e})(ar),t3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),rp=(function(r){t3(e,r);function e(t,n){t===void 0&&(t=void 0),n===void 0&&(n=void 0);var a=r.call(this,n)||this;return a.index=t,a.message=n,a}return e.kind="ArrayIndexOutOfBoundsException",e})(pd),r3=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},St=(function(){function r(){}return r.fill=function(e,t){for(var n=0,a=e.length;n<a;n++)e[n]=t},r.fillWithin=function(e,t,n,a){r.rangeCheck(e.length,t,n);for(var o=t;o<n;o++)e[o]=a},r.rangeCheck=function(e,t,n){if(t>n)throw new ve("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new rp(t);if(n>e)throw new rp(n)},r.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},r.create=function(e,t,n){var a=Array.from({length:e});return a.map(function(o){return Array.from({length:t}).fill(n)})},r.createInt32Array=function(e,t,n){var a=Array.from({length:e});return a.map(function(o){return Int32Array.from({length:t}).fill(n)})},r.equals=function(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(var n=0,a=e.length;n<a;n++)if(e[n]!==t[n])return!1;return!0},r.hashCode=function(e){var t,n;if(e===null)return 0;var a=1;try{for(var o=r3(e),l=o.next();!l.done;l=o.next()){var c=l.value;a=31*a+c}}catch(f){t={error:f}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return a},r.fillUint8Array=function(e,t){for(var n=0;n!==e.length;n++)e[n]=t},r.copyOf=function(e,t){return e.slice(0,t)},r.copyOfUint8Array=function(e,t){if(e.length<=t){var n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)},r.copyOfRange=function(e,t,n){var a=n-t,o=new Int32Array(a);return Qe.arraycopy(e,t,o,0,a),o},r.binarySearch=function(e,t,n){n===void 0&&(n=r.numberComparator);for(var a=0,o=e.length-1;a<=o;){var l=o+a>>1,c=n(t,e[l]);if(c>0)a=l+1;else if(c<0)o=l-1;else return l}return-a-1},r.numberComparator=function(e,t){return e-t},r})(),Se=(function(){function r(){}return r.numberOfTrailingZeros=function(e){var t;if(e===0)return 32;var n=31;return t=e<<16,t!==0&&(n-=16,e=t),t=e<<8,t!==0&&(n-=8,e=t),t=e<<4,t!==0&&(n-=4,e=t),t=e<<2,t!==0&&(n-=2,e=t),n-(e<<1>>>31)},r.numberOfLeadingZeros=function(e){if(e===0)return 32;var t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t},r.toHexString=function(e){return e.toString(16)},r.toBinaryString=function(e){return String(parseInt(String(e),2))},r.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},r.truncDivision=function(e,t){return Math.trunc(e/t)},r.parseInt=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},r.MIN_VALUE_32_BITS=-2147483648,r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r})(),Bt=(function(){function r(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=r.makeArray(e):this.bits=t)}return r.prototype.getSize=function(){return this.size},r.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},r.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var t=r.makeArray(e);Qe.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},r.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},r.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},r.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},r.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,a=Math.floor(e/32),o=n[a];o&=~((1<<(e&31))-1);for(var l=n.length;o===0;){if(++a===l)return t;o=n[a]}var c=a*32+Se.numberOfTrailingZeros(o);return c>t?t:c},r.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,a=Math.floor(e/32),o=~n[a];o&=~((1<<(e&31))-1);for(var l=n.length;o===0;){if(++a===l)return t;o=~n[a]}var c=a*32+Se.numberOfTrailingZeros(o);return c>t?t:c},r.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},r.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new ve;if(t!==e){t--;for(var n=Math.floor(e/32),a=Math.floor(t/32),o=this.bits,l=n;l<=a;l++){var c=l>n?0:e&31,f=l<a?31:t&31,h=(2<<f)-(1<<c);o[l]|=h}}},r.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,n=0;n<e;n++)t[n]=0},r.prototype.isRange=function(e,t,n){if(t<e||e<0||t>this.size)throw new ve;if(t===e)return!0;t--;for(var a=Math.floor(e/32),o=Math.floor(t/32),l=this.bits,c=a;c<=o;c++){var f=c>a?0:e&31,h=c<o?31:t&31,v=(2<<h)-(1<<f)&4294967295;if((l[c]&v)!==(n?v:0))return!1}return!0},r.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},r.prototype.appendBits=function(e,t){if(t<0||t>32)throw new ve("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var n=t;n>0;n--)this.appendBit((e>>n-1&1)===1)},r.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var n=0;n<t;n++)this.appendBit(e.get(n))},r.prototype.xor=function(e){if(this.size!==e.size)throw new ve("Sizes don't match");for(var t=this.bits,n=0,a=t.length;n<a;n++)t[n]^=e.bits[n]},r.prototype.toBytes=function(e,t,n,a){for(var o=0;o<a;o++){for(var l=0,c=0;c<8;c++)this.get(e)&&(l|=1<<7-c),e++;t[n+o]=l}},r.prototype.getBitArray=function(){return this.bits},r.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,a=this.bits,o=0;o<n;o++){var l=a[o];l=l>>1&1431655765|(l&1431655765)<<1,l=l>>2&858993459|(l&858993459)<<2,l=l>>4&252645135|(l&252645135)<<4,l=l>>8&16711935|(l&16711935)<<8,l=l>>16&65535|(l&65535)<<16,e[t-o]=l}if(this.size!==n*32){for(var c=n*32-this.size,f=e[0]>>>c,o=1;o<n;o++){var h=e[o];f|=h<<32-c,e[o-1]=f,f=h>>>c}e[n-1]=f}this.bits=e},r.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.size===t.size&&St.equals(this.bits,t.bits)},r.prototype.hashCode=function(){return 31*this.size+St.hashCode(this.bits)},r.prototype.toString=function(){for(var e="",t=0,n=this.size;t<n;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e},r.prototype.clone=function(){return new r(this.size,this.bits.slice())},r.prototype.toArray=function(){for(var e=[],t=0,n=this.size;t<n;t++)e.push(this.get(t));return e},r})(),$f;(function(r){r[r.OTHER=0]="OTHER",r[r.PURE_BARCODE=1]="PURE_BARCODE",r[r.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",r[r.TRY_HARDER=3]="TRY_HARDER",r[r.CHARACTER_SET=4]="CHARACTER_SET",r[r.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",r[r.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",r[r.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",r[r.ASSUME_GS1=8]="ASSUME_GS1",r[r.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",r[r.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",r[r.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})($f||($f={}));const Je=$f;var n3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),oe=(function(r){n3(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e})(ar),a3=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ze;(function(r){r[r.Cp437=0]="Cp437",r[r.ISO8859_1=1]="ISO8859_1",r[r.ISO8859_2=2]="ISO8859_2",r[r.ISO8859_3=3]="ISO8859_3",r[r.ISO8859_4=4]="ISO8859_4",r[r.ISO8859_5=5]="ISO8859_5",r[r.ISO8859_6=6]="ISO8859_6",r[r.ISO8859_7=7]="ISO8859_7",r[r.ISO8859_8=8]="ISO8859_8",r[r.ISO8859_9=9]="ISO8859_9",r[r.ISO8859_10=10]="ISO8859_10",r[r.ISO8859_11=11]="ISO8859_11",r[r.ISO8859_13=12]="ISO8859_13",r[r.ISO8859_14=13]="ISO8859_14",r[r.ISO8859_15=14]="ISO8859_15",r[r.ISO8859_16=15]="ISO8859_16",r[r.SJIS=16]="SJIS",r[r.Cp1250=17]="Cp1250",r[r.Cp1251=18]="Cp1251",r[r.Cp1252=19]="Cp1252",r[r.Cp1256=20]="Cp1256",r[r.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",r[r.UTF8=22]="UTF8",r[r.ASCII=23]="ASCII",r[r.Big5=24]="Big5",r[r.GB18030=25]="GB18030",r[r.EUC_KR=26]="EUC_KR"})(ze||(ze={}));var bt=(function(){function r(e,t,n){for(var a,o,l=[],c=3;c<arguments.length;c++)l[c-3]=arguments[c];this.valueIdentifier=e,this.name=n,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=l,r.VALUE_IDENTIFIER_TO_ECI.set(e,this),r.NAME_TO_ECI.set(n,this);for(var f=this.values,h=0,v=f.length;h!==v;h++){var g=f[h];r.VALUES_TO_ECI.set(g,this)}try{for(var x=a3(l),m=x.next();!m.done;m=x.next()){var _=m.value;r.NAME_TO_ECI.set(_,this)}}catch(b){a={error:b}}finally{try{m&&!m.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}}return r.prototype.getValueIdentifier=function(){return this.valueIdentifier},r.prototype.getName=function(){return this.name},r.prototype.getValue=function(){return this.values[0]},r.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new oe("incorect value");var t=r.VALUES_TO_ECI.get(e);if(t===void 0)throw new oe("incorect value");return t},r.getCharacterSetECIByName=function(e){var t=r.NAME_TO_ECI.get(e);if(t===void 0)throw new oe("incorect value");return t},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.getName()===t.getName()},r.VALUE_IDENTIFIER_TO_ECI=new Map,r.VALUES_TO_ECI=new Map,r.NAME_TO_ECI=new Map,r.Cp437=new r(ze.Cp437,Int32Array.from([0,2]),"Cp437"),r.ISO8859_1=new r(ze.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),r.ISO8859_2=new r(ze.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),r.ISO8859_3=new r(ze.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),r.ISO8859_4=new r(ze.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),r.ISO8859_5=new r(ze.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),r.ISO8859_6=new r(ze.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),r.ISO8859_7=new r(ze.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),r.ISO8859_8=new r(ze.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),r.ISO8859_9=new r(ze.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),r.ISO8859_10=new r(ze.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),r.ISO8859_11=new r(ze.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),r.ISO8859_13=new r(ze.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),r.ISO8859_14=new r(ze.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),r.ISO8859_15=new r(ze.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),r.ISO8859_16=new r(ze.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),r.SJIS=new r(ze.SJIS,20,"SJIS","Shift_JIS"),r.Cp1250=new r(ze.Cp1250,21,"Cp1250","windows-1250"),r.Cp1251=new r(ze.Cp1251,22,"Cp1251","windows-1251"),r.Cp1252=new r(ze.Cp1252,23,"Cp1252","windows-1252"),r.Cp1256=new r(ze.Cp1256,24,"Cp1256","windows-1256"),r.UnicodeBigUnmarked=new r(ze.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),r.UTF8=new r(ze.UTF8,26,"UTF8","UTF-8"),r.ASCII=new r(ze.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),r.Big5=new r(ze.Big5,28,"Big5"),r.GB18030=new r(ze.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),r.EUC_KR=new r(ze.EUC_KR,30,"EUC_KR","EUC-KR"),r})(),i3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Rl=(function(r){i3(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e})(ar),Cr=(function(){function r(){}return r.decode=function(e,t){var n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},r.shouldDecodeOnFallback=function(e){return!r.isBrowser()&&e==="ISO-8859-1"},r.encode=function(e,t){var n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},r.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},r.encodingName=function(e){return typeof e=="string"?e:e.getName()},r.encodingCharacterSet=function(e){return e instanceof bt?e:bt.getCharacterSetECIByName(e)},r.decodeFallback=function(e,t){var n=this.encodingCharacterSet(t);if(r.isDecodeFallbackSupported(n)){for(var a="",o=0,l=e.length;o<l;o++){var c=e[o].toString(16);c.length<2&&(c="0"+c),a+="%"+c}return decodeURIComponent(a)}if(n.equals(bt.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Rl("Encoding "+this.encodingName(t)+" not supported by fallback.")},r.isDecodeFallbackSupported=function(e){return e.equals(bt.UTF8)||e.equals(bt.ISO8859_1)||e.equals(bt.ASCII)},r.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))),n=t.split(""),a=[],o=0;o<n.length;o++)a.push(n[o].charCodeAt(0));return new Uint8Array(a)},r})(),Ie=(function(){function r(){}return r.castAsNonUtf8Char=function(e,t){t===void 0&&(t=null);var n=t?t.getName():this.ISO88591;return Cr.decode(new Uint8Array([e]),n)},r.guessEncoding=function(e,t){if(t!=null&&t.get(Je.CHARACTER_SET)!==void 0)return t.get(Je.CHARACTER_SET).toString();for(var n=e.length,a=!0,o=!0,l=!0,c=0,f=0,h=0,v=0,g=0,x=0,m=0,_=0,b=0,A=0,S=0,O=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,T=0;T<n&&(a||o||l);T++){var N=e[T]&255;l&&(c>0?(N&128)===0?l=!1:c--:(N&128)!==0&&((N&64)===0?l=!1:(c++,(N&32)===0?f++:(c++,(N&16)===0?h++:(c++,(N&8)===0?v++:l=!1))))),a&&(N>127&&N<160?a=!1:N>159&&(N<192||N===215||N===247)&&S++),o&&(g>0?N<64||N===127||N>252?o=!1:g--:N===128||N===160||N>239?o=!1:N>160&&N<224?(x++,_=0,m++,m>b&&(b=m)):N>127?(g++,m=0,_++,_>A&&(A=_)):(m=0,_=0))}return l&&c>0&&(l=!1),o&&g>0&&(o=!1),l&&(O||f+h+v>0)?r.UTF8:o&&(r.ASSUME_SHIFT_JIS||b>=3||A>=3)?r.SHIFT_JIS:a&&o?b===2&&x===2||S*10>=n?r.SHIFT_JIS:r.ISO88591:a?r.ISO88591:o?r.SHIFT_JIS:l?r.UTF8:r.PLATFORM_DEFAULT_ENCODING},r.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var a=-1;function o(c,f,h,v,g,x){if(c==="%%")return"%";if(t[++a]!==void 0){c=v?parseInt(v.substr(1)):void 0;var m=g?parseInt(g.substr(1)):void 0,_;switch(x){case"s":_=t[a];break;case"c":_=t[a][0];break;case"f":_=parseFloat(t[a]).toFixed(c);break;case"p":_=parseFloat(t[a]).toPrecision(c);break;case"e":_=parseFloat(t[a]).toExponential(c);break;case"x":_=parseInt(t[a]).toString(m||16);break;case"d":_=parseFloat(parseInt(t[a],m||10).toPrecision(c)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(m);for(var b=parseInt(h),A=h&&h[0]+""=="0"?"0":" ";_.length<b;)_=f!==void 0?_+A:A+_;return _}}var l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(l,o)},r.getBytes=function(e,t){return Cr.encode(e,t)},r.getCharCode=function(e,t){return t===void 0&&(t=0),e.charCodeAt(t)},r.getCharAt=function(e){return String.fromCharCode(e)},r.SHIFT_JIS=bt.SJIS.getName(),r.GB2312="GB2312",r.ISO88591=bt.ISO8859_1.getName(),r.EUC_JP="EUC_JP",r.UTF8=bt.UTF8.getName(),r.PLATFORM_DEFAULT_ENCODING=r.UTF8,r.ASSUME_SHIFT_JIS=!1,r})(),Ae=(function(){function r(e){e===void 0&&(e=""),this.value=e}return r.prototype.enableDecoding=function(e){return this.encoding=e,this},r.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Ie.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},r.prototype.appendChars=function(e,t,n){for(var a=t;t<t+n;a++)this.append(e[a]);return this},r.prototype.length=function(){return this.value.length},r.prototype.charAt=function(e){return this.value.charAt(e)},r.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},r.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},r.prototype.substring=function(e,t){return this.value.substring(e,t)},r.prototype.setLengthToZero=function(){this.value=""},r.prototype.toString=function(){return this.value},r.prototype.insert=function(e,t){this.value=this.value.substring(0,e)+t+this.value.substring(e)},r})(),Gr=(function(){function r(e,t,n,a){if(this.width=e,this.height=t,this.rowSize=n,this.bits=a,t==null&&(t=e),this.height=t,e<1||t<1)throw new ve("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return r.parseFromBooleanArray=function(e){for(var t=e.length,n=e[0].length,a=new r(n,t),o=0;o<t;o++)for(var l=e[o],c=0;c<n;c++)l[c]&&a.set(c,o);return a},r.parseFromString=function(e,t,n){if(e===null)throw new ve("stringRepresentation cannot be null");for(var a=new Array(e.length),o=0,l=0,c=-1,f=0,h=0;h<e.length;)if(e.charAt(h)===`
`||e.charAt(h)==="\r"){if(o>l){if(c===-1)c=o-l;else if(o-l!==c)throw new ve("row lengths do not match");l=o,f++}h++}else if(e.substring(h,h+t.length)===t)h+=t.length,a[o]=!0,o++;else if(e.substring(h,h+n.length)===n)h+=n.length,a[o]=!1,o++;else throw new ve("illegal character encountered: "+e.substring(h));if(o>l){if(c===-1)c=o-l;else if(o-l!==c)throw new ve("row lengths do not match");f++}for(var v=new r(c,f),g=0;g<o;g++)a[g]&&v.set(Math.floor(g%c),Math.floor(g/c));return v},r.prototype.get=function(e,t){var n=t*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},r.prototype.set=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},r.prototype.unset=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},r.prototype.flip=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},r.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new ve("input matrix dimensions do not match");for(var t=new Bt(Math.floor(this.width/32)+1),n=this.rowSize,a=this.bits,o=0,l=this.height;o<l;o++)for(var c=o*n,f=e.getRow(o,t).getBitArray(),h=0;h<n;h++)a[c+h]^=f[h]},r.prototype.clear=function(){for(var e=this.bits,t=e.length,n=0;n<t;n++)e[n]=0},r.prototype.setRegion=function(e,t,n,a){if(t<0||e<0)throw new ve("Left and top must be nonnegative");if(a<1||n<1)throw new ve("Height and width must be at least 1");var o=e+n,l=t+a;if(l>this.height||o>this.width)throw new ve("The region must fit inside the matrix");for(var c=this.rowSize,f=this.bits,h=t;h<l;h++)for(var v=h*c,g=e;g<o;g++)f[v+Math.floor(g/32)]|=1<<(g&31)&4294967295},r.prototype.getRow=function(e,t){t==null||t.getSize()<this.width?t=new Bt(this.width):t.clear();for(var n=this.rowSize,a=this.bits,o=e*n,l=0;l<n;l++)t.setBulk(l*32,a[o+l]);return t},r.prototype.setRow=function(e,t){Qe.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},r.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),n=new Bt(e),a=new Bt(e),o=0,l=Math.floor((t+1)/2);o<l;o++)n=this.getRow(o,n),a=this.getRow(t-1-o,a),n.reverse(),a.reverse(),this.setRow(o,a),this.setRow(t-1-o,n)},r.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,n=this.rowSize,a=this.bits,o=e,l=t,c=-1,f=-1,h=0;h<t;h++)for(var v=0;v<n;v++){var g=a[h*n+v];if(g!==0){if(h<l&&(l=h),h>f&&(f=h),v*32<o){for(var x=0;(g<<31-x&4294967295)===0;)x++;v*32+x<o&&(o=v*32+x)}if(v*32+31>c){for(var x=31;!(g>>>x);)x--;v*32+x>c&&(c=v*32+x)}}}return c<o||f<l?null:Int32Array.from([o,l,c-o+1,f-l+1])},r.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,n=0;n<t.length&&t[n]===0;)n++;if(n===t.length)return null;for(var a=n/e,o=n%e*32,l=t[n],c=0;(l<<31-c&4294967295)===0;)c++;return o+=c,Int32Array.from([o,a])},r.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,n=t.length-1;n>=0&&t[n]===0;)n--;if(n<0)return null;for(var a=Math.floor(n/e),o=Math.floor(n%e)*32,l=t[n],c=31;!(l>>>c);)c--;return o+=c,Int32Array.from([o,a])},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.getRowSize=function(){return this.rowSize},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&St.equals(this.bits,t.bits)},r.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+St.hashCode(this.bits),e},r.prototype.toString=function(e,t,n){return e===void 0&&(e="X "),t===void 0&&(t="  "),n===void 0&&(n=`
`),this.buildToString(e,t,n)},r.prototype.buildToString=function(e,t,n){for(var a=new Ae,o=0,l=this.height;o<l;o++){for(var c=0,f=this.width;c<f;c++)a.append(this.get(c,o)?e:t);a.append(n)}return a.toString()},r.prototype.clone=function(){return new r(this.width,this.height,this.rowSize,this.bits.slice())},r})(),o3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),$=(function(r){o3(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})(ar),s3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),l3=(function(r){s3(e,r);function e(t){var n=r.call(this,t)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(t,n){var a=this.getLuminanceSource(),o=a.getWidth();n==null||n.getSize()<o?n=new Bt(o):n.clear(),this.initArrays(o);for(var l=a.getRow(t,this.luminances),c=this.buckets,f=0;f<o;f++)c[(l[f]&255)>>e.LUMINANCE_SHIFT]++;var h=e.estimateBlackPoint(c);if(o<3)for(var f=0;f<o;f++)(l[f]&255)<h&&n.set(f);else for(var v=l[0]&255,g=l[1]&255,f=1;f<o-1;f++){var x=l[f+1]&255;(g*4-v-x)/2<h&&n.set(f),v=g,g=x}return n},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),n=t.getWidth(),a=t.getHeight(),o=new Gr(n,a);this.initArrays(n);for(var l=this.buckets,c=1;c<5;c++)for(var f=Math.floor(a*c/5),h=t.getRow(f,this.luminances),v=Math.floor(n*4/5),g=Math.floor(n/5);g<v;g++){var x=h[g]&255;l[x>>e.LUMINANCE_SHIFT]++}for(var m=e.estimateBlackPoint(l),_=t.getMatrix(),c=0;c<a;c++)for(var b=c*n,g=0;g<n;g++){var x=_[b+g]&255;x<m&&o.set(g,c)}return o},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var n=this.buckets,a=0;a<e.LUMINANCE_BUCKETS;a++)n[a]=0},e.estimateBlackPoint=function(t){for(var n=t.length,a=0,o=0,l=0,c=0;c<n;c++)t[c]>l&&(o=c,l=t[c]),t[c]>a&&(a=t[c]);for(var f=0,h=0,c=0;c<n;c++){var v=c-o,g=t[c]*v*v;g>h&&(f=c,h=g)}if(o>f){var x=o;o=f,f=x}if(f-o<=n/16)throw new $;for(var m=f-1,_=-1,c=f-1;c>o;c--){var b=c-o,g=b*b*(f-c)*(a-t[c]);g>_&&(m=c,_=g)}return m<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(Jw),u3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),_g=(function(r){u3(e,r);function e(t){var n=r.call(this,t)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var t=this.getLuminanceSource(),n=t.getWidth(),a=t.getHeight();if(n>=e.MINIMUM_DIMENSION&&a>=e.MINIMUM_DIMENSION){var o=t.getMatrix(),l=n>>e.BLOCK_SIZE_POWER;(n&e.BLOCK_SIZE_MASK)!==0&&l++;var c=a>>e.BLOCK_SIZE_POWER;(a&e.BLOCK_SIZE_MASK)!==0&&c++;var f=e.calculateBlackPoints(o,l,c,n,a),h=new Gr(n,a);e.calculateThresholdForBlock(o,l,c,n,a,f,h),this.matrix=h}else this.matrix=r.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,n,a,o,l,c,f){for(var h=l-e.BLOCK_SIZE,v=o-e.BLOCK_SIZE,g=0;g<a;g++){var x=g<<e.BLOCK_SIZE_POWER;x>h&&(x=h);for(var m=e.cap(g,2,a-3),_=0;_<n;_++){var b=_<<e.BLOCK_SIZE_POWER;b>v&&(b=v);for(var A=e.cap(_,2,n-3),S=0,O=-2;O<=2;O++){var T=c[m+O];S+=T[A-2]+T[A-1]+T[A]+T[A+1]+T[A+2]}var N=S/25;e.thresholdBlock(t,b,x,N,o,f)}}},e.cap=function(t,n,a){return t<n?n:t>a?a:t},e.thresholdBlock=function(t,n,a,o,l,c){for(var f=0,h=a*l+n;f<e.BLOCK_SIZE;f++,h+=l)for(var v=0;v<e.BLOCK_SIZE;v++)(t[h+v]&255)<=o&&c.set(n+v,a+f)},e.calculateBlackPoints=function(t,n,a,o,l){for(var c=l-e.BLOCK_SIZE,f=o-e.BLOCK_SIZE,h=new Array(a),v=0;v<a;v++){h[v]=new Int32Array(n);var g=v<<e.BLOCK_SIZE_POWER;g>c&&(g=c);for(var x=0;x<n;x++){var m=x<<e.BLOCK_SIZE_POWER;m>f&&(m=f);for(var _=0,b=255,A=0,S=0,O=g*o+m;S<e.BLOCK_SIZE;S++,O+=o){for(var T=0;T<e.BLOCK_SIZE;T++){var N=t[O+T]&255;_+=N,N<b&&(b=N),N>A&&(A=N)}if(A-b>e.MIN_DYNAMIC_RANGE)for(S++,O+=o;S<e.BLOCK_SIZE;S++,O+=o)for(var T=0;T<e.BLOCK_SIZE;T++)_+=t[O+T]&255}var P=_>>e.BLOCK_SIZE_POWER*2;if(A-b<=e.MIN_DYNAMIC_RANGE&&(P=b/2,v>0&&x>0)){var D=(h[v-1][x]+2*h[v][x-1]+h[v-1][x-1])/4;b<D&&(P=D)}h[v][x]=P}}return h},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e})(l3),Jo=(function(){function r(e,t){this.width=e,this.height=t}return r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.isCropSupported=function(){return!1},r.prototype.crop=function(e,t,n,a){throw new Rl("This luminance source does not support cropping.")},r.prototype.isRotateSupported=function(){return!1},r.prototype.rotateCounterClockwise=function(){throw new Rl("This luminance source does not support rotation by 90 degrees.")},r.prototype.rotateCounterClockwise45=function(){throw new Rl("This luminance source does not support rotation by 45 degrees.")},r.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new Ae,n=0;n<this.height;n++){for(var a=this.getRow(n,e),o=0;o<this.width;o++){var l=a[o]&255,c=void 0;l<64?c="#":l<128?c="+":l<192?c=".":c=" ",t.append(c)}t.append(`
`)}return t.toString()},r})(),c3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Xl=(function(r){c3(e,r);function e(t){var n=r.call(this,t.getWidth(),t.getHeight())||this;return n.delegate=t,n}return e.prototype.getRow=function(t,n){for(var a=this.delegate.getRow(t,n),o=this.getWidth(),l=0;l<o;l++)a[l]=255-(a[l]&255);return a},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(n),o=0;o<n;o++)a[o]=255-(t[o]&255);return a},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,n,a,o){return new e(this.delegate.crop(t,n,a,o))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})(Jo),f3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),d3=(function(r){f3(e,r);function e(t,n){n===void 0&&(n=!1);var a=r.call(this,t.width,t.height)||this;return a.canvas=t,a.tempCanvasElement=null,a.buffer=e.makeBufferFromCanvasImageData(t,n),a}return e.makeBufferFromCanvasImageData=function(t,n){n===void 0&&(n=!1);var a=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(a.data,t.width,t.height,n)},e.toGrayscaleBuffer=function(t,n,a,o){o===void 0&&(o=!1);var l=new Uint8ClampedArray(n*a);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!o)for(var c=0,f=0,h=t.length;c<h;c+=4,f++){var v=void 0,g=t[c+3];if(g===0)v=255;else{var x=t[c],m=t[c+1],_=t[c+2];v=306*x+601*m+117*_+512>>10}l[f]=v}else for(var c=0,f=0,b=t.length;c<b;c+=4,f++){var v=void 0,g=t[c+3];if(g===0)v=255;else{var x=t[c],m=t[c+1],_=t[c+2];v=306*x+601*m+117*_+512>>10}l[f]=255-v}return l},e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new ve("Requested row is outside the image: "+t);var a=this.getWidth(),o=t*a;return n===null?n=this.buffer.slice(o,o+a):(n.length<a&&(n=new Uint8ClampedArray(a)),n.set(this.buffer.slice(o,o+a))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,a,o){return r.prototype.crop.call(this,t,n,a,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var n=this.getTempCanvasElement(),a=n.getContext("2d"),o=t*e.DEGREE_TO_RADIANS,l=this.canvas.width,c=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(o))*l+Math.abs(Math.sin(o))*c),h=Math.ceil(Math.abs(Math.sin(o))*l+Math.abs(Math.cos(o))*c);return n.width=f,n.height=h,a.translate(f/2,h/2),a.rotate(o),a.drawImage(this.canvas,l/-2,c/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new Xl(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e})(Jo),h3=(function(){function r(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}return r.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},r})(),$t=function(r,e,t,n){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(v){try{h(n.next(v))}catch(g){l(g)}}function f(v){try{h(n.throw(v))}catch(g){l(g)}}function h(v){v.done?o(v.value):a(v.value).then(c,f)}h((n=n.apply(r,e||[])).next())})},Wt=function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,a,o,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(h){return function(v){return f([h,v])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,a&&(o=h[0]&2?a.return:h[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,h[1])).done)return o;switch(a=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,a=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(r,t)}catch(v){h=[6,v],a=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},v3=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ii=(function(){function r(e,t,n){t===void 0&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(r.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),r.prototype.listVideoInputDevices=function(){return $t(this,void 0,void 0,function(){var e,t,n,a,o,l,c,f,h,v,g,x;return Wt(this,function(m){switch(m.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=m.sent(),t=[];try{for(n=v3(e),a=n.next();!a.done;a=n.next())o=a.value,l=o.kind==="video"?"videoinput":o.kind,l==="videoinput"&&(c=o.deviceId||o.id,f=o.label||"Video device "+(t.length+1),h=o.groupId,v={deviceId:c,label:f,kind:l,groupId:h},t.push(v))}catch(_){g={error:_}}finally{try{a&&!a.done&&(x=n.return)&&x.call(n)}finally{if(g)throw g.error}}return[2,t]}})})},r.prototype.getVideoInputDevices=function(){return $t(this,void 0,void 0,function(){var e;return Wt(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=t.sent(),[2,e.map(function(n){return new h3(n.deviceId,n.label)})]}})})},r.prototype.findDeviceById=function(e){return $t(this,void 0,void 0,function(){var t;return Wt(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=n.sent(),t?[2,t.find(function(a){return a.deviceId===e})]:[2,null]}})})},r.prototype.decodeFromInputVideoDevice=function(e,t){return $t(this,void 0,void 0,function(){return Wt(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,n.sent()]}})})},r.prototype.decodeOnceFromVideoDevice=function(e,t){return $t(this,void 0,void 0,function(){var n,a;return Wt(this,function(o){switch(o.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},a={video:n},[4,this.decodeOnceFromConstraints(a,t)];case 1:return[2,o.sent()]}})})},r.prototype.decodeOnceFromConstraints=function(e,t){return $t(this,void 0,void 0,function(){var n;return Wt(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=a.sent(),[4,this.decodeOnceFromStream(n,t)];case 2:return[2,a.sent()]}})})},r.prototype.decodeOnceFromStream=function(e,t){return $t(this,void 0,void 0,function(){var n,a;return Wt(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return n=o.sent(),[4,this.decodeOnce(n)];case 2:return a=o.sent(),[2,a]}})})},r.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,n){return $t(this,void 0,void 0,function(){return Wt(this,function(a){switch(a.label){case 0:return[4,this.decodeFromVideoDevice(e,t,n)];case 1:return[2,a.sent()]}})})},r.prototype.decodeFromVideoDevice=function(e,t,n){return $t(this,void 0,void 0,function(){var a,o;return Wt(this,function(l){switch(l.label){case 0:return e?a={deviceId:{exact:e}}:a={facingMode:"environment"},o={video:a},[4,this.decodeFromConstraints(o,t,n)];case 1:return[2,l.sent()]}})})},r.prototype.decodeFromConstraints=function(e,t,n){return $t(this,void 0,void 0,function(){var a;return Wt(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return a=o.sent(),[4,this.decodeFromStream(a,t,n)];case 2:return[2,o.sent()]}})})},r.prototype.decodeFromStream=function(e,t,n){return $t(this,void 0,void 0,function(){var a;return Wt(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return a=o.sent(),[4,this.decodeContinuously(a,n)];case 2:return[2,o.sent()]}})})},r.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},r.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},r.prototype.attachStreamToVideo=function(e,t){return $t(this,void 0,void 0,function(){var n;return Wt(this,function(a){switch(a.label){case 0:return n=this.prepareVideoElement(t),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return a.sent(),[2,n]}})})},r.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(n,a){return t.playVideoOnLoad(e,function(){return n()})})},r.prototype.playVideoOnLoad=function(e,t){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},r.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},r.prototype.tryPlayVideo=function(e){return $t(this,void 0,void 0,function(){return Wt(this,function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},r.prototype.getMediaElement=function(e,t){var n=document.getElementById(e);if(!n)throw new ht("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new ht("element with id '"+e+"' must be an "+t+" element");return n},r.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new ht("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},r.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new ht("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},r.prototype.decodeFromVideoContinuously=function(e,t,n){if(e===void 0&&t===void 0)throw new ht("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)},r.prototype.decodeFromImageElement=function(e){if(!e)throw new ht("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);this.imageElement=t;var n;return this.isImageLoaded(t)?n=this.decodeOnce(t,!1,!0):n=this._decodeOnLoadImage(t),n},r.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},r.prototype.decodeFromVideoElementContinuously=function(e,t){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)},r.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new ht("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},r.prototype.decodeFromImageUrl=function(e){if(!e)throw new ht("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var n=this._decodeOnLoadImage(t);return t.src=e,n},r.prototype.decodeFromVideoUrl=function(e){if(!e)throw new ht("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n},r.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new ht("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(n,t);return n.src=e,a},r.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(n,a){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(n,a)},e.addEventListener("load",t.imageLoadedListener)})},r.prototype._decodeOnLoadVideo=function(e){return $t(this,void 0,void 0,function(){return Wt(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},r.prototype._decodeOnLoadVideoContinuously=function(e,t){return $t(this,void 0,void 0,function(){return Wt(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,t),[2]}})})},r.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},r.prototype.prepareImageElement=function(e){var t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},r.prototype.prepareVideoElement=function(e){var t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},r.prototype.decodeOnce=function(e,t,n){var a=this;t===void 0&&(t=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var o=function(l,c){if(a._stopAsyncDecode){c(new $("Video stream has ended before any code could be detected.")),a._stopAsyncDecode=void 0;return}try{var f=a.decode(e);l(f)}catch(x){var h=t&&x instanceof $,v=x instanceof gt||x instanceof oe,g=v&&n;if(h||g)return setTimeout(o,a._timeBetweenDecodingAttempts,l,c);c(x)}};return new Promise(function(l,c){return o(l,c)})},r.prototype.decodeContinuously=function(e,t){var n=this;this._stopContinuousDecode=!1;var a=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var o=n.decode(e);t(o,null),setTimeout(a,n.timeBetweenScansMillis)}catch(f){t(null,f);var l=f instanceof gt||f instanceof oe,c=f instanceof $;(l||c)&&setTimeout(a,n._timeBetweenDecodingAttempts)}};a()},r.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},r.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var t=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),t=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),a=new d3(n,t),o=new _g(a);return new mg(o)},r.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),n=void 0;try{n=t.getContext("2d",{willReadFrequently:!0})}catch{n=t.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},r.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},r.prototype.drawFrameOnCanvas=function(e,t,n){t===void 0&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},r.prototype.drawImageOnCanvas=function(e,t,n){t===void 0&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},r.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},r.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var t=document.createElement("canvas"),n,a;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,a=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,a=e.naturalHeight||e.height)),t.style.width=n+"px",t.style.height=a+"px",t.width=n,t.height=a,t},r.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},r.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},r.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},r.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},r.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},r.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}},r.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},r})(),Xt=(function(){function r(e,t,n,a,o,l){n===void 0&&(n=t==null?0:8*t.length),l===void 0&&(l=Qe.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=a,this.format=o,this.timestamp=l,this.text=e,this.rawBytes=t,n==null?this.numBits=t==null?0:8*t.length:this.numBits=n,this.resultPoints=a,this.format=o,this.resultMetadata=null,l==null?this.timestamp=Qe.currentTimeMillis():this.timestamp=l}return r.prototype.getText=function(){return this.text},r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.getBarcodeFormat=function(){return this.format},r.prototype.getResultMetadata=function(){return this.resultMetadata},r.prototype.putMetadata=function(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},r.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},r.prototype.addResultPoints=function(e){var t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(t.length+e.length);Qe.arraycopy(t,0,n,0,t.length),Qe.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.toString=function(){return this.text},r})(),Wf;(function(r){r[r.AZTEC=0]="AZTEC",r[r.CODABAR=1]="CODABAR",r[r.CODE_39=2]="CODE_39",r[r.CODE_93=3]="CODE_93",r[r.CODE_128=4]="CODE_128",r[r.DATA_MATRIX=5]="DATA_MATRIX",r[r.EAN_8=6]="EAN_8",r[r.EAN_13=7]="EAN_13",r[r.ITF=8]="ITF",r[r.MAXICODE=9]="MAXICODE",r[r.PDF_417=10]="PDF_417",r[r.QR_CODE=11]="QR_CODE",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Wf||(Wf={}));const he=Wf;var Zf;(function(r){r[r.OTHER=0]="OTHER",r[r.ORIENTATION=1]="ORIENTATION",r[r.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",r[r.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",r[r.ISSUE_NUMBER=4]="ISSUE_NUMBER",r[r.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",r[r.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",r[r.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",r[r.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",r[r.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",r[r.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Zf||(Zf={}));const Ft=Zf;var ql=(function(){function r(e,t,n,a,o,l){o===void 0&&(o=-1),l===void 0&&(l=-1),this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=a,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=l,this.numBits=e==null?0:8*e.length}return r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.setNumBits=function(e){this.numBits=e},r.prototype.getText=function(){return this.text},r.prototype.getByteSegments=function(){return this.byteSegments},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getErrorsCorrected=function(){return this.errorsCorrected},r.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},r.prototype.getErasures=function(){return this.erasures},r.prototype.setErasures=function(e){this.erasures=e},r.prototype.getOther=function(){return this.other},r.prototype.setOther=function(e){this.other=e},r.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},r.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},r.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},r})(),Fo=(function(){function r(){}return r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new ve;return this.logTable[e]},r.addOrSubtract=function(e,t){return e^t},r})(),qn=(function(){function r(e,t){if(t.length===0)throw new ve;this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var a=1;a<n&&t[a]===0;)a++;a===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-a),Qe.arraycopy(t,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var t=this.coefficients,n;if(e===1){n=0;for(var a=0,o=t.length;a!==o;a++){var l=t[a];n=Fo.addOrSubtract(n,l)}return n}n=t[0];for(var c=t.length,f=this.field,a=1;a<c;a++)n=Fo.addOrSubtract(f.multiply(e,n),t[a]);return n},r.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new ve("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var a=t;t=n,n=a}var o=new Int32Array(n.length),l=n.length-t.length;Qe.arraycopy(n,0,o,0,l);for(var c=l;c<n.length;c++)o[c]=Fo.addOrSubtract(t[c-l],n[c]);return new r(this.field,o)},r.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new ve("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,n=t.length,a=e.coefficients,o=a.length,l=new Int32Array(n+o-1),c=this.field,f=0;f<n;f++)for(var h=t[f],v=0;v<o;v++)l[f+v]=Fo.addOrSubtract(l[f+v],c.multiply(h,a[v]));return new r(c,l)},r.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var t=this.coefficients.length,n=this.field,a=new Int32Array(t),o=this.coefficients,l=0;l<t;l++)a[l]=n.multiply(o[l],e);return new r(n,a)},r.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new ve;if(t===0)return this.field.getZero();for(var n=this.coefficients,a=n.length,o=new Int32Array(a+e),l=this.field,c=0;c<a;c++)o[c]=l.multiply(n[c],t);return new r(l,o)},r.prototype.divide=function(e){if(!this.field.equals(e.field))throw new ve("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new ve("Divide by 0");for(var t=this.field,n=t.getZero(),a=this,o=e.getCoefficient(e.getDegree()),l=t.inverse(o);a.getDegree()>=e.getDegree()&&!a.isZero();){var c=a.getDegree()-e.getDegree(),f=t.multiply(a.getCoefficient(a.getDegree()),l),h=e.multiplyByMonomial(c,f),v=t.buildMonomial(c,f);n=n.addOrSubtract(v),a=a.addOrSubtract(h)}return[n,a]},r.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),t===0||n!==1){var a=this.field.log(n);a===0?e+="1":a===1?e+="a":(e+="a^",e+=a)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e},r})(),p3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),wg=(function(r){p3(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArithmeticException",e})(ar),g3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),nr=(function(r){g3(e,r);function e(t,n,a){var o=r.call(this)||this;o.primitive=t,o.size=n,o.generatorBase=a;for(var l=new Int32Array(n),c=1,f=0;f<n;f++)l[f]=c,c*=2,c>=n&&(c^=t,c&=n-1);o.expTable=l;for(var h=new Int32Array(n),f=0;f<n-1;f++)h[l[f]]=f;return o.logTable=h,o.zero=new qn(o,Int32Array.from([0])),o.one=new qn(o,Int32Array.from([1])),o}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,n){if(t<0)throw new ve;if(n===0)return this.zero;var a=new Int32Array(t+1);return a[0]=n,new qn(this,a)},e.prototype.inverse=function(t){if(t===0)throw new wg;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,n){return t===0||n===0?0:this.expTable[(this.logTable[t]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Se.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(Fo),y3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),El=(function(r){y3(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReedSolomonException",e})(ar),x3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),es=(function(r){x3(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalStateException",e})(ar),Yl=(function(){function r(e){this.field=e}return r.prototype.decode=function(e,t){for(var n=this.field,a=new qn(n,e),o=new Int32Array(t),l=!0,c=0;c<t;c++){var f=a.evaluateAt(n.exp(c+n.getGeneratorBase()));o[o.length-1-c]=f,f!==0&&(l=!1)}if(!l)for(var h=new qn(n,o),v=this.runEuclideanAlgorithm(n.buildMonomial(t,1),h,t),g=v[0],x=v[1],m=this.findErrorLocations(g),_=this.findErrorMagnitudes(x,m),c=0;c<m.length;c++){var b=e.length-1-n.log(m[c]);if(b<0)throw new El("Bad error location");e[b]=nr.addOrSubtract(e[b],_[c])}},r.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var a=e;e=t,t=a}for(var o=this.field,l=e,c=t,f=o.getZero(),h=o.getOne();c.getDegree()>=(n/2|0);){var v=l,g=f;if(l=c,f=h,l.isZero())throw new El("r_{i-1} was zero");c=v;for(var x=o.getZero(),m=l.getCoefficient(l.getDegree()),_=o.inverse(m);c.getDegree()>=l.getDegree()&&!c.isZero();){var b=c.getDegree()-l.getDegree(),A=o.multiply(c.getCoefficient(c.getDegree()),_);x=x.addOrSubtract(o.buildMonomial(b,A)),c=c.addOrSubtract(l.multiplyByMonomial(b,A))}if(h=x.multiply(f).addOrSubtract(g),c.getDegree()>=l.getDegree())throw new es("Division algorithm failed to reduce polynomial?")}var S=h.getCoefficient(0);if(S===0)throw new El("sigmaTilde(0) was zero");var O=o.inverse(S),T=h.multiplyScalar(O),N=c.multiplyScalar(O);return[T,N]},r.prototype.findErrorLocations=function(e){var t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(t),a=0,o=this.field,l=1;l<o.getSize()&&a<t;l++)e.evaluateAt(l)===0&&(n[a]=o.inverse(l),a++);if(a!==t)throw new El("Error locator degree does not match number of roots");return n},r.prototype.findErrorMagnitudes=function(e,t){for(var n=t.length,a=new Int32Array(n),o=this.field,l=0;l<n;l++){for(var c=o.inverse(t[l]),f=1,h=0;h<n;h++)if(l!==h){var v=o.multiply(t[h],c),g=(v&1)===0?v|1:v&-2;f=o.multiply(f,g)}a[l]=o.multiply(e.evaluateAt(c),o.inverse(f)),o.getGeneratorBase()!==0&&(a[l]=o.multiply(a[l],c))}return a},r})(),jt;(function(r){r[r.UPPER=0]="UPPER",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.DIGIT=3]="DIGIT",r[r.PUNCT=4]="PUNCT",r[r.BINARY=5]="BINARY"})(jt||(jt={}));var np=(function(){function r(){}return r.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),n=this.extractBits(t),a=this.correctBits(n),o=r.convertBoolArrayToByteArray(a),l=r.getEncodedData(a),c=new ql(o,l,null,null);return c.setNumBits(a.length),c},r.highLevelDecode=function(e){return this.getEncodedData(e)},r.getEncodedData=function(e){for(var t=e.length,n=jt.UPPER,a=jt.UPPER,o="",l=0;l<t;)if(a===jt.BINARY){if(t-l<5)break;var c=r.readCode(e,l,5);if(l+=5,c===0){if(t-l<11)break;c=r.readCode(e,l,11)+31,l+=11}for(var f=0;f<c;f++){if(t-l<8){l=t;break}var h=r.readCode(e,l,8);o+=Ie.castAsNonUtf8Char(h),l+=8}a=n}else{var v=a===jt.DIGIT?4:5;if(t-l<v)break;var h=r.readCode(e,l,v);l+=v;var g=r.getCharacter(a,h);g.startsWith("CTRL_")?(n=a,a=r.getTable(g.charAt(5)),g.charAt(6)==="L"&&(n=a)):(o+=g,a=n)}return o},r.getTable=function(e){switch(e){case"L":return jt.LOWER;case"P":return jt.PUNCT;case"M":return jt.MIXED;case"D":return jt.DIGIT;case"B":return jt.BINARY;case"U":default:return jt.UPPER}},r.getCharacter=function(e,t){switch(e){case jt.UPPER:return r.UPPER_TABLE[t];case jt.LOWER:return r.LOWER_TABLE[t];case jt.MIXED:return r.MIXED_TABLE[t];case jt.PUNCT:return r.PUNCT_TABLE[t];case jt.DIGIT:return r.DIGIT_TABLE[t];default:throw new es("Bad table")}},r.prototype.correctBits=function(e){var t,n;this.ddata.getNbLayers()<=2?(n=6,t=nr.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,t=nr.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,t=nr.AZTEC_DATA_10):(n=12,t=nr.AZTEC_DATA_12);var a=this.ddata.getNbDatablocks(),o=e.length/n;if(o<a)throw new oe;for(var l=e.length%n,c=new Int32Array(o),f=0;f<o;f++,l+=n)c[f]=r.readCode(e,l,n);try{var h=new Yl(t);h.decode(c,o-a)}catch(A){throw new oe(A)}for(var v=(1<<n)-1,g=0,f=0;f<a;f++){var x=c[f];if(x===0||x===v)throw new oe;(x===1||x===v-1)&&g++}for(var m=new Array(a*n-g),_=0,f=0;f<a;f++){var x=c[f];if(x===1||x===v-1)m.fill(x>1,_,_+n-1),_+=n-1;else for(var b=n-1;b>=0;--b)m[_++]=(x&1<<b)!==0}return m},r.prototype.extractBits=function(e){var t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),a=(t?11:14)+n*4,o=new Int32Array(a),l=new Array(this.totalBitsInLayer(n,t));if(t)for(var c=0;c<o.length;c++)o[c]=c;else for(var f=a+1+2*Se.truncDivision(Se.truncDivision(a,2)-1,15),h=a/2,v=Se.truncDivision(f,2),c=0;c<h;c++){var g=c+Se.truncDivision(c,15);o[h-c-1]=v-g-1,o[h+c]=v+g+1}for(var c=0,x=0;c<n;c++){for(var m=(n-c)*4+(t?9:12),_=c*2,b=a-1-_,A=0;A<m;A++)for(var S=A*2,O=0;O<2;O++)l[x+S+O]=e.get(o[_+O],o[_+A]),l[x+2*m+S+O]=e.get(o[_+A],o[b-O]),l[x+4*m+S+O]=e.get(o[b-O],o[b-A]),l[x+6*m+S+O]=e.get(o[b-A],o[_+O]);x+=m*8}return l},r.readCode=function(e,t,n){for(var a=0,o=t;o<t+n;o++)a<<=1,e[o]&&(a|=1);return a},r.readByte=function(e,t){var n=e.length-t;return n>=8?r.readCode(e,t,8):r.readCode(e,t,n)<<8-n},r.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),n=0;n<t.length;n++)t[n]=r.readByte(e,8*n);return t},r.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},r.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],r.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],r.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],r.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],r.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],r})(),Be=(function(){function r(){}return r.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},r.distance=function(e,t,n,a){var o=e-n,l=t-a;return Math.sqrt(o*o+l*l)},r.sum=function(e){for(var t=0,n=0,a=e.length;n!==a;n++){var o=e[n];t+=o}return t},r})(),Kf=(function(){function r(){}return r.floatToIntBits=function(e){return e},r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r})(),ce=(function(){function r(e,t){this.x=e,this.y=t}return r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.equals=function(e){if(e instanceof r){var t=e;return this.x===t.x&&this.y===t.y}return!1},r.prototype.hashCode=function(){return 31*Kf.floatToIntBits(this.x)+Kf.floatToIntBits(this.y)},r.prototype.toString=function(){return"("+this.x+","+this.y+")"},r.orderBestPatterns=function(e){var t=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),a=this.distance(e[0],e[2]),o,l,c;if(n>=t&&n>=a?(l=e[0],o=e[1],c=e[2]):a>=n&&a>=t?(l=e[1],o=e[0],c=e[2]):(l=e[2],o=e[0],c=e[1]),this.crossProductZ(o,l,c)<0){var f=o;o=c,c=f}e[0]=o,e[1]=l,e[2]=c},r.distance=function(e,t){return Be.distance(e.x,e.y,t.x,t.y)},r.crossProductZ=function(e,t,n){var a=t.x,o=t.y;return(n.x-a)*(e.y-o)-(n.y-o)*(e.x-a)},r})(),gd=(function(){function r(e,t){this.bits=e,this.points=t}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r})(),m3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),_3=(function(r){m3(e,r);function e(t,n,a,o,l){var c=r.call(this,t,n)||this;return c.compact=a,c.nbDatablocks=o,c.nbLayers=l,c}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})(gd),Qf=(function(){function r(e,t,n,a){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=r.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),a==null&&(a=e.getHeight()/2|0);var o=t/2|0;if(this.leftInit=n-o,this.rightInit=n+o,this.upInit=a-o,this.downInit=a+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new $}return r.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,n=this.upInit,a=this.downInit,o=!1,l=!0,c=!1,f=!1,h=!1,v=!1,g=!1,x=this.width,m=this.height;l;){l=!1;for(var _=!0;(_||!f)&&t<x;)_=this.containsBlackPoint(n,a,t,!1),_?(t++,l=!0,f=!0):f||t++;if(t>=x){o=!0;break}for(var b=!0;(b||!h)&&a<m;)b=this.containsBlackPoint(e,t,a,!0),b?(a++,l=!0,h=!0):h||a++;if(a>=m){o=!0;break}for(var A=!0;(A||!v)&&e>=0;)A=this.containsBlackPoint(n,a,e,!1),A?(e--,l=!0,v=!0):v||e--;if(e<0){o=!0;break}for(var S=!0;(S||!g)&&n>=0;)S=this.containsBlackPoint(e,t,n,!0),S?(n--,l=!0,g=!0):g||n--;if(n<0){o=!0;break}l&&(c=!0)}if(!o&&c){for(var O=t-e,T=null,N=1;T===null&&N<O;N++)T=this.getBlackPointOnSegment(e,a-N,e+N,a);if(T==null)throw new $;for(var P=null,N=1;P===null&&N<O;N++)P=this.getBlackPointOnSegment(e,n+N,e+N,n);if(P==null)throw new $;for(var D=null,N=1;D===null&&N<O;N++)D=this.getBlackPointOnSegment(t,n+N,t-N,n);if(D==null)throw new $;for(var B=null,N=1;B===null&&N<O;N++)B=this.getBlackPointOnSegment(t,a-N,t-N,a);if(B==null)throw new $;return this.centerEdges(B,T,D,P)}else throw new $},r.prototype.getBlackPointOnSegment=function(e,t,n,a){for(var o=Be.round(Be.distance(e,t,n,a)),l=(n-e)/o,c=(a-t)/o,f=this.image,h=0;h<o;h++){var v=Be.round(e+h*l),g=Be.round(t+h*c);if(f.get(v,g))return new ce(v,g)}return null},r.prototype.centerEdges=function(e,t,n,a){var o=e.getX(),l=e.getY(),c=t.getX(),f=t.getY(),h=n.getX(),v=n.getY(),g=a.getX(),x=a.getY(),m=r.CORR;return o<this.width/2?[new ce(g-m,x+m),new ce(c+m,f+m),new ce(h-m,v-m),new ce(o+m,l-m)]:[new ce(g+m,x+m),new ce(c+m,f-m),new ce(h-m,v+m),new ce(o-m,l-m)]},r.prototype.containsBlackPoint=function(e,t,n,a){var o=this.image;if(a){for(var l=e;l<=t;l++)if(o.get(l,n))return!0}else for(var c=e;c<=t;c++)if(o.get(n,c))return!0;return!1},r.INIT_SIZE=10,r.CORR=1,r})(),ap=(function(){function r(){}return r.checkAndNudgePoints=function(e,t){for(var n=e.getWidth(),a=e.getHeight(),o=!0,l=0;l<t.length&&o;l+=2){var c=Math.floor(t[l]),f=Math.floor(t[l+1]);if(c<-1||c>n||f<-1||f>a)throw new $;o=!1,c===-1?(t[l]=0,o=!0):c===n&&(t[l]=n-1,o=!0),f===-1?(t[l+1]=0,o=!0):f===a&&(t[l+1]=a-1,o=!0)}o=!0;for(var l=t.length-2;l>=0&&o;l-=2){var c=Math.floor(t[l]),f=Math.floor(t[l+1]);if(c<-1||c>n||f<-1||f>a)throw new $;o=!1,c===-1?(t[l]=0,o=!0):c===n&&(t[l]=n-1,o=!0),f===-1?(t[l+1]=0,o=!0):f===a&&(t[l+1]=a-1,o=!0)}},r})(),Eg=(function(){function r(e,t,n,a,o,l,c,f,h){this.a11=e,this.a21=t,this.a31=n,this.a12=a,this.a22=o,this.a32=l,this.a13=c,this.a23=f,this.a33=h}return r.quadrilateralToQuadrilateral=function(e,t,n,a,o,l,c,f,h,v,g,x,m,_,b,A){var S=r.quadrilateralToSquare(e,t,n,a,o,l,c,f),O=r.squareToQuadrilateral(h,v,g,x,m,_,b,A);return O.times(S)},r.prototype.transformPoints=function(e){for(var t=e.length,n=this.a11,a=this.a12,o=this.a13,l=this.a21,c=this.a22,f=this.a23,h=this.a31,v=this.a32,g=this.a33,x=0;x<t;x+=2){var m=e[x],_=e[x+1],b=o*m+f*_+g;e[x]=(n*m+l*_+h)/b,e[x+1]=(a*m+c*_+v)/b}},r.prototype.transformPointsWithValues=function(e,t){for(var n=this.a11,a=this.a12,o=this.a13,l=this.a21,c=this.a22,f=this.a23,h=this.a31,v=this.a32,g=this.a33,x=e.length,m=0;m<x;m++){var _=e[m],b=t[m],A=o*_+f*b+g;e[m]=(n*_+l*b+h)/A,t[m]=(a*_+c*b+v)/A}},r.squareToQuadrilateral=function(e,t,n,a,o,l,c,f){var h=e-n+o-c,v=t-a+l-f;if(h===0&&v===0)return new r(n-e,o-n,e,a-t,l-a,t,0,0,1);var g=n-o,x=c-o,m=a-l,_=f-l,b=g*_-x*m,A=(h*_-x*v)/b,S=(g*v-h*m)/b;return new r(n-e+A*n,c-e+S*c,e,a-t+A*a,f-t+S*f,t,A,S,1)},r.quadrilateralToSquare=function(e,t,n,a,o,l,c,f){return r.squareToQuadrilateral(e,t,n,a,o,l,c,f).buildAdjoint()},r.prototype.buildAdjoint=function(){return new r(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},r.prototype.times=function(e){return new r(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},r})(),w3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),E3=(function(r){w3(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.sampleGrid=function(t,n,a,o,l,c,f,h,v,g,x,m,_,b,A,S,O,T,N){var P=Eg.quadrilateralToQuadrilateral(o,l,c,f,h,v,g,x,m,_,b,A,S,O,T,N);return this.sampleGridWithTransform(t,n,a,P)},e.prototype.sampleGridWithTransform=function(t,n,a,o){if(n<=0||a<=0)throw new $;for(var l=new Gr(n,a),c=new Float32Array(2*n),f=0;f<a;f++){for(var h=c.length,v=f+.5,g=0;g<h;g+=2)c[g]=g/2+.5,c[g+1]=v;o.transformPoints(c),ap.checkAndNudgePoints(t,c);try{for(var g=0;g<h;g+=2)t.get(Math.floor(c[g]),Math.floor(c[g+1]))&&l.set(g/2,f)}catch{throw new $}}return l},e})(ap),yd=(function(){function r(){}return r.setGridSampler=function(e){r.gridSampler=e},r.getInstance=function(){return r.gridSampler},r.gridSampler=new E3,r})(),rr=(function(){function r(e,t){this.x=e,this.y=t}return r.prototype.toResultPoint=function(){return new ce(this.getX(),this.getY())},r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r})(),A3=(function(){function r(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return r.prototype.detect=function(){return this.detectMirror(!1)},r.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){var a=n[0];n[0]=n[2],n[2]=a}this.extractParameters(n);var o=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),l=this.getMatrixCornerPoints(n);return new _3(o,l,this.compact,this.nbDataBlocks,this.nbLayers)},r.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new $;var t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);for(var a=0,o=0;o<4;o++){var l=n[(this.shift+o)%4];this.compact?(a<<=7,a+=l>>1&127):(a<<=10,a+=(l>>2&992)+(l>>1&31))}var c=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)},r.prototype.getRotation=function(e,t){var n=0;e.forEach(function(o,l,c){var f=(o>>t-2<<1)+(o&1);n=(n<<3)+f}),n=((n&1)<<11)+(n>>1);for(var a=0;a<4;a++)if(Se.bitCount(n^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new $},r.prototype.getCorrectedParameterData=function(e,t){var n,a;t?(n=7,a=2):(n=10,a=4);for(var o=n-a,l=new Int32Array(n),c=n-1;c>=0;--c)l[c]=e&15,e>>=4;try{var f=new Yl(nr.AZTEC_PARAM);f.decode(l,o)}catch{throw new $}for(var h=0,c=0;c<a;c++)h=(h<<4)+l[c];return h},r.prototype.getBullsEyeCorners=function(e){var t=e,n=e,a=e,o=e,l=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var c=this.getFirstDifferent(t,l,1,-1),f=this.getFirstDifferent(n,l,1,1),h=this.getFirstDifferent(a,l,-1,1),v=this.getFirstDifferent(o,l,-1,-1);if(this.nbCenterLayers>2){var g=this.distancePoint(v,c)*this.nbCenterLayers/(this.distancePoint(o,t)*(this.nbCenterLayers+2));if(g<.75||g>1.25||!this.isWhiteOrBlackRectangle(c,f,h,v))break}t=c,n=f,a=h,o=v,l=!l}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new $;this.compact=this.nbCenterLayers===5;var x=new ce(t.getX()+.5,t.getY()-.5),m=new ce(n.getX()+.5,n.getY()+.5),_=new ce(a.getX()-.5,a.getY()+.5),b=new ce(o.getX()-.5,o.getY()-.5);return this.expandSquare([x,m,_,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},r.prototype.getMatrixCenter=function(){var e,t,n,a;try{var o=new Qf(this.image).detect();e=o[0],t=o[1],n=o[2],a=o[3]}catch{var l=this.image.getWidth()/2,c=this.image.getHeight()/2;e=this.getFirstDifferent(new rr(l+7,c-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new rr(l+7,c+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new rr(l-7,c+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new rr(l-7,c-7),!1,-1,-1).toResultPoint()}var f=Be.round((e.getX()+a.getX()+t.getX()+n.getX())/4),h=Be.round((e.getY()+a.getY()+t.getY()+n.getY())/4);try{var o=new Qf(this.image,15,f,h).detect();e=o[0],t=o[1],n=o[2],a=o[3]}catch{e=this.getFirstDifferent(new rr(f+7,h-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new rr(f+7,h+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new rr(f-7,h+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new rr(f-7,h-7),!1,-1,-1).toResultPoint()}return f=Be.round((e.getX()+a.getX()+t.getX()+n.getX())/4),h=Be.round((e.getY()+a.getY()+t.getY()+n.getY())/4),new rr(f,h)},r.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},r.prototype.sampleGrid=function(e,t,n,a,o){var l=yd.getInstance(),c=this.getDimension(),f=c/2-this.nbCenterLayers,h=c/2+this.nbCenterLayers;return l.sampleGrid(e,c,c,f,f,h,f,h,h,f,h,t.getX(),t.getY(),n.getX(),n.getY(),a.getX(),a.getY(),o.getX(),o.getY())},r.prototype.sampleLine=function(e,t,n){for(var a=0,o=this.distanceResultPoint(e,t),l=o/n,c=e.getX(),f=e.getY(),h=l*(t.getX()-e.getX())/o,v=l*(t.getY()-e.getY())/o,g=0;g<n;g++)this.image.get(Be.round(c+g*h),Be.round(f+g*v))&&(a|=1<<n-g-1);return a},r.prototype.isWhiteOrBlackRectangle=function(e,t,n,a){var o=3;e=new rr(e.getX()-o,e.getY()+o),t=new rr(t.getX()-o,t.getY()-o),n=new rr(n.getX()+o,n.getY()-o),a=new rr(a.getX()+o,a.getY()+o);var l=this.getColor(a,e);if(l===0)return!1;var c=this.getColor(e,t);return c!==l||(c=this.getColor(t,n),c!==l)?!1:(c=this.getColor(n,a),c===l)},r.prototype.getColor=function(e,t){for(var n=this.distancePoint(e,t),a=(t.getX()-e.getX())/n,o=(t.getY()-e.getY())/n,l=0,c=e.getX(),f=e.getY(),h=this.image.get(e.getX(),e.getY()),v=Math.ceil(n),g=0;g<v;g++)c+=a,f+=o,this.image.get(Be.round(c),Be.round(f))!==h&&l++;var x=l/n;return x>.1&&x<.9?0:x<=.1===h?1:-1},r.prototype.getFirstDifferent=function(e,t,n,a){for(var o=e.getX()+n,l=e.getY()+a;this.isValid(o,l)&&this.image.get(o,l)===t;)o+=n,l+=a;for(o-=n,l-=a;this.isValid(o,l)&&this.image.get(o,l)===t;)o+=n;for(o-=n;this.isValid(o,l)&&this.image.get(o,l)===t;)l+=a;return l-=a,new rr(o,l)},r.prototype.expandSquare=function(e,t,n){var a=n/(2*t),o=e[0].getX()-e[2].getX(),l=e[0].getY()-e[2].getY(),c=(e[0].getX()+e[2].getX())/2,f=(e[0].getY()+e[2].getY())/2,h=new ce(c+a*o,f+a*l),v=new ce(c-a*o,f-a*l);o=e[1].getX()-e[3].getX(),l=e[1].getY()-e[3].getY(),c=(e[1].getX()+e[3].getX())/2,f=(e[1].getY()+e[3].getY())/2;var g=new ce(c+a*o,f+a*l),x=new ce(c-a*o,f-a*l),m=[h,g,v,x];return m},r.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},r.prototype.isValidPoint=function(e){var t=Be.round(e.getX()),n=Be.round(e.getY());return this.isValid(t,n)},r.prototype.distancePoint=function(e,t){return Be.distance(e.getX(),e.getY(),t.getX(),t.getY())},r.prototype.distanceResultPoint=function(e,t){return Be.distance(e.getX(),e.getY(),t.getX(),t.getY())},r.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Se.truncDivision(this.nbLayers-4,8)+1)+15},r})(),Pl=(function(){function r(){}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n=null,a=new A3(e.getBlackMatrix()),o=null,l=null;try{var c=a.detectMirror(!1);o=c.getPoints(),this.reportFoundResultPoints(t,o),l=new np().decode(c)}catch(g){n=g}if(l==null)try{var c=a.detectMirror(!0);o=c.getPoints(),this.reportFoundResultPoints(t,o),l=new np().decode(c)}catch(g){throw n??g}var f=new Xt(l.getText(),l.getRawBytes(),l.getNumBits(),o,he.AZTEC,Qe.currentTimeMillis()),h=l.getByteSegments();h!=null&&f.putMetadata(Ft.BYTE_SEGMENTS,h);var v=l.getECLevel();return v!=null&&f.putMetadata(Ft.ERROR_CORRECTION_LEVEL,v),f},r.prototype.reportFoundResultPoints=function(e,t){if(e!=null){var n=e.get(Je.NEED_RESULT_POINT_CALLBACK);n!=null&&t.forEach(function(a,o,l){n.foundPossibleResultPoint(a)})}},r.prototype.reset=function(){},r})(),b3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){b3(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new Pl,t)||this}return e})(Ii);var Ct=(function(){function r(){}return r.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch{var n=t&&t.get(Je.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var a=e.rotateCounterClockwise(),o=this.doDecode(a,t),l=o.getResultMetadata(),c=270;l!==null&&l.get(Ft.ORIENTATION)===!0&&(c=c+l.get(Ft.ORIENTATION)%360),o.putMetadata(Ft.ORIENTATION,c);var f=o.getResultPoints();if(f!==null)for(var h=a.getHeight(),v=0;v<f.length;v++)f[v]=new ce(h-f[v].getY()-1,f[v].getX());return o}else throw new $}},r.prototype.reset=function(){},r.prototype.doDecode=function(e,t){var n=e.getWidth(),a=e.getHeight(),o=new Bt(n),l=t&&t.get(Je.TRY_HARDER)===!0,c=Math.max(1,a>>(l?8:5)),f;l?f=a:f=15;for(var h=Math.trunc(a/2),v=0;v<f;v++){var g=Math.trunc((v+1)/2),x=(v&1)===0,m=h+c*(x?g:-g);if(m<0||m>=a)break;try{o=e.getBlackRow(m,o)}catch{continue}for(var _=function(O){if(O===1&&(o.reverse(),t&&t.get(Je.NEED_RESULT_POINT_CALLBACK)===!0)){var T=new Map;t.forEach(function(D,B){return T.set(B,D)}),T.delete(Je.NEED_RESULT_POINT_CALLBACK),t=T}try{var N=b.decodeRow(m,o,t);if(O===1){N.putMetadata(Ft.ORIENTATION,180);var P=N.getResultPoints();P!==null&&(P[0]=new ce(n-P[0].getX()-1,P[0].getY()),P[1]=new ce(n-P[1].getX()-1,P[1].getY()))}return{value:N}}catch{}},b=this,A=0;A<2;A++){var S=_(A);if(typeof S=="object")return S.value}}throw new $},r.recordPattern=function(e,t,n){for(var a=n.length,o=0;o<a;o++)n[o]=0;var l=e.getSize();if(t>=l)throw new $;for(var c=!e.get(t),f=0,h=t;h<l;){if(e.get(h)!==c)n[f]++;else{if(++f===a)break;n[f]=1,c=!c}h++}if(!(f===a||f===a-1&&h===l))throw new $},r.recordPatternInReverse=function(e,t,n){for(var a=n.length,o=e.get(t);t>0&&a>=0;)e.get(--t)!==o&&(a--,o=!o);if(a>=0)throw new $;r.recordPattern(e,t+1,n)},r.patternMatchVariance=function(e,t,n){for(var a=e.length,o=0,l=0,c=0;c<a;c++)o+=e[c],l+=t[c];if(o<l)return Number.POSITIVE_INFINITY;var f=o/l;n*=f;for(var h=0,v=0;v<a;v++){var g=e[v],x=t[v]*f,m=g>x?g-x:x-g;if(m>n)return Number.POSITIVE_INFINITY;h+=m}return h/o},r})(),S3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),ip=(function(r){S3(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.findStartPattern=function(t){for(var n=t.getSize(),a=t.getNextSet(0),o=0,l=Int32Array.from([0,0,0,0,0,0]),c=a,f=!1,h=6,v=a;v<n;v++)if(t.get(v)!==f)l[o]++;else{if(o===h-1){for(var g=e.MAX_AVG_VARIANCE,x=-1,m=e.CODE_START_A;m<=e.CODE_START_C;m++){var _=Ct.patternMatchVariance(l,e.CODE_PATTERNS[m],e.MAX_INDIVIDUAL_VARIANCE);_<g&&(g=_,x=m)}if(x>=0&&t.isRange(Math.max(0,c-(v-c)/2),c,!1))return Int32Array.from([c,v,x]);c+=l[0]+l[1],l=l.slice(2,l.length),l[o-1]=0,l[o]=0,o--}else o++;l[o]=1,f=!f}throw new $},e.decodeCode=function(t,n,a){Ct.recordPattern(t,a,n);for(var o=e.MAX_AVG_VARIANCE,l=-1,c=0;c<e.CODE_PATTERNS.length;c++){var f=e.CODE_PATTERNS[c],h=this.patternMatchVariance(n,f,e.MAX_INDIVIDUAL_VARIANCE);h<o&&(o=h,l=c)}if(l>=0)return l;throw new $},e.prototype.decodeRow=function(t,n,a){var o=a&&a.get(Je.ASSUME_GS1)===!0,l=e.findStartPattern(n),c=l[2],f=0,h=new Uint8Array(20);h[f++]=c;var v;switch(c){case e.CODE_START_A:v=e.CODE_CODE_A;break;case e.CODE_START_B:v=e.CODE_CODE_B;break;case e.CODE_START_C:v=e.CODE_CODE_C;break;default:throw new oe}for(var g=!1,x=!1,m="",_=l[0],b=l[1],A=Int32Array.from([0,0,0,0,0,0]),S=0,O=0,T=c,N=0,P=!0,D=!1,B=!1;!g;){var Y=x;switch(x=!1,S=O,O=e.decodeCode(n,A,b),h[f++]=O,O!==e.CODE_STOP&&(P=!0),O!==e.CODE_STOP&&(N++,T+=N*O),_=b,b+=A.reduce(function(re,le){return re+le},0),O){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new oe}switch(v){case e.CODE_CODE_A:if(O<64)B===D?m+=String.fromCharCode(32+O):m+=String.fromCharCode(32+O+128),B=!1;else if(O<96)B===D?m+=String.fromCharCode(O-64):m+=String.fromCharCode(O+64),B=!1;else switch(O!==e.CODE_STOP&&(P=!1),O){case e.CODE_FNC_1:o&&(m.length===0?m+="]C1":m+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!D&&B?(D=!0,B=!1):D&&B?(D=!1,B=!1):B=!0;break;case e.CODE_SHIFT:x=!0,v=e.CODE_CODE_B;break;case e.CODE_CODE_B:v=e.CODE_CODE_B;break;case e.CODE_CODE_C:v=e.CODE_CODE_C;break;case e.CODE_STOP:g=!0;break}break;case e.CODE_CODE_B:if(O<96)B===D?m+=String.fromCharCode(32+O):m+=String.fromCharCode(32+O+128),B=!1;else switch(O!==e.CODE_STOP&&(P=!1),O){case e.CODE_FNC_1:o&&(m.length===0?m+="]C1":m+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!D&&B?(D=!0,B=!1):D&&B?(D=!1,B=!1):B=!0;break;case e.CODE_SHIFT:x=!0,v=e.CODE_CODE_A;break;case e.CODE_CODE_A:v=e.CODE_CODE_A;break;case e.CODE_CODE_C:v=e.CODE_CODE_C;break;case e.CODE_STOP:g=!0;break}break;case e.CODE_CODE_C:if(O<100)O<10&&(m+="0"),m+=O;else switch(O!==e.CODE_STOP&&(P=!1),O){case e.CODE_FNC_1:o&&(m.length===0?m+="]C1":m+="");break;case e.CODE_CODE_A:v=e.CODE_CODE_A;break;case e.CODE_CODE_B:v=e.CODE_CODE_B;break;case e.CODE_STOP:g=!0;break}break}Y&&(v=v===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var F=b-_;if(b=n.getNextUnset(b),!n.isRange(b,Math.min(n.getSize(),b+(b-_)/2),!1))throw new $;if(T-=N*S,T%103!==S)throw new gt;var X=m.length;if(X===0)throw new $;X>0&&P&&(v===e.CODE_CODE_C?m=m.substring(0,X-2):m=m.substring(0,X-1));for(var J=(l[1]+l[0])/2,K=_+F/2,ae=h.length,te=new Uint8Array(ae),se=0;se<ae;se++)te[se]=h[se];var L=[new ce(J,t),new ce(K,t)];return new Xt(m,te,0,L,he.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(Ct),C3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Sf=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},op=(function(r){C3(e,r);function e(t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var a=r.call(this)||this;return a.usingCheckDigit=t,a.extendedMode=n,a.decodeRowResult="",a.counters=new Int32Array(9),a}return e.prototype.decodeRow=function(t,n,a){var o,l,c,f,h=this.counters;h.fill(0),this.decodeRowResult="";var v=e.findAsteriskPattern(n,h),g=n.getNextSet(v[1]),x=n.getSize(),m,_;do{e.recordPattern(n,g,h);var b=e.toNarrowWidePattern(h);if(b<0)throw new $;m=e.patternToChar(b),this.decodeRowResult+=m,_=g;try{for(var A=(o=void 0,Sf(h)),S=A.next();!S.done;S=A.next()){var O=S.value;g+=O}}catch(ae){o={error:ae}}finally{try{S&&!S.done&&(l=A.return)&&l.call(A)}finally{if(o)throw o.error}}g=n.getNextSet(g)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var T=0;try{for(var N=Sf(h),P=N.next();!P.done;P=N.next()){var O=P.value;T+=O}}catch(ae){c={error:ae}}finally{try{P&&!P.done&&(f=N.return)&&f.call(N)}finally{if(c)throw c.error}}var D=g-_-T;if(g!==x&&D*2<T)throw new $;if(this.usingCheckDigit){for(var B=this.decodeRowResult.length-1,Y=0,F=0;F<B;F++)Y+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(F));if(this.decodeRowResult.charAt(B)!==e.ALPHABET_STRING.charAt(Y%43))throw new gt;this.decodeRowResult=this.decodeRowResult.substring(0,B)}if(this.decodeRowResult.length===0)throw new $;var X;this.extendedMode?X=e.decodeExtended(this.decodeRowResult):X=this.decodeRowResult;var J=(v[1]+v[0])/2,K=_+T/2;return new Xt(X,null,0,[new ce(J,t),new ce(K,t)],he.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,n){for(var a=t.getSize(),o=t.getNextSet(0),l=0,c=o,f=!1,h=n.length,v=o;v<a;v++)if(t.get(v)!==f)n[l]++;else{if(l===h-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,c-Math.floor((v-c)/2)),c,!1))return[c,v];c+=n[0]+n[1],n.copyWithin(0,2,2+l-1),n[l-1]=0,n[l]=0,l--}else l++;n[l]=1,f=!f}throw new $},e.toNarrowWidePattern=function(t){var n,a,o=t.length,l=0,c;do{var f=2147483647;try{for(var h=(n=void 0,Sf(t)),v=h.next();!v.done;v=h.next()){var g=v.value;g<f&&g>l&&(f=g)}}catch(b){n={error:b}}finally{try{v&&!v.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}l=f,c=0;for(var x=0,m=0,_=0;_<o;_++){var g=t[_];g>l&&(m|=1<<o-1-_,c++,x+=g)}if(c===3){for(var _=0;_<o&&c>0;_++){var g=t[_];if(g>l&&(c--,g*2>=x))return-1}return m}}while(c>3);return-1},e.patternToChar=function(t){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===t)return e.ALPHABET_STRING.charAt(n);if(t===e.ASTERISK_ENCODING)return"*";throw new $},e.decodeExtended=function(t){for(var n=t.length,a="",o=0;o<n;o++){var l=t.charAt(o);if(l==="+"||l==="$"||l==="%"||l==="/"){var c=t.charAt(o+1),f="\0";switch(l){case"+":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)+32);else throw new oe;break;case"$":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)-64);else throw new oe;break;case"%":if(c>="A"&&c<="E")f=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")f=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")f=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")f="\0";else if(c==="V")f="@";else if(c==="W")f="`";else if(c==="X"||c==="Y"||c==="Z")f="";else throw new oe;break;case"/":if(c>="A"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")f=":";else throw new oe;break}a+=f,o++}else a+=l}return a},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(Ct),T3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Cf=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sp=(function(r){T3(e,r);function e(){var t=r.call(this)||this;return t.decodeRowResult="",t.counters=new Int32Array(6),t}return e.prototype.decodeRow=function(t,n,a){var o,l,c,f,h=this.findAsteriskPattern(n),v=n.getNextSet(h[1]),g=n.getSize(),x=this.counters;x.fill(0),this.decodeRowResult="";var m,_;do{e.recordPattern(n,v,x);var b=this.toPattern(x);if(b<0)throw new $;m=this.patternToChar(b),this.decodeRowResult+=m,_=v;try{for(var A=(o=void 0,Cf(x)),S=A.next();!S.done;S=A.next()){var O=S.value;v+=O}}catch(F){o={error:F}}finally{try{S&&!S.done&&(l=A.return)&&l.call(A)}finally{if(o)throw o.error}}v=n.getNextSet(v)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var T=0;try{for(var N=Cf(x),P=N.next();!P.done;P=N.next()){var O=P.value;T+=O}}catch(F){c={error:F}}finally{try{P&&!P.done&&(f=N.return)&&f.call(N)}finally{if(c)throw c.error}}if(v===g||!n.get(v))throw new $;if(this.decodeRowResult.length<2)throw new $;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var D=this.decodeExtended(this.decodeRowResult),B=(h[1]+h[0])/2,Y=_+T/2;return new Xt(D,null,0,[new ce(B,t),new ce(Y,t)],he.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(t){var n=t.getSize(),a=t.getNextSet(0);this.counters.fill(0);for(var o=this.counters,l=a,c=!1,f=o.length,h=0,v=a;v<n;v++)if(t.get(v)!==c)o[h]++;else{if(h===f-1){if(this.toPattern(o)===e.ASTERISK_ENCODING)return new Int32Array([l,v]);l+=o[0]+o[1],o.copyWithin(0,2,2+h-1),o[h-1]=0,o[h]=0,h--}else h++;o[h]=1,c=!c}throw new $},e.prototype.toPattern=function(t){var n,a,o=0;try{for(var l=Cf(t),c=l.next();!c.done;c=l.next()){var f=c.value;o+=f}}catch(_){n={error:_}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}for(var h=0,v=t.length,g=0;g<v;g++){var x=Math.round(t[g]*9/o);if(x<1||x>4)return-1;if((g&1)===0)for(var m=0;m<x;m++)h=h<<1|1;else h<<=x}return h},e.prototype.patternToChar=function(t){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===t)return e.ALPHABET_STRING.charAt(n);throw new $},e.prototype.decodeExtended=function(t){for(var n=t.length,a="",o=0;o<n;o++){var l=t.charAt(o);if(l>="a"&&l<="d"){if(o>=n-1)throw new oe;var c=t.charAt(o+1),f="\0";switch(l){case"d":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)+32);else throw new oe;break;case"a":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)-64);else throw new oe;break;case"b":if(c>="A"&&c<="E")f=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")f=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")f=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")f="\0";else if(c==="V")f="@";else if(c==="W")f="`";else if(c>="X"&&c<="Z")f="";else throw new oe;break;case"c":if(c>="A"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")f=":";else throw new oe;break}a+=f,o++}else a+=l}return a},e.prototype.checkChecksums=function(t){var n=t.length;this.checkOneChecksum(t,n-2,20),this.checkOneChecksum(t,n-1,15)},e.prototype.checkOneChecksum=function(t,n,a){for(var o=1,l=0,c=n-1;c>=0;c--)l+=o*e.ALPHABET_STRING.indexOf(t.charAt(c)),++o>a&&(o=1);if(t.charAt(n)!==e.ALPHABET_STRING[l%47])throw new gt},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e})(Ct),O3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),R3=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lp=(function(r){O3(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return e.prototype.decodeRow=function(t,n,a){var o,l,c=this.decodeStart(n),f=this.decodeEnd(n),h=new Ae;e.decodeMiddle(n,c[1],f[0],h);var v=h.toString(),g=null;a!=null&&(g=a.get(Je.ALLOWED_LENGTHS)),g==null&&(g=e.DEFAULT_ALLOWED_LENGTHS);var x=v.length,m=!1,_=0;try{for(var b=R3(g),A=b.next();!A.done;A=b.next()){var S=A.value;if(x===S){m=!0;break}S>_&&(_=S)}}catch(N){o={error:N}}finally{try{A&&!A.done&&(l=b.return)&&l.call(b)}finally{if(o)throw o.error}}if(!m&&x>_&&(m=!0),!m)throw new oe;var O=[new ce(c[1],t),new ce(f[0],t)],T=new Xt(v,null,0,O,he.ITF,new Date().getTime());return T},e.decodeMiddle=function(t,n,a,o){var l=new Int32Array(10),c=new Int32Array(5),f=new Int32Array(5);for(l.fill(0),c.fill(0),f.fill(0);n<a;){Ct.recordPattern(t,n,l);for(var h=0;h<5;h++){var v=2*h;c[h]=l[v],f[h]=l[v+1]}var g=e.decodeDigit(c);o.append(g.toString()),g=this.decodeDigit(f),o.append(g.toString()),l.forEach(function(x){n+=x})}},e.prototype.decodeStart=function(t){var n=e.skipWhiteSpace(t),a=e.findGuardPattern(t,n,e.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(t,a[0]),a},e.prototype.validateQuietZone=function(t,n){var a=this.narrowLineWidth*10;a=a<n?a:n;for(var o=n-1;a>0&&o>=0&&!t.get(o);o--)a--;if(a!==0)throw new $},e.skipWhiteSpace=function(t){var n=t.getSize(),a=t.getNextSet(0);if(a===n)throw new $;return a},e.prototype.decodeEnd=function(t){t.reverse();try{var n=e.skipWhiteSpace(t),a=void 0;try{a=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[0])}catch(l){l instanceof $&&(a=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,a[0]);var o=a[0];return a[0]=t.getSize()-a[1],a[1]=t.getSize()-o,a}finally{t.reverse()}},e.findGuardPattern=function(t,n,a){var o=a.length,l=new Int32Array(o),c=t.getSize(),f=!1,h=0,v=n;l.fill(0);for(var g=n;g<c;g++)if(t.get(g)!==f)l[h]++;else{if(h===o-1){if(Ct.patternMatchVariance(l,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[v,g];v+=l[0]+l[1],Qe.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,f=!f}throw new $},e.decodeDigit=function(t){for(var n=e.MAX_AVG_VARIANCE,a=-1,o=e.PATTERNS.length,l=0;l<o;l++){var c=e.PATTERNS[l],f=Ct.patternMatchVariance(t,c,e.MAX_INDIVIDUAL_VARIANCE);f<n?(n=f,a=l):f===n&&(a=-1)}if(a>=0)return a%10;throw new $},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(Ct),D3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Oi=(function(r){D3(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return e.findStartGuardPattern=function(t){for(var n=!1,a,o=0,l=Int32Array.from([0,0,0]);!n;){l=Int32Array.from([0,0,0]),a=e.findGuardPattern(t,o,!1,this.START_END_PATTERN,l);var c=a[0];o=a[1];var f=c-(o-c);f>=0&&(n=t.isRange(f,c,!1))}return a},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(n===0)return!1;var a=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===a},e.getStandardUPCEANChecksum=function(t){for(var n=t.length,a=0,o=n-1;o>=0;o-=2){var l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new oe;a+=l}a*=3;for(var o=n-2;o>=0;o-=2){var l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new oe;a+=l}return(1e3-a)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,n,a,o){return this.findGuardPattern(t,n,a,o,new Int32Array(o.length))},e.findGuardPattern=function(t,n,a,o,l){var c=t.getSize();n=a?t.getNextUnset(n):t.getNextSet(n);for(var f=0,h=n,v=o.length,g=a,x=n;x<c;x++)if(t.get(x)!==g)l[f]++;else{if(f===v-1){if(Ct.patternMatchVariance(l,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([h,x]);h+=l[0]+l[1];for(var m=l.slice(2,l.length),_=0;_<f-1;_++)l[_]=m[_];l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,g=!g}throw new $},e.decodeDigit=function(t,n,a,o){this.recordPattern(t,a,n);for(var l=this.MAX_AVG_VARIANCE,c=-1,f=o.length,h=0;h<f;h++){var v=o[h],g=Ct.patternMatchVariance(n,v,e.MAX_INDIVIDUAL_VARIANCE);g<l&&(l=g,c=h)}if(c>=0)return c;throw new $},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(Ct),I3=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},N3=(function(){function r(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,t,n){var a=this.decodeRowStringBuffer,o=this.decodeMiddle(t,n,a),l=a.toString(),c=r.parseExtensionString(l),f=[new ce((n[0]+n[1])/2,e),new ce(o,e)],h=new Xt(l,null,0,f,he.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&h.putAllMetadata(c),h},r.prototype.decodeMiddle=function(e,t,n){var a,o,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=e.getSize(),f=t[1],h=0,v=0;v<5&&f<c;v++){var g=Oi.decodeDigit(e,l,f,Oi.L_AND_G_PATTERNS);n+=String.fromCharCode(48+g%10);try{for(var x=(a=void 0,I3(l)),m=x.next();!m.done;m=x.next()){var _=m.value;f+=_}}catch(A){a={error:A}}finally{try{m&&!m.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}g>=10&&(h|=1<<4-v),v!==4&&(f=e.getNextSet(f),f=e.getNextUnset(f))}if(n.length!==5)throw new $;var b=this.determineCheckDigit(h);if(r.extensionChecksum(n.toString())!==b)throw new $;return f},r.extensionChecksum=function(e){for(var t=e.length,n=0,a=t-2;a>=0;a-=2)n+=e.charAt(a).charCodeAt(0)-48;n*=3;for(var a=t-1;a>=0;a-=2)n+=e.charAt(a).charCodeAt(0)-48;return n*=3,n%10},r.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new $},r.parseExtensionString=function(e){if(e.length!==5)return null;var t=r.parseExtension5String(e);return t==null?null:new Map([[Ft.SUGGESTED_PRICE,t]])},r.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}var n=parseInt(e.substring(1)),a=(n/100).toString(),o=n%100,l=o<10?"0"+o:o.toString();return t+a+"."+l},r})(),M3=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},B3=(function(){function r(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,t,n){var a=this.decodeRowStringBuffer,o=this.decodeMiddle(t,n,a),l=a.toString(),c=r.parseExtensionString(l),f=[new ce((n[0]+n[1])/2,e),new ce(o,e)],h=new Xt(l,null,0,f,he.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&h.putAllMetadata(c),h},r.prototype.decodeMiddle=function(e,t,n){var a,o,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=e.getSize(),f=t[1],h=0,v=0;v<2&&f<c;v++){var g=Oi.decodeDigit(e,l,f,Oi.L_AND_G_PATTERNS);n+=String.fromCharCode(48+g%10);try{for(var x=(a=void 0,M3(l)),m=x.next();!m.done;m=x.next()){var _=m.value;f+=_}}catch(b){a={error:b}}finally{try{m&&!m.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}g>=10&&(h|=1<<1-v),v!==1&&(f=e.getNextSet(f),f=e.getNextUnset(f))}if(n.length!==2)throw new $;if(parseInt(n.toString())%4!==h)throw new $;return f},r.parseExtensionString=function(e){return e.length!==2?null:new Map([[Ft.ISSUE_NUMBER,parseInt(e)]])},r})(),P3=(function(){function r(){}return r.decodeRow=function(e,t,n){var a=Oi.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var o=new N3;return o.decodeRow(e,t,a)}catch{var l=new B3;return l.decodeRow(e,t,a)}},r.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),r})(),k3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),At=(function(r){k3(e,r);function e(){var t=r.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(c){return Int32Array.from(c)});for(var n=10;n<20;n++){for(var a=e.L_PATTERNS[n-10],o=new Int32Array(a.length),l=0;l<a.length;l++)o[l]=a[a.length-l-1];e.L_AND_G_PATTERNS[n]=o}return t}return e.prototype.decodeRow=function(t,n,a){var o=e.findStartGuardPattern(n),l=a==null?null:a.get(Je.NEED_RESULT_POINT_CALLBACK);if(l!=null){var c=new ce((o[0]+o[1])/2,t);l.foundPossibleResultPoint(c)}var f=this.decodeMiddle(n,o,this.decodeRowStringBuffer),h=f.rowOffset,v=f.resultString;if(l!=null){var g=new ce(h,t);l.foundPossibleResultPoint(g)}var x=e.decodeEnd(n,h);if(l!=null){var m=new ce((x[0]+x[1])/2,t);l.foundPossibleResultPoint(m)}var _=x[1],b=_+(_-x[0]);if(b>=n.getSize()||!n.isRange(_,b,!1))throw new $;var A=v.toString();if(A.length<8)throw new oe;if(!e.checkChecksum(A))throw new gt;var S=(o[1]+o[0])/2,O=(x[1]+x[0])/2,T=this.getBarcodeFormat(),N=[new ce(S,t),new ce(O,t)],P=new Xt(A,null,0,N,T,new Date().getTime()),D=0;try{var B=P3.decodeRow(t,n,x[1]);P.putMetadata(Ft.UPC_EAN_EXTENSION,B.getText()),P.putAllMetadata(B.getResultMetadata()),P.addResultPoints(B.getResultPoints()),D=B.getText().length}catch{}var Y=a==null?null:a.get(Je.ALLOWED_EAN_EXTENSIONS);if(Y!=null){var F=!1;for(var X in Y)if(D.toString()===X){F=!0;break}if(!F)throw new $}return T===he.EAN_13||he.UPC_A,P},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(n===0)return!1;var a=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===a},e.getStandardUPCEANChecksum=function(t){for(var n=t.length,a=0,o=n-1;o>=0;o-=2){var l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new oe;a+=l}a*=3;for(var o=n-2;o>=0;o-=2){var l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new oe;a+=l}return(1e3-a)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(Oi),L3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),up=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Jf=(function(r){L3(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,n,a){var o,l,c,f,h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;for(var v=t.getSize(),g=n[1],x=0,m=0;m<6&&g<v;m++){var _=At.decodeDigit(t,h,g,At.L_AND_G_PATTERNS);a+=String.fromCharCode(48+_%10);try{for(var b=(o=void 0,up(h)),A=b.next();!A.done;A=b.next()){var S=A.value;g+=S}}catch(P){o={error:P}}finally{try{A&&!A.done&&(l=b.return)&&l.call(b)}finally{if(o)throw o.error}}_>=10&&(x|=1<<5-m)}a=e.determineFirstDigit(a,x);var O=At.findGuardPattern(t,g,!0,At.MIDDLE_PATTERN,new Int32Array(At.MIDDLE_PATTERN.length).fill(0));g=O[1];for(var m=0;m<6&&g<v;m++){var _=At.decodeDigit(t,h,g,At.L_PATTERNS);a+=String.fromCharCode(48+_);try{for(var T=(c=void 0,up(h)),N=T.next();!N.done;N=T.next()){var S=N.value;g+=S}}catch(B){c={error:B}}finally{try{N&&!N.done&&(f=T.return)&&f.call(T)}finally{if(c)throw c.error}}}return{rowOffset:g,resultString:a}},e.prototype.getBarcodeFormat=function(){return he.EAN_13},e.determineFirstDigit=function(t,n){for(var a=0;a<10;a++)if(n===this.FIRST_DIGIT_ENCODINGS[a])return t=String.fromCharCode(48+a)+t,t;throw new $},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})(At),j3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),cp=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fp=(function(r){j3(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,n,a){var o,l,c,f,h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;for(var v=t.getSize(),g=n[1],x=0;x<4&&g<v;x++){var m=At.decodeDigit(t,h,g,At.L_PATTERNS);a+=String.fromCharCode(48+m);try{for(var _=(o=void 0,cp(h)),b=_.next();!b.done;b=_.next()){var A=b.value;g+=A}}catch(N){o={error:N}}finally{try{b&&!b.done&&(l=_.return)&&l.call(_)}finally{if(o)throw o.error}}}var S=At.findGuardPattern(t,g,!0,At.MIDDLE_PATTERN,new Int32Array(At.MIDDLE_PATTERN.length).fill(0));g=S[1];for(var x=0;x<4&&g<v;x++){var m=At.decodeDigit(t,h,g,At.L_PATTERNS);a+=String.fromCharCode(48+m);try{for(var O=(c=void 0,cp(h)),T=O.next();!T.done;T=O.next()){var A=T.value;g+=A}}catch(D){c={error:D}}finally{try{T&&!T.done&&(f=O.return)&&f.call(O)}finally{if(c)throw c.error}}}return{rowOffset:g,resultString:a}},e.prototype.getBarcodeFormat=function(){return he.EAN_8},e})(At),U3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),dp=(function(r){U3(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.ean13Reader=new Jf,t}return e.prototype.getBarcodeFormat=function(){return he.UPC_A},e.prototype.decode=function(t,n){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,n,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,n,a))},e.prototype.decodeMiddle=function(t,n,a){return this.ean13Reader.decodeMiddle(t,n,a)},e.prototype.maybeReturnResult=function(t){var n=t.getText();if(n.charAt(0)==="0"){var a=new Xt(n.substring(1),null,null,t.getResultPoints(),he.UPC_A);return t.getResultMetadata()!=null&&a.putAllMetadata(t.getResultMetadata()),a}else throw new $},e.prototype.reset=function(){this.ean13Reader.reset()},e})(At),F3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),z3=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hp=(function(r){F3(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return e.prototype.decodeMiddle=function(t,n,a){var o,l,c=this.decodeMiddleCounters.map(function(A){return A});c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var f=t.getSize(),h=n[1],v=0,g=0;g<6&&h<f;g++){var x=e.decodeDigit(t,c,h,e.L_AND_G_PATTERNS);a+=String.fromCharCode(48+x%10);try{for(var m=(o=void 0,z3(c)),_=m.next();!_.done;_=m.next()){var b=_.value;h+=b}}catch(A){o={error:A}}finally{try{_&&!_.done&&(l=m.return)&&l.call(m)}finally{if(o)throw o.error}}x>=10&&(v|=1<<5-g)}return e.determineNumSysAndCheckDigit(new Ae(a),v),h},e.prototype.decodeEnd=function(t,n){return e.findGuardPatternWithoutCounters(t,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return At.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,n){for(var a=0;a<=1;a++)for(var o=0;o<10;o++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][o]){t.insert(0,"0"+a),t.append("0"+o);return}throw $.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return he.UPC_E},e.convertUPCEtoUPCA=function(t){var n=t.slice(1,7).split("").map(function(l){return l.charCodeAt(0)}),a=new Ae;a.append(t.charAt(0));var o=n[5];switch(o){case 0:case 1:case 2:a.appendChars(n,0,2),a.append(o),a.append("0000"),a.appendChars(n,2,3);break;case 3:a.appendChars(n,0,3),a.append("00000"),a.appendChars(n,3,2);break;case 4:a.appendChars(n,0,4),a.append("00000"),a.append(n[4]);break;default:a.appendChars(n,0,5),a.append("0000"),a.append(o);break}return t.length>=8&&a.append(t.charAt(7)),a.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})(At),H3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),vp=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tf=(function(r){H3(e,r);function e(t){var n=r.call(this)||this,a=t==null?null:t.get(Je.POSSIBLE_FORMATS),o=[];return a!=null&&(a.indexOf(he.EAN_13)>-1&&o.push(new Jf),a.indexOf(he.UPC_A)>-1&&o.push(new dp),a.indexOf(he.EAN_8)>-1&&o.push(new fp),a.indexOf(he.UPC_E)>-1&&o.push(new hp)),o.length===0&&(o.push(new Jf),o.push(new dp),o.push(new fp),o.push(new hp)),n.readers=o,n}return e.prototype.decodeRow=function(t,n,a){var o,l;try{for(var c=vp(this.readers),f=c.next();!f.done;f=c.next()){var h=f.value;try{var v=h.decodeRow(t,n,a),g=v.getBarcodeFormat()===he.EAN_13&&v.getText().charAt(0)==="0",x=a==null?null:a.get(Je.POSSIBLE_FORMATS),m=x==null||x.includes(he.UPC_A);if(g&&m){var _=v.getRawBytes(),b=new Xt(v.getText().substring(1),_,_?_.length:null,v.getResultPoints(),he.UPC_A);return b.putAllMetadata(v.getResultMetadata()),b}return v}catch{}}}catch(A){o={error:A}}finally{try{f&&!f.done&&(l=c.return)&&l.call(c)}finally{if(o)throw o.error}}throw new $},e.prototype.reset=function(){var t,n;try{for(var a=vp(this.readers),o=a.next();!o.done;o=a.next()){var l=o.value;l.reset()}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},e})(Ct),V3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),G3=(function(r){V3(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return e.prototype.decodeRow=function(t,n,a){var o=this.getValidRowData(n);if(!o)throw new $;var l=this.codaBarDecodeRow(o.row);if(!l)throw new $;return new Xt(l,null,0,[new ce(o.left,t),new ce(o.right,t)],he.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(t){var n=t.toArray(),a=n.indexOf(!0);if(a===-1)return null;var o=n.lastIndexOf(!0);if(o<=a)return null;n=n.slice(a,o+1);for(var l=[],c=n[0],f=1,h=1;h<n.length;h++)n[h]===c?f++:(c=n[h],l.push(f),f=1);return l.push(f),l.length<23&&(l.length+1)%8!==0?null:{row:l,left:a,right:o}},e.prototype.codaBarDecodeRow=function(t){for(var n=[],a=Math.ceil(t.reduce(function(f,h){return(f+h)/2},0));t.length>0;){var o=t.splice(0,8).splice(0,7),l=o.map(function(f){return f<a?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[l]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[l])}var c=n.join("");return this.validCodaBarString(c)?c:null},e.prototype.validCodaBarString=function(t){var n=/^[A-D].{1,}[A-D]$/;return n.test(t)},e})(Ct),X3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),q3=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ma=(function(r){X3(e,r);function e(){var t=r.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,n){for(var a=0;a<n.length;a++)if(Ct.patternMatchVariance(t,n[a],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return a;throw new $},e.count=function(t){return Be.sum(new Int32Array(t))},e.increment=function(t,n){for(var a=0,o=n[0],l=1;l<t.length;l++)n[l]>o&&(o=n[l],a=l);t[a]++},e.decrement=function(t,n){for(var a=0,o=n[0],l=1;l<t.length;l++)n[l]<o&&(o=n[l],a=l);t[a]--},e.isFinderPattern=function(t){var n,a,o=t[0]+t[1],l=o+t[2]+t[3],c=o/l;if(c>=e.MIN_FINDER_PATTERN_RATIO&&c<=e.MAX_FINDER_PATTERN_RATIO){var f=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;try{for(var v=q3(t),g=v.next();!g.done;g=v.next()){var x=g.value;x>h&&(h=x),x<f&&(f=x)}}catch(m){n={error:m}}finally{try{g&&!g.done&&(a=v.return)&&a.call(v)}finally{if(n)throw n.error}}return h<10*f}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(Ct),kl=(function(){function r(e,t){this.value=e,this.checksumPortion=t}return r.prototype.getValue=function(){return this.value},r.prototype.getChecksumPortion=function(){return this.checksumPortion},r.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion},r.prototype.hashCode=function(){return this.value^this.checksumPortion},r})(),Ag=(function(){function r(e,t,n,a,o){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new ce(n,o)),this.resultPoints.push(new ce(a,o))}return r.prototype.getValue=function(){return this.value},r.prototype.getStartEnd=function(){return this.startEnd},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.prototype.hashCode=function(){return this.value},r})(),Y3=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ai=(function(){function r(){}return r.getRSSvalue=function(e,t,n){var a,o,l=0;try{for(var c=Y3(e),f=c.next();!f.done;f=c.next()){var h=f.value;l+=h}}catch(O){a={error:O}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}for(var v=0,g=0,x=e.length,m=0;m<x-1;m++){var _=void 0;for(_=1,g|=1<<m;_<e[m];_++,g&=~(1<<m)){var b=r.combins(l-_-1,x-m-2);if(n&&g===0&&l-_-(x-m-1)>=x-m-1&&(b-=r.combins(l-_-(x-m),x-m-2)),x-m-1>1){for(var A=0,S=l-_-(x-m-2);S>t;S--)A+=r.combins(l-_-S-1,x-m-3);b-=A*(x-1-m)}else l-_>t&&b--;v+=b}l-=_}return v},r.combins=function(e,t){var n,a;e-t>t?(a=t,n=e-t):(a=e-t,n=t);for(var o=1,l=1,c=e;c>n;c--)o*=c,l<=a&&(o/=l,l++);for(;l<=a;)o/=l,l++;return o},r})(),$3=(function(){function r(){}return r.buildBitArray=function(e){var t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);for(var n=12*t,a=new Bt(n),o=0,l=e[0],c=l.getRightChar().getValue(),f=11;f>=0;--f)(c&1<<f)!==0&&a.set(o),o++;for(var f=1;f<e.length;++f){for(var h=e[f],v=h.getLeftChar().getValue(),g=11;g>=0;--g)(v&1<<g)!==0&&a.set(o),o++;if(h.getRightChar()!==null)for(var x=h.getRightChar().getValue(),g=11;g>=0;--g)(x&1<<g)!==0&&a.set(o),o++}return a},r})(),ga=(function(){function r(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return r.prototype.getDecodedInformation=function(){return this.decodedInformation},r.prototype.isFinished=function(){return this.finished},r})(),xd=(function(){function r(e){this.newPosition=e}return r.prototype.getNewPosition=function(){return this.newPosition},r})(),W3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Dr=(function(r){W3(e,r);function e(t,n){var a=r.call(this,t)||this;return a.value=n,a}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(xd),Z3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),ya=(function(r){Z3(e,r);function e(t,n,a){var o=r.call(this,t)||this;return a?(o.remaining=!0,o.remainingValue=o.remainingValue):(o.remaining=!1,o.remainingValue=0),o.newString=n,o}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(xd),K3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),_i=(function(r){K3(e,r);function e(t,n,a){var o=r.call(this,t)||this;if(n<0||n>10||a<0||a>10)throw new oe;return o.firstDigit=n,o.secondDigit=a,o}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(xd),Al=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Q3=(function(){function r(){}return r.parseFieldsInGeneralPurpose=function(e){var t,n,a,o,l,c,f,h;if(!e)return null;if(e.length<2)throw new $;var v=e.substring(0,2);try{for(var g=Al(r.TWO_DIGIT_DATA_LENGTH),x=g.next();!x.done;x=g.next()){var m=x.value;if(m[0]===v)return m[1]===r.VARIABLE_LENGTH?r.processVariableAI(2,m[2],e):r.processFixedAI(2,m[1],e)}}catch(D){t={error:D}}finally{try{x&&!x.done&&(n=g.return)&&n.call(g)}finally{if(t)throw t.error}}if(e.length<3)throw new $;var _=e.substring(0,3);try{for(var b=Al(r.THREE_DIGIT_DATA_LENGTH),A=b.next();!A.done;A=b.next()){var m=A.value;if(m[0]===_)return m[1]===r.VARIABLE_LENGTH?r.processVariableAI(3,m[2],e):r.processFixedAI(3,m[1],e)}}catch(D){a={error:D}}finally{try{A&&!A.done&&(o=b.return)&&o.call(b)}finally{if(a)throw a.error}}try{for(var S=Al(r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),O=S.next();!O.done;O=S.next()){var m=O.value;if(m[0]===_)return m[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,m[2],e):r.processFixedAI(4,m[1],e)}}catch(D){l={error:D}}finally{try{O&&!O.done&&(c=S.return)&&c.call(S)}finally{if(l)throw l.error}}if(e.length<4)throw new $;var T=e.substring(0,4);try{for(var N=Al(r.FOUR_DIGIT_DATA_LENGTH),P=N.next();!P.done;P=N.next()){var m=P.value;if(m[0]===T)return m[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,m[2],e):r.processFixedAI(4,m[1],e)}}catch(D){f={error:D}}finally{try{P&&!P.done&&(h=N.return)&&h.call(N)}finally{if(f)throw f.error}}throw new $},r.processFixedAI=function(e,t,n){if(n.length<e)throw new $;var a=n.substring(0,e);if(n.length<e+t)throw new $;var o=n.substring(e,e+t),l=n.substring(e+t),c="("+a+")"+o,f=r.parseFieldsInGeneralPurpose(l);return f==null?c:c+f},r.processVariableAI=function(e,t,n){var a=n.substring(0,e),o;n.length<e+t?o=n.length:o=e+t;var l=n.substring(e,o),c=n.substring(o),f="("+a+")"+l,h=r.parseFieldsInGeneralPurpose(c);return h==null?f:f+h},r.VARIABLE_LENGTH=[],r.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",r.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",r.VARIABLE_LENGTH,20],["22",r.VARIABLE_LENGTH,29],["30",r.VARIABLE_LENGTH,8],["37",r.VARIABLE_LENGTH,8],["90",r.VARIABLE_LENGTH,30],["91",r.VARIABLE_LENGTH,30],["92",r.VARIABLE_LENGTH,30],["93",r.VARIABLE_LENGTH,30],["94",r.VARIABLE_LENGTH,30],["95",r.VARIABLE_LENGTH,30],["96",r.VARIABLE_LENGTH,30],["97",r.VARIABLE_LENGTH,3],["98",r.VARIABLE_LENGTH,30],["99",r.VARIABLE_LENGTH,30]],r.THREE_DIGIT_DATA_LENGTH=[["240",r.VARIABLE_LENGTH,30],["241",r.VARIABLE_LENGTH,30],["242",r.VARIABLE_LENGTH,6],["250",r.VARIABLE_LENGTH,30],["251",r.VARIABLE_LENGTH,30],["253",r.VARIABLE_LENGTH,17],["254",r.VARIABLE_LENGTH,20],["400",r.VARIABLE_LENGTH,30],["401",r.VARIABLE_LENGTH,30],["402",17],["403",r.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",r.VARIABLE_LENGTH,20],["421",r.VARIABLE_LENGTH,15],["422",3],["423",r.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",r.VARIABLE_LENGTH,15],["391",r.VARIABLE_LENGTH,18],["392",r.VARIABLE_LENGTH,15],["393",r.VARIABLE_LENGTH,18],["703",r.VARIABLE_LENGTH,30]],r.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",r.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",r.VARIABLE_LENGTH,20],["8003",r.VARIABLE_LENGTH,30],["8004",r.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",r.VARIABLE_LENGTH,30],["8008",r.VARIABLE_LENGTH,12],["8018",18],["8020",r.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",r.VARIABLE_LENGTH,70],["8200",r.VARIABLE_LENGTH,70]],r})(),Dl=(function(){function r(e){this.buffer=new Ae,this.information=e}return r.prototype.decodeAllCodes=function(e,t){var n=t,a=null;do{var o=this.decodeGeneralPurposeField(n,a),l=Q3.parseFieldsInGeneralPurpose(o.getNewString());if(l!=null&&e.append(l),o.isRemaining()?a=""+o.getRemainingValue():a=null,n===o.getNewPosition())break;n=o.getNewPosition()}while(!0);return e.toString()},r.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},r.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return t===0?new _i(this.information.getSize(),_i.FNC1,_i.FNC1):new _i(this.information.getSize(),t-1,_i.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),a=(n-8)/11,o=(n-8)%11;return new _i(e+7,a,o)},r.prototype.extractNumericValueFromBitArray=function(e,t){return r.extractNumericValueFromBitArray(this.information,e,t)},r.extractNumericValueFromBitArray=function(e,t,n){for(var a=0,o=0;o<n;++o)e.get(t+o)&&(a|=1<<n-o-1);return a},r.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new ya(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new ya(this.current.getPosition(),this.buffer.toString())},r.prototype.parseBlocks=function(){var e,t;do{var n=this.current.getPosition();this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished());var a=n!==this.current.getPosition();if(!a&&!e)break}while(!e);return t.getDecodedInformation()},r.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return e.isSecondDigitFNC1()?t=new ya(this.current.getPosition(),this.buffer.toString()):t=new ya(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new ga(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var t=new ya(this.current.getPosition(),this.buffer.toString());return new ga(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ga(!1)},r.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new ya(this.current.getPosition(),this.buffer.toString());return new ga(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ga(!1)},r.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new ya(this.current.getPosition(),this.buffer.toString());return new ga(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ga(!1)},r.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(e,8);return a>=232&&a<253},r.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Dr(e+5,Dr.FNC1);if(t>=5&&t<15)return new Dr(e+5,"0"+(t-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Dr(e+7,""+(n+1));if(n>=90&&n<116)return new Dr(e+7,""+(n+7));var a=this.extractNumericValueFromBitArray(e,8),o;switch(a){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new oe}return new Dr(e+8,o)},r.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},r.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Dr(e+5,Dr.FNC1);if(t>=5&&t<15)return new Dr(e+5,"0"+(t-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Dr(e+6,""+(n+33));var a;switch(n){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new es("Decoding invalid alphanumeric value: "+n)}return new Dr(e+6,a)},r.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},r.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},r.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},r})(),bg=(function(){function r(e){this.information=e,this.generalDecoder=new Dl(e)}return r.prototype.getInformation=function(){return this.information},r.prototype.getGeneralDecoder=function(){return this.generalDecoder},r})(),J3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Mr=(function(r){J3(e,r);function e(t){return r.call(this,t)||this}return e.prototype.encodeCompressedGtin=function(t,n){t.append("(01)");var a=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,n,a)},e.prototype.encodeCompressedGtinWithoutAI=function(t,n,a){for(var o=0;o<4;++o){var l=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*o,10);l/100===0&&t.append("0"),l/10===0&&t.append("0"),t.append(l)}e.appendCheckDigit(t,a)},e.appendCheckDigit=function(t,n){for(var a=0,o=0;o<13;o++){var l=t.charAt(o+n).charCodeAt(0)-48;a+=(o&1)===0?3*l:l}a=10-a%10,a===10&&(a=0),t.append(a)},e.GTIN_SIZE=40,e})(bg),eE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),tE=(function(r){eE(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new Ae;t.append("(01)");var n=t.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(a),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(Mr),rE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),nE=(function(r){rE(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new Ae;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})(bg),aE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Il=(function(r){aE(e,r);function e(t){return r.call(this,t)||this}return e.prototype.encodeCompressedWeight=function(t,n,a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n,a);this.addWeightCode(t,o);for(var l=this.checkWeight(o),c=1e5,f=0;f<5;++f)l/c===0&&t.append("0"),c/=10;t.append(l)},e})(Mr),iE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Sg=(function(r){iE(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Il.GTIN_SIZE+e.WEIGHT_SIZE)throw new $;var t=new Ae;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+Il.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})(Il),oE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),sE=(function(r){oE(e,r);function e(t){return r.call(this,t)||this}return e.prototype.addWeightCode=function(t,n){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e})(Sg),lE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),uE=(function(r){lE(e,r);function e(t){return r.call(this,t)||this}return e.prototype.addWeightCode=function(t,n){n<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e})(Sg),cE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),fE=(function(r){cE(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Mr.GTIN_SIZE)throw new $;var t=new Ae;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Mr.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(n),t.append(")");var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Mr.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(a.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(Mr),dE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),hE=(function(r){dE(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Mr.GTIN_SIZE)throw new $;var t=new Ae;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Mr.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(n),t.append(")");var a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Mr.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);a/100===0&&t.append("0"),a/10===0&&t.append("0"),t.append(a);var o=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Mr.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(o.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(Mr),vE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),zn=(function(r){vE(e,r);function e(t,n,a){var o=r.call(this,t)||this;return o.dateCode=a,o.firstAIdigits=n,o}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new $;var t=new Ae;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,n){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(a!==38400){t.append("("),t.append(this.dateCode),t.append(")");var o=a%32;a/=32;var l=a%12+1;a/=12;var c=a;c/10===0&&t.append("0"),t.append(c),l/10===0&&t.append("0"),t.append(l),o/10===0&&t.append("0"),t.append(o)}},e.prototype.addWeightCode=function(t,n){t.append("("),t.append(this.firstAIdigits),t.append(n/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})(Il);function pE(r){try{if(r.get(1))return new tE(r);if(!r.get(2))return new nE(r);var e=Dl.extractNumericValueFromBitArray(r,1,4);switch(e){case 4:return new sE(r);case 5:return new uE(r)}var t=Dl.extractNumericValueFromBitArray(r,1,5);switch(t){case 12:return new fE(r);case 13:return new hE(r)}var n=Dl.extractNumericValueFromBitArray(r,1,7);switch(n){case 56:return new zn(r,"310","11");case 57:return new zn(r,"320","11");case 58:return new zn(r,"310","13");case 59:return new zn(r,"320","13");case 60:return new zn(r,"310","15");case 61:return new zn(r,"320","15");case 62:return new zn(r,"310","17");case 63:return new zn(r,"320","17")}}catch(a){throw console.log(a),new es("unknown decoder: "+r)}}var pp=(function(){function r(e,t,n,a){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=a}return r.prototype.mayBeLast=function(){return this.maybeLast},r.prototype.getLeftChar=function(){return this.leftchar},r.prototype.getRightChar=function(){return this.rightchar},r.prototype.getFinderPattern=function(){return this.finderpattern},r.prototype.mustBeLast=function(){return this.rightchar==null},r.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},r.equals=function(e,t){return e instanceof r?r.equalsOrNull(e.leftchar,t.leftchar)&&r.equalsOrNull(e.rightchar,t.rightchar)&&r.equalsOrNull(e.finderpattern,t.finderpattern):!1},r.equalsOrNull=function(e,t){return e===null?t===null:r.equals(e,t)},r.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},r})(),gE=(function(){function r(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}return r.prototype.getPairs=function(){return this.pairs},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.isReversed=function(){return this.wasReversed},r.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},r.prototype.toString=function(){return"{ "+this.pairs+" }"},r.prototype.equals=function(e,t){return e instanceof r?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1},r.prototype.checkEqualitity=function(e,t){if(!(!e||!t)){var n;return e.forEach(function(a,o){t.forEach(function(l){a.getLeftChar().getValue()===l.getLeftChar().getValue()&&a.getRightChar().getValue()===l.getRightChar().getValue()&&a.getFinderPatter().getValue()===l.getFinderPatter().getValue()&&(n=!0)})}),n}},r})(),yE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Hn=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xE=(function(r){yE(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return e.prototype.decodeRow=function(t,n,a){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,n){for(var a=!1;!a;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,t))}catch(c){if(c instanceof $){if(!this.pairs.length)throw new $;a=!0}}if(this.checkChecksum())return this.pairs;var o;if(this.rows.length?o=!0:o=!1,this.storeRow(t,!1),o){var l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new $},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(a){console.log(a)}return t&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(t,n){for(var a,o,l=n;l<this.rows.length;l++){var c=this.rows[l];this.pairs.length=0;try{for(var f=(a=void 0,Hn(t)),h=f.next();!h.done;h=f.next()){var v=h.value;this.pairs.push(v.getPairs())}}catch(x){a={error:x}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(a)throw a.error}}if(this.pairs.push(c.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var g=new Array(t);g.push(c);try{return this.checkRows(g,l+1)}catch(x){console.log(x)}}}throw new $},e.isValidSequence=function(t){var n,a;try{for(var o=Hn(e.FINDER_PATTERN_SEQUENCES),l=o.next();!l.done;l=o.next()){var c=l.value;if(!(t.length>c.length)){for(var f=!0,h=0;h<t.length;h++)if(t[h].getFinderPattern().getValue()!==c[h]){f=!1;break}if(f)return!0}}}catch(v){n={error:v}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(t,n){for(var a=0,o=!1,l=!1;a<this.rows.length;){var c=this.rows[a];if(c.getRowNumber()>t){l=c.isEquivalent(this.pairs);break}o=c.isEquivalent(this.pairs),a++}l||o||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new gE(this.pairs,t,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,n){var a,o,l,c,f,h;try{for(var v=Hn(n),g=v.next();!g.done;g=v.next()){var x=g.value;if(x.getPairs().length!==t.length){var m=!0;try{for(var _=(l=void 0,Hn(x.getPairs())),b=_.next();!b.done;b=_.next()){var A=b.value,S=!1;try{for(var O=(f=void 0,Hn(t)),T=O.next();!T.done;T=O.next()){var N=T.value;if(pp.equals(A,N)){S=!0;break}}}catch(P){f={error:P}}finally{try{T&&!T.done&&(h=O.return)&&h.call(O)}finally{if(f)throw f.error}}S||(m=!1)}}catch(P){l={error:P}}finally{try{b&&!b.done&&(c=_.return)&&c.call(_)}finally{if(l)throw l.error}}}}}catch(P){a={error:P}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}},e.isPartialRow=function(t,n){var a,o,l,c,f,h;try{for(var v=Hn(n),g=v.next();!g.done;g=v.next()){var x=g.value,m=!0;try{for(var _=(l=void 0,Hn(t)),b=_.next();!b.done;b=_.next()){var A=b.value,S=!1;try{for(var O=(f=void 0,Hn(x.getPairs())),T=O.next();!T.done;T=O.next()){var N=T.value;if(A.equals(N)){S=!0;break}}}catch(P){f={error:P}}finally{try{T&&!T.done&&(h=O.return)&&h.call(O)}finally{if(f)throw f.error}}if(!S){m=!1;break}}}catch(P){l={error:P}}finally{try{b&&!b.done&&(c=_.return)&&c.call(_)}finally{if(l)throw l.error}}if(m)return!0}}catch(P){a={error:P}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var n=$3.buildBitArray(t),a=pE(n),o=a.parseInformation(),l=t[0].getFinderPattern().getResultPoints(),c=t[t.length-1].getFinderPattern().getResultPoints(),f=[l[0],l[1],c[0],c[1]];return new Xt(o,null,null,f,he.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),n=t.getLeftChar(),a=t.getRightChar();if(a===null)return!1;for(var o=a.getChecksumPortion(),l=2,c=1;c<this.pairs.size();++c){var f=this.pairs.get(c);o+=f.getLeftChar().getChecksumPortion(),l++;var h=f.getRightChar();h!=null&&(o+=h.getChecksumPortion(),l++)}o%=211;var v=211*(l-4)+o;return v===n.getValue()},e.getNextSecondBar=function(t,n){var a;return t.get(n)?(a=t.getNextUnset(n),a=t.getNextSet(a)):(a=t.getNextSet(n),a=t.getNextUnset(a)),a},e.prototype.retrieveNextPair=function(t,n,a){var o=n.length%2===0;this.startFromEven&&(o=!o);var l,c=!0,f=-1;do this.findNextPair(t,n,f),l=this.parseFoundFinderPattern(t,a,o),l===null?f=e.getNextSecondBar(t,this.startEnd[0]):c=!1;while(c);var h=this.decodeDataCharacter(t,l,o,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new $;var v;try{v=this.decodeDataCharacter(t,l,o,!1)}catch(g){v=null,console.log(g)}return new pp(h,v,l,!0)},e.prototype.isEmptyPair=function(t){return t.length===0},e.prototype.findNextPair=function(t,n,a){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;var l=t.getSize(),c;if(a>=0)c=a;else if(this.isEmptyPair(n))c=0;else{var f=n[n.length-1];c=f.getFinderPattern().getStartEnd()[1]}var h=n.length%2!==0;this.startFromEven&&(h=!h);for(var v=!1;c<l&&(v=!t.get(c),!!v);)c++;for(var g=0,x=c,m=c;m<l;m++)if(t.get(m)!==v)o[g]++;else{if(g===3){if(h&&e.reverseCounters(o),e.isFinderPattern(o)){this.startEnd[0]=x,this.startEnd[1]=m;return}h&&e.reverseCounters(o),x+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,g--}else g++;o[g]=1,v=!v}throw new $},e.reverseCounters=function(t){for(var n=t.length,a=0;a<n/2;++a){var o=t[a];t[a]=t[n-a-1],t[n-a-1]=o}},e.prototype.parseFoundFinderPattern=function(t,n,a){var o,l,c;if(a){for(var f=this.startEnd[0]-1;f>=0&&!t.get(f);)f--;f++,o=this.startEnd[0]-f,l=f,c=this.startEnd[1]}else l=this.startEnd[0],c=t.getNextUnset(this.startEnd[1]+1),o=c-this.startEnd[1];var h=this.getDecodeFinderCounters();Qe.arraycopy(h,0,h,1,h.length-1),h[0]=o;var v;try{v=this.parseFinderValue(h,e.FINDER_PATTERNS)}catch{return null}return new Ag(v,[l,c],l,c,n)},e.prototype.decodeDataCharacter=function(t,n,a,o){for(var l=this.getDataCharacterCounters(),c=0;c<l.length;c++)l[c]=0;if(o)e.recordPatternInReverse(t,n.getStartEnd()[0],l);else{e.recordPattern(t,n.getStartEnd()[1],l);for(var f=0,h=l.length-1;f<h;f++,h--){var v=l[f];l[f]=l[h],l[h]=v}}var g=17,x=Be.sum(new Int32Array(l))/g,m=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(x-m)/m>.3)throw new $;for(var _=this.getOddCounts(),b=this.getEvenCounts(),A=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors(),f=0;f<l.length;f++){var O=1*l[f]/x,T=O+.5;if(T<1){if(O<.3)throw new $;T=1}else if(T>8){if(O>8.7)throw new $;T=8}var N=f/2;(f&1)===0?(_[N]=T,A[N]=O-T):(b[N]=T,S[N]=O-T)}this.adjustOddEvenCounts(g);for(var P=4*n.getValue()+(a?0:2)+(o?0:1)-1,D=0,B=0,f=_.length-1;f>=0;f--){if(e.isNotA1left(n,a,o)){var Y=e.WEIGHTS[P][2*f];B+=_[f]*Y}D+=_[f]}for(var F=0,f=b.length-1;f>=0;f--)if(e.isNotA1left(n,a,o)){var Y=e.WEIGHTS[P][2*f+1];F+=b[f]*Y}var X=B+F;if((D&1)!==0||D>13||D<4)throw new $;var J=(13-D)/2,K=e.SYMBOL_WIDEST[J],ae=9-K,te=Ai.getRSSvalue(_,K,!0),se=Ai.getRSSvalue(b,ae,!1),L=e.EVEN_TOTAL_SUBSET[J],re=e.GSUM[J],le=te*L+se+re;return new kl(le,X)},e.isNotA1left=function(t,n,a){return!(t.getValue()===0&&n&&a)},e.prototype.adjustOddEvenCounts=function(t){var n=Be.sum(new Int32Array(this.getOddCounts())),a=Be.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1;n>13?l=!0:n<4&&(o=!0);var c=!1,f=!1;a>13?f=!0:a<4&&(c=!0);var h=n+a-t,v=(n&1)===1,g=(a&1)===0;if(h===1)if(v){if(g)throw new $;l=!0}else{if(!g)throw new $;f=!0}else if(h===-1)if(v){if(g)throw new $;o=!0}else{if(!g)throw new $;c=!0}else if(h===0){if(v){if(!g)throw new $;n<a?(o=!0,f=!0):(l=!0,c=!0)}else if(g)throw new $}else throw new $;if(o){if(l)throw new $;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(f)throw new $;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})(ma),mE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),_E=(function(r){mE(e,r);function e(t,n,a){var o=r.call(this,t,n)||this;return o.count=0,o.finderPattern=a,o}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(kl),wE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Of=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gp=(function(r){wE(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return e.prototype.decodeRow=function(t,n,a){var o,l,c,f,h=this.decodePair(n,!1,t,a);e.addOrTally(this.possibleLeftPairs,h),n.reverse();var v=this.decodePair(n,!0,t,a);e.addOrTally(this.possibleRightPairs,v),n.reverse();try{for(var g=Of(this.possibleLeftPairs),x=g.next();!x.done;x=g.next()){var m=x.value;if(m.getCount()>1)try{for(var _=(c=void 0,Of(this.possibleRightPairs)),b=_.next();!b.done;b=_.next()){var A=b.value;if(A.getCount()>1&&e.checkChecksum(m,A))return e.constructResult(m,A)}}catch(S){c={error:S}}finally{try{b&&!b.done&&(f=_.return)&&f.call(_)}finally{if(c)throw c.error}}}}catch(S){o={error:S}}finally{try{x&&!x.done&&(l=g.return)&&l.call(g)}finally{if(o)throw o.error}}throw new $},e.addOrTally=function(t,n){var a,o;if(n!=null){var l=!1;try{for(var c=Of(t),f=c.next();!f.done;f=c.next()){var h=f.value;if(h.getValue()===n.getValue()){h.incrementCount(),l=!0;break}}}catch(v){a={error:v}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}l||t.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,n){for(var a=4537077*t.getValue()+n.getValue(),o=new String(a).toString(),l=new Ae,c=13-o.length;c>0;c--)l.append("0");l.append(o);for(var f=0,c=0;c<13;c++){var h=l.charAt(c).charCodeAt(0)-48;f+=(c&1)===0?3*h:h}f=10-f%10,f===10&&(f=0),l.append(f.toString());var v=t.getFinderPattern().getResultPoints(),g=n.getFinderPattern().getResultPoints();return new Xt(l.toString(),null,0,[v[0],v[1],g[0],g[1]],he.RSS_14,new Date().getTime())},e.checkChecksum=function(t,n){var a=(t.getChecksumPortion()+16*n.getChecksumPortion())%79,o=9*t.getFinderPattern().getValue()+n.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,a===o},e.prototype.decodePair=function(t,n,a,o){try{var l=this.findFinderPattern(t,n),c=this.parseFoundFinderPattern(t,a,n,l),f=o==null?null:o.get(Je.NEED_RESULT_POINT_CALLBACK);if(f!=null){var h=(l[0]+l[1])/2;n&&(h=t.getSize()-1-h),f.foundPossibleResultPoint(new ce(h,a))}var v=this.decodeDataCharacter(t,c,!0),g=this.decodeDataCharacter(t,c,!1);return new _E(1597*v.getValue()+g.getValue(),v.getChecksumPortion()+4*g.getChecksumPortion(),c)}catch{return null}},e.prototype.decodeDataCharacter=function(t,n,a){for(var o=this.getDataCharacterCounters(),l=0;l<o.length;l++)o[l]=0;if(a)Ct.recordPatternInReverse(t,n.getStartEnd()[0],o);else{Ct.recordPattern(t,n.getStartEnd()[1]+1,o);for(var c=0,f=o.length-1;c<f;c++,f--){var h=o[c];o[c]=o[f],o[f]=h}}for(var v=a?16:15,g=Be.sum(new Int32Array(o))/v,x=this.getOddCounts(),m=this.getEvenCounts(),_=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors(),c=0;c<o.length;c++){var A=o[c]/g,S=Math.floor(A+.5);S<1?S=1:S>8&&(S=8);var O=Math.floor(c/2);(c&1)===0?(x[O]=S,_[O]=A-S):(m[O]=S,b[O]=A-S)}this.adjustOddEvenCounts(a,v);for(var T=0,N=0,c=x.length-1;c>=0;c--)N*=9,N+=x[c],T+=x[c];for(var P=0,D=0,c=m.length-1;c>=0;c--)P*=9,P+=m[c],D+=m[c];var B=N+3*P;if(a){if((T&1)!==0||T>12||T<4)throw new $;var Y=(12-T)/2,F=e.OUTSIDE_ODD_WIDEST[Y],X=9-F,J=Ai.getRSSvalue(x,F,!1),K=Ai.getRSSvalue(m,X,!0),ae=e.OUTSIDE_EVEN_TOTAL_SUBSET[Y],te=e.OUTSIDE_GSUM[Y];return new kl(J*ae+K+te,B)}else{if((D&1)!==0||D>10||D<4)throw new $;var Y=(10-D)/2,F=e.INSIDE_ODD_WIDEST[Y],X=9-F,J=Ai.getRSSvalue(x,F,!0),K=Ai.getRSSvalue(m,X,!1),se=e.INSIDE_ODD_TOTAL_SUBSET[Y],te=e.INSIDE_GSUM[Y];return new kl(K*se+J+te,B)}},e.prototype.findFinderPattern=function(t,n){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var o=t.getSize(),l=!1,c=0;c<o&&(l=!t.get(c),n!==l);)c++;for(var f=0,h=c,v=c;v<o;v++)if(t.get(v)!==l)a[f]++;else{if(f===3){if(ma.isFinderPattern(a))return[h,v];h+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,f--}else f++;a[f]=1,l=!l}throw new $},e.prototype.parseFoundFinderPattern=function(t,n,a,o){for(var l=t.get(o[0]),c=o[0]-1;c>=0&&l!==t.get(c);)c--;c++;var f=o[0]-c,h=this.getDecodeFinderCounters(),v=new Int32Array(h.length);Qe.arraycopy(h,0,v,1,h.length-1),v[0]=f;var g=this.parseFinderValue(v,e.FINDER_PATTERNS),x=c,m=o[1];return a&&(x=t.getSize()-1-x,m=t.getSize()-1-m),new Ag(g,[c,o[1]],x,m,n)},e.prototype.adjustOddEvenCounts=function(t,n){var a=Be.sum(new Int32Array(this.getOddCounts())),o=Be.sum(new Int32Array(this.getEvenCounts())),l=!1,c=!1,f=!1,h=!1;t?(a>12?c=!0:a<4&&(l=!0),o>12?h=!0:o<4&&(f=!0)):(a>11?c=!0:a<5&&(l=!0),o>10?h=!0:o<4&&(f=!0));var v=a+o-n,g=(a&1)===(t?1:0),x=(o&1)===1;if(v===1)if(g){if(x)throw new $;c=!0}else{if(!x)throw new $;h=!0}else if(v===-1)if(g){if(x)throw new $;l=!0}else{if(!x)throw new $;f=!0}else if(v===0){if(g){if(!x)throw new $;a<o?(l=!0,h=!0):(c=!0,f=!0)}else if(x)throw new $}else throw new $;if(l){if(c)throw new $;ma.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&ma.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(h)throw new $;ma.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&ma.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})(ma),EE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),bi=(function(r){EE(e,r);function e(t){var n=r.call(this)||this;n.readers=[];var a=t?t.get(Je.POSSIBLE_FORMATS):null,o=t&&t.get(Je.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,l=t&&t.get(Je.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return a&&((a.includes(he.EAN_13)||a.includes(he.UPC_A)||a.includes(he.EAN_8)||a.includes(he.UPC_E))&&n.readers.push(new Tf(t)),a.includes(he.CODE_39)&&n.readers.push(new op(o,l)),a.includes(he.CODE_93)&&n.readers.push(new sp),a.includes(he.CODE_128)&&n.readers.push(new ip),a.includes(he.ITF)&&n.readers.push(new lp),a.includes(he.CODABAR)&&n.readers.push(new G3),a.includes(he.RSS_14)&&n.readers.push(new gp),a.includes(he.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new xE))),n.readers.length===0&&(n.readers.push(new Tf(t)),n.readers.push(new op),n.readers.push(new sp),n.readers.push(new Tf(t)),n.readers.push(new ip),n.readers.push(new lp),n.readers.push(new gp)),n}return e.prototype.decodeRow=function(t,n,a){for(var o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(t,n,a)}catch{}throw new $},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e})(Ct),AE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){AE(e,r);function e(t,n){return t===void 0&&(t=500),r.call(this,new bi(n),t,n)||this}return e})(Ii);var yp=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},je=(function(){function r(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}return r.prototype.getECCodewords=function(){return this.ecCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r})(),ke=(function(){function r(e,t){this.count=e,this.dataCodewords=t}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r})(),bE=(function(){function r(e,t,n,a,o,l){var c,f;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=o,this.ecBlocks=l;var h=0,v=l.getECCodewords(),g=l.getECBlocks();try{for(var x=yp(g),m=x.next();!m.done;m=x.next()){var _=m.value;h+=_.getCount()*(_.getDataCodewords()+v)}}catch(b){c={error:b}}finally{try{m&&!m.done&&(f=x.return)&&f.call(x)}finally{if(c)throw c.error}}this.totalCodewords=h}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},r.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},r.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},r.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r.getVersionForDimensions=function(e,t){var n,a;if((e&1)!==0||(t&1)!==0)throw new oe;try{for(var o=yp(r.VERSIONS),l=o.next();!l.done;l=o.next()){var c=l.value;if(c.symbolSizeRows===e&&c.symbolSizeColumns===t)return c}}catch(f){n={error:f}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}throw new oe},r.prototype.toString=function(){return""+this.versionNumber},r.buildVersions=function(){return[new r(1,10,10,8,8,new je(5,new ke(1,3))),new r(2,12,12,10,10,new je(7,new ke(1,5))),new r(3,14,14,12,12,new je(10,new ke(1,8))),new r(4,16,16,14,14,new je(12,new ke(1,12))),new r(5,18,18,16,16,new je(14,new ke(1,18))),new r(6,20,20,18,18,new je(18,new ke(1,22))),new r(7,22,22,20,20,new je(20,new ke(1,30))),new r(8,24,24,22,22,new je(24,new ke(1,36))),new r(9,26,26,24,24,new je(28,new ke(1,44))),new r(10,32,32,14,14,new je(36,new ke(1,62))),new r(11,36,36,16,16,new je(42,new ke(1,86))),new r(12,40,40,18,18,new je(48,new ke(1,114))),new r(13,44,44,20,20,new je(56,new ke(1,144))),new r(14,48,48,22,22,new je(68,new ke(1,174))),new r(15,52,52,24,24,new je(42,new ke(2,102))),new r(16,64,64,14,14,new je(56,new ke(2,140))),new r(17,72,72,16,16,new je(36,new ke(4,92))),new r(18,80,80,18,18,new je(48,new ke(4,114))),new r(19,88,88,20,20,new je(56,new ke(4,144))),new r(20,96,96,22,22,new je(68,new ke(4,174))),new r(21,104,104,24,24,new je(56,new ke(6,136))),new r(22,120,120,18,18,new je(68,new ke(6,175))),new r(23,132,132,20,20,new je(62,new ke(8,163))),new r(24,144,144,22,22,new je(62,new ke(8,156),new ke(2,155))),new r(25,8,18,6,16,new je(7,new ke(1,5))),new r(26,8,32,6,14,new je(11,new ke(1,10))),new r(27,12,26,10,24,new je(14,new ke(1,16))),new r(28,12,36,10,16,new je(18,new ke(1,22))),new r(29,16,36,14,16,new je(24,new ke(1,32))),new r(30,16,48,14,22,new je(28,new ke(1,49)))]},r.VERSIONS=r.buildVersions(),r})(),SE=(function(){function r(e){var t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new oe;this.version=r.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Gr(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return r.prototype.getVersion=function(){return this.version},r.readVersion=function(e){var t=e.getHeight(),n=e.getWidth();return bE.getVersionForDimensions(t,n)},r.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,n=4,a=0,o=this.mappingBitMatrix.getHeight(),l=this.mappingBitMatrix.getWidth(),c=!1,f=!1,h=!1,v=!1;do if(n===o&&a===0&&!c)e[t++]=this.readCorner1(o,l)&255,n-=2,a+=2,c=!0;else if(n===o-2&&a===0&&(l&3)!==0&&!f)e[t++]=this.readCorner2(o,l)&255,n-=2,a+=2,f=!0;else if(n===o+4&&a===2&&(l&7)===0&&!h)e[t++]=this.readCorner3(o,l)&255,n-=2,a+=2,h=!0;else if(n===o-2&&a===0&&(l&7)===4&&!v)e[t++]=this.readCorner4(o,l)&255,n-=2,a+=2,v=!0;else{do n<o&&a>=0&&!this.readMappingMatrix.get(a,n)&&(e[t++]=this.readUtah(n,a,o,l)&255),n-=2,a+=2;while(n>=0&&a<l);n+=1,a+=3;do n>=0&&a<l&&!this.readMappingMatrix.get(a,n)&&(e[t++]=this.readUtah(n,a,o,l)&255),n+=2,a-=2;while(n<o&&a>=0);n+=3,a+=1}while(n<o||a<l);if(t!==this.version.getTotalCodewords())throw new oe;return e},r.prototype.readModule=function(e,t,n,a){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=a,e+=4-(a+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},r.prototype.readUtah=function(e,t,n,a){var o=0;return this.readModule(e-2,t-2,n,a)&&(o|=1),o<<=1,this.readModule(e-2,t-1,n,a)&&(o|=1),o<<=1,this.readModule(e-1,t-2,n,a)&&(o|=1),o<<=1,this.readModule(e-1,t-1,n,a)&&(o|=1),o<<=1,this.readModule(e-1,t,n,a)&&(o|=1),o<<=1,this.readModule(e,t-2,n,a)&&(o|=1),o<<=1,this.readModule(e,t-1,n,a)&&(o|=1),o<<=1,this.readModule(e,t,n,a)&&(o|=1),o},r.prototype.readCorner1=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},r.prototype.readCorner2=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},r.prototype.readCorner3=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},r.prototype.readCorner4=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},r.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new ve("Dimension of bitMatrix must match the version size");for(var a=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),l=t/a|0,c=n/o|0,f=l*a,h=c*o,v=new Gr(h,f),g=0;g<l;++g)for(var x=g*a,m=0;m<c;++m)for(var _=m*o,b=0;b<a;++b)for(var A=g*(a+2)+1+b,S=x+b,O=0;O<o;++O){var T=m*(o+2)+1+O;if(e.get(T,A)){var N=_+O;v.set(N,S)}}return v},r})(),xp=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},CE=(function(){function r(e,t){this.numDataCodewords=e,this.codewords=t}return r.getDataBlocks=function(e,t){var n,a,o,l,c=t.getECBlocks(),f=0,h=c.getECBlocks();try{for(var v=xp(h),g=v.next();!g.done;g=v.next()){var x=g.value;f+=x.getCount()}}catch(te){n={error:te}}finally{try{g&&!g.done&&(a=v.return)&&a.call(v)}finally{if(n)throw n.error}}var m=new Array(f),_=0;try{for(var b=xp(h),A=b.next();!A.done;A=b.next())for(var x=A.value,S=0;S<x.getCount();S++){var O=x.getDataCodewords(),T=c.getECCodewords()+O;m[_++]=new r(O,new Uint8Array(T))}}catch(te){o={error:te}}finally{try{A&&!A.done&&(l=b.return)&&l.call(b)}finally{if(o)throw o.error}}for(var N=m[0].codewords.length,P=N-c.getECCodewords(),D=P-1,B=0,S=0;S<D;S++)for(var Y=0;Y<_;Y++)m[Y].codewords[S]=e[B++];for(var F=t.getVersionNumber()===24,X=F?8:_,Y=0;Y<X;Y++)m[Y].codewords[P-1]=e[B++];for(var J=m[0].codewords.length,S=P;S<J;S++)for(var Y=0;Y<_;Y++){var K=F?(Y+8)%_:Y,ae=F&&K>7?S-1:S;m[K].codewords[ae]=e[B++]}if(B!==e.length)throw new ve;return m},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r})(),Cg=(function(){function r(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return r.prototype.getBitOffset=function(){return this.bitOffset},r.prototype.getByteOffset=function(){return this.byteOffset},r.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new ve(""+e);var t=0,n=this.bitOffset,a=this.byteOffset,o=this.bytes;if(n>0){var l=8-n,c=e<l?e:l,f=l-c,h=255>>8-c<<f;t=(o[a]&h)>>f,e-=c,n+=c,n===8&&(n=0,a++)}if(e>0){for(;e>=8;)t=t<<8|o[a]&255,a++,e-=8;if(e>0){var f=8-e,h=255>>f<<f;t=t<<e|(o[a]&h)>>f,n+=e}}return this.bitOffset=n,this.byteOffset=a,t},r.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},r})(),_t;(function(r){r[r.PAD_ENCODE=0]="PAD_ENCODE",r[r.ASCII_ENCODE=1]="ASCII_ENCODE",r[r.C40_ENCODE=2]="C40_ENCODE",r[r.TEXT_ENCODE=3]="TEXT_ENCODE",r[r.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",r[r.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",r[r.BASE256_ENCODE=6]="BASE256_ENCODE"})(_t||(_t={}));var TE=(function(){function r(){}return r.decode=function(e){var t=new Cg(e),n=new Ae,a=new Ae,o=new Array,l=_t.ASCII_ENCODE;do if(l===_t.ASCII_ENCODE)l=this.decodeAsciiSegment(t,n,a);else{switch(l){case _t.C40_ENCODE:this.decodeC40Segment(t,n);break;case _t.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case _t.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case _t.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case _t.BASE256_ENCODE:this.decodeBase256Segment(t,n,o);break;default:throw new oe}l=_t.ASCII_ENCODE}while(l!==_t.PAD_ENCODE&&t.available()>0);return a.length()>0&&n.append(a.toString()),new ql(e,n.toString(),o.length===0?null:o,null)},r.decodeAsciiSegment=function(e,t,n){var a=!1;do{var o=e.readBits(8);if(o===0)throw new oe;if(o<=128)return a&&(o+=128),t.append(String.fromCharCode(o-1)),_t.ASCII_ENCODE;if(o===129)return _t.PAD_ENCODE;if(o<=229){var l=o-130;l<10&&t.append("0"),t.append(""+l)}else switch(o){case 230:return _t.C40_ENCODE;case 231:return _t.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:t.append("[)>05"),n.insert(0,"");break;case 237:t.append("[)>06"),n.insert(0,"");break;case 238:return _t.ANSIX12_ENCODE;case 239:return _t.TEXT_ENCODE;case 240:return _t.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new oe;break}}while(e.available()>0);return _t.ASCII_ENCODE},r.decodeC40Segment=function(e,t){var n=!1,a=[],o=0;do{if(e.available()===8)return;var l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),a);for(var c=0;c<3;c++){var f=a[c];switch(o){case 0:if(f<3)o=f+1;else if(f<this.C40_BASIC_SET_CHARS.length){var h=this.C40_BASIC_SET_CHARS[f];n?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):t.append(h)}else throw new oe;break;case 1:n?(t.append(String.fromCharCode(f+128)),n=!1):t.append(String.fromCharCode(f)),o=0;break;case 2:if(f<this.C40_SHIFT2_SET_CHARS.length){var h=this.C40_SHIFT2_SET_CHARS[f];n?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):t.append(h)}else switch(f){case 27:t.append("");break;case 30:n=!0;break;default:throw new oe}o=0;break;case 3:n?(t.append(String.fromCharCode(f+224)),n=!1):t.append(String.fromCharCode(f+96)),o=0;break;default:throw new oe}}}while(e.available()>0)},r.decodeTextSegment=function(e,t){var n=!1,a=[],o=0;do{if(e.available()===8)return;var l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),a);for(var c=0;c<3;c++){var f=a[c];switch(o){case 0:if(f<3)o=f+1;else if(f<this.TEXT_BASIC_SET_CHARS.length){var h=this.TEXT_BASIC_SET_CHARS[f];n?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):t.append(h)}else throw new oe;break;case 1:n?(t.append(String.fromCharCode(f+128)),n=!1):t.append(String.fromCharCode(f)),o=0;break;case 2:if(f<this.TEXT_SHIFT2_SET_CHARS.length){var h=this.TEXT_SHIFT2_SET_CHARS[f];n?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):t.append(h)}else switch(f){case 27:t.append("");break;case 30:n=!0;break;default:throw new oe}o=0;break;case 3:if(f<this.TEXT_SHIFT3_SET_CHARS.length){var h=this.TEXT_SHIFT3_SET_CHARS[f];n?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):t.append(h),o=0}else throw new oe;break;default:throw new oe}}}while(e.available()>0)},r.decodeAnsiX12Segment=function(e,t){var n=[];do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),n);for(var o=0;o<3;o++){var l=n[o];switch(l){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(l<14)t.append(String.fromCharCode(l+44));else if(l<40)t.append(String.fromCharCode(l+51));else throw new oe;break}}}while(e.available()>0)},r.parseTwoBytes=function(e,t,n){var a=(e<<8)+t-1,o=Math.floor(a/1600);n[0]=o,a-=o*1600,o=Math.floor(a/40),n[1]=o,n[2]=a-o*40},r.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var a=e.readBits(6);if(a===31){var o=8-e.getBitOffset();o!==8&&e.readBits(o);return}(a&32)===0&&(a|=64),t.append(String.fromCharCode(a))}}while(e.available()>0)},r.decodeBase256Segment=function(e,t,n){var a=1+e.getByteOffset(),o=this.unrandomize255State(e.readBits(8),a++),l;if(o===0?l=e.available()/8|0:o<250?l=o:l=250*(o-249)+this.unrandomize255State(e.readBits(8),a++),l<0)throw new oe;for(var c=new Uint8Array(l),f=0;f<l;f++){if(e.available()<8)throw new oe;c[f]=this.unrandomize255State(e.readBits(8),a++)}n.push(c);try{t.append(Cr.decode(c,Ie.ISO88591))}catch(h){throw new es("Platform does not support required encoding: "+h.message)}},r.unrandomize255State=function(e,t){var n=149*t%255+1,a=e-n;return a>=0?a:a+256},r.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],r.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],r.TEXT_SHIFT2_SET_CHARS=r.C40_SHIFT2_SET_CHARS,r.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],r})(),OE=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},RE=(function(){function r(){this.rsDecoder=new Yl(nr.DATA_MATRIX_FIELD_256)}return r.prototype.decode=function(e){var t,n,a=new SE(e),o=a.getVersion(),l=a.readCodewords(),c=CE.getDataBlocks(l,o),f=0;try{for(var h=OE(c),v=h.next();!v.done;v=h.next()){var g=v.value;f+=g.getNumDataCodewords()}}catch(T){t={error:T}}finally{try{v&&!v.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}for(var x=new Uint8Array(f),m=c.length,_=0;_<m;_++){var b=c[_],A=b.getCodewords(),S=b.getNumDataCodewords();this.correctErrors(A,S);for(var O=0;O<S;O++)x[O*m+_]=A[O]}return TE.decode(x)},r.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new gt}for(var a=0;a<t;a++)e[a]=n[a]},r})(),DE=(function(){function r(e){this.image=e,this.rectangleDetector=new Qf(this.image)}return r.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new $;t=this.shiftToModuleCenter(t);var n=t[0],a=t[1],o=t[2],l=t[3],c=this.transitionsBetween(n,l)+1,f=this.transitionsBetween(o,l)+1;(c&1)===1&&(c+=1),(f&1)===1&&(f+=1),4*c<7*f&&4*f<7*c&&(c=f=Math.max(c,f));var h=r.sampleGrid(this.image,n,a,o,l,c,f);return new gd(h,[n,a,o,l])},r.shiftPoint=function(e,t,n){var a=(t.getX()-e.getX())/(n+1),o=(t.getY()-e.getY())/(n+1);return new ce(e.getX()+a,e.getY()+o)},r.moveAway=function(e,t,n){var a=e.getX(),o=e.getY();return a<t?a-=1:a+=1,o<n?o-=1:o+=1,new ce(a,o)},r.prototype.detectSolid1=function(e){var t=e[0],n=e[1],a=e[3],o=e[2],l=this.transitionsBetween(t,n),c=this.transitionsBetween(n,a),f=this.transitionsBetween(a,o),h=this.transitionsBetween(o,t),v=l,g=[o,t,n,a];return v>c&&(v=c,g[0]=t,g[1]=n,g[2]=a,g[3]=o),v>f&&(v=f,g[0]=n,g[1]=a,g[2]=o,g[3]=t),v>h&&(g[0]=a,g[1]=o,g[2]=t,g[3]=n),g},r.prototype.detectSolid2=function(e){var t=e[0],n=e[1],a=e[2],o=e[3],l=this.transitionsBetween(t,o),c=r.shiftPoint(n,a,(l+1)*4),f=r.shiftPoint(a,n,(l+1)*4),h=this.transitionsBetween(c,t),v=this.transitionsBetween(f,o);return h<v?(e[0]=t,e[1]=n,e[2]=a,e[3]=o):(e[0]=n,e[1]=a,e[2]=o,e[3]=t),e},r.prototype.correctTopRight=function(e){var t=e[0],n=e[1],a=e[2],o=e[3],l=this.transitionsBetween(t,o),c=this.transitionsBetween(n,o),f=r.shiftPoint(t,n,(c+1)*4),h=r.shiftPoint(a,n,(l+1)*4);l=this.transitionsBetween(f,o),c=this.transitionsBetween(h,o);var v=new ce(o.getX()+(a.getX()-n.getX())/(l+1),o.getY()+(a.getY()-n.getY())/(l+1)),g=new ce(o.getX()+(t.getX()-n.getX())/(c+1),o.getY()+(t.getY()-n.getY())/(c+1));if(!this.isValid(v))return this.isValid(g)?g:null;if(!this.isValid(g))return v;var x=this.transitionsBetween(f,v)+this.transitionsBetween(h,v),m=this.transitionsBetween(f,g)+this.transitionsBetween(h,g);return x>m?v:g},r.prototype.shiftToModuleCenter=function(e){var t=e[0],n=e[1],a=e[2],o=e[3],l=this.transitionsBetween(t,o)+1,c=this.transitionsBetween(a,o)+1,f=r.shiftPoint(t,n,c*4),h=r.shiftPoint(a,n,l*4);l=this.transitionsBetween(f,o)+1,c=this.transitionsBetween(h,o)+1,(l&1)===1&&(l+=1),(c&1)===1&&(c+=1);var v=(t.getX()+n.getX()+a.getX()+o.getX())/4,g=(t.getY()+n.getY()+a.getY()+o.getY())/4;t=r.moveAway(t,v,g),n=r.moveAway(n,v,g),a=r.moveAway(a,v,g),o=r.moveAway(o,v,g);var x,m;return f=r.shiftPoint(t,n,c*4),f=r.shiftPoint(f,o,l*4),x=r.shiftPoint(n,t,c*4),x=r.shiftPoint(x,a,l*4),h=r.shiftPoint(a,o,c*4),h=r.shiftPoint(h,n,l*4),m=r.shiftPoint(o,a,c*4),m=r.shiftPoint(m,t,l*4),[f,x,h,m]},r.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},r.sampleGrid=function(e,t,n,a,o,l,c){var f=yd.getInstance();return f.sampleGrid(e,l,c,.5,.5,l-.5,.5,l-.5,c-.5,.5,c-.5,t.getX(),t.getY(),o.getX(),o.getY(),a.getX(),a.getY(),n.getX(),n.getY())},r.prototype.transitionsBetween=function(e,t){var n=Math.trunc(e.getX()),a=Math.trunc(e.getY()),o=Math.trunc(t.getX()),l=Math.trunc(t.getY()),c=Math.abs(l-a)>Math.abs(o-n);if(c){var f=n;n=a,a=f,f=o,o=l,l=f}for(var h=Math.abs(o-n),v=Math.abs(l-a),g=-h/2,x=a<l?1:-1,m=n<o?1:-1,_=0,b=this.image.get(c?a:n,c?n:a),A=n,S=a;A!==o;A+=m){var O=this.image.get(c?S:A,c?A:S);if(O!==b&&(_++,b=O),g+=v,g>0){if(S===l)break;S+=x,g-=h}}return _},r})(),Ll=(function(){function r(){this.decoder=new RE}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n,a;if(t!=null&&t.has(Je.PURE_BARCODE)){var o=r.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(o),a=r.NO_POINTS}else{var l=new DE(e.getBlackMatrix()).detect();n=this.decoder.decode(l.getBits()),a=l.getPoints()}var c=n.getRawBytes(),f=new Xt(n.getText(),c,8*c.length,a,he.DATA_MATRIX,Qe.currentTimeMillis()),h=n.getByteSegments();h!=null&&f.putMetadata(Ft.BYTE_SEGMENTS,h);var v=n.getECLevel();return v!=null&&f.putMetadata(Ft.ERROR_CORRECTION_LEVEL,v),f},r.prototype.reset=function(){},r.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t==null||n==null)throw new $;var a=this.moduleSize(t,e),o=t[1],l=n[1],c=t[0],f=n[0],h=(f-c+1)/a,v=(l-o+1)/a;if(h<=0||v<=0)throw new $;var g=a/2;o+=g,c+=g;for(var x=new Gr(h,v),m=0;m<v;m++)for(var _=o+m*a,b=0;b<h;b++)e.get(c+b*a,_)&&x.set(b,m);return x},r.moduleSize=function(e,t){for(var n=t.getWidth(),a=e[0],o=e[1];a<n&&t.get(a,o);)a++;if(a===n)throw new $;var l=a-e[0];if(l===0)throw new $;return l},r.NO_POINTS=[],r})(),IE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){IE(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new Ll,t)||this}return e})(Ii);var Si;(function(r){r[r.L=0]="L",r[r.M=1]="M",r[r.Q=2]="Q",r[r.H=3]="H"})(Si||(Si={}));var NE=(function(){function r(e,t,n){this.value=e,this.stringValue=t,this.bits=n,r.FOR_BITS.set(n,this),r.FOR_VALUE.set(e,this)}return r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.fromString=function(e){switch(e){case"L":return r.L;case"M":return r.M;case"Q":return r.Q;case"H":return r.H;default:throw new ht(e+"not available")}},r.prototype.toString=function(){return this.stringValue},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.forBits=function(e){if(e<0||e>=r.FOR_BITS.size)throw new ve;return r.FOR_BITS.get(e)},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.L=new r(Si.L,"L",1),r.M=new r(Si.M,"M",0),r.Q=new r(Si.Q,"Q",3),r.H=new r(Si.H,"H",2),r})(),ME=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tg=(function(){function r(e){this.errorCorrectionLevel=NE.forBits(e>>3&3),this.dataMask=e&7}return r.numBitsDiffering=function(e,t){return Se.bitCount(e^t)},r.decodeFormatInformation=function(e,t){var n=r.doDecodeFormatInformation(e,t);return n!==null?n:r.doDecodeFormatInformation(e^r.FORMAT_INFO_MASK_QR,t^r.FORMAT_INFO_MASK_QR)},r.doDecodeFormatInformation=function(e,t){var n,a,o=Number.MAX_SAFE_INTEGER,l=0;try{for(var c=ME(r.FORMAT_INFO_DECODE_LOOKUP),f=c.next();!f.done;f=c.next()){var h=f.value,v=h[0];if(v===e||v===t)return new r(h[1]);var g=r.numBitsDiffering(e,v);g<o&&(l=h[1],o=g),e!==t&&(g=r.numBitsDiffering(t,v),g<o&&(l=h[1],o=g))}}catch(x){n={error:x}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}return o<=3?new r(l):null},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getDataMask=function(){return this.dataMask},r.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask},r.FORMAT_INFO_MASK_QR=21522,r.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],r})(),BE=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},V=(function(){function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return r.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},r.prototype.getNumBlocks=function(){var e,t,n=0,a=this.ecBlocks;try{for(var o=BE(a),l=o.next();!l.done;l=o.next()){var c=l.value;n+=c.getCount()}}catch(f){e={error:f}}finally{try{l&&!l.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n},r.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},r.prototype.getECBlocks=function(){return this.ecBlocks},r})(),R=(function(){function r(e,t){this.count=e,this.dataCodewords=t}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r})(),PE=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ea=(function(){function r(e,t){for(var n,a,o=[],l=2;l<arguments.length;l++)o[l-2]=arguments[l];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=o;var c=0,f=o[0].getECCodewordsPerBlock(),h=o[0].getECBlocks();try{for(var v=PE(h),g=v.next();!g.done;g=v.next()){var x=g.value;c+=x.getCount()*(x.getDataCodewords()+f)}}catch(m){n={error:m}}finally{try{g&&!g.done&&(a=v.return)&&a.call(v)}finally{if(n)throw n.error}}this.totalCodewords=c}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},r.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},r.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new oe;try{return this.getVersionForNumber((e-17)/4)}catch{throw new oe}},r.getVersionForNumber=function(e){if(e<1||e>40)throw new ve;return r.VERSIONS[e-1]},r.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,n=0,a=0;a<r.VERSION_DECODE_INFO.length;a++){var o=r.VERSION_DECODE_INFO[a];if(o===e)return r.getVersionForNumber(a+7);var l=Tg.numBitsDiffering(e,o);l<t&&(n=a+7,t=l)}return t<=3?r.getVersionForNumber(n):null},r.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new Gr(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,a=0;a<n;a++)for(var o=this.alignmentPatternCenters[a]-2,l=0;l<n;l++)a===0&&(l===0||l===n-1)||a===n-1&&l===0||t.setRegion(this.alignmentPatternCenters[l]-2,o,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},r.prototype.toString=function(){return""+this.versionNumber},r.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),r.VERSIONS=[new r(1,new Int32Array(0),new V(7,new R(1,19)),new V(10,new R(1,16)),new V(13,new R(1,13)),new V(17,new R(1,9))),new r(2,Int32Array.from([6,18]),new V(10,new R(1,34)),new V(16,new R(1,28)),new V(22,new R(1,22)),new V(28,new R(1,16))),new r(3,Int32Array.from([6,22]),new V(15,new R(1,55)),new V(26,new R(1,44)),new V(18,new R(2,17)),new V(22,new R(2,13))),new r(4,Int32Array.from([6,26]),new V(20,new R(1,80)),new V(18,new R(2,32)),new V(26,new R(2,24)),new V(16,new R(4,9))),new r(5,Int32Array.from([6,30]),new V(26,new R(1,108)),new V(24,new R(2,43)),new V(18,new R(2,15),new R(2,16)),new V(22,new R(2,11),new R(2,12))),new r(6,Int32Array.from([6,34]),new V(18,new R(2,68)),new V(16,new R(4,27)),new V(24,new R(4,19)),new V(28,new R(4,15))),new r(7,Int32Array.from([6,22,38]),new V(20,new R(2,78)),new V(18,new R(4,31)),new V(18,new R(2,14),new R(4,15)),new V(26,new R(4,13),new R(1,14))),new r(8,Int32Array.from([6,24,42]),new V(24,new R(2,97)),new V(22,new R(2,38),new R(2,39)),new V(22,new R(4,18),new R(2,19)),new V(26,new R(4,14),new R(2,15))),new r(9,Int32Array.from([6,26,46]),new V(30,new R(2,116)),new V(22,new R(3,36),new R(2,37)),new V(20,new R(4,16),new R(4,17)),new V(24,new R(4,12),new R(4,13))),new r(10,Int32Array.from([6,28,50]),new V(18,new R(2,68),new R(2,69)),new V(26,new R(4,43),new R(1,44)),new V(24,new R(6,19),new R(2,20)),new V(28,new R(6,15),new R(2,16))),new r(11,Int32Array.from([6,30,54]),new V(20,new R(4,81)),new V(30,new R(1,50),new R(4,51)),new V(28,new R(4,22),new R(4,23)),new V(24,new R(3,12),new R(8,13))),new r(12,Int32Array.from([6,32,58]),new V(24,new R(2,92),new R(2,93)),new V(22,new R(6,36),new R(2,37)),new V(26,new R(4,20),new R(6,21)),new V(28,new R(7,14),new R(4,15))),new r(13,Int32Array.from([6,34,62]),new V(26,new R(4,107)),new V(22,new R(8,37),new R(1,38)),new V(24,new R(8,20),new R(4,21)),new V(22,new R(12,11),new R(4,12))),new r(14,Int32Array.from([6,26,46,66]),new V(30,new R(3,115),new R(1,116)),new V(24,new R(4,40),new R(5,41)),new V(20,new R(11,16),new R(5,17)),new V(24,new R(11,12),new R(5,13))),new r(15,Int32Array.from([6,26,48,70]),new V(22,new R(5,87),new R(1,88)),new V(24,new R(5,41),new R(5,42)),new V(30,new R(5,24),new R(7,25)),new V(24,new R(11,12),new R(7,13))),new r(16,Int32Array.from([6,26,50,74]),new V(24,new R(5,98),new R(1,99)),new V(28,new R(7,45),new R(3,46)),new V(24,new R(15,19),new R(2,20)),new V(30,new R(3,15),new R(13,16))),new r(17,Int32Array.from([6,30,54,78]),new V(28,new R(1,107),new R(5,108)),new V(28,new R(10,46),new R(1,47)),new V(28,new R(1,22),new R(15,23)),new V(28,new R(2,14),new R(17,15))),new r(18,Int32Array.from([6,30,56,82]),new V(30,new R(5,120),new R(1,121)),new V(26,new R(9,43),new R(4,44)),new V(28,new R(17,22),new R(1,23)),new V(28,new R(2,14),new R(19,15))),new r(19,Int32Array.from([6,30,58,86]),new V(28,new R(3,113),new R(4,114)),new V(26,new R(3,44),new R(11,45)),new V(26,new R(17,21),new R(4,22)),new V(26,new R(9,13),new R(16,14))),new r(20,Int32Array.from([6,34,62,90]),new V(28,new R(3,107),new R(5,108)),new V(26,new R(3,41),new R(13,42)),new V(30,new R(15,24),new R(5,25)),new V(28,new R(15,15),new R(10,16))),new r(21,Int32Array.from([6,28,50,72,94]),new V(28,new R(4,116),new R(4,117)),new V(26,new R(17,42)),new V(28,new R(17,22),new R(6,23)),new V(30,new R(19,16),new R(6,17))),new r(22,Int32Array.from([6,26,50,74,98]),new V(28,new R(2,111),new R(7,112)),new V(28,new R(17,46)),new V(30,new R(7,24),new R(16,25)),new V(24,new R(34,13))),new r(23,Int32Array.from([6,30,54,78,102]),new V(30,new R(4,121),new R(5,122)),new V(28,new R(4,47),new R(14,48)),new V(30,new R(11,24),new R(14,25)),new V(30,new R(16,15),new R(14,16))),new r(24,Int32Array.from([6,28,54,80,106]),new V(30,new R(6,117),new R(4,118)),new V(28,new R(6,45),new R(14,46)),new V(30,new R(11,24),new R(16,25)),new V(30,new R(30,16),new R(2,17))),new r(25,Int32Array.from([6,32,58,84,110]),new V(26,new R(8,106),new R(4,107)),new V(28,new R(8,47),new R(13,48)),new V(30,new R(7,24),new R(22,25)),new V(30,new R(22,15),new R(13,16))),new r(26,Int32Array.from([6,30,58,86,114]),new V(28,new R(10,114),new R(2,115)),new V(28,new R(19,46),new R(4,47)),new V(28,new R(28,22),new R(6,23)),new V(30,new R(33,16),new R(4,17))),new r(27,Int32Array.from([6,34,62,90,118]),new V(30,new R(8,122),new R(4,123)),new V(28,new R(22,45),new R(3,46)),new V(30,new R(8,23),new R(26,24)),new V(30,new R(12,15),new R(28,16))),new r(28,Int32Array.from([6,26,50,74,98,122]),new V(30,new R(3,117),new R(10,118)),new V(28,new R(3,45),new R(23,46)),new V(30,new R(4,24),new R(31,25)),new V(30,new R(11,15),new R(31,16))),new r(29,Int32Array.from([6,30,54,78,102,126]),new V(30,new R(7,116),new R(7,117)),new V(28,new R(21,45),new R(7,46)),new V(30,new R(1,23),new R(37,24)),new V(30,new R(19,15),new R(26,16))),new r(30,Int32Array.from([6,26,52,78,104,130]),new V(30,new R(5,115),new R(10,116)),new V(28,new R(19,47),new R(10,48)),new V(30,new R(15,24),new R(25,25)),new V(30,new R(23,15),new R(25,16))),new r(31,Int32Array.from([6,30,56,82,108,134]),new V(30,new R(13,115),new R(3,116)),new V(28,new R(2,46),new R(29,47)),new V(30,new R(42,24),new R(1,25)),new V(30,new R(23,15),new R(28,16))),new r(32,Int32Array.from([6,34,60,86,112,138]),new V(30,new R(17,115)),new V(28,new R(10,46),new R(23,47)),new V(30,new R(10,24),new R(35,25)),new V(30,new R(19,15),new R(35,16))),new r(33,Int32Array.from([6,30,58,86,114,142]),new V(30,new R(17,115),new R(1,116)),new V(28,new R(14,46),new R(21,47)),new V(30,new R(29,24),new R(19,25)),new V(30,new R(11,15),new R(46,16))),new r(34,Int32Array.from([6,34,62,90,118,146]),new V(30,new R(13,115),new R(6,116)),new V(28,new R(14,46),new R(23,47)),new V(30,new R(44,24),new R(7,25)),new V(30,new R(59,16),new R(1,17))),new r(35,Int32Array.from([6,30,54,78,102,126,150]),new V(30,new R(12,121),new R(7,122)),new V(28,new R(12,47),new R(26,48)),new V(30,new R(39,24),new R(14,25)),new V(30,new R(22,15),new R(41,16))),new r(36,Int32Array.from([6,24,50,76,102,128,154]),new V(30,new R(6,121),new R(14,122)),new V(28,new R(6,47),new R(34,48)),new V(30,new R(46,24),new R(10,25)),new V(30,new R(2,15),new R(64,16))),new r(37,Int32Array.from([6,28,54,80,106,132,158]),new V(30,new R(17,122),new R(4,123)),new V(28,new R(29,46),new R(14,47)),new V(30,new R(49,24),new R(10,25)),new V(30,new R(24,15),new R(46,16))),new r(38,Int32Array.from([6,32,58,84,110,136,162]),new V(30,new R(4,122),new R(18,123)),new V(28,new R(13,46),new R(32,47)),new V(30,new R(48,24),new R(14,25)),new V(30,new R(42,15),new R(32,16))),new r(39,Int32Array.from([6,26,54,82,110,138,166]),new V(30,new R(20,117),new R(4,118)),new V(28,new R(40,47),new R(7,48)),new V(30,new R(43,24),new R(22,25)),new V(30,new R(10,15),new R(67,16))),new r(40,Int32Array.from([6,30,58,86,114,142,170]),new V(30,new R(19,118),new R(6,119)),new V(28,new R(18,47),new R(31,48)),new V(30,new R(34,24),new R(34,25)),new V(30,new R(20,15),new R(61,16)))],r})(),Nt;(function(r){r[r.DATA_MASK_000=0]="DATA_MASK_000",r[r.DATA_MASK_001=1]="DATA_MASK_001",r[r.DATA_MASK_010=2]="DATA_MASK_010",r[r.DATA_MASK_011=3]="DATA_MASK_011",r[r.DATA_MASK_100=4]="DATA_MASK_100",r[r.DATA_MASK_101=5]="DATA_MASK_101",r[r.DATA_MASK_110=6]="DATA_MASK_110",r[r.DATA_MASK_111=7]="DATA_MASK_111"})(Nt||(Nt={}));var mp=(function(){function r(e,t){this.value=e,this.isMasked=t}return r.prototype.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var a=0;a<t;a++)this.isMasked(n,a)&&e.flip(a,n)},r.values=new Map([[Nt.DATA_MASK_000,new r(Nt.DATA_MASK_000,function(e,t){return(e+t&1)===0})],[Nt.DATA_MASK_001,new r(Nt.DATA_MASK_001,function(e,t){return(e&1)===0})],[Nt.DATA_MASK_010,new r(Nt.DATA_MASK_010,function(e,t){return t%3===0})],[Nt.DATA_MASK_011,new r(Nt.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[Nt.DATA_MASK_100,new r(Nt.DATA_MASK_100,function(e,t){return(Math.floor(e/2)+Math.floor(t/3)&1)===0})],[Nt.DATA_MASK_101,new r(Nt.DATA_MASK_101,function(e,t){return e*t%6===0})],[Nt.DATA_MASK_110,new r(Nt.DATA_MASK_110,function(e,t){return e*t%6<3})],[Nt.DATA_MASK_111,new r(Nt.DATA_MASK_111,function(e,t){return(e+t+e*t%3&1)===0})]]),r})(),kE=(function(){function r(e){var t=e.getHeight();if(t<21||(t&3)!==1)throw new oe;this.bitMatrix=e}return r.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var a=this.bitMatrix.getHeight(),o=0,l=a-7,n=a-1;n>=l;n--)o=this.copyBit(8,n,o);for(var t=a-8;t<a;t++)o=this.copyBit(t,8,o);if(this.parsedFormatInfo=Tg.decodeFormatInformation(e,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new oe},r.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Ea.getVersionForNumber(t);for(var n=0,a=e-11,o=5;o>=0;o--)for(var l=e-9;l>=a;l--)n=this.copyBit(l,o,n);var c=Ea.decodeVersionInformation(n);if(c!==null&&c.getDimensionForVersion()===e)return this.parsedVersion=c,c;n=0;for(var l=5;l>=0;l--)for(var o=e-9;o>=a;o--)n=this.copyBit(l,o,n);if(c=Ea.decodeVersionInformation(n),c!==null&&c.getDimensionForVersion()===e)return this.parsedVersion=c,c;throw new oe},r.prototype.copyBit=function(e,t,n){var a=this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t);return a?n<<1|1:n<<1},r.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),n=mp.values.get(e.getDataMask()),a=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,a);for(var o=t.buildFunctionPattern(),l=!0,c=new Uint8Array(t.getTotalCodewords()),f=0,h=0,v=0,g=a-1;g>0;g-=2){g===6&&g--;for(var x=0;x<a;x++)for(var m=l?a-1-x:x,_=0;_<2;_++)o.get(g-_,m)||(v++,h<<=1,this.bitMatrix.get(g-_,m)&&(h|=1),v===8&&(c[f++]=h,v=0,h=0));l=!l}if(f!==t.getTotalCodewords())throw new oe;return c},r.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=mp.values.get(this.parsedFormatInfo.getDataMask()),t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},r.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},r.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,n=e.getWidth();t<n;t++)for(var a=t+1,o=e.getHeight();a<o;a++)e.get(t,a)!==e.get(a,t)&&(e.flip(a,t),e.flip(t,a))},r})(),_p=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},LE=(function(){function r(e,t){this.numDataCodewords=e,this.codewords=t}return r.getDataBlocks=function(e,t,n){var a,o,l,c;if(e.length!==t.getTotalCodewords())throw new ve;var f=t.getECBlocksForLevel(n),h=0,v=f.getECBlocks();try{for(var g=_p(v),x=g.next();!x.done;x=g.next()){var m=x.value;h+=m.getCount()}}catch(ae){a={error:ae}}finally{try{x&&!x.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}var _=new Array(h),b=0;try{for(var A=_p(v),S=A.next();!S.done;S=A.next())for(var m=S.value,O=0;O<m.getCount();O++){var T=m.getDataCodewords(),N=f.getECCodewordsPerBlock()+T;_[b++]=new r(T,new Uint8Array(N))}}catch(ae){l={error:ae}}finally{try{S&&!S.done&&(c=A.return)&&c.call(A)}finally{if(l)throw l.error}}for(var P=_[0].codewords.length,D=_.length-1;D>=0;){var B=_[D].codewords.length;if(B===P)break;D--}D++;for(var Y=P-f.getECCodewordsPerBlock(),F=0,O=0;O<Y;O++)for(var X=0;X<b;X++)_[X].codewords[O]=e[F++];for(var X=D;X<b;X++)_[X].codewords[Y]=e[F++];for(var J=_[0].codewords.length,O=Y;O<J;O++)for(var X=0;X<b;X++){var K=X<D?O:O+1;_[X].codewords[K]=e[F++]}return _},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r})(),br;(function(r){r[r.TERMINATOR=0]="TERMINATOR",r[r.NUMERIC=1]="NUMERIC",r[r.ALPHANUMERIC=2]="ALPHANUMERIC",r[r.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",r[r.BYTE=4]="BYTE",r[r.ECI=5]="ECI",r[r.KANJI=6]="KANJI",r[r.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",r[r.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",r[r.HANZI=9]="HANZI"})(br||(br={}));var tt=(function(){function r(e,t,n,a){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=n,this.bits=a,r.FOR_BITS.set(a,this),r.FOR_VALUE.set(e,this)}return r.forBits=function(e){var t=r.FOR_BITS.get(e);if(t===void 0)throw new ve;return t},r.prototype.getCharacterCountBits=function(e){var t=e.getVersionNumber(),n;return t<=9?n=0:t<=26?n=1:n=2,this.characterCountBitsForVersions[n]},r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.prototype.toString=function(){return this.stringValue},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.TERMINATOR=new r(br.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),r.NUMERIC=new r(br.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),r.ALPHANUMERIC=new r(br.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),r.STRUCTURED_APPEND=new r(br.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),r.BYTE=new r(br.BYTE,"BYTE",Int32Array.from([8,16,16]),4),r.ECI=new r(br.ECI,"ECI",Int32Array.from([0,0,0]),7),r.KANJI=new r(br.KANJI,"KANJI",Int32Array.from([8,10,12]),8),r.FNC1_FIRST_POSITION=new r(br.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),r.FNC1_SECOND_POSITION=new r(br.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),r.HANZI=new r(br.HANZI,"HANZI",Int32Array.from([8,10,12]),13),r})(),jE=(function(){function r(){}return r.decode=function(e,t,n,a){var o=new Cg(e),l=new Ae,c=new Array,f=-1,h=-1;try{var v=null,g=!1,x=void 0;do{if(o.available()<4)x=tt.TERMINATOR;else{var m=o.readBits(4);x=tt.forBits(m)}switch(x){case tt.TERMINATOR:break;case tt.FNC1_FIRST_POSITION:case tt.FNC1_SECOND_POSITION:g=!0;break;case tt.STRUCTURED_APPEND:if(o.available()<16)throw new oe;f=o.readBits(8),h=o.readBits(8);break;case tt.ECI:var _=r.parseECIValue(o);if(v=bt.getCharacterSetECIByValue(_),v===null)throw new oe;break;case tt.HANZI:var b=o.readBits(4),A=o.readBits(x.getCharacterCountBits(t));b===r.GB2312_SUBSET&&r.decodeHanziSegment(o,l,A);break;default:var S=o.readBits(x.getCharacterCountBits(t));switch(x){case tt.NUMERIC:r.decodeNumericSegment(o,l,S);break;case tt.ALPHANUMERIC:r.decodeAlphanumericSegment(o,l,S,g);break;case tt.BYTE:r.decodeByteSegment(o,l,S,v,c,a);break;case tt.KANJI:r.decodeKanjiSegment(o,l,S);break;default:throw new oe}break}}while(x!==tt.TERMINATOR)}catch{throw new oe}return new ql(e,l.toString(),c.length===0?null:c,n===null?null:n.toString(),f,h)},r.decodeHanziSegment=function(e,t,n){if(n*13>e.available())throw new oe;for(var a=new Uint8Array(2*n),o=0;n>0;){var l=e.readBits(13),c=l/96<<8&4294967295|l%96;c<959?c+=41377:c+=42657,a[o]=c>>8&255,a[o+1]=c&255,o+=2,n--}try{t.append(Cr.decode(a,Ie.GB2312))}catch(f){throw new oe(f)}},r.decodeKanjiSegment=function(e,t,n){if(n*13>e.available())throw new oe;for(var a=new Uint8Array(2*n),o=0;n>0;){var l=e.readBits(13),c=l/192<<8&4294967295|l%192;c<7936?c+=33088:c+=49472,a[o]=c>>8,a[o+1]=c,o+=2,n--}try{t.append(Cr.decode(a,Ie.SHIFT_JIS))}catch(f){throw new oe(f)}},r.decodeByteSegment=function(e,t,n,a,o,l){if(8*n>e.available())throw new oe;for(var c=new Uint8Array(n),f=0;f<n;f++)c[f]=e.readBits(8);var h;a===null?h=Ie.guessEncoding(c,l):h=a.getName();try{t.append(Cr.decode(c,h))}catch(v){throw new oe(v)}o.push(c)},r.toAlphaNumericChar=function(e){if(e>=r.ALPHANUMERIC_CHARS.length)throw new oe;return r.ALPHANUMERIC_CHARS[e]},r.decodeAlphanumericSegment=function(e,t,n,a){for(var o=t.length();n>1;){if(e.available()<11)throw new oe;var l=e.readBits(11);t.append(r.toAlphaNumericChar(Math.floor(l/45))),t.append(r.toAlphaNumericChar(l%45)),n-=2}if(n===1){if(e.available()<6)throw new oe;t.append(r.toAlphaNumericChar(e.readBits(6)))}if(a)for(var c=o;c<t.length();c++)t.charAt(c)==="%"&&(c<t.length()-1&&t.charAt(c+1)==="%"?t.deleteCharAt(c+1):t.setCharAt(c,""))},r.decodeNumericSegment=function(e,t,n){for(;n>=3;){if(e.available()<10)throw new oe;var a=e.readBits(10);if(a>=1e3)throw new oe;t.append(r.toAlphaNumericChar(Math.floor(a/100))),t.append(r.toAlphaNumericChar(Math.floor(a/10)%10)),t.append(r.toAlphaNumericChar(a%10)),n-=3}if(n===2){if(e.available()<7)throw new oe;var o=e.readBits(7);if(o>=100)throw new oe;t.append(r.toAlphaNumericChar(Math.floor(o/10))),t.append(r.toAlphaNumericChar(o%10))}else if(n===1){if(e.available()<4)throw new oe;var l=e.readBits(4);if(l>=10)throw new oe;t.append(r.toAlphaNumericChar(l))}},r.parseECIValue=function(e){var t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){var n=e.readBits(8);return(t&63)<<8&4294967295|n}if((t&224)===192){var a=e.readBits(16);return(t&31)<<16&4294967295|a}throw new oe},r.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",r.GB2312_SUBSET=1,r})(),Og=(function(){function r(e){this.mirrored=e}return r.prototype.isMirrored=function(){return this.mirrored},r.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},r})(),wp=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UE=(function(){function r(){this.rsDecoder=new Yl(nr.QR_CODE_FIELD_256)}return r.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(Gr.parseFromBooleanArray(e),t)},r.prototype.decodeBitMatrix=function(e,t){var n=new kE(e),a=null;try{return this.decodeBitMatrixParser(n,t)}catch(l){a=l}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var o=this.decodeBitMatrixParser(n,t);return o.setOther(new Og(!0)),o}catch(l){throw a!==null?a:l}},r.prototype.decodeBitMatrixParser=function(e,t){var n,a,o,l,c=e.readVersion(),f=e.readFormatInformation().getErrorCorrectionLevel(),h=e.readCodewords(),v=LE.getDataBlocks(h,c,f),g=0;try{for(var x=wp(v),m=x.next();!m.done;m=x.next()){var _=m.value;g+=_.getNumDataCodewords()}}catch(D){n={error:D}}finally{try{m&&!m.done&&(a=x.return)&&a.call(x)}finally{if(n)throw n.error}}var b=new Uint8Array(g),A=0;try{for(var S=wp(v),O=S.next();!O.done;O=S.next()){var _=O.value,T=_.getCodewords(),N=_.getNumDataCodewords();this.correctErrors(T,N);for(var P=0;P<N;P++)b[A++]=T[P]}}catch(D){o={error:D}}finally{try{O&&!O.done&&(l=S.return)&&l.call(S)}finally{if(o)throw o.error}}return jE.decode(b,c,f,t)},r.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new gt}for(var a=0;a<t;a++)e[a]=n[a]},r})(),FE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),zE=(function(r){FE(e,r);function e(t,n,a){var o=r.call(this,t,n)||this;return o.estimatedModuleSize=a,o}return e.prototype.aboutEquals=function(t,n,a){if(Math.abs(n-this.getY())<=t&&Math.abs(a-this.getX())<=t){var o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,a){var o=(this.getX()+n)/2,l=(this.getY()+t)/2,c=(this.estimatedModuleSize+a)/2;return new e(o,l,c)},e})(ce),HE=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},VE=(function(){function r(e,t,n,a,o,l,c){this.image=e,this.startX=t,this.startY=n,this.width=a,this.height=o,this.moduleSize=l,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return r.prototype.find=function(){for(var e=this.startX,t=this.height,n=this.width,a=e+n,o=this.startY+t/2,l=new Int32Array(3),c=this.image,f=0;f<t;f++){var h=o+((f&1)===0?Math.floor((f+1)/2):-Math.floor((f+1)/2));l[0]=0,l[1]=0,l[2]=0;for(var v=e;v<a&&!c.get(v,h);)v++;for(var g=0;v<a;){if(c.get(v,h))if(g===1)l[1]++;else if(g===2){if(this.foundPatternCross(l)){var x=this.handlePossibleCenter(l,h,v);if(x!==null)return x}l[0]=l[2],l[1]=1,l[2]=0,g=1}else l[++g]++;else g===1&&g++,l[g]++;v++}if(this.foundPatternCross(l)){var x=this.handlePossibleCenter(l,h,a);if(x!==null)return x}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new $},r.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},r.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,n=t/2,a=0;a<3;a++)if(Math.abs(t-e[a])>=n)return!1;return!0},r.prototype.crossCheckVertical=function(e,t,n,a){var o=this.image,l=o.getHeight(),c=this.crossCheckStateCount;c[0]=0,c[1]=0,c[2]=0;for(var f=e;f>=0&&o.get(t,f)&&c[1]<=n;)c[1]++,f--;if(f<0||c[1]>n)return NaN;for(;f>=0&&!o.get(t,f)&&c[0]<=n;)c[0]++,f--;if(c[0]>n)return NaN;for(f=e+1;f<l&&o.get(t,f)&&c[1]<=n;)c[1]++,f++;if(f===l||c[1]>n)return NaN;for(;f<l&&!o.get(t,f)&&c[2]<=n;)c[2]++,f++;if(c[2]>n)return NaN;var h=c[0]+c[1]+c[2];return 5*Math.abs(h-a)>=2*a?NaN:this.foundPatternCross(c)?r.centerFromEnd(c,f):NaN},r.prototype.handlePossibleCenter=function(e,t,n){var a,o,l=e[0]+e[1]+e[2],c=r.centerFromEnd(e,n),f=this.crossCheckVertical(t,c,2*e[1],l);if(!isNaN(f)){var h=(e[0]+e[1]+e[2])/3;try{for(var v=HE(this.possibleCenters),g=v.next();!g.done;g=v.next()){var x=g.value;if(x.aboutEquals(h,f,c))return x.combineEstimate(f,c,h)}}catch(_){a={error:_}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}var m=new zE(c,f,h);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null},r})(),GE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),XE=(function(r){GE(e,r);function e(t,n,a,o){var l=r.call(this,t,n)||this;return l.estimatedModuleSize=a,l.count=o,o===void 0&&(l.count=1),l}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,n,a){if(Math.abs(n-this.getY())<=t&&Math.abs(a-this.getX())<=t){var o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,a){var o=this.count+1,l=(this.count*this.getX()+n)/o,c=(this.count*this.getY()+t)/o,f=(this.count*this.estimatedModuleSize+a)/o;return new e(l,c,f,o)},e})(ce),qE=(function(){function r(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r})(),ko=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},YE=(function(){function r(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return r.prototype.getImage=function(){return this.image},r.prototype.getPossibleCenters=function(){return this.possibleCenters},r.prototype.find=function(e){var t=e!=null&&e.get(Je.TRY_HARDER)!==void 0,n=e!=null&&e.get(Je.PURE_BARCODE)!==void 0,a=this.image,o=a.getHeight(),l=a.getWidth(),c=Math.floor(3*o/(4*r.MAX_MODULES));(c<r.MIN_SKIP||t)&&(c=r.MIN_SKIP);for(var f=!1,h=new Int32Array(5),v=c-1;v<o&&!f;v+=c){h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0;for(var g=0,x=0;x<l;x++)if(a.get(x,v))(g&1)===1&&g++,h[g]++;else if((g&1)===0)if(g===4)if(r.foundPatternCross(h)){var m=this.handlePossibleCenter(h,v,x,n);if(m===!0)if(c=2,this.hasSkipped===!0)f=this.haveMultiplyConfirmedCenters();else{var _=this.findRowSkip();_>h[2]&&(v+=_-h[2]-c,x=l-1)}else{h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,g=3;continue}g=0,h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0}else h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,g=3;else h[++g]++;else h[g]++;if(r.foundPatternCross(h)){var m=this.handlePossibleCenter(h,v,l,n);m===!0&&(c=h[0],this.hasSkipped&&(f=this.haveMultiplyConfirmedCenters()))}}var b=this.selectBestPatterns();return ce.orderBestPatterns(b),new qE(b)},r.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},r.foundPatternCross=function(e){for(var t=0,n=0;n<5;n++){var a=e[n];if(a===0)return!1;t+=a}if(t<7)return!1;var o=t/7,l=o/2;return Math.abs(o-e[0])<l&&Math.abs(o-e[1])<l&&Math.abs(3*o-e[2])<3*l&&Math.abs(o-e[3])<l&&Math.abs(o-e[4])<l},r.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},r.prototype.crossCheckDiagonal=function(e,t,n,a){for(var o=this.getCrossCheckStateCount(),l=0,c=this.image;e>=l&&t>=l&&c.get(t-l,e-l);)o[2]++,l++;if(e<l||t<l)return!1;for(;e>=l&&t>=l&&!c.get(t-l,e-l)&&o[1]<=n;)o[1]++,l++;if(e<l||t<l||o[1]>n)return!1;for(;e>=l&&t>=l&&c.get(t-l,e-l)&&o[0]<=n;)o[0]++,l++;if(o[0]>n)return!1;var f=c.getHeight(),h=c.getWidth();for(l=1;e+l<f&&t+l<h&&c.get(t+l,e+l);)o[2]++,l++;if(e+l>=f||t+l>=h)return!1;for(;e+l<f&&t+l<h&&!c.get(t+l,e+l)&&o[3]<n;)o[3]++,l++;if(e+l>=f||t+l>=h||o[3]>=n)return!1;for(;e+l<f&&t+l<h&&c.get(t+l,e+l)&&o[4]<n;)o[4]++,l++;if(o[4]>=n)return!1;var v=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(v-a)<2*a&&r.foundPatternCross(o)},r.prototype.crossCheckVertical=function(e,t,n,a){for(var o=this.image,l=o.getHeight(),c=this.getCrossCheckStateCount(),f=e;f>=0&&o.get(t,f);)c[2]++,f--;if(f<0)return NaN;for(;f>=0&&!o.get(t,f)&&c[1]<=n;)c[1]++,f--;if(f<0||c[1]>n)return NaN;for(;f>=0&&o.get(t,f)&&c[0]<=n;)c[0]++,f--;if(c[0]>n)return NaN;for(f=e+1;f<l&&o.get(t,f);)c[2]++,f++;if(f===l)return NaN;for(;f<l&&!o.get(t,f)&&c[3]<n;)c[3]++,f++;if(f===l||c[3]>=n)return NaN;for(;f<l&&o.get(t,f)&&c[4]<n;)c[4]++,f++;if(c[4]>=n)return NaN;var h=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(h-a)>=2*a?NaN:r.foundPatternCross(c)?r.centerFromEnd(c,f):NaN},r.prototype.crossCheckHorizontal=function(e,t,n,a){for(var o=this.image,l=o.getWidth(),c=this.getCrossCheckStateCount(),f=e;f>=0&&o.get(f,t);)c[2]++,f--;if(f<0)return NaN;for(;f>=0&&!o.get(f,t)&&c[1]<=n;)c[1]++,f--;if(f<0||c[1]>n)return NaN;for(;f>=0&&o.get(f,t)&&c[0]<=n;)c[0]++,f--;if(c[0]>n)return NaN;for(f=e+1;f<l&&o.get(f,t);)c[2]++,f++;if(f===l)return NaN;for(;f<l&&!o.get(f,t)&&c[3]<n;)c[3]++,f++;if(f===l||c[3]>=n)return NaN;for(;f<l&&o.get(f,t)&&c[4]<n;)c[4]++,f++;if(c[4]>=n)return NaN;var h=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(h-a)>=a?NaN:r.foundPatternCross(c)?r.centerFromEnd(c,f):NaN},r.prototype.handlePossibleCenter=function(e,t,n,a){var o=e[0]+e[1]+e[2]+e[3]+e[4],l=r.centerFromEnd(e,n),c=this.crossCheckVertical(t,Math.floor(l),e[2],o);if(!isNaN(c)&&(l=this.crossCheckHorizontal(Math.floor(l),Math.floor(c),e[2],o),!isNaN(l)&&(!a||this.crossCheckDiagonal(Math.floor(c),Math.floor(l),e[2],o)))){for(var f=o/7,h=!1,v=this.possibleCenters,g=0,x=v.length;g<x;g++){var m=v[g];if(m.aboutEquals(f,c,l)){v[g]=m.combineEstimate(c,l,f),h=!0;break}}if(!h){var _=new XE(l,c,f);v.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return!0}return!1},r.prototype.findRowSkip=function(){var e,t,n=this.possibleCenters.length;if(n<=1)return 0;var a=null;try{for(var o=ko(this.possibleCenters),l=o.next();!l.done;l=o.next()){var c=l.value;if(c.getCount()>=r.CENTER_QUORUM)if(a==null)a=c;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-c.getX())-Math.abs(a.getY()-c.getY()))/2)}}catch(f){e={error:f}}finally{try{l&&!l.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return 0},r.prototype.haveMultiplyConfirmedCenters=function(){var e,t,n,a,o=0,l=0,c=this.possibleCenters.length;try{for(var f=ko(this.possibleCenters),h=f.next();!h.done;h=f.next()){var v=h.value;v.getCount()>=r.CENTER_QUORUM&&(o++,l+=v.getEstimatedModuleSize())}}catch(b){e={error:b}}finally{try{h&&!h.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}if(o<3)return!1;var g=l/c,x=0;try{for(var m=ko(this.possibleCenters),_=m.next();!_.done;_=m.next()){var v=_.value;x+=Math.abs(v.getEstimatedModuleSize()-g)}}catch(b){n={error:b}}finally{try{_&&!_.done&&(a=m.return)&&a.call(m)}finally{if(n)throw n.error}}return x<=.05*l},r.prototype.selectBestPatterns=function(){var e,t,n,a,o=this.possibleCenters.length;if(o<3)throw new $;var l=this.possibleCenters,c;if(o>3){var f=0,h=0;try{for(var v=ko(this.possibleCenters),g=v.next();!g.done;g=v.next()){var x=g.value,m=x.getEstimatedModuleSize();f+=m,h+=m*m}}catch(P){e={error:P}}finally{try{g&&!g.done&&(t=v.return)&&t.call(v)}finally{if(e)throw e.error}}c=f/o;var _=Math.sqrt(h/o-c*c);l.sort(function(P,D){var B=Math.abs(D.getEstimatedModuleSize()-c),Y=Math.abs(P.getEstimatedModuleSize()-c);return B<Y?-1:B>Y?1:0});for(var b=Math.max(.2*c,_),A=0;A<l.length&&l.length>3;A++){var S=l[A];Math.abs(S.getEstimatedModuleSize()-c)>b&&(l.splice(A,1),A--)}}if(l.length>3){var f=0;try{for(var O=ko(l),T=O.next();!T.done;T=O.next()){var N=T.value;f+=N.getEstimatedModuleSize()}}catch(D){n={error:D}}finally{try{T&&!T.done&&(a=O.return)&&a.call(O)}finally{if(n)throw n.error}}c=f/l.length,l.sort(function(D,B){if(B.getCount()===D.getCount()){var Y=Math.abs(B.getEstimatedModuleSize()-c),F=Math.abs(D.getEstimatedModuleSize()-c);return Y<F?1:Y>F?-1:0}else return B.getCount()-D.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]},r.CENTER_QUORUM=2,r.MIN_SKIP=3,r.MAX_MODULES=57,r})(),$E=(function(){function r(e){this.image=e}return r.prototype.getImage=function(){return this.image},r.prototype.getResultPointCallback=function(){return this.resultPointCallback},r.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Je.NEED_RESULT_POINT_CALLBACK);var t=new YE(this.image,this.resultPointCallback),n=t.find(e);return this.processFinderPatternInfo(n)},r.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),n=e.getTopRight(),a=e.getBottomLeft(),o=this.calculateModuleSize(t,n,a);if(o<1)throw new $("No pattern found in proccess finder.");var l=r.computeDimension(t,n,a,o),c=Ea.getProvisionalVersionForDimension(l),f=c.getDimensionForVersion()-7,h=null;if(c.getAlignmentPatternCenters().length>0)for(var v=n.getX()-t.getX()+a.getX(),g=n.getY()-t.getY()+a.getY(),x=1-3/f,m=Math.floor(t.getX()+x*(v-t.getX())),_=Math.floor(t.getY()+x*(g-t.getY())),b=4;b<=16;b<<=1)try{h=this.findAlignmentInRegion(o,m,_,b);break}catch(T){if(!(T instanceof $))throw T}var A=r.createTransform(t,n,a,h,l),S=r.sampleGrid(this.image,A,l),O;return h===null?O=[a,t,n]:O=[a,t,n,h],new gd(S,O)},r.createTransform=function(e,t,n,a,o){var l=o-3.5,c,f,h,v;return a!==null?(c=a.getX(),f=a.getY(),h=l-3,v=h):(c=t.getX()-e.getX()+n.getX(),f=t.getY()-e.getY()+n.getY(),h=l,v=l),Eg.quadrilateralToQuadrilateral(3.5,3.5,l,3.5,h,v,3.5,l,e.getX(),e.getY(),t.getX(),t.getY(),c,f,n.getX(),n.getY())},r.sampleGrid=function(e,t,n){var a=yd.getInstance();return a.sampleGridWithTransform(e,n,n,t)},r.computeDimension=function(e,t,n,a){var o=Be.round(ce.distance(e,t)/a),l=Be.round(ce.distance(e,n)/a),c=Math.floor((o+l)/2)+7;switch(c&3){case 0:c++;break;case 2:c--;break;case 3:throw new $("Dimensions could be not found.")}return c},r.prototype.calculateModuleSize=function(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2},r.prototype.calculateModuleSizeOneWay=function(e,t){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?a/7:isNaN(a)?n/7:(n+a)/14},r.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,n,a){var o=this.sizeOfBlackWhiteBlackRun(e,t,n,a),l=1,c=e-(n-e);c<0?(l=e/(e-c),c=0):c>=this.image.getWidth()&&(l=(this.image.getWidth()-1-e)/(c-e),c=this.image.getWidth()-1);var f=Math.floor(t-(a-t)*l);return l=1,f<0?(l=t/(t-f),f=0):f>=this.image.getHeight()&&(l=(this.image.getHeight()-1-t)/(f-t),f=this.image.getHeight()-1),c=Math.floor(e+(c-e)*l),o+=this.sizeOfBlackWhiteBlackRun(e,t,c,f),o-1},r.prototype.sizeOfBlackWhiteBlackRun=function(e,t,n,a){var o=Math.abs(a-t)>Math.abs(n-e);if(o){var l=e;e=t,t=l,l=n,n=a,a=l}for(var c=Math.abs(n-e),f=Math.abs(a-t),h=-c/2,v=e<n?1:-1,g=t<a?1:-1,x=0,m=n+v,_=e,b=t;_!==m;_+=v){var A=o?b:_,S=o?_:b;if(x===1===this.image.get(A,S)){if(x===2)return Be.distance(_,b,e,t);x++}if(h+=f,h>0){if(b===a)break;b+=g,h-=c}}return x===2?Be.distance(n+v,a,e,t):NaN},r.prototype.findAlignmentInRegion=function(e,t,n,a){var o=Math.floor(a*e),l=Math.max(0,t-o),c=Math.min(this.image.getWidth()-1,t+o);if(c-l<e*3)throw new $("Alignment top exceeds estimated module size.");var f=Math.max(0,n-o),h=Math.min(this.image.getHeight()-1,n+o);if(h-f<e*3)throw new $("Alignment bottom exceeds estimated module size.");var v=new VE(this.image,l,f,c-l,h-f,e,this.resultPointCallback);return v.find()},r})(),jl=(function(){function r(){this.decoder=new UE}return r.prototype.getDecoder=function(){return this.decoder},r.prototype.decode=function(e,t){var n,a;if(t!=null&&t.get(Je.PURE_BARCODE)!==void 0){var o=r.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(o,t),a=r.NO_POINTS}else{var l=new $E(e.getBlackMatrix()).detect(t);n=this.decoder.decodeBitMatrix(l.getBits(),t),a=l.getPoints()}n.getOther()instanceof Og&&n.getOther().applyMirroredCorrection(a);var c=new Xt(n.getText(),n.getRawBytes(),void 0,a,he.QR_CODE,void 0),f=n.getByteSegments();f!==null&&c.putMetadata(Ft.BYTE_SEGMENTS,f);var h=n.getECLevel();return h!==null&&c.putMetadata(Ft.ERROR_CORRECTION_LEVEL,h),n.hasStructuredAppend()&&(c.putMetadata(Ft.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),c.putMetadata(Ft.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),c},r.prototype.reset=function(){},r.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t===null||n===null)throw new $;var a=this.moduleSize(t,e),o=t[1],l=n[1],c=t[0],f=n[0];if(c>=f||o>=l)throw new $;if(l-o!==f-c&&(f=c+(l-o),f>=e.getWidth()))throw new $;var h=Math.round((f-c+1)/a),v=Math.round((l-o+1)/a);if(h<=0||v<=0)throw new $;if(v!==h)throw new $;var g=Math.floor(a/2);o+=g,c+=g;var x=c+Math.floor((h-1)*a)-f;if(x>0){if(x>g)throw new $;c-=x}var m=o+Math.floor((v-1)*a)-l;if(m>0){if(m>g)throw new $;o-=m}for(var _=new Gr(h,v),b=0;b<v;b++)for(var A=o+Math.floor(b*a),S=0;S<h;S++)e.get(c+Math.floor(S*a),A)&&_.set(S,b);return _},r.moduleSize=function(e,t){for(var n=t.getHeight(),a=t.getWidth(),o=e[0],l=e[1],c=!0,f=0;o<a&&l<n;){if(c!==t.get(o,l)){if(++f===5)break;c=!c}o++,l++}if(o===a||l===n)throw new $;return(o-e[0])/7},r.NO_POINTS=new Array,r})(),WE=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ne=(function(){function r(){}return r.prototype.PDF417Common=function(){},r.getBitCountSum=function(e){return Be.sum(e)},r.toIntArray=function(e){var t,n;if(e==null||!e.length)return r.EMPTY_INT_ARRAY;var a=new Int32Array(e.length),o=0;try{for(var l=WE(e),c=l.next();!c.done;c=l.next()){var f=c.value;a[o++]=f}}catch(h){t={error:h}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return a},r.getCodeword=function(e){var t=St.binarySearch(r.SYMBOL_TABLE,e&262143);return t<0?-1:(r.CODEWORD_TABLE[t]-1)%r.NUMBER_OF_CODEWORDS},r.NUMBER_OF_CODEWORDS=929,r.MAX_CODEWORDS_IN_BARCODE=r.NUMBER_OF_CODEWORDS-1,r.MIN_ROWS_IN_BARCODE=3,r.MAX_ROWS_IN_BARCODE=90,r.MODULES_IN_CODEWORD=17,r.MODULES_IN_STOP_PATTERN=18,r.BARS_IN_MODULE=8,r.EMPTY_INT_ARRAY=new Int32Array([]),r.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),r.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),r})(),ZE=(function(){function r(e,t){this.bits=e,this.points=t}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r})(),KE=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},QE=(function(){function r(){}return r.detectMultiple=function(e,t,n){var a=e.getBlackMatrix(),o=r.detect(n,a);return o.length||(a=a.clone(),a.rotate180(),o=r.detect(n,a)),new ZE(a,o)},r.detect=function(e,t){for(var n,a,o=new Array,l=0,c=0,f=!1;l<t.getHeight();){var h=r.findVertices(t,l,c);if(h[0]==null&&h[3]==null){if(!f)break;f=!1,c=0;try{for(var v=(n=void 0,KE(o)),g=v.next();!g.done;g=v.next()){var x=g.value;x[1]!=null&&(l=Math.trunc(Math.max(l,x[1].getY()))),x[3]!=null&&(l=Math.max(l,Math.trunc(x[3].getY())))}}catch(m){n={error:m}}finally{try{g&&!g.done&&(a=v.return)&&a.call(v)}finally{if(n)throw n.error}}l+=r.ROW_STEP;continue}if(f=!0,o.push(h),!e)break;h[2]!=null?(c=Math.trunc(h[2].getX()),l=Math.trunc(h[2].getY())):(c=Math.trunc(h[4].getX()),l=Math.trunc(h[4].getY()))}return o},r.findVertices=function(e,t,n){var a=e.getHeight(),o=e.getWidth(),l=new Array(8);return r.copyToResult(l,r.findRowsWithPattern(e,a,o,t,n,r.START_PATTERN),r.INDEXES_START_PATTERN),l[4]!=null&&(n=Math.trunc(l[4].getX()),t=Math.trunc(l[4].getY())),r.copyToResult(l,r.findRowsWithPattern(e,a,o,t,n,r.STOP_PATTERN),r.INDEXES_STOP_PATTERN),l},r.copyToResult=function(e,t,n){for(var a=0;a<n.length;a++)e[n[a]]=t[a]},r.findRowsWithPattern=function(e,t,n,a,o,l){for(var c=new Array(4),f=!1,h=new Int32Array(l.length);a<t;a+=r.ROW_STEP){var v=r.findGuardPattern(e,o,a,n,!1,l,h);if(v!=null){for(;a>0;){var g=r.findGuardPattern(e,o,--a,n,!1,l,h);if(g!=null)v=g;else{a++;break}}c[0]=new ce(v[0],a),c[1]=new ce(v[1],a),f=!0;break}}var x=a+1;if(f){for(var m=0,g=Int32Array.from([Math.trunc(c[0].getX()),Math.trunc(c[1].getX())]);x<t;x++){var v=r.findGuardPattern(e,g[0],x,n,!1,l,h);if(v!=null&&Math.abs(g[0]-v[0])<r.MAX_PATTERN_DRIFT&&Math.abs(g[1]-v[1])<r.MAX_PATTERN_DRIFT)g=v,m=0;else{if(m>r.SKIPPED_ROW_COUNT_MAX)break;m++}}x-=m+1,c[2]=new ce(g[0],x),c[3]=new ce(g[1],x)}return x-a<r.BARCODE_MIN_HEIGHT&&St.fill(c,null),c},r.findGuardPattern=function(e,t,n,a,o,l,c){St.fillWithin(c,0,c.length,0);for(var f=t,h=0;e.get(f,n)&&f>0&&h++<r.MAX_PIXEL_DRIFT;)f--;for(var v=f,g=0,x=l.length,m=o;v<a;v++){var _=e.get(v,n);if(_!==m)c[g]++;else{if(g===x-1){if(r.patternMatchVariance(c,l,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE)return new Int32Array([f,v]);f+=c[0]+c[1],Qe.arraycopy(c,2,c,0,g-1),c[g-1]=0,c[g]=0,g--}else g++;c[g]=1,m=!m}}return g===x-1&&r.patternMatchVariance(c,l,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE?new Int32Array([f,v-1]):null},r.patternMatchVariance=function(e,t,n){for(var a=e.length,o=0,l=0,c=0;c<a;c++)o+=e[c],l+=t[c];if(o<l)return 1/0;var f=o/l;n*=f;for(var h=0,v=0;v<a;v++){var g=e[v],x=t[v]*f,m=g>x?g-x:x-g;if(m>n)return 1/0;h+=m}return h/o},r.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),r.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),r.MAX_AVG_VARIANCE=.42,r.MAX_INDIVIDUAL_VARIANCE=.8,r.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),r.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),r.MAX_PIXEL_DRIFT=3,r.MAX_PATTERN_DRIFT=5,r.SKIPPED_ROW_COUNT_MAX=25,r.ROW_STEP=5,r.BARCODE_MIN_HEIGHT=10,r})(),JE=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wa=(function(){function r(e,t){if(t.length===0)throw new ve;this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var a=1;a<n&&t[a]===0;)a++;a===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-a),Qe.arraycopy(t,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){var t,n;if(e===0)return this.getCoefficient(0);if(e===1){var a=0;try{for(var o=JE(this.coefficients),l=o.next();!l.done;l=o.next()){var c=l.value;a=this.field.add(a,c)}}catch(g){t={error:g}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return a}for(var f=this.coefficients[0],h=this.coefficients.length,v=1;v<h;v++)f=this.field.add(this.field.multiply(e,f),this.coefficients[v]);return f},r.prototype.add=function(e){if(!this.field.equals(e.field))throw new ve("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var a=t;t=n,n=a}var o=new Int32Array(n.length),l=n.length-t.length;Qe.arraycopy(n,0,o,0,l);for(var c=l;c<n.length;c++)o[c]=this.field.add(t[c-l],n[c]);return new r(this.field,o)},r.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new ve("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},r.prototype.multiply=function(e){return e instanceof r?this.multiplyOther(e):this.multiplyScalar(e)},r.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new ve("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new r(this.field,new Int32Array([0]));for(var t=this.coefficients,n=t.length,a=e.coefficients,o=a.length,l=new Int32Array(n+o-1),c=0;c<n;c++)for(var f=t[c],h=0;h<o;h++)l[c+h]=this.field.add(l[c+h],this.field.multiply(f,a[h]));return new r(this.field,l)},r.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),n=0;n<e;n++)t[n]=this.field.subtract(0,this.coefficients[n]);return new r(this.field,t)},r.prototype.multiplyScalar=function(e){if(e===0)return new r(this.field,new Int32Array([0]));if(e===1)return this;for(var t=this.coefficients.length,n=new Int32Array(t),a=0;a<t;a++)n[a]=this.field.multiply(this.coefficients[a],e);return new r(this.field,n)},r.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new ve;if(t===0)return new r(this.field,new Int32Array([0]));for(var n=this.coefficients.length,a=new Int32Array(n+e),o=0;o<n;o++)a[o]=this.field.multiply(this.coefficients[o],t);return new r(this.field,a)},r.prototype.toString=function(){for(var e=new Ae,t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(t===0||n!==1)&&e.append(n),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},r})(),eA=(function(){function r(){}return r.prototype.add=function(e,t){return(e+t)%this.modulus},r.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new ve;return this.logTable[e]},r.prototype.inverse=function(e){if(e===0)throw new wg;return this.expTable[this.modulus-this.logTable[e]-1]},r.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},r.prototype.getSize=function(){return this.modulus},r.prototype.equals=function(e){return e===this},r})(),tA=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),rA=(function(r){tA(e,r);function e(t,n){var a=r.call(this)||this;a.modulus=t,a.expTable=new Int32Array(t),a.logTable=new Int32Array(t);for(var o=1,l=0;l<t;l++)a.expTable[l]=o,o=o*n%t;for(var l=0;l<t-1;l++)a.logTable[a.expTable[l]]=l;return a.zero=new wa(a,new Int32Array([0])),a.one=new wa(a,new Int32Array([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,n){if(t<0)throw new ve;if(n===0)return this.zero;var a=new Int32Array(t+1);return a[0]=n,new wa(this,a)},e.PDF417_GF=new e(Ne.NUMBER_OF_CODEWORDS,3),e})(eA),nA=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},aA=(function(){function r(){this.field=rA.PDF417_GF}return r.prototype.decode=function(e,t,n){for(var a,o,l=new wa(this.field,e),c=new Int32Array(t),f=!1,h=t;h>0;h--){var v=l.evaluateAt(this.field.exp(h));c[t-h]=v,v!==0&&(f=!0)}if(!f)return 0;var g=this.field.getOne();if(n!=null)try{for(var x=nA(n),m=x.next();!m.done;m=x.next()){var _=m.value,b=this.field.exp(e.length-1-_),A=new wa(this.field,new Int32Array([this.field.subtract(0,b),1]));g=g.multiply(A)}}catch(Y){a={error:Y}}finally{try{m&&!m.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}for(var S=new wa(this.field,c),O=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),S,t),T=O[0],N=O[1],P=this.findErrorLocations(T),D=this.findErrorMagnitudes(N,T,P),h=0;h<P.length;h++){var B=e.length-1-this.field.log(P[h]);if(B<0)throw gt.getChecksumInstance();e[B]=this.field.subtract(e[B],D[h])}return P.length},r.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var a=e;e=t,t=a}for(var o=e,l=t,c=this.field.getZero(),f=this.field.getOne();l.getDegree()>=Math.round(n/2);){var h=o,v=c;if(o=l,c=f,o.isZero())throw gt.getChecksumInstance();l=h;for(var g=this.field.getZero(),x=o.getCoefficient(o.getDegree()),m=this.field.inverse(x);l.getDegree()>=o.getDegree()&&!l.isZero();){var _=l.getDegree()-o.getDegree(),b=this.field.multiply(l.getCoefficient(l.getDegree()),m);g=g.add(this.field.buildMonomial(_,b)),l=l.subtract(o.multiplyByMonomial(_,b))}f=g.multiply(c).subtract(v).negative()}var A=f.getCoefficient(0);if(A===0)throw gt.getChecksumInstance();var S=this.field.inverse(A),O=f.multiply(S),T=l.multiply(S);return[O,T]},r.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),n=new Int32Array(t),a=0,o=1;o<this.field.getSize()&&a<t;o++)e.evaluateAt(o)===0&&(n[a]=this.field.inverse(o),a++);if(a!==t)throw gt.getChecksumInstance();return n},r.prototype.findErrorMagnitudes=function(e,t,n){for(var a=t.getDegree(),o=new Int32Array(a),l=1;l<=a;l++)o[a-l]=this.field.multiply(l,t.getCoefficient(l));for(var c=new wa(this.field,o),f=n.length,h=new Int32Array(f),l=0;l<f;l++){var v=this.field.inverse(n[l]),g=this.field.subtract(0,e.evaluateAt(v)),x=this.field.inverse(c.evaluateAt(v));h[l]=this.field.multiply(g,x)}return h},r})(),ed=(function(){function r(e,t,n,a,o){e instanceof r?this.constructor_2(e):this.constructor_1(e,t,n,a,o)}return r.prototype.constructor_1=function(e,t,n,a,o){var l=t==null||n==null,c=a==null||o==null;if(l&&c)throw new $;l?(t=new ce(0,a.getY()),n=new ce(0,o.getY())):c&&(a=new ce(e.getWidth()-1,t.getY()),o=new ce(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=a,this.bottomRight=o,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(a.getX(),o.getX())),this.minY=Math.trunc(Math.min(t.getY(),a.getY())),this.maxY=Math.trunc(Math.max(n.getY(),o.getY()))},r.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},r.merge=function(e,t){return e==null?t:t==null?e:new r(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},r.prototype.addMissingRows=function(e,t,n){var a=this.topLeft,o=this.bottomLeft,l=this.topRight,c=this.bottomRight;if(e>0){var f=n?this.topLeft:this.topRight,h=Math.trunc(f.getY()-e);h<0&&(h=0);var v=new ce(f.getX(),h);n?a=v:l=v}if(t>0){var g=n?this.bottomLeft:this.bottomRight,x=Math.trunc(g.getY()+t);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);var m=new ce(g.getX(),x);n?o=m:c=m}return new r(this.image,a,o,l,c)},r.prototype.getMinX=function(){return this.minX},r.prototype.getMaxX=function(){return this.maxX},r.prototype.getMinY=function(){return this.minY},r.prototype.getMaxY=function(){return this.maxY},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getBottomRight=function(){return this.bottomRight},r})(),iA=(function(){function r(e,t,n,a){this.columnCount=e,this.errorCorrectionLevel=a,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}return r.prototype.getColumnCount=function(){return this.columnCount},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getRowCount=function(){return this.rowCount},r.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},r.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},r})(),md=(function(){function r(){this.buffer=""}return r.form=function(e,t){var n=-1;function a(l,c,f,h,v,g){if(l==="%%")return"%";if(t[++n]!==void 0){l=h?parseInt(h.substr(1)):void 0;var x=v?parseInt(v.substr(1)):void 0,m;switch(g){case"s":m=t[n];break;case"c":m=t[n][0];break;case"f":m=parseFloat(t[n]).toFixed(l);break;case"p":m=parseFloat(t[n]).toPrecision(l);break;case"e":m=parseFloat(t[n]).toExponential(l);break;case"x":m=parseInt(t[n]).toString(x||16);break;case"d":m=parseFloat(parseInt(t[n],x||10).toPrecision(l)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(x);for(var _=parseInt(f),b=f&&f[0]+""=="0"?"0":" ";m.length<_;)m=c!==void 0?m+b:b+m;return m}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},r.prototype.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.buffer+=r.form(e,t)},r.prototype.toString=function(){return this.buffer},r})(),oA=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Rg=(function(){function r(e){this.boundingBox=new ed(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return r.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(t!=null)return t;for(var n=1;n<r.MAX_NEARBY_DISTANCE;n++){var a=this.imageRowToCodewordIndex(e)-n;if(a>=0&&(t=this.codewords[a],t!=null)||(a=this.imageRowToCodewordIndex(e)+n,a<this.codewords.length&&(t=this.codewords[a],t!=null)))return t}return null},r.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},r.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},r.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.getCodewords=function(){return this.codewords},r.prototype.toString=function(){var e,t,n=new md,a=0;try{for(var o=oA(this.codewords),l=o.next();!l.done;l=o.next()){var c=l.value;if(c==null){n.format("%3d:    |   %n",a++);continue}n.format("%3d: %3d|%3d%n",a++,c.getRowNumber(),c.getValue())}}catch(f){e={error:f}}finally{try{l&&!l.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n.toString()},r.MAX_NEARBY_DISTANCE=5,r})(),sA=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lA=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),a,o=[],l;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)o.push(a.value)}catch(c){l={error:c}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(l)throw l.error}}return o},zo=(function(){function r(){this.values=new Map}return r.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)},r.prototype.getValue=function(){var e,t,n=-1,a=new Array,o=function(g,x){var m={getKey:function(){return g},getValue:function(){return x}};m.getValue()>n?(n=m.getValue(),a=[],a.push(m.getKey())):m.getValue()===n&&a.push(m.getKey())};try{for(var l=sA(this.values.entries()),c=l.next();!c.done;c=l.next()){var f=lA(c.value,2),h=f[0],v=f[1];o(h,v)}}catch(g){e={error:g}}finally{try{c&&!c.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}return Ne.toIntArray(a)},r.prototype.getConfidence=function(e){return this.values.get(e)},r})(),uA=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Rf=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ep=(function(r){uA(e,r);function e(t,n){var a=r.call(this,t)||this;return a._isLeft=n,a}return e.prototype.setRowNumbers=function(){var t,n;try{for(var a=Rf(this.getCodewords()),o=a.next();!o.done;o=a.next()){var l=o.value;l?.setRowNumberAsRowIndicatorColumn()}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,t);for(var a=this.getBoundingBox(),o=this._isLeft?a.getTopLeft():a.getTopRight(),l=this._isLeft?a.getBottomLeft():a.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=-1,v=1,g=0,x=c;x<f;x++)if(n[x]!=null){var m=n[x],_=m.getRowNumber()-h;if(_===0)g++;else if(_===1)v=Math.max(v,g),g=1,h=m.getRowNumber();else if(_<0||m.getRowNumber()>=t.getRowCount()||_>x)n[x]=null;else{var b=void 0;v>2?b=(v-2)*_:b=_;for(var A=b>=x,S=1;S<=b&&!A;S++)A=n[x-S]!=null;A?n[x]=null:(h=m.getRowNumber(),g=1)}}},e.prototype.getRowHeights=function(){var t,n,a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);var o=new Int32Array(a.getRowCount());try{for(var l=Rf(this.getCodewords()),c=l.next();!c.done;c=l.next()){var f=c.value;if(f!=null){var h=f.getRowNumber();if(h>=o.length)continue;o[h]++}}}catch(v){t={error:v}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return o},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var n=this.getBoundingBox(),a=this._isLeft?n.getTopLeft():n.getTopRight(),o=this._isLeft?n.getBottomLeft():n.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.getCodewords(),h=-1,v=l;v<c;v++)if(f[v]!=null){var g=f[v];g.setRowNumberAsRowIndicatorColumn();var x=g.getRowNumber()-h;x===0||(x===1?h=g.getRowNumber():g.getRowNumber()>=t.getRowCount()?f[v]=null:h=g.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var t,n,a=this.getCodewords(),o=new zo,l=new zo,c=new zo,f=new zo;try{for(var h=Rf(a),v=h.next();!v.done;v=h.next()){var g=v.value;if(g!=null){g.setRowNumberAsRowIndicatorColumn();var x=g.getValue()%30,m=g.getRowNumber();switch(this._isLeft||(m+=2),m%3){case 0:l.setValue(x*3+1);break;case 1:f.setValue(x/3),c.setValue(x%3);break;case 2:o.setValue(x+1);break}}}}catch(b){t={error:b}}finally{try{v&&!v.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}if(o.getValue().length===0||l.getValue().length===0||c.getValue().length===0||f.getValue().length===0||o.getValue()[0]<1||l.getValue()[0]+c.getValue()[0]<Ne.MIN_ROWS_IN_BARCODE||l.getValue()[0]+c.getValue()[0]>Ne.MAX_ROWS_IN_BARCODE)return null;var _=new iA(o.getValue()[0],l.getValue()[0],c.getValue()[0],f.getValue()[0]);return this.removeIncorrectCodewords(a,_),_},e.prototype.removeIncorrectCodewords=function(t,n){for(var a=0;a<t.length;a++){var o=t[a];if(t[a]!=null){var l=o.getValue()%30,c=o.getRowNumber();if(c>n.getRowCount()){t[a]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:l*3+1!==n.getRowCountUpperPart()&&(t[a]=null);break;case 1:(Math.trunc(l/3)!==n.getErrorCorrectionLevel()||l%3!==n.getRowCountLowerPart())&&(t[a]=null);break;case 2:l+1!==n.getColumnCount()&&(t[a]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+r.prototype.toString.call(this)},e})(Rg),cA=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fA=(function(){function r(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return r.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Ne.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns},r.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},r.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var n=this.detectionResultColumns[t].getCodewords(),a=0;a<n.length;a++)n[a]!=null&&(n[a].hasValidRowNumber()||this.adjustRowNumbers(t,a,n));return e},r.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},r.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&t[n]!=null&&e[n].getRowNumber()===t[n].getRowNumber())for(var a=1;a<=this.barcodeColumnCount;a++){var o=this.detectionResultColumns[a].getCodewords()[n];o!=null&&(o.setRowNumber(e[n].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[n]=null))}}},r.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null)for(var a=t[n].getRowNumber(),o=0,l=this.barcodeColumnCount+1;l>0&&o<this.ADJUST_ROW_NUMBER_SKIP;l--){var c=this.detectionResultColumns[l].getCodewords()[n];c!=null&&(o=r.adjustRowNumberIfValid(a,o,c),c.hasValidRowNumber()||e++)}return e},r.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null)for(var a=t[n].getRowNumber(),o=0,l=1;l<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;l++){var c=this.detectionResultColumns[l].getCodewords()[n];c!=null&&(o=r.adjustRowNumberIfValid(a,o,c),c.hasValidRowNumber()||e++)}return e},r.adjustRowNumberIfValid=function(e,t,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t},r.prototype.adjustRowNumbers=function(e,t,n){var a,o;if(this.detectionResultColumns[e-1]!=null){var l=n[t],c=this.detectionResultColumns[e-1].getCodewords(),f=c;this.detectionResultColumns[e+1]!=null&&(f=this.detectionResultColumns[e+1].getCodewords());var h=new Array(14);h[2]=c[t],h[3]=f[t],t>0&&(h[0]=n[t-1],h[4]=c[t-1],h[5]=f[t-1]),t>1&&(h[8]=n[t-2],h[10]=c[t-2],h[11]=f[t-2]),t<n.length-1&&(h[1]=n[t+1],h[6]=c[t+1],h[7]=f[t+1]),t<n.length-2&&(h[9]=n[t+2],h[12]=c[t+2],h[13]=f[t+2]);try{for(var v=cA(h),g=v.next();!g.done;g=v.next()){var x=g.value;if(r.adjustRowNumber(l,x))return}}catch(m){a={error:m}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}}},r.adjustRowNumber=function(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1},r.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},r.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},r.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},r.prototype.setBoundingBox=function(e){this.boundingBox=e},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},r.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},r.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new md,n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(var a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){t.format("    |   ");continue}var o=this.detectionResultColumns[a].getCodewords()[n];if(o==null){t.format("    |   ");continue}t.format(" %3d|%3d",o.getRowNumber(),o.getValue())}t.format("%n")}return t.toString()},r})(),dA=(function(){function r(e,t,n,a){this.rowNumber=r.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(n),this.value=Math.trunc(a)}return r.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},r.prototype.isValidRowNumber=function(e){return e!==r.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},r.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},r.prototype.getWidth=function(){return this.endX-this.startX},r.prototype.getStartX=function(){return this.startX},r.prototype.getEndX=function(){return this.endX},r.prototype.getBucket=function(){return this.bucket},r.prototype.getValue=function(){return this.value},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.setRowNumber=function(e){this.rowNumber=e},r.prototype.toString=function(){return this.rowNumber+"|"+this.value},r.BARCODE_ROW_UNKNOWN=-1,r})(),hA=(function(){function r(){}return r.initialize=function(){for(var e=0;e<Ne.SYMBOL_TABLE.length;e++)for(var t=Ne.SYMBOL_TABLE[e],n=t&1,a=0;a<Ne.BARS_IN_MODULE;a++){for(var o=0;(t&1)===n;)o+=1,t>>=1;n=t&1,r.RATIOS_TABLE[e]||(r.RATIOS_TABLE[e]=new Array(Ne.BARS_IN_MODULE)),r.RATIOS_TABLE[e][Ne.BARS_IN_MODULE-a-1]=Math.fround(o/Ne.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},r.getDecodedValue=function(e){var t=r.getDecodedCodewordValue(r.sampleBitCounts(e));return t!==-1?t:r.getClosestDecodedValue(e)},r.sampleBitCounts=function(e){for(var t=Be.sum(e),n=new Int32Array(Ne.BARS_IN_MODULE),a=0,o=0,l=0;l<Ne.MODULES_IN_CODEWORD;l++){var c=t/(2*Ne.MODULES_IN_CODEWORD)+l*t/Ne.MODULES_IN_CODEWORD;o+e[a]<=c&&(o+=e[a],a++),n[a]++}return n},r.getDecodedCodewordValue=function(e){var t=r.getBitValue(e);return Ne.getCodeword(t)===-1?-1:t},r.getBitValue=function(e){for(var t=0,n=0;n<e.length;n++)for(var a=0;a<e[n];a++)t=t<<1|(n%2===0?1:0);return Math.trunc(t)},r.getClosestDecodedValue=function(e){var t=Be.sum(e),n=new Array(Ne.BARS_IN_MODULE);if(t>1)for(var a=0;a<n.length;a++)n[a]=Math.fround(e[a]/t);var o=Kf.MAX_VALUE,l=-1;this.bSymbolTableReady||r.initialize();for(var c=0;c<r.RATIOS_TABLE.length;c++){for(var f=0,h=r.RATIOS_TABLE[c],v=0;v<Ne.BARS_IN_MODULE;v++){var g=Math.fround(h[v]-n[v]);if(f+=Math.fround(g*g),f>=o)break}f<o&&(o=f,l=Ne.SYMBOL_TABLE[c])}return l},r.bSymbolTableReady=!1,r.RATIOS_TABLE=new Array(Ne.SYMBOL_TABLE.length).map(function(e){return new Array(Ne.BARS_IN_MODULE)}),r})(),vA=(function(){function r(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return r.prototype.getSegmentIndex=function(){return this.segmentIndex},r.prototype.setSegmentIndex=function(e){this.segmentIndex=e},r.prototype.getFileId=function(){return this.fileId},r.prototype.setFileId=function(e){this.fileId=e},r.prototype.getOptionalData=function(){return this.optionalData},r.prototype.setOptionalData=function(e){this.optionalData=e},r.prototype.isLastSegment=function(){return this.lastSegment},r.prototype.setLastSegment=function(e){this.lastSegment=e},r.prototype.getSegmentCount=function(){return this.segmentCount},r.prototype.setSegmentCount=function(e){this.segmentCount=e},r.prototype.getSender=function(){return this.sender||null},r.prototype.setSender=function(e){this.sender=e},r.prototype.getAddressee=function(){return this.addressee||null},r.prototype.setAddressee=function(e){this.addressee=e},r.prototype.getFileName=function(){return this.fileName},r.prototype.setFileName=function(e){this.fileName=e},r.prototype.getFileSize=function(){return this.fileSize},r.prototype.setFileSize=function(e){this.fileSize=e},r.prototype.getChecksum=function(){return this.checksum},r.prototype.setChecksum=function(e){this.checksum=e},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.setTimestamp=function(e){this.timestamp=e},r})(),Ap=(function(){function r(){}return r.parseLong=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},r})(),pA=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),gA=(function(r){pA(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="NullPointerException",e})(ar),yA=(function(){function r(){}return r.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},r.prototype.writeBytesOffset=function(e,t,n){if(e==null)throw new gA;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new pd;if(n===0)return;for(var a=0;a<n;a++)this.write(e[t+a])},r.prototype.flush=function(){},r.prototype.close=function(){},r})(),xA=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),mA=(function(r){xA(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e})(ar),_A=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),wA=(function(r){_A(e,r);function e(t){t===void 0&&(t=32);var n=r.call(this)||this;if(n.count=0,t<0)throw new ve("Negative initial size: "+t);return n.buf=new Uint8Array(t),n}return e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var n=this.buf.length,a=n<<1;if(a-t<0&&(a=t),a<0){if(t<0)throw new mA;a=Se.MAX_VALUE}this.buf=St.copyOfUint8Array(this.buf,a)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,n,a){if(n<0||n>t.length||a<0||n+a-t.length>0)throw new pd;this.ensureCapacity(this.count+a),Qe.arraycopy(t,n,this.buf,this.count,a),this.count+=a},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return St.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e})(yA),qe;(function(r){r[r.ALPHA=0]="ALPHA",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.PUNCT=3]="PUNCT",r[r.ALPHA_SHIFT=4]="ALPHA_SHIFT",r[r.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(qe||(qe={}));function Dg(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var bl;function Gn(r){if(typeof bl>"u"&&(bl=Dg()),bl===null)throw new Error("BigInt is not supported!");return bl(r)}function EA(){var r=[];r[0]=Gn(1);var e=Gn(900);r[1]=e;for(var t=2;t<16;t++)r[t]=r[t-1]*e;return r}var AA=(function(){function r(){}return r.decode=function(e,t){var n=new Ae(""),a=bt.ISO8859_1;n.enableDecoding(a);for(var o=1,l=e[o++],c=new vA;o<e[0];){switch(l){case r.TEXT_COMPACTION_MODE_LATCH:o=r.textCompaction(e,o,n);break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:o=r.byteCompaction(l,e,a,o,n);break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[o++]);break;case r.NUMERIC_COMPACTION_MODE_LATCH:o=r.numericCompaction(e,o,n);break;case r.ECI_CHARSET:bt.getCharacterSetECIByValue(e[o++]);break;case r.ECI_GENERAL_PURPOSE:o+=2;break;case r.ECI_USER_DEFINED:o++;break;case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=r.decodeMacroBlock(e,o,c);break;case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:throw new oe;default:o--,o=r.textCompaction(e,o,n);break}if(o<e.length)l=e[o++];else throw oe.getFormatInstance()}if(n.length()===0)throw oe.getFormatInstance();var f=new ql(null,n.toString(),null,t);return f.setOther(c),f},r.decodeMacroBlock=function(e,t,n){if(t+r.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw oe.getFormatInstance();for(var a=new Int32Array(r.NUMBER_OF_SEQUENCE_CODEWORDS),o=0;o<r.NUMBER_OF_SEQUENCE_CODEWORDS;o++,t++)a[o]=e[t];n.setSegmentIndex(Se.parseInt(r.decodeBase900toBase10(a,r.NUMBER_OF_SEQUENCE_CODEWORDS)));var l=new Ae;t=r.textCompaction(e,t,l),n.setFileId(l.toString());var c=-1;for(e[t]===r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=t+1);t<e[0];)switch(e[t]){case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var f=new Ae;t=r.textCompaction(e,t+1,f),n.setFileName(f.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var h=new Ae;t=r.textCompaction(e,t+1,h),n.setSender(h.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var v=new Ae;t=r.textCompaction(e,t+1,v),n.setAddressee(v.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var g=new Ae;t=r.numericCompaction(e,t+1,g),n.setSegmentCount(Se.parseInt(g.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var x=new Ae;t=r.numericCompaction(e,t+1,x),n.setTimestamp(Ap.parseLong(x.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var m=new Ae;t=r.numericCompaction(e,t+1,m),n.setChecksum(Se.parseInt(m.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var _=new Ae;t=r.numericCompaction(e,t+1,_),n.setFileSize(Ap.parseLong(_.toString()));break;default:throw oe.getFormatInstance()}break;case r.MACRO_PDF417_TERMINATOR:t++,n.setLastSegment(!0);break;default:throw oe.getFormatInstance()}if(c!==-1){var b=t-c;n.isLastSegment()&&b--,n.setOptionalData(St.copyOfRange(e,c,c+b))}return t},r.textCompaction=function(e,t,n){for(var a=new Int32Array((e[0]-t)*2),o=new Int32Array((e[0]-t)*2),l=0,c=!1;t<e[0]&&!c;){var f=e[t++];if(f<r.TEXT_COMPACTION_MODE_LATCH)a[l]=f/30,a[l+1]=f%30,l+=2;else switch(f){case r.TEXT_COMPACTION_MODE_LATCH:a[l++]=r.TEXT_COMPACTION_MODE_LATCH;break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:t--,c=!0;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[l]=r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,f=e[t++],o[l]=f,l++;break}}return r.decodeTextCompaction(a,o,l,n),t},r.decodeTextCompaction=function(e,t,n,a){for(var o=qe.ALPHA,l=qe.ALPHA,c=0;c<n;){var f=e[c],h="";switch(o){case qe.ALPHA:if(f<26)h=String.fromCharCode(65+f);else switch(f){case 26:h=" ";break;case r.LL:o=qe.LOWER;break;case r.ML:o=qe.MIXED;break;case r.PS:l=o,o=qe.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[c]);break;case r.TEXT_COMPACTION_MODE_LATCH:o=qe.ALPHA;break}break;case qe.LOWER:if(f<26)h=String.fromCharCode(97+f);else switch(f){case 26:h=" ";break;case r.AS:l=o,o=qe.ALPHA_SHIFT;break;case r.ML:o=qe.MIXED;break;case r.PS:l=o,o=qe.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[c]);break;case r.TEXT_COMPACTION_MODE_LATCH:o=qe.ALPHA;break}break;case qe.MIXED:if(f<r.PL)h=r.MIXED_CHARS[f];else switch(f){case r.PL:o=qe.PUNCT;break;case 26:h=" ";break;case r.LL:o=qe.LOWER;break;case r.AL:o=qe.ALPHA;break;case r.PS:l=o,o=qe.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[c]);break;case r.TEXT_COMPACTION_MODE_LATCH:o=qe.ALPHA;break}break;case qe.PUNCT:if(f<r.PAL)h=r.PUNCT_CHARS[f];else switch(f){case r.PAL:o=qe.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[c]);break;case r.TEXT_COMPACTION_MODE_LATCH:o=qe.ALPHA;break}break;case qe.ALPHA_SHIFT:if(o=l,f<26)h=String.fromCharCode(65+f);else switch(f){case 26:h=" ";break;case r.TEXT_COMPACTION_MODE_LATCH:o=qe.ALPHA;break}break;case qe.PUNCT_SHIFT:if(o=l,f<r.PAL)h=r.PUNCT_CHARS[f];else switch(f){case r.PAL:o=qe.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[c]);break;case r.TEXT_COMPACTION_MODE_LATCH:o=qe.ALPHA;break}break}h!==""&&a.append(h),c++}},r.byteCompaction=function(e,t,n,a,o){var l=new wA,c=0,f=0,h=!1;switch(e){case r.BYTE_COMPACTION_MODE_LATCH:for(var v=new Int32Array(6),g=t[a++];a<t[0]&&!h;)switch(v[c++]=g,f=900*f+g,g=t[a++],g){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:a--,h=!0;break;default:if(c%5===0&&c>0){for(var x=0;x<6;++x)l.write(Number(Gn(f)>>Gn(8*(5-x))));f=0,c=0}break}a===t[0]&&g<r.TEXT_COMPACTION_MODE_LATCH&&(v[c++]=g);for(var m=0;m<c;m++)l.write(v[m]);break;case r.BYTE_COMPACTION_MODE_LATCH_6:for(;a<t[0]&&!h;){var _=t[a++];if(_<r.TEXT_COMPACTION_MODE_LATCH)c++,f=900*f+_;else switch(_){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:a--,h=!0;break}if(c%5===0&&c>0){for(var x=0;x<6;++x)l.write(Number(Gn(f)>>Gn(8*(5-x))));f=0,c=0}}break}return o.append(Cr.decode(l.toByteArray(),n)),a},r.numericCompaction=function(e,t,n){for(var a=0,o=!1,l=new Int32Array(r.MAX_NUMERIC_CODEWORDS);t<e[0]&&!o;){var c=e[t++];if(t===e[0]&&(o=!0),c<r.TEXT_COMPACTION_MODE_LATCH)l[a]=c,a++;else switch(c){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:t--,o=!0;break}(a%r.MAX_NUMERIC_CODEWORDS===0||c===r.NUMERIC_COMPACTION_MODE_LATCH||o)&&a>0&&(n.append(r.decodeBase900toBase10(l,a)),a=0)}return t},r.decodeBase900toBase10=function(e,t){for(var n=Gn(0),a=0;a<t;a++)n+=r.EXP900[t-a-1]*Gn(e[a]);var o=n.toString();if(o.charAt(0)!=="1")throw new oe;return o.substring(1)},r.TEXT_COMPACTION_MODE_LATCH=900,r.BYTE_COMPACTION_MODE_LATCH=901,r.NUMERIC_COMPACTION_MODE_LATCH=902,r.BYTE_COMPACTION_MODE_LATCH_6=924,r.ECI_USER_DEFINED=925,r.ECI_GENERAL_PURPOSE=926,r.ECI_CHARSET=927,r.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,r.MACRO_PDF417_TERMINATOR=922,r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,r.MAX_NUMERIC_CODEWORDS=15,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,r.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,r.PL=25,r.LL=27,r.AS=27,r.ML=28,r.AL=28,r.PS=29,r.PAL=29,r.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,r.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",r.EXP900=Dg()?EA():[],r.NUMBER_OF_SEQUENCE_CODEWORDS=2,r})(),Lo=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bA=(function(){function r(){}return r.decode=function(e,t,n,a,o,l,c){for(var f=new ed(e,t,n,a,o),h=null,v=null,g,x=!0;;x=!1){if(t!=null&&(h=r.getRowIndicatorColumn(e,f,t,!0,l,c)),a!=null&&(v=r.getRowIndicatorColumn(e,f,a,!1,l,c)),g=r.merge(h,v),g==null)throw $.getNotFoundInstance();var m=g.getBoundingBox();if(x&&m!=null&&(m.getMinY()<f.getMinY()||m.getMaxY()>f.getMaxY()))f=m;else break}g.setBoundingBox(f);var _=g.getBarcodeColumnCount()+1;g.setDetectionResultColumn(0,h),g.setDetectionResultColumn(_,v);for(var b=h!=null,A=1;A<=_;A++){var S=b?A:_-A;if(g.getDetectionResultColumn(S)===void 0){var O=void 0;S===0||S===_?O=new Ep(f,S===0):O=new Rg(f),g.setDetectionResultColumn(S,O);for(var T=-1,N=T,P=f.getMinY();P<=f.getMaxY();P++){if(T=r.getStartColumn(g,S,P,b),T<0||T>f.getMaxX()){if(N===-1)continue;T=N}var D=r.detectCodeword(e,f.getMinX(),f.getMaxX(),b,T,P,l,c);D!=null&&(O.setCodeword(P,D),N=T,l=Math.min(l,D.getWidth()),c=Math.max(c,D.getWidth()))}}}return r.createDecoderResult(g)},r.merge=function(e,t){if(e==null&&t==null)return null;var n=r.getBarcodeMetadata(e,t);if(n==null)return null;var a=ed.merge(r.adjustBoundingBox(e),r.adjustBoundingBox(t));return new fA(n,a)},r.adjustBoundingBox=function(e){var t,n;if(e==null)return null;var a=e.getRowHeights();if(a==null)return null;var o=r.getMax(a),l=0;try{for(var c=Lo(a),f=c.next();!f.done;f=c.next()){var h=f.value;if(l+=o-h,h>0)break}}catch(m){t={error:m}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}for(var v=e.getCodewords(),g=0;l>0&&v[g]==null;g++)l--;for(var x=0,g=a.length-1;g>=0&&(x+=o-a[g],!(a[g]>0));g--);for(var g=v.length-1;x>0&&v[g]==null;g--)x--;return e.getBoundingBox().addMissingRows(l,x,e.isLeft())},r.getMax=function(e){var t,n,a=-1;try{for(var o=Lo(e),l=o.next();!l.done;l=o.next()){var c=l.value;a=Math.max(a,c)}}catch(f){t={error:f}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return a},r.getBarcodeMetadata=function(e,t){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();var a;return t==null||(a=t.getBarcodeMetadata())==null?n:n.getColumnCount()!==a.getColumnCount()&&n.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&n.getRowCount()!==a.getRowCount()?null:n},r.getRowIndicatorColumn=function(e,t,n,a,o,l){for(var c=new Ep(t,a),f=0;f<2;f++)for(var h=f===0?1:-1,v=Math.trunc(Math.trunc(n.getX())),g=Math.trunc(Math.trunc(n.getY()));g<=t.getMaxY()&&g>=t.getMinY();g+=h){var x=r.detectCodeword(e,0,e.getWidth(),a,v,g,o,l);x!=null&&(c.setCodeword(g,x),a?v=x.getStartX():v=x.getEndX())}return c},r.adjustCodewordCount=function(e,t){var n=t[0][1],a=n.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-r.getNumberOfECCodeWords(e.getBarcodeECLevel());if(a.length===0){if(o<1||o>Ne.MAX_CODEWORDS_IN_BARCODE)throw $.getNotFoundInstance();n.setValue(o)}else a[0]!==o&&n.setValue(o)},r.createDecoderResult=function(e){var t=r.createBarcodeMatrix(e);r.adjustCodewordCount(e,t);for(var n=new Array,a=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],l=new Array,c=0;c<e.getBarcodeRowCount();c++)for(var f=0;f<e.getBarcodeColumnCount();f++){var h=t[c][f+1].getValue(),v=c*e.getBarcodeColumnCount()+f;h.length===0?n.push(v):h.length===1?a[v]=h[0]:(l.push(v),o.push(h))}for(var g=new Array(o.length),x=0;x<g.length;x++)g[x]=o[x];return r.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),a,Ne.toIntArray(n),Ne.toIntArray(l),g)},r.createDecoderResultFromAmbiguousValues=function(e,t,n,a,o){for(var l=new Int32Array(a.length),c=100;c-- >0;){for(var f=0;f<l.length;f++)t[a[f]]=o[f][l[f]];try{return r.decodeCodewords(t,e,n)}catch(v){var h=v instanceof gt;if(!h)throw v}if(l.length===0)throw gt.getChecksumInstance();for(var f=0;f<l.length;f++)if(l[f]<o[f].length-1){l[f]++;break}else if(l[f]=0,f===l.length-1)throw gt.getChecksumInstance()}throw gt.getChecksumInstance()},r.createBarcodeMatrix=function(e){for(var t,n,a,o,l=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),c=0;c<l.length;c++)for(var f=0;f<l[c].length;f++)l[c][f]=new zo;var h=0;try{for(var v=Lo(e.getDetectionResultColumns()),g=v.next();!g.done;g=v.next()){var x=g.value;if(x!=null)try{for(var m=(a=void 0,Lo(x.getCodewords())),_=m.next();!_.done;_=m.next()){var b=_.value;if(b!=null){var A=b.getRowNumber();if(A>=0){if(A>=l.length)continue;l[A][h].setValue(b.getValue())}}}}catch(S){a={error:S}}finally{try{_&&!_.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}h++}}catch(S){t={error:S}}finally{try{g&&!g.done&&(n=v.return)&&n.call(v)}finally{if(t)throw t.error}}return l},r.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},r.getStartColumn=function(e,t,n,a){var o,l,c=a?1:-1,f=null;if(r.isValidBarcodeColumn(e,t-c)&&(f=e.getDetectionResultColumn(t-c).getCodeword(n)),f!=null)return a?f.getEndX():f.getStartX();if(f=e.getDetectionResultColumn(t).getCodewordNearby(n),f!=null)return a?f.getStartX():f.getEndX();if(r.isValidBarcodeColumn(e,t-c)&&(f=e.getDetectionResultColumn(t-c).getCodewordNearby(n)),f!=null)return a?f.getEndX():f.getStartX();for(var h=0;r.isValidBarcodeColumn(e,t-c);){t-=c;try{for(var v=(o=void 0,Lo(e.getDetectionResultColumn(t).getCodewords())),g=v.next();!g.done;g=v.next()){var x=g.value;if(x!=null)return(a?x.getEndX():x.getStartX())+c*h*(x.getEndX()-x.getStartX())}}catch(m){o={error:m}}finally{try{g&&!g.done&&(l=v.return)&&l.call(v)}finally{if(o)throw o.error}}h++}return a?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},r.detectCodeword=function(e,t,n,a,o,l,c,f){o=r.adjustCodewordStartColumn(e,t,n,a,o,l);var h=r.getModuleBitCount(e,t,n,a,o,l);if(h==null)return null;var v,g=Be.sum(h);if(a)v=o+g;else{for(var x=0;x<h.length/2;x++){var m=h[x];h[x]=h[h.length-1-x],h[h.length-1-x]=m}v=o,o=v-g}if(!r.checkCodewordSkew(g,c,f))return null;var _=hA.getDecodedValue(h),b=Ne.getCodeword(_);return b===-1?null:new dA(o,v,r.getCodewordBucketNumber(_),b)},r.getModuleBitCount=function(e,t,n,a,o,l){for(var c=o,f=new Int32Array(8),h=0,v=a?1:-1,g=a;(a?c<n:c>=t)&&h<f.length;)e.get(c,l)===g?(f[h]++,c+=v):(h++,g=!g);return h===f.length||c===(a?n:t)&&h===f.length-1?f:null},r.getNumberOfECCodeWords=function(e){return 2<<e},r.adjustCodewordStartColumn=function(e,t,n,a,o,l){for(var c=o,f=a?-1:1,h=0;h<2;h++){for(;(a?c>=t:c<n)&&a===e.get(c,l);){if(Math.abs(o-c)>r.CODEWORD_SKEW_SIZE)return o;c+=f}f=-f,a=!a}return c},r.checkCodewordSkew=function(e,t,n){return t-r.CODEWORD_SKEW_SIZE<=e&&e<=n+r.CODEWORD_SKEW_SIZE},r.decodeCodewords=function(e,t,n){if(e.length===0)throw oe.getFormatInstance();var a=1<<t+1,o=r.correctErrors(e,n,a);r.verifyCodewordCount(e,a);var l=AA.decode(e,""+t);return l.setErrorsCorrected(o),l.setErasures(n.length),l},r.correctErrors=function(e,t,n){if(t!=null&&t.length>n/2+r.MAX_ERRORS||n<0||n>r.MAX_EC_CODEWORDS)throw gt.getChecksumInstance();return r.errorCorrection.decode(e,n,t)},r.verifyCodewordCount=function(e,t){if(e.length<4)throw oe.getFormatInstance();var n=e[0];if(n>e.length)throw oe.getFormatInstance();if(n===0)if(t<e.length)e[0]=e.length-t;else throw oe.getFormatInstance()},r.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),n=0,a=t.length-1;!((e&1)!==n&&(n=e&1,a--,a<0));)t[a]++,e>>=1;return t},r.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},r.getCodewordBucketNumber_number=function(e){return r.getCodewordBucketNumber(r.getBitCountForCodeword(e))},r.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},r.toString=function(e){for(var t=new md,n=0;n<e.length;n++){t.format("Row %2d: ",n);for(var a=0;a<e[n].length;a++){var o=e[n][a];o.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}t.format("%n")}return t.toString()},r.CODEWORD_SKEW_SIZE=2,r.MAX_ERRORS=3,r.MAX_EC_CODEWORDS=512,r.errorCorrection=new aA,r})(),SA=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ul=(function(){function r(){}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n=r.decode(e,t,!1);if(n==null||n.length===0||n[0]==null)throw $.getNotFoundInstance();return n[0]},r.prototype.decodeMultiple=function(e,t){t===void 0&&(t=null);try{return r.decode(e,t,!0)}catch(n){throw n instanceof oe||n instanceof gt?$.getNotFoundInstance():n}},r.decode=function(e,t,n){var a,o,l=new Array,c=QE.detectMultiple(e,t,n);try{for(var f=SA(c.getPoints()),h=f.next();!h.done;h=f.next()){var v=h.value,g=bA.decode(c.getBits(),v[4],v[5],v[6],v[7],r.getMinCodewordWidth(v),r.getMaxCodewordWidth(v)),x=new Xt(g.getText(),g.getRawBytes(),void 0,v,he.PDF_417);x.putMetadata(Ft.ERROR_CORRECTION_LEVEL,g.getECLevel());var m=g.getOther();m!=null&&x.putMetadata(Ft.PDF417_EXTRA_METADATA,m),l.push(x)}}catch(_){a={error:_}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(a)throw a.error}}return l.map(function(_){return _})},r.getMaxWidth=function(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))},r.getMinWidth=function(e,t){return e==null||t==null?Se.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},r.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(r.getMaxWidth(e[0],e[4]),r.getMaxWidth(e[6],e[2])*Ne.MODULES_IN_CODEWORD/Ne.MODULES_IN_STOP_PATTERN),Math.max(r.getMaxWidth(e[1],e[5]),r.getMaxWidth(e[7],e[3])*Ne.MODULES_IN_CODEWORD/Ne.MODULES_IN_STOP_PATTERN)))},r.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(r.getMinWidth(e[0],e[4]),r.getMinWidth(e[6],e[2])*Ne.MODULES_IN_CODEWORD/Ne.MODULES_IN_STOP_PATTERN),Math.min(r.getMinWidth(e[1],e[5]),r.getMinWidth(e[7],e[3])*Ne.MODULES_IN_CODEWORD/Ne.MODULES_IN_STOP_PATTERN)))},r.prototype.reset=function(){},r})(),CA=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),bp=(function(r){CA(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReaderException",e})(ar),Sp=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ig=(function(){function r(){}return r.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},r.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},r.prototype.setHints=function(e){this.hints=e;var t=e!=null&&e.get(Je.TRY_HARDER)!==void 0,n=e==null?null:e.get(Je.POSSIBLE_FORMATS),a=new Array;if(n!=null){var o=n.some(function(l){return l===he.UPC_A||l===he.UPC_E||l===he.EAN_13||l===he.EAN_8||l===he.CODABAR||l===he.CODE_39||l===he.CODE_93||l===he.CODE_128||l===he.ITF||l===he.RSS_14||l===he.RSS_EXPANDED});o&&!t&&a.push(new bi(e)),n.includes(he.QR_CODE)&&a.push(new jl),n.includes(he.DATA_MATRIX)&&a.push(new Ll),n.includes(he.AZTEC)&&a.push(new Pl),n.includes(he.PDF_417)&&a.push(new Ul),o&&t&&a.push(new bi(e))}a.length===0&&(t||a.push(new bi(e)),a.push(new jl),a.push(new Ll),a.push(new Pl),a.push(new Ul),t&&a.push(new bi(e))),this.readers=a},r.prototype.reset=function(){var e,t;if(this.readers!==null)try{for(var n=Sp(this.readers),a=n.next();!a.done;a=n.next()){var o=a.value;o.reset()}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},r.prototype.decodeInternal=function(e){var t,n;if(this.readers===null)throw new bp("No readers where selected, nothing can be read.");try{for(var a=Sp(this.readers),o=a.next();!o.done;o=a.next()){var l=o.value;try{return l.decode(e,this.hints)}catch(c){if(c instanceof bp)continue}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}throw new $("No MultiFormat Readers were able to detect the code.")},r})(),TA=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){TA(e,r);function e(t,n){t===void 0&&(t=null),n===void 0&&(n=500);var a=this,o=new Ig;return o.setHints(t),a=r.call(this,o,n)||this,a}return e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e})(Ii);var OA=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){OA(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new Ul,t)||this}return e})(Ii);var RA=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){RA(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new jl,t)||this}return e})(Ii);var td;(function(r){r[r.ERROR_CORRECTION=0]="ERROR_CORRECTION",r[r.CHARACTER_SET=1]="CHARACTER_SET",r[r.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",r[r.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",r[r.MIN_SIZE=4]="MIN_SIZE",r[r.MAX_SIZE=5]="MAX_SIZE",r[r.MARGIN=6]="MARGIN",r[r.PDF417_COMPACT=7]="PDF417_COMPACT",r[r.PDF417_COMPACTION=8]="PDF417_COMPACTION",r[r.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",r[r.AZTEC_LAYERS=10]="AZTEC_LAYERS",r[r.QR_VERSION=11]="QR_VERSION",r[r.GS1_FORMAT=12]="GS1_FORMAT",r[r.FORCE_C40=13]="FORCE_C40"})(td||(td={}));const Sl=td;var Ng=(function(){function r(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new qn(e,Int32Array.from([1])))}return r.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var n=t[t.length-1],a=this.field,o=t.length;o<=e;o++){var l=n.multiply(new qn(a,Int32Array.from([1,a.exp(o-1+a.getGeneratorBase())])));t.push(l),n=l}return t[e]},r.prototype.encode=function(e,t){if(t===0)throw new ve("No error correction bytes");var n=e.length-t;if(n<=0)throw new ve("No data bytes provided");var a=this.buildGenerator(t),o=new Int32Array(n);Qe.arraycopy(e,0,o,0,n);var l=new qn(this.field,o);l=l.multiplyByMonomial(t,1);for(var c=l.divide(a)[1],f=c.getCoefficients(),h=t-f.length,v=0;v<h;v++)e[n+v]=0;Qe.arraycopy(f,0,e,n+h,f.length)},r})(),Ho=(function(){function r(){}return r.applyMaskPenaltyRule1=function(e){return r.applyMaskPenaltyRule1Internal(e,!0)+r.applyMaskPenaltyRule1Internal(e,!1)},r.applyMaskPenaltyRule2=function(e){for(var t=0,n=e.getArray(),a=e.getWidth(),o=e.getHeight(),l=0;l<o-1;l++)for(var c=n[l],f=0;f<a-1;f++){var h=c[f];h===c[f+1]&&h===n[l+1][f]&&h===n[l+1][f+1]&&t++}return r.N2*t},r.applyMaskPenaltyRule3=function(e){for(var t=0,n=e.getArray(),a=e.getWidth(),o=e.getHeight(),l=0;l<o;l++)for(var c=0;c<a;c++){var f=n[l];c+6<a&&f[c]===1&&f[c+1]===0&&f[c+2]===1&&f[c+3]===1&&f[c+4]===1&&f[c+5]===0&&f[c+6]===1&&(r.isWhiteHorizontal(f,c-4,c)||r.isWhiteHorizontal(f,c+7,c+11))&&t++,l+6<o&&n[l][c]===1&&n[l+1][c]===0&&n[l+2][c]===1&&n[l+3][c]===1&&n[l+4][c]===1&&n[l+5][c]===0&&n[l+6][c]===1&&(r.isWhiteVertical(n,c,l-4,l)||r.isWhiteVertical(n,c,l+7,l+11))&&t++}return t*r.N3},r.isWhiteHorizontal=function(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(var a=t;a<n;a++)if(e[a]===1)return!1;return!0},r.isWhiteVertical=function(e,t,n,a){n=Math.max(n,0),a=Math.min(a,e.length);for(var o=n;o<a;o++)if(e[o][t]===1)return!1;return!0},r.applyMaskPenaltyRule4=function(e){for(var t=0,n=e.getArray(),a=e.getWidth(),o=e.getHeight(),l=0;l<o;l++)for(var c=n[l],f=0;f<a;f++)c[f]===1&&t++;var h=e.getHeight()*e.getWidth(),v=Math.floor(Math.abs(t*2-h)*10/h);return v*r.N4},r.getDataMaskBit=function(e,t,n){var a,o;switch(e){case 0:a=n+t&1;break;case 1:a=n&1;break;case 2:a=t%3;break;case 3:a=(n+t)%3;break;case 4:a=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:o=n*t,a=(o&1)+o%3;break;case 6:o=n*t,a=(o&1)+o%3&1;break;case 7:o=n*t,a=o%3+(n+t&1)&1;break;default:throw new ve("Invalid mask pattern: "+e)}return a===0},r.applyMaskPenaltyRule1Internal=function(e,t){for(var n=0,a=t?e.getHeight():e.getWidth(),o=t?e.getWidth():e.getHeight(),l=e.getArray(),c=0;c<a;c++){for(var f=0,h=-1,v=0;v<o;v++){var g=t?l[c][v]:l[v][c];g===h?f++:(f>=5&&(n+=r.N1+(f-5)),f=1,h=g)}f>=5&&(n+=r.N1+(f-5))}return n},r.N1=3,r.N2=3,r.N3=40,r.N4=10,r})(),DA=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},IA=(function(){function r(e,t){this.width=e,this.height=t;for(var n=new Array(t),a=0;a!==t;a++)n[a]=new Uint8Array(e);this.bytes=n}return r.prototype.getHeight=function(){return this.height},r.prototype.getWidth=function(){return this.width},r.prototype.get=function(e,t){return this.bytes[t][e]},r.prototype.getArray=function(){return this.bytes},r.prototype.setNumber=function(e,t,n){this.bytes[t][e]=n},r.prototype.setBoolean=function(e,t,n){this.bytes[t][e]=n?1:0},r.prototype.clear=function(e){var t,n;try{for(var a=DA(this.bytes),o=a.next();!o.done;o=a.next()){var l=o.value;St.fill(l,e)}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(var n=0,a=this.height;n<a;++n)for(var o=this.bytes[n],l=t.bytes[n],c=0,f=this.width;c<f;++c)if(o[c]!==l[c])return!1;return!0},r.prototype.toString=function(){for(var e=new Ae,t=0,n=this.height;t<n;++t){for(var a=this.bytes[t],o=0,l=this.width;o<l;++o)switch(a[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},r})(),rd=(function(){function r(){this.maskPattern=-1}return r.prototype.getMode=function(){return this.mode},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getVersion=function(){return this.version},r.prototype.getMaskPattern=function(){return this.maskPattern},r.prototype.getMatrix=function(){return this.matrix},r.prototype.toString=function(){var e=new Ae;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},r.prototype.setMode=function(e){this.mode=e},r.prototype.setECLevel=function(e){this.ecLevel=e},r.prototype.setVersion=function(e){this.version=e},r.prototype.setMaskPattern=function(e){this.maskPattern=e},r.prototype.setMatrix=function(e){this.matrix=e},r.isValidMaskPattern=function(e){return e>=0&&e<r.NUM_MASK_PATTERNS},r.NUM_MASK_PATTERNS=8,r})(),NA=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),et=(function(r){NA(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="WriterException",e})(ar),Cp=(function(){function r(){}return r.clearMatrix=function(e){e.clear(255)},r.buildMatrix=function(e,t,n,a,o){r.clearMatrix(o),r.embedBasicPatterns(n,o),r.embedTypeInfo(t,a,o),r.maybeEmbedVersionInfo(n,o),r.embedDataBits(e,a,o)},r.embedBasicPatterns=function(e,t){r.embedPositionDetectionPatternsAndSeparators(t),r.embedDarkDotAtLeftBottomCorner(t),r.maybeEmbedPositionAdjustmentPatterns(e,t),r.embedTimingPatterns(t)},r.embedTypeInfo=function(e,t,n){var a=new Bt;r.makeTypeInfoBits(e,t,a);for(var o=0,l=a.getSize();o<l;++o){var c=a.get(a.getSize()-1-o),f=r.TYPE_INFO_COORDINATES[o],h=f[0],v=f[1];if(n.setBoolean(h,v,c),o<8){var g=n.getWidth()-o-1,x=8;n.setBoolean(g,x,c)}else{var g=8,x=n.getHeight()-7+(o-8);n.setBoolean(g,x,c)}}},r.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var n=new Bt;r.makeVersionInfoBits(e,n);for(var a=17,o=0;o<6;++o)for(var l=0;l<3;++l){var c=n.get(a);a--,t.setBoolean(o,t.getHeight()-11+l,c),t.setBoolean(t.getHeight()-11+l,o,c)}}},r.embedDataBits=function(e,t,n){for(var a=0,o=-1,l=n.getWidth()-1,c=n.getHeight()-1;l>0;){for(l===6&&(l-=1);c>=0&&c<n.getHeight();){for(var f=0;f<2;++f){var h=l-f;if(r.isEmpty(n.get(h,c))){var v=void 0;a<e.getSize()?(v=e.get(a),++a):v=!1,t!==255&&Ho.getDataMaskBit(t,h,c)&&(v=!v),n.setBoolean(h,c,v)}}c+=o}o=-o,c+=o,l-=2}if(a!==e.getSize())throw new et("Not all bits consumed: "+a+"/"+e.getSize())},r.findMSBSet=function(e){return 32-Se.numberOfLeadingZeros(e)},r.calculateBCHCode=function(e,t){if(t===0)throw new ve("0 polynomial");var n=r.findMSBSet(t);for(e<<=n-1;r.findMSBSet(e)>=n;)e^=t<<r.findMSBSet(e)-n;return e},r.makeTypeInfoBits=function(e,t,n){if(!rd.isValidMaskPattern(t))throw new et("Invalid mask pattern");var a=e.getBits()<<3|t;n.appendBits(a,5);var o=r.calculateBCHCode(a,r.TYPE_INFO_POLY);n.appendBits(o,10);var l=new Bt;if(l.appendBits(r.TYPE_INFO_MASK_PATTERN,15),n.xor(l),n.getSize()!==15)throw new et("should not happen but we got: "+n.getSize())},r.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var n=r.calculateBCHCode(e.getVersionNumber(),r.VERSION_INFO_POLY);if(t.appendBits(n,12),t.getSize()!==18)throw new et("should not happen but we got: "+t.getSize())},r.isEmpty=function(e){return e===255},r.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var n=(t+1)%2;r.isEmpty(e.get(t,6))&&e.setNumber(t,6,n),r.isEmpty(e.get(6,t))&&e.setNumber(6,t,n)}},r.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new et;e.setNumber(8,e.getHeight()-8,1)},r.embedHorizontalSeparationPattern=function(e,t,n){for(var a=0;a<8;++a){if(!r.isEmpty(n.get(e+a,t)))throw new et;n.setNumber(e+a,t,0)}},r.embedVerticalSeparationPattern=function(e,t,n){for(var a=0;a<7;++a){if(!r.isEmpty(n.get(e,t+a)))throw new et;n.setNumber(e,t+a,0)}},r.embedPositionAdjustmentPattern=function(e,t,n){for(var a=0;a<5;++a)for(var o=r.POSITION_ADJUSTMENT_PATTERN[a],l=0;l<5;++l)n.setNumber(e+l,t+a,o[l])},r.embedPositionDetectionPattern=function(e,t,n){for(var a=0;a<7;++a)for(var o=r.POSITION_DETECTION_PATTERN[a],l=0;l<7;++l)n.setNumber(e+l,t+a,o[l])},r.embedPositionDetectionPatternsAndSeparators=function(e){var t=r.POSITION_DETECTION_PATTERN[0].length;r.embedPositionDetectionPattern(0,0,e),r.embedPositionDetectionPattern(e.getWidth()-t,0,e),r.embedPositionDetectionPattern(0,e.getWidth()-t,e);var n=8;r.embedHorizontalSeparationPattern(0,n-1,e),r.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),r.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var a=7;r.embedVerticalSeparationPattern(a,0,e),r.embedVerticalSeparationPattern(e.getHeight()-a-1,0,e),r.embedVerticalSeparationPattern(a,e.getHeight()-a,e)},r.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,a=r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],o=0,l=a.length;o!==l;o++){var c=a[o];if(c>=0)for(var f=0;f!==l;f++){var h=a[f];h>=0&&r.isEmpty(t.get(h,c))&&r.embedPositionAdjustmentPattern(h-2,c-2,t)}}},r.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),r.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),r.VERSION_INFO_POLY=7973,r.TYPE_INFO_POLY=1335,r.TYPE_INFO_MASK_PATTERN=21522,r})(),MA=(function(){function r(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return r.prototype.getDataBytes=function(){return this.dataBytes},r.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},r})(),Tp=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.calculateMaskPenalty=function(e){return Ho.applyMaskPenaltyRule1(e)+Ho.applyMaskPenaltyRule2(e)+Ho.applyMaskPenaltyRule3(e)+Ho.applyMaskPenaltyRule4(e)},r.encode=function(e,t,n){n===void 0&&(n=null);var a=r.DEFAULT_BYTE_MODE_ENCODING,o=n!==null&&n.get(Sl.CHARACTER_SET)!==void 0;o&&(a=n.get(Sl.CHARACTER_SET).toString());var l=this.chooseMode(e,a),c=new Bt;if(l===tt.BYTE&&(o||r.DEFAULT_BYTE_MODE_ENCODING!==a)){var f=bt.getCharacterSetECIByName(a);f!==void 0&&this.appendECI(f,c)}this.appendModeInfo(l,c);var h=new Bt;this.appendBytes(e,l,h,a);var v;if(n!==null&&n.get(Sl.QR_VERSION)!==void 0){var g=Number.parseInt(n.get(Sl.QR_VERSION).toString(),10);v=Ea.getVersionForNumber(g);var x=this.calculateBitsNeeded(l,c,h,v);if(!this.willFit(x,v,t))throw new et("Data too big for requested version")}else v=this.recommendVersion(t,l,c,h);var m=new Bt;m.appendBitArray(c);var _=l===tt.BYTE?h.getSizeInBytes():e.length;this.appendLengthInfo(_,v,l,m),m.appendBitArray(h);var b=v.getECBlocksForLevel(t),A=v.getTotalCodewords()-b.getTotalECCodewords();this.terminateBits(A,m);var S=this.interleaveWithECBytes(m,v.getTotalCodewords(),A,b.getNumBlocks()),O=new rd;O.setECLevel(t),O.setMode(l),O.setVersion(v);var T=v.getDimensionForVersion(),N=new IA(T,T),P=this.chooseMaskPattern(S,t,v,N);return O.setMaskPattern(P),Cp.buildMatrix(S,t,v,P,N),O.setMatrix(N),O},r.recommendVersion=function(e,t,n,a){var o=this.calculateBitsNeeded(t,n,a,Ea.getVersionForNumber(1)),l=this.chooseVersion(o,e),c=this.calculateBitsNeeded(t,n,a,l);return this.chooseVersion(c,e)},r.calculateBitsNeeded=function(e,t,n,a){return t.getSize()+e.getCharacterCountBits(a)+n.getSize()},r.getAlphanumericCode=function(e){return e<r.ALPHANUMERIC_TABLE.length?r.ALPHANUMERIC_TABLE[e]:-1},r.chooseMode=function(e,t){if(t===void 0&&(t=null),bt.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return tt.KANJI;for(var n=!1,a=!1,o=0,l=e.length;o<l;++o){var c=e.charAt(o);if(r.isDigit(c))n=!0;else if(this.getAlphanumericCode(c.charCodeAt(0))!==-1)a=!0;else return tt.BYTE}return a?tt.ALPHANUMERIC:n?tt.NUMERIC:tt.BYTE},r.isOnlyDoubleByteKanji=function(e){var t;try{t=Cr.encode(e,bt.SJIS)}catch{return!1}var n=t.length;if(n%2!==0)return!1;for(var a=0;a<n;a+=2){var o=t[a]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0},r.chooseMaskPattern=function(e,t,n,a){for(var o=Number.MAX_SAFE_INTEGER,l=-1,c=0;c<rd.NUM_MASK_PATTERNS;c++){Cp.buildMatrix(e,t,n,c,a);var f=this.calculateMaskPenalty(a);f<o&&(o=f,l=c)}return l},r.chooseVersion=function(e,t){for(var n=1;n<=40;n++){var a=Ea.getVersionForNumber(n);if(r.willFit(e,a,t))return a}throw new et("Data too big")},r.willFit=function(e,t,n){var a=t.getTotalCodewords(),o=t.getECBlocksForLevel(n),l=o.getTotalECCodewords(),c=a-l,f=(e+7)/8;return c>=f},r.terminateBits=function(e,t){var n=e*8;if(t.getSize()>n)throw new et("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(var a=0;a<4&&t.getSize()<n;++a)t.appendBit(!1);var o=t.getSize()&7;if(o>0)for(var a=o;a<8;a++)t.appendBit(!1);for(var l=e-t.getSizeInBytes(),a=0;a<l;++a)t.appendBits((a&1)===0?236:17,8);if(t.getSize()!==n)throw new et("Bits size does not equal capacity")},r.getNumDataBytesAndNumECBytesForBlockID=function(e,t,n,a,o,l){if(a>=n)throw new et("Block ID too large");var c=e%n,f=n-c,h=Math.floor(e/n),v=h+1,g=Math.floor(t/n),x=g+1,m=h-g,_=v-x;if(m!==_)throw new et("EC bytes mismatch");if(n!==f+c)throw new et("RS blocks mismatch");if(e!==(g+m)*f+(x+_)*c)throw new et("Total bytes mismatch");a<f?(o[0]=g,l[0]=m):(o[0]=x,l[0]=_)},r.interleaveWithECBytes=function(e,t,n,a){var o,l,c,f;if(e.getSizeInBytes()!==n)throw new et("Number of bits and data bytes does not match");for(var h=0,v=0,g=0,x=new Array,m=0;m<a;++m){var _=new Int32Array(1),b=new Int32Array(1);r.getNumDataBytesAndNumECBytesForBlockID(t,n,a,m,_,b);var A=_[0],S=new Uint8Array(A);e.toBytes(8*h,S,0,A);var O=r.generateECBytes(S,b[0]);x.push(new MA(S,O)),v=Math.max(v,A),g=Math.max(g,O.length),h+=_[0]}if(n!==h)throw new et("Data bytes does not match offset");for(var T=new Bt,m=0;m<v;++m)try{for(var N=(o=void 0,Tp(x)),P=N.next();!P.done;P=N.next()){var D=P.value,S=D.getDataBytes();m<S.length&&T.appendBits(S[m],8)}}catch(X){o={error:X}}finally{try{P&&!P.done&&(l=N.return)&&l.call(N)}finally{if(o)throw o.error}}for(var m=0;m<g;++m)try{for(var B=(c=void 0,Tp(x)),Y=B.next();!Y.done;Y=B.next()){var D=Y.value,O=D.getErrorCorrectionBytes();m<O.length&&T.appendBits(O[m],8)}}catch(X){c={error:X}}finally{try{Y&&!Y.done&&(f=B.return)&&f.call(B)}finally{if(c)throw c.error}}if(t!==T.getSizeInBytes())throw new et("Interleaving error: "+t+" and "+T.getSizeInBytes()+" differ.");return T},r.generateECBytes=function(e,t){for(var n=e.length,a=new Int32Array(n+t),o=0;o<n;o++)a[o]=e[o]&255;new Ng(nr.QR_CODE_FIELD_256).encode(a,t);for(var l=new Uint8Array(t),o=0;o<t;o++)l[o]=a[n+o];return l},r.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},r.appendLengthInfo=function(e,t,n,a){var o=n.getCharacterCountBits(t);if(e>=1<<o)throw new et(e+" is bigger than "+((1<<o)-1));a.appendBits(e,o)},r.appendBytes=function(e,t,n,a){switch(t){case tt.NUMERIC:r.appendNumericBytes(e,n);break;case tt.ALPHANUMERIC:r.appendAlphanumericBytes(e,n);break;case tt.BYTE:r.append8BitBytes(e,n,a);break;case tt.KANJI:r.appendKanjiBytes(e,n);break;default:throw new et("Invalid mode: "+t)}},r.getDigit=function(e){return e.charCodeAt(0)-48},r.isDigit=function(e){var t=r.getDigit(e);return t>=0&&t<=9},r.appendNumericBytes=function(e,t){for(var n=e.length,a=0;a<n;){var o=r.getDigit(e.charAt(a));if(a+2<n){var l=r.getDigit(e.charAt(a+1)),c=r.getDigit(e.charAt(a+2));t.appendBits(o*100+l*10+c,10),a+=3}else if(a+1<n){var l=r.getDigit(e.charAt(a+1));t.appendBits(o*10+l,7),a+=2}else t.appendBits(o,4),a++}},r.appendAlphanumericBytes=function(e,t){for(var n=e.length,a=0;a<n;){var o=r.getAlphanumericCode(e.charCodeAt(a));if(o===-1)throw new et;if(a+1<n){var l=r.getAlphanumericCode(e.charCodeAt(a+1));if(l===-1)throw new et;t.appendBits(o*45+l,11),a+=2}else t.appendBits(o,6),a++}},r.append8BitBytes=function(e,t,n){var a;try{a=Cr.encode(e,n)}catch(f){throw new et(f)}for(var o=0,l=a.length;o!==l;o++){var c=a[o];t.appendBits(c,8)}},r.appendKanjiBytes=function(e,t){var n;try{n=Cr.encode(e,bt.SJIS)}catch(g){throw new et(g)}for(var a=n.length,o=0;o<a;o+=2){var l=n[o]&255,c=n[o+1]&255,f=l<<8&4294967295|c,h=-1;if(f>=33088&&f<=40956?h=f-33088:f>=57408&&f<=60351&&(h=f-49472),h===-1)throw new et("Invalid byte sequence");var v=(h>>8)*192+(h&255);t.appendBits(v,13)}},r.appendECI=function(e,t){t.appendBits(tt.ECI.getBits(),4),t.appendBits(e.getValue(),8)},r.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),r.DEFAULT_BYTE_MODE_ENCODING=bt.UTF8.getName(),r})();var BA=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){BA(e,r);function e(t,n,a,o,l,c,f,h){var v=r.call(this,c,f)||this;if(v.yuvData=t,v.dataWidth=n,v.dataHeight=a,v.left=o,v.top=l,o+c>n||l+f>a)throw new ve("Crop rectangle does not fit within image data.");return h&&v.reverseHorizontal(c,f),v}return e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new ve("Requested row is outside the image: "+t);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var o=(t+this.top)*this.dataWidth+this.left;return Qe.arraycopy(this.yuvData,o,n,0,a),n},e.prototype.getMatrix=function(){var t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.yuvData;var a=t*n,o=new Uint8ClampedArray(a),l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Qe.arraycopy(this.yuvData,l,o,0,a),o;for(var c=0;c<n;c++){var f=c*t;Qe.arraycopy(this.yuvData,l,o,f,t),l+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,a,o){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+n,a,o,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(t*n),o=this.yuvData,l=this.top*this.dataWidth+this.left,c=0;c<n;c++){for(var f=c*t,h=0;h<t;h++){var v=o[l+h*e.THUMBNAIL_SCALE_FACTOR]&255;a[f+h]=4278190080|v*65793}l+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return a},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,n){for(var a=this.yuvData,o=0,l=this.top*this.dataWidth+this.left;o<n;o++,l+=this.dataWidth)for(var c=l+t/2,f=l,h=l+t-1;f<c;f++,h--){var v=a[f];a[f]=a[h],a[h]=v}},e.prototype.invert=function(){return new Xl(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Jo);var PA=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){PA(e,r);function e(t,n,a,o,l,c,f){var h=r.call(this,n,a)||this;if(h.dataWidth=o,h.dataHeight=l,h.left=c,h.top=f,t.BYTES_PER_ELEMENT===4){for(var v=n*a,g=new Uint8ClampedArray(v),x=0;x<v;x++){var m=t[x],_=m>>16&255,b=m>>7&510,A=m&255;g[x]=(_+b+A)/4&255}h.luminances=g}else h.luminances=t;if(o===void 0&&(h.dataWidth=n),l===void 0&&(h.dataHeight=a),c===void 0&&(h.left=0),f===void 0&&(h.top=0),h.left+n>h.dataWidth||h.top+a>h.dataHeight)throw new ve("Crop rectangle does not fit within image data.");return h}return e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new ve("Requested row is outside the image: "+t);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var o=(t+this.top)*this.dataWidth+this.left;return Qe.arraycopy(this.luminances,o,n,0,a),n},e.prototype.getMatrix=function(){var t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.luminances;var a=t*n,o=new Uint8ClampedArray(a),l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Qe.arraycopy(this.luminances,l,o,0,a),o;for(var c=0;c<n;c++){var f=c*t;Qe.arraycopy(this.luminances,l,o,f,t),l+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,a,o){return new e(this.luminances,a,o,this.dataWidth,this.dataHeight,this.left+t,this.top+n)},e.prototype.invert=function(){return new Xl(this)},e})(Jo);var kA=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),LA=(function(r){kA(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.forName=function(t){return this.getCharacterSetECIByName(t)},e})(bt),jA=(function(){function r(){}return r.ISO_8859_1=bt.ISO8859_1,r})(),nd,UA=301,FA=function(r,e){for(var t=1,n=0;n<255;n++)e[n]=t,r[t]=n,t*=2,t>=256&&(t^=UA);return{LOG:r,ALOG:e}};nd=FA([],[]),nd.LOG;nd.ALOG;var Op;(function(r){r[r.FORCE_NONE=0]="FORCE_NONE",r[r.FORCE_SQUARE=1]="FORCE_SQUARE",r[r.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(Op||(Op={}));var Rp=129,Mg=230,zA=231,HA=235,VA=236,GA=237,XA=238,qA=239,YA=240,Df=254,$A=254,Dp="[)>05",Ip="[)>06",Np="",He=0,Ut=1,Zt=2,wt=3,Mt=4,Gt=5,WA=(function(){function r(){}return r.prototype.getEncodingMode=function(){return He},r.prototype.encode=function(e){var t=Br.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(t>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),a=Br.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode())switch(a){case Gt:e.writeCodeword(zA),e.signalEncoderChange(Gt);return;case Ut:e.writeCodeword(Mg),e.signalEncoderChange(Ut);return;case wt:e.writeCodeword(XA),e.signalEncoderChange(wt);break;case Zt:e.writeCodeword(qA),e.signalEncoderChange(Zt);break;case Mt:e.writeCodeword(YA),e.signalEncoderChange(Mt);break;default:throw new Error("Illegal mode: "+a)}else Br.isExtendedASCII(n)?(e.writeCodeword(HA),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},r.prototype.encodeASCIIDigits=function(e,t){if(Br.isDigit(e)&&Br.isDigit(t)){var n=(e-48)*10+(t-48);return n+130}throw new Error("not digits: "+e+t)},r})(),ZA=(function(){function r(){}return r.prototype.getEncodingMode=function(){return Gt},r.prototype.encode=function(e){var t=new Ae;for(t.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();t.append(n),e.pos++;var a=Br.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){e.signalEncoderChange(He);break}}var o=t.length()-1,l=1,c=e.getCodewordCount()+o+l;e.updateSymbolInfo(c);var f=e.getSymbolInfo().getDataCapacity()-c>0;if(e.hasMoreCharacters()||f)if(o<=249)t.setCharAt(0,Ie.getCharAt(o));else if(o<=1555)t.setCharAt(0,Ie.getCharAt(Math.floor(o/250)+249)),t.insert(1,Ie.getCharAt(o%250));else throw new Error("Message length not in valid ranges: "+o);for(var h=0,n=t.length();h<n;h++)e.writeCodeword(this.randomize255State(t.charAt(h).charCodeAt(0),e.getCodewordCount()+1))},r.prototype.randomize255State=function(e,t){var n=149*t%255+1,a=e+n;return a<=255?a:a-256},r})(),_d=(function(){function r(){}return r.prototype.getEncodingMode=function(){return Ut},r.prototype.encodeMaximal=function(e){for(var t=new Ae,n=0,a=e.pos,o=0;e.hasMoreCharacters();){var l=e.getCurrentChar();e.pos++,n=this.encodeChar(l,t),t.length()%3===0&&(a=e.pos,o=t.length())}if(o!==t.length()){var c=Math.floor(t.length()/3*2),f=Math.floor(e.getCodewordCount()+c+1);e.updateSymbolInfo(f);var h=e.getSymbolInfo().getDataCapacity()-f,v=Math.floor(t.length()%3);(v===2&&h!==2||v===1&&(n>3||h!==1))&&(e.pos=a)}t.length()>0&&e.writeCodeword(Mg),this.handleEOD(e,t)},r.prototype.encode=function(e){for(var t=new Ae;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var a=this.encodeChar(n,t),o=Math.floor(t.length()/3)*2,l=e.getCodewordCount()+o;e.updateSymbolInfo(l);var c=e.getSymbolInfo().getDataCapacity()-l;if(!e.hasMoreCharacters()){var f=new Ae;for(t.length()%3===2&&c!==2&&(a=this.backtrackOneCharacter(e,t,f,a));t.length()%3===1&&(a>3||c!==1);)a=this.backtrackOneCharacter(e,t,f,a);break}var h=t.length();if(h%3===0){var v=Br.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(v!==this.getEncodingMode()){e.signalEncoderChange(He);break}}}this.handleEOD(e,t)},r.prototype.backtrackOneCharacter=function(e,t,n,a){var o=t.length(),l=t.toString().substring(0,o-a);t.setLengthToZero(),t.append(l),e.pos--;var c=e.getCurrentChar();return a=this.encodeChar(c,n),e.resetSymbolInfo(),a},r.prototype.writeNextTriplet=function(e,t){e.writeCodewords(this.encodeToCodewords(t.toString()));var n=t.toString().substring(3);t.setLengthToZero(),t.append(n)},r.prototype.handleEOD=function(e,t){var n=Math.floor(t.length()/3*2),a=t.length()%3,o=e.getCodewordCount()+n;e.updateSymbolInfo(o);var l=e.getSymbolInfo().getDataCapacity()-o;if(a===2){for(t.append("\0");t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(Df)}else if(l===1&&a===1){for(;t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(Df),e.pos--}else if(a===0){for(;t.length()>=3;)this.writeNextTriplet(e,t);(l>0||e.hasMoreCharacters())&&e.writeCodeword(Df)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(He)},r.prototype.encodeChar=function(e,t){if(e===32)return t.append(3),1;if(e>=48&&e<=57)return t.append(e-48+4),1;if(e>=65&&e<=90)return t.append(e-65+14),1;if(e<32)return t.append(0),t.append(e),2;if(e<=47)return t.append(1),t.append(e-33),2;if(e<=64)return t.append(1),t.append(e-58+15),2;if(e<=95)return t.append(1),t.append(e-91+22),2;if(e<=127)return t.append(2),t.append(e-96),2;t.append("1");var n=2;return n+=this.encodeChar(e-128,t),n},r.prototype.encodeToCodewords=function(e){var t=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=t/256,a=t%256,o=new Ae;return o.append(n),o.append(a),o.toString()},r})(),KA=(function(){function r(){}return r.prototype.getEncodingMode=function(){return Mt},r.prototype.encode=function(e){for(var t=new Ae;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,t),e.pos++;var a=t.length();if(a>=4){e.writeCodewords(this.encodeToCodewords(t.toString()));var o=t.toString().substring(4);t.setLengthToZero(),t.append(o);var l=Br.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(l!==this.getEncodingMode()){e.signalEncoderChange(He);break}}}t.append(Ie.getCharAt(31)),this.handleEOD(e,t)},r.prototype.handleEOD=function(e,t){try{var n=t.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),o=e.getRemainingCharacters();if(o>a&&(e.updateSymbolInfo(e.getCodewordCount()+1),a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),o<=a&&a<=2)return}if(n>4)throw new Error("Count must not exceed 4");var l=n-1,c=this.encodeToCodewords(t.toString()),f=!e.hasMoreCharacters(),h=f&&l<=2;if(l<=2){e.updateSymbolInfo(e.getCodewordCount()+l);var a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();a>=3&&(h=!1,e.updateSymbolInfo(e.getCodewordCount()+c.length))}h?(e.resetSymbolInfo(),e.pos-=l):e.writeCodewords(c)}finally{e.signalEncoderChange(He)}},r.prototype.encodeChar=function(e,t){e>=32&&e<=63?t.append(e):e>=64&&e<=94?t.append(Ie.getCharAt(e-64)):Br.illegalCharacter(Ie.getCharAt(e))},r.prototype.encodeToCodewords=function(e){var t=e.length;if(t===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),a=t>=2?e.charAt(1).charCodeAt(0):0,o=t>=3?e.charAt(2).charCodeAt(0):0,l=t>=4?e.charAt(3).charCodeAt(0):0,c=(n<<18)+(a<<12)+(o<<6)+l,f=c>>16&255,h=c>>8&255,v=c&255,g=new Ae;return g.append(f),t>=2&&g.append(h),t>=3&&g.append(v),g.toString()},r})(),QA=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),JA=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Le=(function(){function r(e,t,n,a,o,l,c,f){c===void 0&&(c=0),f===void 0&&(f=0),this.rectangular=e,this.dataCapacity=t,this.errorCodewords=n,this.matrixWidth=a,this.matrixHeight=o,this.dataRegions=l,this.rsBlockData=c,this.rsBlockError=f}return r.lookup=function(e,t,n,a,o){var l,c;t===void 0&&(t=0),n===void 0&&(n=null),a===void 0&&(a=null),o===void 0&&(o=!0);try{for(var f=JA(tb),h=f.next();!h.done;h=f.next()){var v=h.value;if(!(t===1&&v.rectangular)&&!(t===2&&!v.rectangular)&&!(n!=null&&(v.getSymbolWidth()<n.getWidth()||v.getSymbolHeight()<n.getHeight()))&&!(a!=null&&(v.getSymbolWidth()>a.getWidth()||v.getSymbolHeight()>a.getHeight()))&&e<=v.dataCapacity)return v}}catch(g){l={error:g}}finally{try{h&&!h.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}if(o)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},r.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},r.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},r.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},r.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},r.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},r.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},r.prototype.getDataCapacity=function(){return this.dataCapacity},r.prototype.getErrorCodewords=function(){return this.errorCodewords},r.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},r.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},r})(),eb=(function(r){QA(e,r);function e(){return r.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(t){return t<=8?156:155},e})(Le),tb=[new Le(!1,3,5,8,8,1),new Le(!1,5,7,10,10,1),new Le(!0,5,7,16,6,1),new Le(!1,8,10,12,12,1),new Le(!0,10,11,14,6,2),new Le(!1,12,12,14,14,1),new Le(!0,16,14,24,10,1),new Le(!1,18,14,16,16,1),new Le(!1,22,18,18,18,1),new Le(!0,22,18,16,10,2),new Le(!1,30,20,20,20,1),new Le(!0,32,24,16,14,2),new Le(!1,36,24,22,22,1),new Le(!1,44,28,24,24,1),new Le(!0,49,28,22,14,2),new Le(!1,62,36,14,14,4),new Le(!1,86,42,16,16,4),new Le(!1,114,48,18,18,4),new Le(!1,144,56,20,20,4),new Le(!1,174,68,22,22,4),new Le(!1,204,84,24,24,4,102,42),new Le(!1,280,112,14,14,16,140,56),new Le(!1,368,144,16,16,16,92,36),new Le(!1,456,192,18,18,16,114,48),new Le(!1,576,224,20,20,16,144,56),new Le(!1,696,272,22,22,16,174,68),new Le(!1,816,336,24,24,16,136,56),new Le(!1,1050,408,18,18,36,175,68),new Le(!1,1304,496,20,20,36,163,62),new eb],rb=(function(){function r(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var t=e.split("").map(function(c){return c.charCodeAt(0)}),n=new Ae,a=0,o=t.length;a<o;a++){var l=String.fromCharCode(t[a]&255);if(l==="?"&&e.charAt(a)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(l)}this.msg=n.toString(),this.shape=0,this.codewords=new Ae,this.newEncoding=-1}return r.prototype.setSymbolShape=function(e){this.shape=e},r.prototype.setSizeConstraints=function(e,t){this.minSize=e,this.maxSize=t},r.prototype.getMessage=function(){return this.msg},r.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},r.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCodewords=function(){return this.codewords},r.prototype.writeCodewords=function(e){this.codewords.append(e)},r.prototype.writeCodeword=function(e){this.codewords.append(e)},r.prototype.getCodewordCount=function(){return this.codewords.length()},r.prototype.getNewEncoding=function(){return this.newEncoding},r.prototype.signalEncoderChange=function(e){this.newEncoding=e},r.prototype.resetEncoderSignal=function(){this.newEncoding=-1},r.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},r.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},r.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},r.prototype.getSymbolInfo=function(){return this.symbolInfo},r.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Le.lookup(e,this.shape,this.minSize,this.maxSize,!0))},r.prototype.resetSymbolInfo=function(){this.symbolInfo=null},r})(),nb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),ab=(function(r){nb(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return wt},e.prototype.encode=function(t){for(var n=new Ae;t.hasMoreCharacters();){var a=t.getCurrentChar();t.pos++,this.encodeChar(a,n);var o=n.length();if(o%3===0){this.writeNextTriplet(t,n);var l=Br.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(l!==this.getEncodingMode()){t.signalEncoderChange(He);break}}}this.handleEOD(t,n)},e.prototype.encodeChar=function(t,n){switch(t){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:t>=48&&t<=57?n.append(t-48+4):t>=65&&t<=90?n.append(t-65+14):Br.illegalCharacter(Ie.getCharAt(t));break}return 1},e.prototype.handleEOD=function(t,n){t.updateSymbolInfo();var a=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),o=n.length();t.pos-=o,(t.getRemainingCharacters()>1||a>1||t.getRemainingCharacters()!==a)&&t.writeCodeword($A),t.getNewEncoding()<0&&t.signalEncoderChange(He)},e})(_d),ib=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),ob=(function(r){ib(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Zt},e.prototype.encodeChar=function(t,n){if(t===32)return n.append(3),1;if(t>=48&&t<=57)return n.append(t-48+4),1;if(t>=97&&t<=122)return n.append(t-97+14),1;if(t<32)return n.append(0),n.append(t),2;if(t<=47)return n.append(1),n.append(t-33),2;if(t<=64)return n.append(1),n.append(t-58+15),2;if(t>=91&&t<=95)return n.append(1),n.append(t-91+22),2;if(t===96)return n.append(2),n.append(0),2;if(t<=90)return n.append(2),n.append(t-65+1),2;if(t<=127)return n.append(2),n.append(t-123+27),2;n.append("1");var a=2;return a+=this.encodeChar(t-128,n),a},e})(_d),Br=(function(){function r(){}return r.randomize253State=function(e){var t=149*e%253+1,n=Rp+t;return n<=254?n:n-254},r.encodeHighLevel=function(e,t,n,a,o){t===void 0&&(t=0),n===void 0&&(n=null),a===void 0&&(a=null),o===void 0&&(o=!1);var l=new _d,c=[new WA,l,new ob,new ab,new KA,new ZA],f=new rb(e);f.setSymbolShape(t),f.setSizeConstraints(n,a),e.startsWith(Dp)&&e.endsWith(Np)?(f.writeCodeword(VA),f.setSkipAtEnd(2),f.pos+=Dp.length):e.startsWith(Ip)&&e.endsWith(Np)&&(f.writeCodeword(GA),f.setSkipAtEnd(2),f.pos+=Ip.length);var h=He;for(o&&(l.encodeMaximal(f),h=f.getNewEncoding(),f.resetEncoderSignal());f.hasMoreCharacters();)c[h].encode(f),f.getNewEncoding()>=0&&(h=f.getNewEncoding(),f.resetEncoderSignal());var v=f.getCodewordCount();f.updateSymbolInfo();var g=f.getSymbolInfo().getDataCapacity();v<g&&h!==He&&h!==Gt&&h!==Mt&&f.writeCodeword("");var x=f.getCodewords();for(x.length()<g&&x.append(Rp);x.length()<g;)x.append(this.randomize253State(x.length()+1));return f.getCodewords().toString()},r.lookAheadTest=function(e,t,n){var a=this.lookAheadTestIntern(e,t,n);if(n===wt&&a===wt){for(var o=Math.min(t+3,e.length),l=t;l<o;l++)if(!this.isNativeX12(e.charCodeAt(l)))return He}else if(n===Mt&&a===Mt){for(var o=Math.min(t+4,e.length),l=t;l<o;l++)if(!this.isNativeEDIFACT(e.charCodeAt(l)))return He}return a},r.lookAheadTestIntern=function(e,t,n){if(t>=e.length)return n;var a;n===He?a=[0,1,1,1,1,1.25]:(a=[1,2,2,2,2,2.25],a[n]=0);for(var o=0,l=new Uint8Array(6),c=[];;){if(t+o===e.length){St.fill(l,0),St.fill(c,0);var f=this.findMinimums(a,c,Se.MAX_VALUE,l),h=this.getMinimumCount(l);if(c[He]===f)return He;if(h===1){if(l[Gt]>0)return Gt;if(l[Mt]>0)return Mt;if(l[Zt]>0)return Zt;if(l[wt]>0)return wt}return Ut}var v=e.charCodeAt(t+o);if(o++,this.isDigit(v)?a[He]+=.5:this.isExtendedASCII(v)?(a[He]=Math.ceil(a[He]),a[He]+=2):(a[He]=Math.ceil(a[He]),a[He]++),this.isNativeC40(v)?a[Ut]+=2/3:this.isExtendedASCII(v)?a[Ut]+=8/3:a[Ut]+=4/3,this.isNativeText(v)?a[Zt]+=2/3:this.isExtendedASCII(v)?a[Zt]+=8/3:a[Zt]+=4/3,this.isNativeX12(v)?a[wt]+=2/3:this.isExtendedASCII(v)?a[wt]+=13/3:a[wt]+=10/3,this.isNativeEDIFACT(v)?a[Mt]+=3/4:this.isExtendedASCII(v)?a[Mt]+=17/4:a[Mt]+=13/4,this.isSpecialB256(v)?a[Gt]+=4:a[Gt]++,o>=4){if(St.fill(l,0),St.fill(c,0),this.findMinimums(a,c,Se.MAX_VALUE,l),c[He]<this.min(c[Gt],c[Ut],c[Zt],c[wt],c[Mt]))return He;if(c[Gt]<c[He]||c[Gt]+1<this.min(c[Ut],c[Zt],c[wt],c[Mt]))return Gt;if(c[Mt]+1<this.min(c[Gt],c[Ut],c[Zt],c[wt],c[He]))return Mt;if(c[Zt]+1<this.min(c[Gt],c[Ut],c[Mt],c[wt],c[He]))return Zt;if(c[wt]+1<this.min(c[Gt],c[Ut],c[Mt],c[Zt],c[He]))return wt;if(c[Ut]+1<this.min(c[He],c[Gt],c[Mt],c[Zt])){if(c[Ut]<c[wt])return Ut;if(c[Ut]===c[wt]){for(var g=t+o+1;g<e.length;){var x=e.charCodeAt(g);if(this.isX12TermSep(x))return wt;if(!this.isNativeX12(x))break;g++}return Ut}}}}},r.min=function(e,t,n,a,o){var l=Math.min(e,Math.min(t,Math.min(n,a)));return o===void 0?l:Math.min(l,o)},r.findMinimums=function(e,t,n,a){for(var o=0;o<6;o++){var l=t[o]=Math.ceil(e[o]);n>l&&(n=l,St.fill(a,0)),n===l&&(a[o]=a[o]+1)}return n},r.getMinimumCount=function(e){for(var t=0,n=0;n<6;n++)t+=e[n];return t||0},r.isDigit=function(e){return e>=48&&e<=57},r.isExtendedASCII=function(e){return e>=128&&e<=255},r.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},r.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},r.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},r.isX12TermSep=function(e){return e===13||e===42||e===62},r.isNativeEDIFACT=function(e){return e>=32&&e<=94},r.isSpecialB256=function(e){return!1},r.determineConsecutiveDigitCount=function(e,t){t===void 0&&(t=0);for(var n=e.length,a=t;a<n&&this.isDigit(e.charCodeAt(a));)a++;return a-t},r.illegalCharacter=function(e){var t=Se.toHexString(e.charCodeAt(0));throw t="0000".substring(0,4-t.length)+t,new Error("Illegal character: "+e+" (0x"+t+")")},r})(),If=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mp=(function(){function r(e){this.charset=e,this.name=e.name}return r.prototype.canEncode=function(e){try{return Cr.encode(e,this.charset)!=null}catch{return!1}},r})(),sb=(function(){function r(e,t,n){var a,o,l,c,f,h;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(F){return new Mp(LA.forName(F))}),this.encoders=[];var v=[];v.push(new Mp(jA.ISO_8859_1));for(var g=t!=null&&t.name.startsWith("UTF"),x=0;x<e.length;x++){var m=!1;try{for(var _=(a=void 0,If(v)),b=_.next();!b.done;b=_.next()){var A=b.value,S=e.charAt(x),O=S.charCodeAt(0);if(O===n||A.canEncode(S)){m=!0;break}}}catch(F){a={error:F}}finally{try{b&&!b.done&&(o=_.return)&&o.call(_)}finally{if(a)throw a.error}}if(!m)try{for(var T=(l=void 0,If(this.ENCODERS)),N=T.next();!N.done;N=T.next()){var A=N.value;if(A.canEncode(e.charAt(x))){v.push(A),m=!0;break}}}catch(F){l={error:F}}finally{try{N&&!N.done&&(c=T.return)&&c.call(T)}finally{if(l)throw l.error}}m||(g=!0)}if(v.length===1&&!g)this.encoders=[v[0]];else{this.encoders=[];var P=0;try{for(var D=If(v),B=D.next();!B.done;B=D.next()){var A=B.value;this.encoders[P++]=A}}catch(F){f={error:F}}finally{try{B&&!B.done&&(h=D.return)&&h.call(D)}finally{if(f)throw f.error}}}var Y=-1;if(t!=null){for(var x=0;x<this.encoders.length;x++)if(this.encoders[x]!=null&&t.name===this.encoders[x].name){Y=x;break}}this.priorityEncoderIndex=Y}return r.prototype.length=function(){return this.encoders.length},r.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},r.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},r.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},r.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},r.prototype.canEncode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return!0},r.prototype.encode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return Cr.encode(Ie.getCharAt(e),this.encoders[t].name)},r})(),lb=3,ub=(function(){function r(e,t,n){this.fnc1=n;var a=new sb(e,t,n);if(a.length()===1)for(var o=0;o<this.bytes.length;o++){var l=e.charAt(o).charCodeAt(0);this.bytes[o]=l===n?1e3:l}else this.bytes=this.encodeMinimally(e,a,n)}return r.prototype.getFNC1Character=function(){return this.fnc1},r.prototype.length=function(){return this.bytes.length},r.prototype.haveNCharacters=function(e,t){if(e+t-1>=this.bytes.length)return!1;for(var n=0;n<t;n++)if(this.isECI(e+n))return!1;return!0},r.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},r.prototype.subSequence=function(e,t){if(e<0||e>t||t>this.length())throw new Error(""+e);for(var n=new Ae,a=e;a<t;a++){if(this.isECI(a))throw new Error("value at "+a+" is not a character but an ECI");n.append(this.charAt(a))}return n.toString()},r.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},r.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},r.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},r.prototype.addEdge=function(e,t,n){(e[t][n.encoderIndex]==null||e[t][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[t][n.encoderIndex]=n)},r.prototype.addEdges=function(e,t,n,a,o,l){var c=e.charAt(a).charCodeAt(0),f=0,h=t.length();t.getPriorityEncoderIndex()>=0&&(c===l||t.canEncode(c,t.getPriorityEncoderIndex()))&&(f=t.getPriorityEncoderIndex(),h=f+1);for(var v=f;v<h;v++)(c===l||t.canEncode(c,v))&&this.addEdge(n,a+1,new Bp(c,t,v,o,l))},r.prototype.encodeMinimally=function(e,t,n){var a=e.length,o=new Bp[a+1][t.length()];this.addEdges(e,t,o,0,null,n);for(var l=1;l<=a;l++){for(var c=0;c<t.length();c++)o[l][c]!=null&&l<a&&this.addEdges(e,t,o,l,o[l][c],n);for(var c=0;c<t.length();c++)o[l-1][c]=null}for(var f=-1,h=Se.MAX_VALUE,c=0;c<t.length();c++)if(o[a][c]!=null){var v=o[a][c];v.cachedTotalSize<h&&(h=v.cachedTotalSize,f=c)}if(f<0)throw new Error('Failed to encode "'+e+'"');for(var g=[],x=o[a][f];x!=null;){if(x.isFNC1())g.unshift(1e3);else for(var m=t.encode(x.c,x.encoderIndex),l=m.length-1;l>=0;l--)g.unshift(m[l]&255);var _=x.previous===null?0:x.previous.encoderIndex;_!==x.encoderIndex&&g.unshift(256+t.getECIValue(x.encoderIndex)),x=x.previous}for(var b=[],l=0;l<b.length;l++)b[l]=g[l];return b},r})(),Bp=(function(){function r(e,t,n,a,o){this.c=e,this.encoderSet=t,this.encoderIndex=n,this.previous=a,this.fnc1=o,this.c=e===o?1e3:e;var l=this.isFNC1()?1:t.encode(e,n).length,c=a===null?0:a.encoderIndex;c!==n&&(l+=lb),a!=null&&(l+=a.cachedTotalSize),this.cachedTotalSize=l}return r.prototype.isFNC1=function(){return this.c===1e3},r})(),cb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();var Pp;(function(r){r[r.ASCII=0]="ASCII",r[r.C40=1]="C40",r[r.TEXT=2]="TEXT",r[r.X12=3]="X12",r[r.EDF=4]="EDF",r[r.B256=5]="B256"})(Pp||(Pp={}));(function(r){cb(e,r);function e(t,n,a,o,l){var c=r.call(this,t,n,a)||this;return c.shape=o,c.macroId=l,c}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(ub);var fb=(function(){function r(){}return r.prototype.isCompact=function(){return this.compact},r.prototype.setCompact=function(e){this.compact=e},r.prototype.getSize=function(){return this.size},r.prototype.setSize=function(e){this.size=e},r.prototype.getLayers=function(){return this.layers},r.prototype.setLayers=function(e){this.layers=e},r.prototype.getCodeWords=function(){return this.codeWords},r.prototype.setCodeWords=function(e){this.codeWords=e},r.prototype.getMatrix=function(){return this.matrix},r.prototype.setMatrix=function(e){this.matrix=e},r})(),kp=(function(){function r(){}return r.singletonList=function(e){return[e]},r.min=function(e,t){return e.sort(t)[0]},r})(),db=(function(){function r(e){this.previous=e}return r.prototype.getPrevious=function(){return this.previous},r})(),hb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),wd=(function(r){hb(e,r);function e(t,n,a){var o=r.call(this,t)||this;return o.value=n,o.bitCount=a,o}return e.prototype.appendTo=function(t,n){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,n){return new e(this,t,n)},e.prototype.addBinaryShift=function(t,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,n)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+Se.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e})(db),vb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),pb=(function(r){vb(e,r);function e(t,n,a){var o=r.call(this,t,0,0)||this;return o.binaryShiftStart=n,o.binaryShiftByteCount=a,o}return e.prototype.appendTo=function(t,n){for(var a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):a===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(n[this.binaryShiftStart+a],8)},e.prototype.addBinaryShift=function(t,n){return new e(this,t,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(wd);function gb(r,e,t){return new pb(r,e,t)}function jo(r,e,t){return new wd(r,e,t)}var yb=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Yn=0,Fl=1,Sr=2,Bg=3,Vr=4,xb=new wd(null,0,0),Nf=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],mb=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function _b(r){var e,t;try{for(var n=mb(r),a=n.next();!a.done;a=n.next()){var o=a.value;St.fill(o,-1)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r[Yn][Vr]=0,r[Fl][Vr]=0,r[Fl][Yn]=28,r[Bg][Vr]=0,r[Sr][Vr]=0,r[Sr][Yn]=15,r}var Pg=_b(St.createInt32Array(6,6)),wb=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Eb=(function(){function r(e,t,n,a){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=a}return r.prototype.getMode=function(){return this.mode},r.prototype.getToken=function(){return this.token},r.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},r.prototype.getBitCount=function(){return this.bitCount},r.prototype.latchAndAppend=function(e,t){var n=this.bitCount,a=this.token;if(e!==this.mode){var o=Nf[this.mode][e];a=jo(a,o&65535,o>>16),n+=o>>16}var l=e===Sr?4:5;return a=jo(a,t,l),new r(a,e,0,n+l)},r.prototype.shiftAndAppend=function(e,t){var n=this.token,a=this.mode===Sr?4:5;return n=jo(n,Pg[this.mode][e],a),n=jo(n,t,5),new r(n,this.mode,0,this.bitCount+a+5)},r.prototype.addBinaryShiftChar=function(e){var t=this.token,n=this.mode,a=this.bitCount;if(this.mode===Vr||this.mode===Sr){var o=Nf[n][Yn];t=jo(t,o&65535,o>>16),a+=o>>16,n=Yn}var l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new r(t,n,this.binaryShiftByteCount+1,a+l);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(e+1)),c},r.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var t=this.token;return t=gb(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new r(t,this.mode,0,this.bitCount)},r.prototype.isBetterThanOrEqualTo=function(e){var t=this.bitCount+(Nf[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=r.calculateBinaryShiftCost(e)-r.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount},r.prototype.toBitArray=function(e){for(var t,n,a=[],o=this.endBinaryShift(e.length).token;o!==null;o=o.getPrevious())a.unshift(o);var l=new Bt;try{for(var c=wb(a),f=c.next();!f.done;f=c.next()){var h=f.value;h.appendTo(l,e)}}catch(v){t={error:v}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return l},r.prototype.toString=function(){return Ie.format("%s bits=%d bytes=%d",yb[this.mode],this.bitCount,this.binaryShiftByteCount)},r.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},r.INITIAL_STATE=new r(xb,Yn,0,0),r})();function Ab(r){var e=Ie.getCharCode(" "),t=Ie.getCharCode("."),n=Ie.getCharCode(",");r[Yn][e]=1;for(var a=Ie.getCharCode("Z"),o=Ie.getCharCode("A"),l=o;l<=a;l++)r[Yn][l]=l-o+2;r[Fl][e]=1;for(var c=Ie.getCharCode("z"),f=Ie.getCharCode("a"),l=f;l<=c;l++)r[Fl][l]=l-f+2;r[Sr][e]=1;for(var h=Ie.getCharCode("9"),v=Ie.getCharCode("0"),l=v;l<=h;l++)r[Sr][l]=l-v+2;r[Sr][n]=12,r[Sr][t]=13;for(var g=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],x=0;x<g.length;x++)r[Bg][Ie.getCharCode(g[x])]=x;for(var m=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],x=0;x<m.length;x++)Ie.getCharCode(m[x])>0&&(r[Vr][Ie.getCharCode(m[x])]=x);return r}var Mf=Ab(St.createInt32Array(5,256)),Cl=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bb=(function(){function r(e){this.text=e}return r.prototype.encode=function(){for(var e=Ie.getCharCode(" "),t=Ie.getCharCode(`
`),n=kp.singletonList(Eb.INITIAL_STATE),a=0;a<this.text.length;a++){var o=void 0,l=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case Ie.getCharCode("\r"):o=l===t?2:0;break;case Ie.getCharCode("."):o=l===e?3:0;break;case Ie.getCharCode(","):o=l===e?4:0;break;case Ie.getCharCode(":"):o=l===e?5:0;break;default:o=0}o>0?(n=r.updateStateListForPair(n,a,o),a++):n=this.updateStateListForChar(n,a)}var c=kp.min(n,function(f,h){return f.getBitCount()-h.getBitCount()});return c.toBitArray(this.text)},r.prototype.updateStateListForChar=function(e,t){var n,a,o=[];try{for(var l=Cl(e),c=l.next();!c.done;c=l.next()){var f=c.value;this.updateStateForChar(f,t,o)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return r.simplifyStates(o)},r.prototype.updateStateForChar=function(e,t,n){for(var a=this.text[t]&255,o=Mf[e.getMode()][a]>0,l=null,c=0;c<=Vr;c++){var f=Mf[c][a];if(f>0){if(l==null&&(l=e.endBinaryShift(t)),!o||c===e.getMode()||c===Sr){var h=l.latchAndAppend(c,f);n.push(h)}if(!o&&Pg[e.getMode()][c]>=0){var v=l.shiftAndAppend(c,f);n.push(v)}}}if(e.getBinaryShiftByteCount()>0||Mf[e.getMode()][a]===0){var g=e.addBinaryShiftChar(t);n.push(g)}},r.updateStateListForPair=function(e,t,n){var a,o,l=[];try{for(var c=Cl(e),f=c.next();!f.done;f=c.next()){var h=f.value;this.updateStateForPair(h,t,n,l)}}catch(v){a={error:v}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}return this.simplifyStates(l)},r.updateStateForPair=function(e,t,n,a){var o=e.endBinaryShift(t);if(a.push(o.latchAndAppend(Vr,n)),e.getMode()!==Vr&&a.push(o.shiftAndAppend(Vr,n)),n===3||n===4){var l=o.latchAndAppend(Sr,16-n).latchAndAppend(Sr,1);a.push(l)}if(e.getBinaryShiftByteCount()>0){var c=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);a.push(c)}},r.simplifyStates=function(e){var t,n,a,o,l=[];try{for(var c=Cl(e),f=c.next();!f.done;f=c.next()){var h=f.value,v=!0,g=function(A){if(A.isBetterThanOrEqualTo(h))return v=!1,"break";h.isBetterThanOrEqualTo(A)&&(l=l.filter(function(S){return S!==A}))};try{for(var x=(a=void 0,Cl(l)),m=x.next();!m.done;m=x.next()){var _=m.value,b=g(_);if(b==="break")break}}catch(A){a={error:A}}finally{try{m&&!m.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}v&&l.push(h)}}catch(A){t={error:A}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return l},r})(),Sb=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.encodeBytes=function(e){return r.encode(e,r.DEFAULT_EC_PERCENT,r.DEFAULT_AZTEC_LAYERS)},r.encode=function(e,t,n){var a=new bb(e).encode(),o=Se.truncDivision(a.getSize()*t,100)+11,l=a.getSize()+o,c,f,h,v,g;if(n!==r.DEFAULT_AZTEC_LAYERS){if(c=n<0,f=Math.abs(n),f>(c?r.MAX_NB_BITS_COMPACT:r.MAX_NB_BITS))throw new ve(Ie.format("Illegal value %s for layers",n));h=r.totalBitsInLayer(f,c),v=r.WORD_SIZE[f];var x=h-h%v;if(g=r.stuffBits(a,v),g.getSize()+o>x)throw new ve("Data to large for user specified layer");if(c&&g.getSize()>v*64)throw new ve("Data to large for user specified layer")}else{v=0,g=null;for(var m=0;;m++){if(m>r.MAX_NB_BITS)throw new ve("Data too large for an Aztec code");if(c=m<=3,f=c?m+1:m,h=r.totalBitsInLayer(f,c),!(l>h)){(g==null||v!==r.WORD_SIZE[f])&&(v=r.WORD_SIZE[f],g=r.stuffBits(a,v));var x=h-h%v;if(!(c&&g.getSize()>v*64)&&g.getSize()+o<=x)break}}}var _=r.generateCheckWords(g,h,v),b=g.getSize()/v,A=r.generateModeMessage(c,f,b),S=(c?11:14)+f*4,O=new Int32Array(S),T;if(c){T=S;for(var m=0;m<O.length;m++)O[m]=m}else{T=S+1+2*Se.truncDivision(Se.truncDivision(S,2)-1,15);for(var N=Se.truncDivision(S,2),P=Se.truncDivision(T,2),m=0;m<N;m++){var D=m+Se.truncDivision(m,15);O[N-m-1]=P-D-1,O[N+m]=P+D+1}}for(var B=new Gr(T),m=0,Y=0;m<f;m++){for(var F=(f-m)*4+(c?9:12),X=0;X<F;X++)for(var J=X*2,K=0;K<2;K++)_.get(Y+J+K)&&B.set(O[m*2+K],O[m*2+X]),_.get(Y+F*2+J+K)&&B.set(O[m*2+X],O[S-1-m*2-K]),_.get(Y+F*4+J+K)&&B.set(O[S-1-m*2-K],O[S-1-m*2-X]),_.get(Y+F*6+J+K)&&B.set(O[S-1-m*2-X],O[m*2+K]);Y+=F*8}if(r.drawModeMessage(B,c,T,A),c)r.drawBullsEye(B,Se.truncDivision(T,2),5);else{r.drawBullsEye(B,Se.truncDivision(T,2),7);for(var m=0,X=0;m<Se.truncDivision(S,2)-1;m+=15,X+=16)for(var K=Se.truncDivision(T,2)&1;K<T;K+=2)B.set(Se.truncDivision(T,2)-X,K),B.set(Se.truncDivision(T,2)+X,K),B.set(K,Se.truncDivision(T,2)-X),B.set(K,Se.truncDivision(T,2)+X)}var ae=new fb;return ae.setCompact(c),ae.setSize(T),ae.setLayers(f),ae.setCodeWords(b),ae.setMatrix(B),ae},r.drawBullsEye=function(e,t,n){for(var a=0;a<n;a+=2)for(var o=t-a;o<=t+a;o++)e.set(o,t-a),e.set(o,t+a),e.set(t-a,o),e.set(t+a,o);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)},r.generateModeMessage=function(e,t,n){var a=new Bt;return e?(a.appendBits(t-1,2),a.appendBits(n-1,6),a=r.generateCheckWords(a,28,4)):(a.appendBits(t-1,5),a.appendBits(n-1,11),a=r.generateCheckWords(a,40,4)),a},r.drawModeMessage=function(e,t,n,a){var o=Se.truncDivision(n,2);if(t)for(var l=0;l<7;l++){var c=o-3+l;a.get(l)&&e.set(c,o-5),a.get(l+7)&&e.set(o+5,c),a.get(20-l)&&e.set(c,o+5),a.get(27-l)&&e.set(o-5,c)}else for(var l=0;l<10;l++){var c=o-5+l+Se.truncDivision(l,5);a.get(l)&&e.set(c,o-7),a.get(l+10)&&e.set(o+7,c),a.get(29-l)&&e.set(c,o+7),a.get(39-l)&&e.set(o-7,c)}},r.generateCheckWords=function(e,t,n){var a,o,l=e.getSize()/n,c=new Ng(r.getGF(n)),f=Se.truncDivision(t,n),h=r.bitsToWords(e,n,f);c.encode(h,f-l);var v=t%n,g=new Bt;g.appendBits(0,v);try{for(var x=Sb(Array.from(h)),m=x.next();!m.done;m=x.next()){var _=m.value;g.appendBits(_,n)}}catch(b){a={error:b}}finally{try{m&&!m.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}return g},r.bitsToWords=function(e,t,n){var a=new Int32Array(n),o,l;for(o=0,l=e.getSize()/t;o<l;o++){for(var c=0,f=0;f<t;f++)c|=e.get(o*t+f)?1<<t-f-1:0;a[o]=c}return a},r.getGF=function(e){switch(e){case 4:return nr.AZTEC_PARAM;case 6:return nr.AZTEC_DATA_6;case 8:return nr.AZTEC_DATA_8;case 10:return nr.AZTEC_DATA_10;case 12:return nr.AZTEC_DATA_12;default:throw new ve("Unsupported word size "+e)}},r.stuffBits=function(e,t){for(var n=new Bt,a=e.getSize(),o=(1<<t)-2,l=0;l<a;l+=t){for(var c=0,f=0;f<t;f++)(l+f>=a||e.get(l+f))&&(c|=1<<t-1-f);(c&o)===o?(n.appendBits(c&o,t),l--):(c&o)===0?(n.appendBits(c|1,t),l--):n.appendBits(c,t)}return n},r.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},r.DEFAULT_EC_PERCENT=33,r.DEFAULT_AZTEC_LAYERS=0,r.MAX_NB_BITS=32,r.MAX_NB_BITS_COMPACT=4,r.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),r})();var Cb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Tb=(function(r){Cb(e,r);function e(t){var n=r.call(this,t.width,t.height)||this;return n.canvas=t,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(t),n}return e.makeBufferFromCanvasImageData=function(t){var n;try{n=t.getContext("2d",{willReadFrequently:!0})}catch{n=t.getContext("2d")}if(!n)throw new Error("Couldn't get canvas context.");var a=n.getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(a.data,t.width,t.height)},e.toGrayscaleBuffer=function(t,n,a){for(var o=new Uint8ClampedArray(n*a),l=0,c=0,f=t.length;l<f;l+=4,c++){var h=void 0,v=t[l+3];if(v===0)h=255;else{var g=t[l],x=t[l+1],m=t[l+2];h=306*g+601*x+117*m+512>>10}o[c]=h}return o},e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new ve("Requested row is outside the image: "+t);var a=this.getWidth(),o=t*a;return n===null?n=this.buffer.slice(o,o+a):(n.length<a&&(n=new Uint8ClampedArray(a)),n.set(this.buffer.slice(o,o+a))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,a,o){return r.prototype.crop.call(this,t,n,a,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new Xl(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var n=this.getTempCanvasElement();if(!n)throw new Error("Could not create a Canvas element.");var a=t*e.DEGREE_TO_RADIANS,o=this.canvas.width,l=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*l),f=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*l);n.width=c,n.height=f;var h=n.getContext("2d");if(!h)throw new Error("Could not create a Canvas Context element.");return h.translate(c/2,f/2),h.rotate(a),h.drawImage(this.canvas,o/-2,l/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.DEGREE_TO_RADIANS=Math.PI/180,e})(Jo);function kg(){return typeof navigator<"u"}function Ob(){return kg()&&!!navigator.mediaDevices}function Rb(){return!!(Ob()&&navigator.mediaDevices.enumerateDevices)}var Ci=function(){return Ci=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},Ci.apply(this,arguments)},it=function(r,e,t,n){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(v){try{h(n.next(v))}catch(g){l(g)}}function f(v){try{h(n.throw(v))}catch(g){l(g)}}function h(v){v.done?o(v.value):a(v.value).then(c,f)}h((n=n.apply(r,e||[])).next())})},ot=function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,a,o,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(h){return function(v){return f([h,v])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,a&&(o=h[0]&2?a.return:h[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,h[1])).done)return o;switch(a=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,a=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(r,t)}catch(v){h=[6,v],a=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Bf=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Db={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},Ni=(function(){function r(e,t,n){t===void 0&&(t=new Map),n===void 0&&(n={}),this.reader=e,this.hints=t,this.options=Ci(Ci({},Db),n)}return Object.defineProperty(r.prototype,"possibleFormats",{set:function(e){this.hints.set(Je.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),r.addVideoSource=function(e,t){try{e.srcObject=t}catch{console.error("got interrupted by new loading request")}},r.mediaStreamSetTorch=function(e,t){return it(this,void 0,void 0,function(){return ot(this,function(n){switch(n.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:t?"flash":"off",torch:!!t}]})];case 1:return n.sent(),[2]}})})},r.mediaStreamIsTorchCompatible=function(e){var t,n,a=e.getVideoTracks();try{for(var o=Bf(a),l=o.next();!l.done;l=o.next()){var c=l.value;if(r.mediaStreamIsTorchCompatibleTrack(c))return!0}}catch(f){t={error:f}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!1},r.mediaStreamIsTorchCompatibleTrack=function(e){try{var t=e.getCapabilities();return"torch"in t}catch(n){return console.error(n),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},r.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},r.getMediaElement=function(e,t){var n=document.getElementById(e);if(!n)throw new ht("element with id '".concat(e,"' not found"));if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new ht("element with id '".concat(e,"' must be an ").concat(t," element"));return n},r.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return r.getMediaElement(e,"video");if(!e&&typeof document<"u"){var t=document.createElement("video");return t.width=200,t.height=200,t}throw new Error("Couldn't get videoElement from videoSource!")},r.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return r.getMediaElement(e,"img");if(typeof e>"u"){var t=document.createElement("img");return t.width=200,t.height=200,t}throw new Error("Couldn't get imageElement from imageSource!")},r.prepareVideoElement=function(e){var t=r.createVideoElement(e);return t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},r.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},r.createBinaryBitmapFromCanvas=function(e){var t=new Tb(e),n=new _g(t);return new mg(n)},r.drawImageOnCanvas=function(e,t){e.drawImage(t,0,0)},r.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},r.createCaptureCanvas=function(e){if(!e)throw new ht("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var t=document.createElement("canvas"),n=r.getMediaElementDimensions(e),a=n.width,o=n.height;return t.style.width=a+"px",t.style.height=o+"px",t.width=a,t.height=o,t},r.tryPlayVideo=function(e){return it(this,void 0,void 0,function(){var t;return ot(this,function(n){switch(n.label){case 0:if(e?.ended)return console.error("Trying to play video that has ended."),[2,!1];if(r.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[2,!0];case 3:return t=n.sent(),console.warn("It was not possible to play the video.",t),[2,!1];case 4:return[2]}})})},r.createCanvasFromMediaElement=function(e){var t=r.createCaptureCanvas(e),n=t.getContext("2d");if(!n)throw new Error("Couldn't find Canvas 2D Context.");return r.drawImageOnCanvas(n,e),t},r.createBinaryBitmapFromMediaElem=function(e){var t=r.createCanvasFromMediaElement(e);return r.createBinaryBitmapFromCanvas(t)},r.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},r.listVideoInputDevices=function(){return it(this,void 0,void 0,function(){var e,t,n,a,o,l,c,f,h,v,g,x;return ot(this,function(m){switch(m.label){case 0:if(!kg())throw new Error("Can't enumerate devices, navigator is not present.");if(!Rb())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=m.sent(),t=[];try{for(n=Bf(e),a=n.next();!a.done;a=n.next())o=a.value,l=o.kind==="video"?"videoinput":o.kind,l==="videoinput"&&(c=o.deviceId||o.id,f=o.label||"Video device ".concat(t.length+1),h=o.groupId,v={deviceId:c,label:f,kind:l,groupId:h},t.push(v))}catch(_){g={error:_}}finally{try{a&&!a.done&&(x=n.return)&&x.call(n)}finally{if(g)throw g.error}}return[2,t]}})})},r.findDeviceById=function(e){return it(this,void 0,void 0,function(){var t;return ot(this,function(n){switch(n.label){case 0:return[4,r.listVideoInputDevices()];case 1:return t=n.sent(),t?[2,t.find(function(a){return a.deviceId===e})]:[2]}})})},r.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},r.releaseAllStreams=function(){r.streamTracker.length!==0&&r.streamTracker.forEach(function(e){e.getTracks().forEach(function(t){return t.stop()})}),r.streamTracker=[]},r.playVideoOnLoadAsync=function(e,t){return it(this,void 0,void 0,function(){var n;return ot(this,function(a){switch(a.label){case 0:return[4,r.tryPlayVideo(e)];case 1:return n=a.sent(),n?[2,!0]:[2,new Promise(function(o,l){var c=setTimeout(function(){r.isVideoPlaying(e)||(l(!1),e.removeEventListener("canplay",f))},t),f=function(){r.tryPlayVideo(e).then(function(h){clearTimeout(c),e.removeEventListener("canplay",f),o(h)})};e.addEventListener("canplay",f)})]}})})},r.attachStreamToVideo=function(e,t,n){return n===void 0&&(n=5e3),it(this,void 0,void 0,function(){var a;return ot(this,function(o){switch(o.label){case 0:return a=r.prepareVideoElement(t),r.addVideoSource(a,e),[4,r.playVideoOnLoadAsync(a,n)];case 1:return o.sent(),[2,a]}})})},r._waitImageLoad=function(e){return new Promise(function(t,n){var a=1e4,o=setTimeout(function(){r.isImageLoaded(e)||(e.removeEventListener("load",l),n())},a),l=function(){clearTimeout(o),e.removeEventListener("load",l),t()};e.addEventListener("load",l)})},r.checkCallbackFnOrThrow=function(e){if(!e)throw new ht("`callbackFn` is a required parameter, you cannot capture results without it.")},r.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(t){return t.stop()}),e=void 0},r.prototype.decode=function(e){var t=r.createCanvasFromMediaElement(e);return this.decodeFromCanvas(t)},r.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},r.prototype.decodeFromCanvas=function(e){var t=r.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(t)},r.prototype.decodeFromImageElement=function(e){return it(this,void 0,void 0,function(){var t;return ot(this,function(n){switch(n.label){case 0:if(!e)throw new ht("An image element must be provided.");return t=r.prepareImageElement(e),[4,this._decodeOnLoadImage(t)];case 1:return[2,n.sent()]}})})},r.prototype.decodeFromImageUrl=function(e){return it(this,void 0,void 0,function(){var t;return ot(this,function(n){switch(n.label){case 0:if(!e)throw new ht("An URL must be provided.");t=r.prepareImageElement(),t.src=e,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.decodeFromImageElement(t)];case 2:return[2,n.sent()];case 3:return r.destroyImageElement(t),[7];case 4:return[2]}})})},r.prototype.decodeFromConstraints=function(e,t,n){return it(this,void 0,void 0,function(){var a,o;return ot(this,function(l){switch(l.label){case 0:return r.checkCallbackFnOrThrow(n),[4,this.getUserMedia(e)];case 1:a=l.sent(),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this.decodeFromStream(a,t,n)];case 3:return[2,l.sent()];case 4:throw o=l.sent(),r.disposeMediaStream(a),o;case 5:return[2]}})})},r.prototype.decodeFromStream=function(e,t,n){return it(this,void 0,void 0,function(){var a,o,l,c,f,h,v,g,x,m=this;return ot(this,function(_){switch(_.label){case 0:return r.checkCallbackFnOrThrow(n),a=this.options.tryPlayVideoTimeout,[4,r.attachStreamToVideo(e,t,a)];case 1:return o=_.sent(),l=function(){r.disposeMediaStream(e),r.cleanVideoSource(o)},c=this.scan(o,n,l),f=e.getVideoTracks(),h=Ci(Ci({},c),{stop:function(){c.stop()},streamVideoConstraintsApply:function(b,A){return it(this,void 0,void 0,function(){var S,O,T,N,P,D,B;return ot(this,function(Y){switch(Y.label){case 0:S=A?f.filter(A):f,Y.label=1;case 1:Y.trys.push([1,6,7,8]),O=Bf(S),T=O.next(),Y.label=2;case 2:return T.done?[3,5]:(N=T.value,[4,N.applyConstraints(b)]);case 3:Y.sent(),Y.label=4;case 4:return T=O.next(),[3,2];case 5:return[3,8];case 6:return P=Y.sent(),D={error:P},[3,8];case 7:try{T&&!T.done&&(B=O.return)&&B.call(O)}finally{if(D)throw D.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(b){return f.find(b).getConstraints()},streamVideoSettingsGet:function(b){return f.find(b).getSettings()},streamVideoCapabilitiesGet:function(b){return f.find(b).getCapabilities()}}),v=r.mediaStreamIsTorchCompatible(e),v&&(g=f?.find(function(b){return r.mediaStreamIsTorchCompatibleTrack(b)}),x=function(b){return it(m,void 0,void 0,function(){return ot(this,function(A){switch(A.label){case 0:return[4,r.mediaStreamSetTorch(g,b)];case 1:return A.sent(),[2]}})})},h.switchTorch=x,h.stop=function(){return it(m,void 0,void 0,function(){return ot(this,function(b){switch(b.label){case 0:return c.stop(),[4,x(!1)];case 1:return b.sent(),[2]}})})}),[2,h]}})})},r.prototype.decodeFromVideoDevice=function(e,t,n){return it(this,void 0,void 0,function(){var a,o;return ot(this,function(l){switch(l.label){case 0:return r.checkCallbackFnOrThrow(n),e?a={deviceId:{exact:e}}:a={facingMode:"environment"},o={video:a},[4,this.decodeFromConstraints(o,t,n)];case 1:return[2,l.sent()]}})})},r.prototype.decodeFromVideoElement=function(e,t){return it(this,void 0,void 0,function(){var n,a;return ot(this,function(o){switch(o.label){case 0:if(r.checkCallbackFnOrThrow(t),!e)throw new ht("A video element must be provided.");return n=r.prepareVideoElement(e),a=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(n,a)];case 1:return o.sent(),[2,this.scan(n,t)]}})})},r.prototype.decodeFromVideoUrl=function(e,t){return it(this,void 0,void 0,function(){var n,a,o,l;return ot(this,function(c){switch(c.label){case 0:if(r.checkCallbackFnOrThrow(t),!e)throw new ht("An URL must be provided.");return n=r.prepareVideoElement(),n.src=e,a=function(){r.cleanVideoSource(n)},o=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(n,o)];case 1:return c.sent(),l=this.scan(n,t,a),[2,l]}})})},r.prototype.decodeOnceFromConstraints=function(e,t){return it(this,void 0,void 0,function(){var n;return ot(this,function(a){switch(a.label){case 0:return[4,this.getUserMedia(e)];case 1:return n=a.sent(),[4,this.decodeOnceFromStream(n,t)];case 2:return[2,a.sent()]}})})},r.prototype.decodeOnceFromStream=function(e,t){return it(this,void 0,void 0,function(){var n,a,o;return ot(this,function(l){switch(l.label){case 0:return n=!!t,[4,r.attachStreamToVideo(e,t)];case 1:a=l.sent(),l.label=2;case 2:return l.trys.push([2,,4,5]),[4,this.scanOneResult(a)];case 3:return o=l.sent(),[2,o];case 4:return n||r.cleanVideoSource(a),[7];case 5:return[2]}})})},r.prototype.decodeOnceFromVideoDevice=function(e,t){return it(this,void 0,void 0,function(){var n,a;return ot(this,function(o){switch(o.label){case 0:return e?n={deviceId:{exact:e}}:n={facingMode:"environment"},a={video:n},[4,this.decodeOnceFromConstraints(a,t)];case 1:return[2,o.sent()]}})})},r.prototype.decodeOnceFromVideoElement=function(e){return it(this,void 0,void 0,function(){var t,n;return ot(this,function(a){switch(a.label){case 0:if(!e)throw new ht("A video element must be provided.");return t=r.prepareVideoElement(e),n=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(t,n)];case 1:return a.sent(),[4,this.scanOneResult(t)];case 2:return[2,a.sent()]}})})},r.prototype.decodeOnceFromVideoUrl=function(e){return it(this,void 0,void 0,function(){var t,n;return ot(this,function(a){switch(a.label){case 0:if(!e)throw new ht("An URL must be provided.");t=r.prepareVideoElement(),t.src=e,n=this.decodeOnceFromVideoElement(t),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,n];case 2:return[2,a.sent()];case 3:return r.cleanVideoSource(t),[7];case 4:return[2]}})})},r.prototype.scanOneResult=function(e,t,n,a){var o=this;return t===void 0&&(t=!0),n===void 0&&(n=!0),a===void 0&&(a=!0),new Promise(function(l,c){o.scan(e,function(f,h,v){if(f){l(f),v.stop();return}if(h){if(h instanceof $&&t||h instanceof gt&&n||h instanceof oe&&a)return;v.stop(),c(h)}})})},r.prototype.scan=function(e,t,n){var a=this;r.checkCallbackFnOrThrow(t);var o=r.createCaptureCanvas(e),l;try{l=o.getContext("2d",{willReadFrequently:!0})}catch{l=o.getContext("2d")}if(!l)throw new Error("Couldn't create canvas for visual element scan.");var c=function(){l=void 0,o=void 0},f=!1,h,v=function(){f=!0,clearTimeout(h),c(),n&&n()},g={stop:v},x=function(){if(!f)try{r.drawImageOnCanvas(l,e);var m=a.decodeFromCanvas(o);t(m,void 0,g),h=setTimeout(x,a.options.delayBetweenScanSuccess)}catch(S){t(void 0,S,g);var _=S instanceof gt,b=S instanceof oe,A=S instanceof $;if(_||b||A){h=setTimeout(x,a.options.delayBetweenScanAttempts);return}c(),n&&n(S)}};return x(),g},r.prototype._decodeOnLoadImage=function(e){return it(this,void 0,void 0,function(){var t;return ot(this,function(n){switch(n.label){case 0:return t=r.isImageLoaded(e),t?[3,2]:[4,r._waitImageLoad(e)];case 1:n.sent(),n.label=2;case 2:return[2,this.decode(e)]}})})},r.prototype.getUserMedia=function(e){return it(this,void 0,void 0,function(){var t;return ot(this,function(n){switch(n.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return t=n.sent(),r.streamTracker.push(t),[2,t]}})})},r.streamTracker=[],r})(),Ib=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){Ib(e,r);function e(t,n){return r.call(this,new Pl,t,n)||this}return e})(Ni);var Nb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){Nb(e,r);function e(t,n){return r.call(this,new bi(t),t,n)||this}return e})(Ni);var Mb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){Mb(e,r);function e(t,n){return r.call(this,new Ll,t,n)||this}return e})(Ni);var Bb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){Bb(e,r);function e(t,n){var a=this,o=new Ig;return o.setHints(t),a=r.call(this,o,t,n)||this,a.reader=o,a}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(t){this.hints.set(Je.POSSIBLE_FORMATS,t),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e.prototype.setHints=function(t){this.hints=t,this.reader.setHints(this.hints)},e})(Ni);var Pb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){Pb(e,r);function e(t,n){return r.call(this,new Ul,t,n)||this}return e})(Ni);var kb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Lb=(function(r){kb(e,r);function e(t,n){return r.call(this,new jl,t,n)||this}return e})(Ni);const jb={BASE_URL:"/IARE-Canteen-Web/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_BASE:"/IARE-Canteen-Web/",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpucWhvb2hqdWd5Ymxnd2Vwb3ZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ0OTk0OTAsImV4cCI6MjA3MDA3NTQ5MH0.dEWUpJtDbzLKRv9UtxpJLEmSMT6M_QChI3eu8EjO3dY",VITE_SUPABASE_URL:"https://znqhoohjugyblgwepovp.supabase.co"},We=r=>String(r||"").toUpperCase();function Ub(){return w.jsx(Fb,{children:w.jsx(zb,{})})}class Fb extends cx.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Unhandled error in App:",e,t)}render(){return this.state.hasError?w.jsxs("div",{style:{padding:24},children:[w.jsx("h2",{children:"Application error"}),w.jsx("pre",{style:{whiteSpace:"pre-wrap",color:"crimson"},children:String(this.state.error)})]}):this.props.children}}function zb(){const r=$n(),e=Hl(),[t,n]=U.useState("checking"),o={"/":"Dashboard","/place-order":"Place Order","/orders":"Orders","/inventory":"Inventory Management","/scan":"Scan QR","/reports":"Reports","/ai":"AI Predictions","/settings":"Settings"}[r.pathname]||"Dashboard",[l,c]=U.useState("live"),[f,h]=U.useState(!1),[v,g]=U.useState([]),[x,m]=U.useState([]),[_,b]=U.useState([]),[A,S]=U.useState([]),[O,T]=U.useState({}),N=async(D,B)=>{const Y=[...x];m(F=>F.map(X=>X.id===D?{...X,status:B}:X)),T(F=>({...F,[D]:!0}));try{const{data:F,error:X}=await Ye.rpc("update_order_status_flexible",{p_order_id:D,p_new_status:String(B).toLowerCase()});if(X)throw X;const J=Y.find(te=>te.id===D)||x.find(te=>te.id===D);if(!J)return;const K=J.status,ae=new Date().toLocaleString();if(B==="READY"){m(te=>te.map(se=>se.id===D?{...se,status:"READY"}:se)),g(te=>{const se=te.filter(L=>!(L.orderId===D&&L.to==="PREPARING"));return[{orderId:D,itemName:J.item_name,from:K,to:"READY",ts:Date.now()},...se]}),S(te=>[{orderId:D,itemName:J.item_name,from:K,to:"READY",at:ae,ts:Date.now(),prevLoc:"live",nextLoc:"live"},...te.filter(se=>!(se.orderId===D&&se.to==="PREPARING"))]);return}if(B==="DELIVERED"){m(te=>te.filter(se=>se.id!==D)),b(te=>[{...J,status:"DELIVERED",deliveredAt:Date.now()},...te]),g(te=>{const se=te.filter(L=>!(L.orderId===D&&L.to==="PREPARING"));return[{orderId:D,itemName:J.item_name,from:K,to:"DELIVERED",ts:Date.now()},...se]}),S(te=>[{orderId:D,itemName:J.item_name,from:K,to:"DELIVERED",at:ae,ts:Date.now(),prevLoc:"live",nextLoc:"delivered"},...te.filter(se=>!(se.orderId===D&&se.to==="PREPARING"))]);return}m(te=>te.map(se=>se.id===D?{...se,status:B}:se)),g(te=>[{orderId:D,itemName:J.item_name,from:K,to:B,ts:Date.now()},...te]),S(te=>[{orderId:D,itemName:J.item_name,from:K,to:B,at:ae,ts:Date.now(),prevLoc:"live",nextLoc:"live"},...te])}catch(F){console.error("Failed to update order status:",F);try{m(Y)}catch{}alert("Failed to update order status: "+(F.message||F))}finally{T(F=>{const X={...F};return delete X[D],X})}};U.useEffect(()=>{const D=async()=>{try{const X="https://znqhoohjugyblgwepovp.supabase.co",J="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpucWhvb2hqdWd5Ymxnd2Vwb3ZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ0OTk0OTAsImV4cCI6MjA3MDA3NTQ5MH0.dEWUpJtDbzLKRv9UtxpJLEmSMT6M_QChI3eu8EjO3dY";n("connecting");const K=1e3;let ae=0,te=[];for(;;){const re=ae+K-1,{data:le,error:ye}=await Ye.from("orders").select("*").order("created_at",{ascending:!1}).range(ae,re);if(ye)throw ye;const M=le||[];if(console.log("Fetched batch:",M.length,"orders"),te=te.concat(M),M.length<K)break;ae+=K}try{const re=Array.from(new Set((te||[]).map(le=>le.item_id||le.itemId||le.item).filter(Boolean)));if(re.length>0){let le=Object.create(null);try{const{data:ye,error:M}=await Ye.from("order_items").select("*").in("id",re);if(M)throw M;for(const ne of ye||[]){const ie=ne.id||ne.item_id||ne.code||ne.slug,fe=ne.price??ne.cost??ne.rate??ne.amount;ie&&typeof fe=="number"&&(le[ie]=fe)}const Q=re.filter(ne=>le[ne]==null);if(Q.length>0){const{data:ne}=await Ye.from("order_items").select("*").in("item_id",Q);for(const ie of ne||[]){const fe=ie.item_id||ie.id||ie.code||ie.slug,Re=ie.price??ie.cost??ie.rate??ie.amount;fe&&typeof Re=="number"&&(le[fe]=Re)}}}catch{const{data:M,error:Q}=await Ye.from("food_items").select("*").in("id",re);if(!Q)for(const ne of M||[]){const ie=ne.id||ne.item_id||ne.code||ne.slug,fe=ne.price??ne.cost??ne.rate??ne.amount;ie&&typeof fe=="number"&&(le[ie]=fe)}}te=te.map(ye=>{const M=ye.item_id||ye.itemId||ye.item,Q=le[M];return Q!=null&&(ye.total_amount==null||Number.isNaN(ye.total_amount))?{...ye,total_amount:Q}:ye})}}catch(re){console.warn("Price merge skipped:",re?.message||re)}const se=(te||[]).filter(re=>We(re.status)!=="DELIVERED"),L=(te||[]).filter(re=>We(re.status)==="DELIVERED");console.log("Total orders fetched:",te.length),console.log("Live orders:",se.length),console.log("Past orders:",L.length),console.log("Sample order:",te[0]),m(se),b(L),n("connected")}catch(X){console.error("Supabase orders fetch failed:",X),n("error"),X.message?.includes("JWT")?console.error("Authentication error - check your Supabase anon key"):X.message?.includes('relation "orders" does not exist')&&console.error("Orders table does not exist - run the SQL script in Supabase")}};D();let B=setInterval(D,1e3),Y=!1;const F=Ye.channel("public:orders").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders"},async X=>{Y||(Y=!0,B&&(clearInterval(B),B=null));let J=X.new;try{if(J&&(J.total==null||Number.isNaN(J.total))){const K=J.item_id||J.itemId||J.item;if(K){let ae=null;try{const{data:te,error:se}=await Ye.from("order_items").select("*").or(`id.eq.${K},item_id.eq.${K}`);if(!se){const L=(te||[])[0];ae=L?L.price??L.cost??L.rate??L.amount??null:null}}catch{}if(ae==null)try{const{data:te,error:se}=await Ye.from("food_items").select("*").or(`id.eq.${K},item_id.eq.${K}`);if(!se){const L=(te||[])[0];ae=L?L.price??L.cost??L.rate??L.amount??null:null}}catch{}typeof ae=="number"&&(J={...J,total_amount:ae})}}}catch{}m(K=>[J,...K])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders"},async X=>{Y||(Y=!0,B&&(clearInterval(B),B=null));let J=X.new;try{m(K=>{const ae=K.find(L=>L.id===X.new.id),te=ae&&(ae.order_token||ae.token_no);let se={...X.new};return te&&(se.token_no=te,se.order_token=te),We(se.status)==="DELIVERED"?K.filter(L=>L.id!==se.id):K.map(L=>L.id===se.id?se:L)}),We(X.new.status)==="DELIVERED"&&b(K=>[{...J,deliveredAt:Date.now()},...K.filter(ae=>ae.id!==J.id)]);return}catch{We(J.status)==="DELIVERED"?(m(ae=>ae.filter(te=>te.id!==J.id)),b(ae=>[{...J,deliveredAt:Date.now()},...ae.filter(te=>te.id!==J.id)])):m(ae=>ae.map(te=>te.id===J.id?J:te))}}).subscribe();return()=>{B&&clearInterval(B);try{F.unsubscribe()}catch{}}},[]);const P=async D=>{if(!D)return;const{orderId:B,from:Y,to:F,prevLoc:X,nextLoc:J}=D;if(X==="live"&&J==="delivered"){const K=_.find(ae=>ae.id===B);if(!K)return;b(ae=>ae.filter(te=>te.id!==B)),m(ae=>[{...K,status:Y},...ae]),g(ae=>[{orderId:B,itemName:K.item_name,from:F,to:Y,ts:Date.now()},...ae]);try{await Ye.rpc("update_order_status_flexible",{p_order_id:B,p_new_status:String(Y).toLowerCase()})}catch{}}else if(X==="live"&&J==="live"){m(K=>K.map(ae=>ae.id===B?{...ae,status:Y}:ae));try{const ae=x.find(te=>te.id===B)?.item_name||"Order Item";g(te=>[{orderId:B,itemName:ae,from:F,to:Y,ts:Date.now()},...te])}catch{}try{await Ye.rpc("update_order_status_flexible",{p_order_id:B,p_new_status:String(Y).toLowerCase()})}catch{}}S(K=>K.filter(ae=>ae!==D))};return U.useEffect(()=>{const D=setInterval(()=>{g(B=>B.filter(Y=>Date.now()-Y.ts<25e3)),S(B=>B.filter(Y=>Y.ts?Date.now()-Y.ts<25e3:!0))},1e3);return()=>clearInterval(D)},[]),U.useEffect(()=>{window.__IARE_ORDERS__=x,window.__IARE_DELIVERED__=_},[x,_]),w.jsxs("div",{className:"app",children:[w.jsxs("aside",{className:"sidebar",children:[w.jsx("h2",{className:"brand",children:"IARE Canteen"}),w.jsxs("nav",{className:"nav",children:[w.jsx(un,{to:"/",end:!0,children:"Home"}),w.jsx(un,{to:"/place-order",children:"Place Order"}),w.jsx(un,{to:"/orders",children:"Orders"}),w.jsx(un,{to:"/inventory",children:"Inventory Management"}),w.jsx(un,{to:"/scan",children:"Scan QR"}),w.jsx(un,{to:"/reports",children:"Reports"}),w.jsx(un,{to:"/ai",children:"AI Predictions"}),w.jsx(un,{to:"/settings",children:"Settings"})]})]}),w.jsxs("main",{className:"main",children:[w.jsxs("header",{className:"topbar",children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[w.jsx("h1",{style:{margin:0},children:o}),r.pathname==="/inventory"&&w.jsx("button",{className:"btn",onClick:()=>e("/manage-quantity"),style:{padding:"6px 12px",borderRadius:"999px",border:"1px solid var(--border)",background:"var(--muted-bg)",fontSize:12,lineHeight:1.2},children:"Manage Quantity"})]}),r.pathname==="/orders"&&w.jsxs("div",{className:"actions",style:{justifyContent:"center"},children:[w.jsx("button",{className:"btn",onClick:()=>c("activity"),disabled:l==="activity",children:" Recent"}),w.jsx("button",{className:"btn",onClick:()=>c("live"),disabled:l==="live",children:" Live"}),w.jsx("button",{className:"btn",onClick:()=>c("past"),disabled:l==="past",children:" Past"}),l==="live"&&w.jsx("button",{className:"btn",onClick:()=>h(D=>!D),children:f?" List Mode":" Picture Mode"})]}),r.pathname!=="/orders"&&r.pathname!=="/place-order"&&w.jsx("input",{className:"search",placeholder:"Search"})]}),w.jsxs(sm,{children:[w.jsx(ln,{path:"/",element:w.jsx(Hb,{recent:v,orders:x,onUpdateStatus:N,updatingIds:O})}),w.jsx(ln,{path:"/place-order",element:w.jsx(Vb,{})}),w.jsx(ln,{path:"/orders",element:w.jsx(Gb,{orders:x,deliveredOrders:_,activity:A,onUpdateStatus:N,onRevert:P,view:l,pictureMode:f,updatingIds:O})}),w.jsx(ln,{path:"/inventory",element:w.jsx(Xb,{})}),w.jsx(ln,{path:"/scan",element:w.jsx(Zb,{})}),w.jsx(ln,{path:"/reports",element:w.jsx(qb,{})}),w.jsx(ln,{path:"/ai",element:w.jsx(Yb,{})}),w.jsx(ln,{path:"/settings",element:w.jsx($b,{})})]})]})]})}function st({title:r,children:e}){return w.jsxs("section",{className:"card",children:[r?w.jsx("h2",{children:r}):null,e]})}function Hb({orders:r,recent:e=[],onUpdateStatus:t,updatingIds:n={}}){const a=Hl(),o=[...r].sort((x,m)=>(m.createdAt??0)-(x.createdAt??0)).slice(0,2),l=window.__IARE_DELIVERED__||[],c=r.length+l.length,f=r.filter(x=>We(x.status)!=="READY").length,h=l.length,[v,g]=U.useState([]);return U.useEffect(()=>{(async()=>{try{let _=0,b=[];for(;;){const S=_+1e3-1,{data:O,error:T}=await Ye.from("food_items").select("*").range(_,S);if(T)throw T;const N=O||[];if(b=b.concat(N),N.length<1e3)break;_+=1e3}const A=b.map(S=>{const O=S.name??S.item_name??S.title??S.label??"Item",T=(typeof S.available_quantity=="number"?S.available_quantity>0:void 0)??S.in_stock??S.available??S.is_available??(typeof S.stock=="number"?S.stock>0:void 0)??(typeof S.status=="string"?String(S.status).toLowerCase()==="in":void 0)??!0;return{name:O,inStock:!!T}});g(A.filter(S=>!S.inStock))}catch{g([])}})()},[]),w.jsxs("div",{style:{display:"grid",gap:16},children:[w.jsxs("div",{className:"grid-2",children:[w.jsx(st,{title:"Orders Today",children:w.jsxs("div",{className:"stats",children:[w.jsxs("div",{children:[w.jsx("div",{className:"stat-value",children:c}),w.jsx("div",{className:"stat-label",children:"Total"})]}),w.jsxs("div",{children:[w.jsx("div",{className:"stat-value",children:f}),w.jsx("div",{className:"stat-label",children:"Pending"})]}),w.jsxs("div",{children:[w.jsx("div",{className:"stat-value",children:h}),w.jsx("div",{className:"stat-label",children:"Completed"})]})]})}),w.jsx(st,{title:"Quick Actions",children:w.jsx("div",{className:"actions",children:w.jsx("button",{className:"btn",onClick:()=>a("/orders"),children:"View All Orders"})})})]}),w.jsxs("div",{className:"grid-2",children:[w.jsx(st,{title:"Shortage",children:v.length===0?w.jsx("div",{className:"muted",children:"No shortages."}):w.jsxs("table",{className:"table",children:[w.jsx("thead",{children:w.jsx("tr",{children:w.jsx("th",{children:"Item"})})}),w.jsx("tbody",{children:v.slice(0,5).map((x,m)=>w.jsx("tr",{children:w.jsx("td",{children:w.jsx("strong",{children:x.name})})},m))})]})}),w.jsx(st,{title:"Recent Updates (<=25s)",children:w.jsxs("table",{className:"table",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"Item Name"}),w.jsx("th",{children:"From  To"}),w.jsx("th",{children:"When"})]})}),w.jsx("tbody",{children:e.map((x,m)=>w.jsxs("tr",{children:[w.jsx("td",{children:w.jsx("strong",{children:x.itemName||"Order Item"})}),w.jsxs("td",{children:[x.from,"  ",x.to]}),w.jsxs("td",{children:[Math.max(0,25-Math.floor((Date.now()-x.ts)/1e3)),"s left"]})]},m))})]})})]}),w.jsx(Lg,{orders:o,onUpdateStatus:t,updatingIds:n})]})}function Vb(){const[r,e]=U.useState(null),[t,n]=U.useState(null),[a,o]=U.useState([]),[l,c]=U.useState([]),[f,h]=U.useState(!1),[v,g]=U.useState("");U.useEffect(()=>{(async()=>{try{let A=0,S=[];for(;;){const T=A+1e3-1,{data:N,error:P}=await Ye.from("food_items").select("*").range(A,T);if(P)throw P;const D=N||[];if(S=S.concat(D),D.length<1e3)break;A+=1e3}const O=S.map(T=>({id:T.id??T.item_id??T.slug??String(Math.random()).slice(2),name:T.name??T.item_name??"Item",price:T.price??T.cost??0,image:T.image_url??T.image??T.photo??"https://via.placeholder.com/300?text=Food",description:T.description??""}));o(O)}catch(b){console.error("Failed to load food_items:",b),o([])}})()},[]);const x=async()=>{h(!0);try{let b=0,A=[];for(;;){const S=b+1e3-1,{data:O,error:T}=await Ye.from("orders").select("id, item_name, status, order_placer, created_at, order_token").eq("order_placer","admin").order("created_at",{ascending:!1}).range(b,S);if(T)throw T;const N=O||[];if(A=A.concat(N),N.length<1e3)break;b+=1e3}c(A)}catch(_){console.error("Failed to fetch Counter tokens:",_)}finally{h(!1)}};U.useEffect(()=>{x()},[]);const m=async _=>{if(!r){e(_.id);try{const{data:b,error:A}=await Ye.rpc("create_order",{p_item_name:_.name,p_total_amount:_.price,p_status:"PENDING",p_order_placer:"admin"});let S=b;if(A){console.warn("create_order RPC failed, attempting fallback insert:",A?.message||A);const{data:T,error:N}=await Ye.rpc("generate_order_id");if(N)throw N;S=T;const{error:P}=await Ye.from("orders").insert({id:S,item_name:_.name,total_amount:_.price,status:"PENDING",order_placer:"admin"});if(P)throw P}let O=S;try{const{data:T}=await Ye.from("orders").select("order_token").eq("id",S).maybeSingle();T&&T.order_token&&(O=T.order_token)}catch{}n(O),alert(`Order placed successfully! Token No: #${O}`)}catch(b){console.error("Failed to place order:",b),alert("Failed to place order: "+(b.message||b))}finally{e(null)}}};return w.jsxs("div",{style:{display:"grid",gap:16},children:[w.jsxs(st,{title:"Menu - Place Order (Cash Payment)",children:[w.jsx("div",{className:"form",style:{marginBottom:8},children:w.jsx("div",{className:"field",style:{minWidth:320},children:w.jsx("input",{className:"input",style:{width:"320px"},placeholder:"Search menu items...",value:v,onChange:_=>g(_.target.value)})})}),w.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:20,padding:"16px 0"},children:a.filter(_=>{const b=v.trim().toLowerCase();return b?String(_.name||"").toLowerCase().includes(b):!0}).map(_=>w.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"12px",overflow:"hidden",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",transition:"transform 0.2s, box-shadow 0.2s",cursor:"pointer"},onMouseEnter:b=>{b.currentTarget.style.transform="translateY(-2px)",b.currentTarget.style.boxShadow="0 4px 8px rgba(0,0,0,0.15)"},onMouseLeave:b=>{b.currentTarget.style.transform="translateY(0)",b.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.1)"},children:[w.jsx("div",{style:{height:"200px",backgroundImage:`url(${_.image})`,backgroundSize:"cover",backgroundPosition:"center",position:"relative"},children:w.jsxs("div",{style:{position:"absolute",top:"12px",right:"12px",backgroundColor:"#10b981",color:"white",padding:"6px 12px",borderRadius:"20px",fontSize:"14px",fontWeight:"600"},children:["",_.price]})}),w.jsxs("div",{style:{padding:"16px"},children:[w.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"18px",fontWeight:"600",color:"#1f2937"},children:_.name}),w.jsx("p",{style:{margin:"0 0 16px 0",fontSize:"14px",color:"#6b7280",lineHeight:"1.4"},children:_.description}),w.jsx("button",{className:"btn",onClick:()=>m(_),disabled:r===_.id,style:{width:"100%",backgroundColor:"#10b981",color:"white",padding:"12px",fontSize:"16px",fontWeight:"600",border:"none",borderRadius:"8px",cursor:r===_.id?"not-allowed":"pointer",transition:"background-color 0.2s",opacity:r===_.id?.7:1},onMouseEnter:b=>{r!==_.id&&(b.target.style.backgroundColor="#059669")},onMouseLeave:b=>{r!==_.id&&(b.target.style.backgroundColor="#10b981")},children:r===_.id?"Placing Order...":" Place Order"})]})]},_.id))}),w.jsxs("div",{style:{marginTop:"20px",padding:"16px",backgroundColor:"#f3f4f6",borderRadius:"8px",fontSize:"14px",color:"#374151",textAlign:"center"},children:[w.jsx("strong",{children:"Instructions:"})," Click on any menu item to place an order for cash payment. Each order will be created with a unique 4-digit ID and automatically appear in the Orders panel through Supabase."]})]}),w.jsx(st,{title:"Counter Tokens (Placed by Counter)",children:f?w.jsx("div",{className:"muted",children:"Loading..."}):l.length===0?w.jsx("div",{className:"muted",children:"No Counter orders yet."}):w.jsxs("table",{className:"table",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"Token"}),w.jsx("th",{children:"Item"}),w.jsx("th",{children:"Status"}),w.jsx("th",{children:"Time"})]})}),w.jsx("tbody",{children:l.slice(0,10).map(_=>w.jsxs("tr",{children:[w.jsx("td",{children:w.jsx("span",{style:{fontFamily:"monospace",fontWeight:"bold",color:"#666"},children:_.token_no||_.order_token?"#"+(_.token_no||_.order_token):"Not available"})}),w.jsx("td",{children:_.item_name}),w.jsxs("td",{children:[We(_.status)==="PENDING"&&w.jsx("span",{className:"badge pending",children:"PENDING"}),We(_.status)==="PREPARING"&&w.jsx("span",{className:"badge preparing",children:"PREPARING"}),We(_.status)==="READY"&&w.jsx("span",{className:"badge ready",children:"READY"}),We(_.status)==="DELIVERED"&&w.jsx("span",{className:"badge ready",children:"DELIVERED"})]}),w.jsx("td",{children:_.created_at?new Date(_.created_at).toLocaleTimeString():"-"})]},_.id))})]})}),t&&w.jsx(st,{title:"Your Token",children:w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[w.jsxs("div",{style:{fontFamily:"monospace",fontWeight:"bold",color:"#666",fontSize:"1.1em"},children:["#",t]}),w.jsx("div",{className:"muted",children:"Please share this token at the counter."})]})})]})}function Lg({withTitle:r=!0,orders:e=[],onUpdateStatus:t=()=>{},idHeader:n="Order ID",updatingIds:a={}}){return w.jsx(st,{title:r?"Orders":void 0,children:w.jsxs("table",{className:"table",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:n}),w.jsx("th",{children:"Item Name"}),w.jsx("th",{children:"Price"}),w.jsx("th",{children:"Status"}),w.jsx("th",{children:"Placed By"}),w.jsx("th",{children:"Actions"})]})}),w.jsx("tbody",{children:e.map(o=>w.jsxs("tr",{children:[w.jsx("td",{children:w.jsx("span",{style:{fontFamily:"monospace",fontWeight:"bold",color:"#666"},children:o.token_no||o.order_token?"#"+(o.token_no||o.order_token):"Not available"})}),w.jsx("td",{children:w.jsx("strong",{children:o.item_name})}),w.jsx("td",{children:o.total_amount!=null?`${o.total_amount}`:"-"}),w.jsxs("td",{children:[We(o.status)==="PENDING"&&w.jsx("span",{className:"badge pending",children:"PENDING"}),We(o.status)==="PREPARING"&&w.jsx("span",{className:"badge preparing",children:"PREPARING"}),We(o.status)==="READY"&&w.jsx("span",{className:"badge ready",children:"READY"})]}),w.jsx("td",{children:o.order_placer==="admin"?w.jsx("span",{style:{backgroundColor:"#3b82f6",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"500"},children:" Counter"}):w.jsx("span",{style:{backgroundColor:"#6b7280",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"500"},children:" Student"})}),w.jsx("td",{className:"actions",children:a[o.id]?w.jsxs("button",{className:"btn",disabled:!0,children:[w.jsx("span",{className:"spinner",style:{marginRight:6}}),"Updating..."]}):w.jsxs(w.Fragment,{children:[We(o.status)==="PENDING"&&w.jsx("button",{className:"btn",onClick:()=>t(o.id,"PREPARING"),children:"Mark Preparing"}),We(o.status)==="PREPARING"&&w.jsx("button",{className:"btn",onClick:()=>t(o.id,"READY"),children:"Mark Ready"}),We(o.status)==="READY"&&w.jsx("button",{className:"btn",onClick:()=>t(o.id,"DELIVERED"),children:"Mark Delivered"})]})})]},o.id))})]})})}function Gb({orders:r,deliveredOrders:e=[],activity:t=[],onUpdateStatus:n,onRevert:a,view:o="live",pictureMode:l=!1,updatingIds:c={}}){const f=o==="live",h=v=>{try{const g=r.find(m=>m.id===v)||e.find(m=>m.id===v),x=g&&(g.token_no||g.order_token);return x?"#"+x:"Not available"}catch{return"Not available"}};return w.jsxs("div",{style:{display:"grid",gap:16},children:[o==="activity"?w.jsx(st,{title:void 0,children:w.jsxs("table",{className:"table",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"Item Name"}),w.jsx("th",{children:"Token No"}),w.jsx("th",{children:"From  To"}),w.jsx("th",{children:"At"}),w.jsx("th",{children:"Actions"})]})}),w.jsx("tbody",{children:t.slice(0,20).map((v,g)=>w.jsxs("tr",{children:[w.jsx("td",{children:w.jsx("strong",{children:v.itemName||"Order Item"})}),w.jsx("td",{children:h(v.orderId)}),w.jsxs("td",{children:[v.from,"  ",v.to]}),w.jsx("td",{children:v.at}),w.jsx("td",{children:w.jsx("button",{className:"btn",onClick:()=>a(v),children:"Revert"})})]},g))})]})}):f?l?w.jsx(st,{title:void 0,children:w.jsx("div",{className:"cards-grid",children:r.map(v=>{const g=((v.item_name||"")+"").toLowerCase(),x=g.includes("samosa")?"https://as2.ftcdn.net/v2/jpg/15/85/73/65/1000_F_1585736532_NFMq8z0vAjbker6w9vuzoF8FmsxVRGPI.jpg":g.includes("biryani")?"https://as1.ftcdn.net/v2/jpg/04/59/27/88/1000_F_459278894_92eSlejnR7NSwJRCbVyy9ZZibSmjbF8q.jpg":g.includes("dosa")?"https://as2.ftcdn.net/v2/jpg/14/45/94/59/1000_F_1445945944_eBUM7ot1AWezNkqknKsRImNvLvFbmr7z.jpg":"https://via.placeholder.com/300?text=Food";return w.jsxs("div",{className:"order-card",children:[w.jsx("div",{className:"avatar",children:w.jsx("img",{src:x,alt:v.item_name||"Order Item",loading:"lazy",onError:m=>{try{m.currentTarget.onerror=null,m.currentTarget.src="https://via.placeholder.com/300?text=Food"}catch{}}})}),w.jsx("div",{style:{fontFamily:"monospace",fontWeight:"bold",color:"#666",fontSize:"0.9em",marginBottom:4},children:v.token_no||v.order_token?"#"+(v.token_no||v.order_token):"Not available"}),w.jsx("div",{style:{fontWeight:600,fontSize:"1.1em"},children:v.item_name}),w.jsx("div",{style:{marginBottom:8},children:v.order_placer==="admin"?w.jsx("span",{style:{backgroundColor:"#3b82f6",color:"white",padding:"2px 6px",borderRadius:"4px",fontSize:"10px",fontWeight:"500"},children:" Counter"}):w.jsx("span",{style:{backgroundColor:"#6b7280",color:"white",padding:"2px 6px",borderRadius:"4px",fontSize:"10px",fontWeight:"500"},children:" Student"})}),w.jsxs("div",{style:{marginBottom:12},children:[We(v.status)==="PENDING"&&w.jsx("span",{className:"badge pending",children:"PENDING"}),We(v.status)==="PREPARING"&&w.jsx("span",{className:"badge preparing",children:"PREPARING"}),We(v.status)==="READY"&&w.jsx("span",{className:"badge ready",children:"READY"}),We(v.status)==="DELIVERED"&&w.jsx("span",{className:"badge ready",children:"DELIVERED"})]}),w.jsx("div",{className:"actions",style:{justifyContent:"center"},children:c&&c[v.id]?w.jsxs("button",{className:"btn",disabled:!0,children:[w.jsx("span",{className:"spinner",style:{marginRight:6}}),"Updating..."]}):w.jsxs(w.Fragment,{children:[We(v.status)==="PENDING"&&w.jsx("button",{className:"btn",onClick:()=>n(v.id,"PREPARING"),children:"Mark Preparing"}),We(v.status)==="PREPARING"&&w.jsxs(w.Fragment,{children:[w.jsx("button",{className:"btn",onClick:()=>n(v.id,"READY"),children:"Mark Ready"}),w.jsx("button",{className:"btn",onClick:()=>n(v.id,"DELIVERED"),children:"Mark Delivered"})]}),We(v.status)==="READY"&&w.jsx("button",{className:"btn",onClick:()=>n(v.id,"DELIVERED"),children:"Mark Delivered"})]})})]},v.id)})})}):w.jsx(Lg,{withTitle:!1,idHeader:"Token No",orders:r,onUpdateStatus:n,updatingIds:c}):w.jsx(st,{title:void 0,children:w.jsxs("table",{className:"table",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"Token No"}),w.jsx("th",{children:"Item Name"}),w.jsx("th",{children:"Price"}),w.jsx("th",{children:"Status"})]})}),w.jsx("tbody",{children:e.map(v=>w.jsxs("tr",{children:[w.jsx("td",{children:w.jsx("span",{style:{fontFamily:"monospace",fontWeight:"bold",color:"#666"},children:v.token_no||v.order_token?"#"+(v.token_no||v.order_token):"Not available"})}),w.jsx("td",{children:w.jsx("strong",{children:v.item_name})}),w.jsx("td",{children:v.total_amount!=null?`${v.total_amount}`:"-"}),w.jsx("td",{children:w.jsx("span",{className:"badge ready",children:"DELIVERED"})})]},v.id))})]})}),null]})}function Xb(){Hl();const[r,e]=U.useState([]),[t,n]=U.useState({id:"",name:""}),[a,o]=U.useState(""),[l,c]=U.useState("all"),[f,h]=U.useState("id"),[v,g]=U.useState("available_quantity"),[x,m]=U.useState(()=>new Set);U.useEffect(()=>{(async()=>{try{let Y=0,F=[];for(;;){const L=Y+1e3-1,{data:re,error:le}=await Ye.from("food_items").select("*").range(Y,L);if(le)throw le;const ye=re||[];if(F=F.concat(ye),ye.length<1e3)break;Y+=1e3}const X=F[0]||{},J=["id","item_id","slug","code"],K=["available_quantity","in_stock","available","is_available","stock","status"],ae=J.find(L=>Object.prototype.hasOwnProperty.call(X,L))||"id",te=K.find(L=>Object.prototype.hasOwnProperty.call(X,L))||"in_stock";h(ae),g(te);const se=F.map(L=>{const re=L[ae]??String(Math.random()).slice(2),le=L.name??L.item_name??L.title??L.label??"Item",ye=L.price??L.cost??0,M=L.available_quantity??L.quantity??L.stock??0,Q=(typeof M=="number"?M>0:void 0)??L.in_stock??L.available??L.is_available??(typeof L.stock=="number"?L.stock>0:void 0)??(typeof L.status=="string"?String(L.status).toLowerCase()==="in":void 0)??!0;return{id:re,name:le,price:ye,availableQuantity:M,inStock:!!Q,originalData:L}});e(se)}catch(B){console.error("Failed to fetch food_items from Supabase:",B)}})()},[]);const _=()=>{if(!t.name)return;const D="local-"+Math.random().toString(36).slice(2,10);e(B=>[...B,{id:D,name:t.name,inStock:!0,_local:!0}]),n({id:"",name:""})},b=async(D,B)=>{const Y=r;e(F=>F.map(X=>X.id===D?{...X,inStock:B}:X));try{const F=r.find(K=>K.id===D);if(F&&F._local)return;let X={};v==="stock"?X[v]=B?1:0:v==="status"?X[v]=B?"in":"out":v==="available_quantity"?X[v]=B?1:0:X[v]=!!B;const{error:J}=await Ye.from("food_items").update(X).eq(f,D);if(J)throw J}catch(F){console.error("Failed to update stock in Supabase:",F),e(Y),alert("Failed to update in backend. Please try again.")}},A=async(D,B)=>{const Y=r;e(F=>F.map(X=>X.id===D?{...X,availableQuantity:B,inStock:B>0}:X));try{const F=r.find(J=>J.id===D);if(F&&F._local)return;const{error:X}=await Ye.from("food_items").update({available_quantity:B}).eq(f,D);if(X)throw X}catch(F){console.error("Failed to update quantity in Supabase:",F),e(Y),alert("Failed to update quantity in backend. Please try again.")}},S=D=>{e(B=>B.filter(Y=>Y.id!==D))},O=r.filter(D=>{const B=a.trim().toLowerCase(),Y=B?String(D.name||"").toLowerCase().includes(B):!0,F=l==="all"||(l==="in"?D.inStock:!D.inStock);return Y&&F}),T=O.length>0&&O.every(D=>x.has(D.id)),N=(D,B)=>{m(Y=>{const F=new Set(Y);return B?F.add(D):F.delete(D),F})},P=()=>{m(T?D=>{const B=new Set(D);return O.forEach(Y=>B.delete(Y.id)),B}:D=>{const B=new Set(D);return O.forEach(Y=>B.add(Y.id)),B})};return w.jsxs("div",{style:{display:"grid",gap:16},children:[w.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"12px",marginBottom:"16px"},children:[w.jsxs("div",{style:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"12px",textAlign:"center"},children:[w.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#1e293b"},children:r.length}),w.jsx("div",{style:{fontSize:"12px",color:"#64748b"},children:"Total"})]}),w.jsxs("div",{style:{backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"8px",padding:"12px",textAlign:"center"},children:[w.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#166534"},children:r.filter(D=>D.inStock).length}),w.jsx("div",{style:{fontSize:"12px",color:"#16a34a"},children:"In Stock"})]}),w.jsxs("div",{style:{backgroundColor:"#fefce8",border:"1px solid #fde047",borderRadius:"8px",padding:"12px",textAlign:"center"},children:[w.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#a16207"},children:r.filter(D=>D.inStock&&D.availableQuantity<=20&&D.availableQuantity>5).length}),w.jsx("div",{style:{fontSize:"12px",color:"#ca8a04"},children:"Low Stock"})]}),w.jsxs("div",{style:{backgroundColor:"#fef2f2",border:"1px solid #fca5a5",borderRadius:"8px",padding:"12px",textAlign:"center"},children:[w.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#991b1b"},children:r.filter(D=>D.inStock&&D.availableQuantity<=5&&D.availableQuantity>0).length}),w.jsx("div",{style:{fontSize:"12px",color:"#dc2626"},children:"Very Low"})]}),w.jsxs("div",{style:{backgroundColor:"#f1f5f9",border:"1px solid #cbd5e1",borderRadius:"8px",padding:"12px",textAlign:"center"},children:[w.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#475569"},children:r.filter(D=>!D.inStock).length}),w.jsx("div",{style:{fontSize:"12px",color:"#64748b"},children:"Out of Stock"})]})]}),w.jsx(st,{title:"Add Item",children:w.jsxs("div",{className:"form",children:[w.jsxs("div",{className:"field",style:{minWidth:240},children:[w.jsx("label",{className:"label",children:"Name"}),w.jsx("input",{className:"input",value:t.name,onChange:D=>n({...t,name:D.target.value})})]}),w.jsx("button",{className:"btn",onClick:_,children:"Add"})]})}),w.jsx(st,{title:"Search Items",children:w.jsxs("div",{className:"form",children:[w.jsx("div",{className:"field",style:{minWidth:320},children:w.jsx("input",{className:"input",style:{width:"320px"},placeholder:"Search food items...",value:a,onChange:D=>o(D.target.value)})}),w.jsxs("div",{className:"actions",style:{marginLeft:"auto"},children:[w.jsx("button",{className:`btn ${l==="all"?"active":""}`,onClick:()=>c("all"),children:"All"}),w.jsx("button",{className:`btn ${l==="in"?"active":""}`,onClick:()=>c("in"),children:"In Stock"}),w.jsx("button",{className:`btn ${l==="out"?"active":""}`,onClick:()=>c("out"),children:"Out of Stock"})]})]})}),w.jsxs(st,{title:"Food Items Inventory & Quantity Management",children:[w.jsx("div",{className:"actions",style:{marginBottom:8},children:w.jsx("button",{className:"btn",onClick:P,children:T?"Unmark All":"Mark All"})}),w.jsxs("table",{className:"table",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"Select"}),w.jsx("th",{children:"Item Name"}),w.jsx("th",{children:"Price"}),w.jsx("th",{children:"Available Quantity"}),w.jsx("th",{children:"Stock Status"}),w.jsx("th",{children:"Actions"})]})}),w.jsx("tbody",{children:O.map(D=>w.jsxs("tr",{children:[w.jsx("td",{children:w.jsx("input",{type:"checkbox",checked:x.has(D.id),onChange:B=>N(D.id,B.target.checked)})}),w.jsx("td",{children:w.jsx("strong",{children:D.name})}),w.jsxs("td",{children:["",D.price]}),w.jsx("td",{children:w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[w.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:D.availableQuantity>20?"#10b981":D.availableQuantity>5?"#f59e0b":D.availableQuantity>0?"#ef4444":"#6b7280"},children:D.availableQuantity}),w.jsx("input",{type:"number",className:"input",style:{width:80,fontSize:"12px"},value:D.availableQuantity,onChange:B=>A(D.id,Number(B.target.value)),min:"0"})]})}),w.jsx("td",{children:w.jsx("span",{style:{padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"500",backgroundColor:D.availableQuantity>20?"#dcfce7":D.availableQuantity>5?"#fef3c7":D.availableQuantity>0?"#fee2e2":"#f3f4f6",color:D.availableQuantity>20?"#166534":D.availableQuantity>5?"#92400e":D.availableQuantity>0?"#991b1b":"#6b7280"},children:D.availableQuantity>20?" In Stock":D.availableQuantity>5?" Low Stock":D.availableQuantity>0?" Very Low":" Out of Stock"})}),w.jsxs("td",{className:"actions",children:[w.jsx("button",{className:"btn",onClick:()=>A(D.id,D.availableQuantity+10),style:{fontSize:"12px",padding:"4px 8px",marginRight:"4px"},children:"+10"}),w.jsx("button",{className:"btn",onClick:()=>A(D.id,Math.max(0,D.availableQuantity-10)),style:{fontSize:"12px",padding:"4px 8px",backgroundColor:"#ef4444",marginRight:"4px"},children:"-10"}),D.inStock?w.jsx("button",{className:"btn",onClick:()=>b(D.id,!1),children:"Mark Out"}):w.jsx("button",{className:"btn",onClick:()=>b(D.id,!0),children:"Mark In"}),w.jsx("button",{className:"btn",onClick:()=>S(D.id),children:"Remove"})]})]},D.id))})]})]})]})}function qb(){const[r,e]=U.useState(()=>new Date(Date.now()-864e5).toISOString().slice(0,10)),[t,n]=U.useState(()=>new Date().toISOString().slice(0,10)),[a,o]=U.useState({}),[l,c]=U.useState([]);U.useEffect(()=>{(async()=>{try{if(window.__IARE_DELIVERED__&&window.__IARE_DELIVERED__.length>0)c(window.__IARE_DELIVERED__),console.log(" Reports: Using window.__IARE_DELIVERED__ data");else{console.log(" Reports: Fetching delivered orders from Supabase...");const{data:S,error:O}=await Ye.from("orders").select("*").eq("status","DELIVERED").order("created_at",{ascending:!1});if(O)throw O;c(S||[]),console.log(" Reports: Fetched",S?.length||0,"delivered orders from Supabase")}}catch(S){console.error(" Reports: Failed to fetch delivered orders:",S),c([])}})()},[]),l.length>0&&(console.log(" Reports: Sample delivered order data:",l[0]),console.log(" Reports: Available fields in delivered orders:",Object.keys(l[0]||{})));const f=A=>{const S=new Date(A);return isNaN(S)?null:S.getTime()};U.useEffect(()=>{(async()=>{try{let O=0,T=[];for(;;){const P=O+1e3-1,{data:D,error:B}=await Ye.from("food_items").select("*").range(O,P);if(B)throw B;const Y=D||[];if(T=T.concat(Y),Y.length<1e3)break;O+=1e3}const N={};for(const P of T){const D=P.name??P.item_name;D&&(P.id&&(N[P.id]=D),P.item_id&&(N[P.item_id]=D),P.code&&(N[P.code]=D),P.slug&&(N[P.slug]=D))}o(N)}catch{}})()},[]);const h=l.map(A=>{const S=A.createdAt??A.created_at??A.receivedAt??A.received_at,O=A.deliveredAt??A.delivered_at??A.updated_at??A.created_at??A.createdAt,T=A.token_no??A.order_token??A.token??A.token_number??A.id??null;l.indexOf(A)<3&&console.log(" Reports: Token extraction for order:",{id:A.id,token_no:A.token_no,order_token:A.order_token,token:A.token,token_number:A.token_number,extracted_token:T});const N=A.item_name??a[A.item_id]??a[A.itemId]??a[A.item]??A.items??"Item",P=A.total_amount||A.price||0;return{id:A.id,item:N,qty:1,total:P,total_amount:P,price:P,status:A.status,receivedTs:f(S),deliveredTs:f(O),token:T}}),v=A=>{if(!A)return"";const S=new Date(A);return isNaN(S)?"":S.toISOString().slice(0,10)},g=h.filter(A=>{if(!A.deliveredTs)return!1;const S=v(A.deliveredTs);return S&&S>=r&&S<=t}),x=[...g].sort((A,S)=>S.deliveredTs-A.deliveredTs).slice(0,5),m=g.reduce((A,S)=>{A.orders+=1;const O=S.total_amount||S.total||S.price||0;return A.revenue+=Number(O)||0,A.items+=1,A[S.status]=(A[S.status]||0)+1,A},{orders:0,revenue:0,items:0,PENDING:0,PREPARING:0,READY:0}),_=()=>{const A=["Order Token","Item","Total","Received At","Delivered At"],S=F=>'"'+String(F).replace(/"/g,'""')+'"',O=F=>{if(!F)return"";const X=new Date(F);return isNaN(X)?"":X.toISOString().replace(/\.\d{3}Z$/,"")},T=g.map(F=>[S(F.token?"#"+F.token:""),S(F.item),S(F.total_amount||F.total||F.price||0),S(O(F.receivedTs)),S(O(F.deliveredTs))].join(",")),N=["",S("Total Revenue"),S(m.revenue)].join(","),P=[A.join(","),...T,"",N].join(`
`),D=new Blob([P],{type:"text/csv;charset=utf-8;"}),B=URL.createObjectURL(D),Y=document.createElement("a");Y.href=B,Y.download=`reports_${r}_to_${t}.csv`,Y.click(),URL.revokeObjectURL(B)},b=()=>{const A=B=>String(B).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),S=B=>{if(!B)return"";const Y=new Date(B);return isNaN(Y)?"":Y.toISOString().replace(/\.\d{3}Z$/,"")},T=`<!DOCTYPE html><html><head><meta charset="utf-8" />
      <style>
        table{border-collapse:collapse}
        td,th{border:1px solid #ccc;padding:6px}
        .text{mso-number-format:'\\@';}
        col.id{width:120px} col.item{width:260px} col.total{width:90px}
        col.recv{width:180px} col.delv{width:180px}
      </style></head><body>
      <table>
        <colgroup>
          <col class="id"/>
          <col class="item"/>
          <col class="total"/>
          <col class="recv"/>
          <col class="delv"/>
        </colgroup>
        <thead><tr>
          <th>Order ID</th><th>Item</th><th>Total</th><th>Received At</th><th>Delivered At</th>
        </tr></thead>
        <tbody>${g.map(B=>`
      <tr>
        <td>${A(B.token?"#"+B.token:"")}</td>
        <td>${A(B.item)}</td>
        <td>${A(B.total_amount||B.total||B.price||0)}</td>
        <td class="text">${A(S(B.receivedTs))}</td>
        <td class="text">${A(S(B.deliveredTs))}</td>
      </tr>`).join("")}</tbody>
        <tfoot><tr><td></td><td>Total Revenue</td><td class="text">${m.revenue}</td><td></td><td></td></tr></tfoot>
      </table></body></html>`,N=new Blob(["\uFEFF",T],{type:"application/vnd.ms-excel"}),P=URL.createObjectURL(N),D=document.createElement("a");D.href=P,D.download=`reports_${r}_to_${t}.xls`,D.click(),URL.revokeObjectURL(P)};return w.jsxs("div",{style:{display:"grid",gap:16},children:[w.jsxs("div",{className:"grid-2",children:[w.jsx(st,{title:void 0,children:w.jsxs("div",{className:"filters",children:[w.jsxs("div",{className:"field",style:{minWidth:220},children:[w.jsx("label",{className:"label",children:"From"}),w.jsx("input",{type:"date",className:"input",value:r,onChange:A=>e(A.target.value)})]}),w.jsxs("div",{className:"field",style:{minWidth:220},children:[w.jsx("label",{className:"label",children:"To"}),w.jsx("input",{type:"date",className:"input",value:t,onChange:A=>n(A.target.value)})]}),w.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:8},children:[w.jsx("button",{className:"btn",onClick:_,children:"Export CSV"}),w.jsx("button",{className:"btn",onClick:b,children:"Export Excel"})]})]})}),w.jsx(st,{title:"Status Breakdown",children:w.jsxs("div",{className:"badges",children:[w.jsxs("span",{className:"badge pending",children:["PENDING: ",m.PENDING]}),w.jsxs("span",{className:"badge preparing",children:["PREPARING: ",m.PREPARING]}),w.jsxs("span",{className:"badge ready",children:["READY: ",m.READY]})]})})]}),w.jsxs("div",{className:"grid-3",children:[w.jsxs(st,{title:"Total Orders",children:[w.jsx("div",{className:"stat-value",children:m.orders}),w.jsx("div",{className:"stat-label",children:"Received"})]}),w.jsxs(st,{title:"Revenue",children:[w.jsxs("div",{className:"stat-value",children:["",m.revenue]}),w.jsx("div",{className:"stat-label",children:"Total"})]}),w.jsx(st,{title:"Delivered Items",children:w.jsx("div",{className:"stat-value",children:m.items})})]}),w.jsx(st,{title:"Orders (latest 5 delivered)",children:w.jsxs("table",{className:"table",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"Order Token"}),w.jsx("th",{children:"Item"}),w.jsx("th",{children:"Total"}),w.jsx("th",{children:"Received"}),w.jsx("th",{children:"Delivered"})]})}),w.jsx("tbody",{children:x.map(A=>w.jsxs("tr",{children:[w.jsx("td",{children:A.token?"#"+A.token:""}),w.jsx("td",{children:A.item}),w.jsxs("td",{children:["",A.total_amount||A.total||A.price||0]}),w.jsx("td",{children:new Date(A.receivedTs).toLocaleString()}),w.jsx("td",{children:new Date(A.deliveredTs).toLocaleString()})]},A.id))})]})})]})}function Yb(){const[r,e]=U.useState(()=>new Date().toISOString().slice(0,10)),[t,n]=U.useState(200),[a,o]=U.useState("weekday"),[l,c]=U.useState("clear"),[f,h]=U.useState("lunch"),[v,g]=U.useState(.5),[x,m]=U.useState(!1),[_,b]=U.useState(100),[A,S]=U.useState({biryani:0,dosa:0,samosa:0}),[O,T]=U.useState([]),[N,P]=U.useState([]),D=()=>{const F=window.__IARE_DELIVERED__||[],X=new Date(r).toDateString(),K=F.filter(ne=>new Date(ne.deliveredAt).toDateString()===X).length||10;let ae=Math.round(v*K+(1-v)*t);const te=a==="weekend"?1.15:a==="holiday"?1.3:1,se=l==="rainy"?1.05:l==="hot"?.97:l==="cold"?1.02:1;let L=1;x&&(L+=Math.min(.5,_/500)),ae=Math.max(1,Math.round(ae*te*se*L));const le={breakfast:{dosa:.5,samosa:.5},lunch:{biryani:.6,dosa:.3,samosa:.1},snacks:{samosa:.7,dosa:.3},dinner:{biryani:.55,dosa:.35,samosa:.1}}[f],ye=Object.values(le).reduce((ne,ie)=>ne+ie,0),Q=Object.entries(le).map(([ne,ie])=>({key:ne,desired:Math.round(ie/ye*ae),stock:A[ne]??0})).map(ne=>({item:B(ne.key),recommended:Math.min(ne.desired,ne.stock),available:ne.stock,shortage:Math.max(0,ne.desired-ne.stock)}));T([{label:"Predicted Covers",value:ae},{label:"Day",value:`${a}  ${f}`},{label:"Weather",value:l},{label:"Event Boost",value:x?`Yes (+${Math.round(Math.min(50,_/500*100))}%)`:"No"}]),P(Q)},B=F=>F==="biryani"?"Veg Biryani":F==="dosa"?"Masala Dosa":"Samosa",Y=(F,X)=>S(J=>({...J,[F]:Math.max(0,Number(X))}));return w.jsxs("div",{style:{display:"grid",gap:16},children:[w.jsx(st,{title:"Inputs",children:w.jsxs("div",{className:"form",children:[w.jsxs("div",{className:"field",children:[w.jsx("label",{className:"label",children:"Date"}),w.jsx("input",{type:"date",className:"input",value:r,onChange:F=>e(F.target.value)})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{className:"label",children:"Expected Covers"}),w.jsx("input",{type:"number",className:"input",value:t,onChange:F=>n(Number(F.target.value))})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{className:"label",children:"Day Type"}),w.jsxs("select",{className:"input",value:a,onChange:F=>o(F.target.value),children:[w.jsx("option",{value:"weekday",children:"Weekday"}),w.jsx("option",{value:"weekend",children:"Weekend"}),w.jsx("option",{value:"holiday",children:"Holiday"})]})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{className:"label",children:"Meal Period"}),w.jsxs("select",{className:"input",value:f,onChange:F=>h(F.target.value),children:[w.jsx("option",{value:"breakfast",children:"Breakfast"}),w.jsx("option",{value:"lunch",children:"Lunch"}),w.jsx("option",{value:"snacks",children:"Snacks"}),w.jsx("option",{value:"dinner",children:"Dinner"})]})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{className:"label",children:"Weather"}),w.jsxs("select",{className:"input",value:l,onChange:F=>c(F.target.value),children:[w.jsx("option",{value:"clear",children:"Clear"}),w.jsx("option",{value:"hot",children:"Hot"}),w.jsx("option",{value:"cold",children:"Cold"}),w.jsx("option",{value:"rainy",children:"Rainy"})]})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{className:"label",children:"History Weight (01)"}),w.jsx("input",{type:"number",min:"0",max:"1",step:"0.05",className:"input",value:v,onChange:F=>g(Number(F.target.value))})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{className:"label",children:"Event Boost"}),w.jsxs("select",{className:"input",value:x?"yes":"no",onChange:F=>m(F.target.value==="yes"),children:[w.jsx("option",{value:"no",children:"No"}),w.jsx("option",{value:"yes",children:"Yes"})]})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{className:"label",children:"Event Size (people)"}),w.jsx("input",{type:"number",className:"input",value:_,onChange:F=>b(Number(F.target.value))})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{className:"label",children:"Stock: Biryani"}),w.jsx("input",{type:"number",className:"input",value:A.biryani,onChange:F=>Y("biryani",F.target.value)})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{className:"label",children:"Stock: Dosa"}),w.jsx("input",{type:"number",className:"input",value:A.dosa,onChange:F=>Y("dosa",F.target.value)})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{className:"label",children:"Stock: Samosa"}),w.jsx("input",{type:"number",className:"input",value:A.samosa,onChange:F=>Y("samosa",F.target.value)})]}),w.jsx("button",{className:"btn",onClick:D,children:"Generate"})]})}),w.jsx(st,{title:"Predictions & Suggestions",children:O.length===0?w.jsx("div",{className:"muted",children:"Fill inputs and click Generate."}):w.jsxs(w.Fragment,{children:[w.jsxs("table",{className:"table",style:{marginBottom:16},children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"Metric"}),w.jsx("th",{children:"Value"})]})}),w.jsx("tbody",{children:O.map((F,X)=>w.jsxs("tr",{children:[w.jsx("td",{children:F.label}),w.jsx("td",{children:F.value})]},X))})]}),w.jsxs("table",{className:"table",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"Item"}),w.jsx("th",{children:"Recommended Qty"}),w.jsx("th",{children:"Available Stock"}),w.jsx("th",{children:"Shortage"})]})}),w.jsx("tbody",{children:N.map((F,X)=>w.jsxs("tr",{children:[w.jsx("td",{children:F.item}),w.jsx("td",{children:F.recommended}),w.jsx("td",{children:F.available}),w.jsx("td",{children:F.shortage})]},X))})]})]})})]})}function $b(){const[r,e]=U.useState(()=>localStorage.getItem("theme")||"light");return U.useEffect(()=>{document.documentElement.setAttribute("data-theme",r),localStorage.setItem("theme",r)},[r]),w.jsxs("div",{style:{display:"grid",gap:16},children:[w.jsxs("div",{className:"grid-2",children:[w.jsxs("div",{className:"card",children:[w.jsx("h2",{style:{marginTop:0},children:"Appearance"}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[w.jsx("span",{className:"muted",children:"Light"}),w.jsxs("label",{className:"switch",children:[w.jsx("input",{type:"checkbox",checked:r==="dark",onChange:t=>e(t.target.checked?"dark":"light")}),w.jsx("span",{className:"slider"})]}),w.jsx("span",{className:"muted",children:"Dark"})]})]}),w.jsxs("div",{className:"card",children:[w.jsx("h2",{style:{marginTop:0},children:"Account"}),w.jsx("div",{className:"actions",style:{justifyContent:"flex-start"},children:w.jsx("button",{className:"btn",onClick:()=>{try{localStorage.clear()}catch{}const t=import.meta&&jb&&"/IARE-Canteen-Web/"||"/";window.location.href=t},children:"Log out"})})]})]}),w.jsx(Wb,{})]})}function Wb(){const[r,e]=U.useState(!1),[t,n]=U.useState(null),[a,o]=U.useState(null),[l,c]=U.useState(null),f=async()=>{e(!0),n(null),o(null);try{let x=0,m=[];for(;;){const _=x+1e3-1,{data:b,error:A}=await Ye.from("orders").select("*").order("created_at",{ascending:!1}).range(x,_);if(A)throw A;const S=b||[];if(m=m.concat(S),S.length<1e3)break;x+=1e3}n(m),window.__IARE_ORDERS__=m}catch(g){o(g)}finally{e(!1)}},h=()=>{const g="https://znqhoohjugyblgwepovp.supabase.co",x="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpucWhvb2hqdWd5Ymxnd2Vwb3ZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ0OTk0OTAsImV4cCI6MjA3MDA3NTQ5MH0.dEWUpJtDbzLKRv9UtxpJLEmSMT6M_QChI3eu8EjO3dY";c({hasUrl:!0,hasKey:!0,urlLength:g?.length||0,keyLength:x?.length||0,urlPreview:`${g.substring(0,20)}...`,keyPreview:`${x.substring(0,20)}...`,isConfigured:!0,urlValue:g,keyValue:x})},v=async()=>{e(!0);try{const g=[{name:"Veg Biryani",price:180},{name:"Masala Dosa",price:80},{name:"Samosa",price:40},{name:"Chicken Biryani",price:200},{name:"Paneer Tikka",price:120},{name:"Dal Khichdi",price:60},{name:"Veg Fried Rice",price:90},{name:"Chicken Curry",price:150}],x=g[Math.floor(Math.random()*g.length)],{data:m,error:_}=await Ye.rpc("create_order",{p_item_name:x.name,p_total:x.price,p_status:"PENDING"});_?o(_):(n({message:`Order created with ID: ${m} for ${x.name}`,orderId:m}),setTimeout(()=>{f()},1e3))}catch(g){o(g)}finally{e(!1)}};return w.jsxs("div",{className:"card",children:[w.jsx("h2",{style:{marginTop:0},children:"Debug"}),w.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[w.jsx("button",{className:"btn",onClick:f,disabled:r,children:r?"Fetching...":"Fetch orders from Supabase"}),w.jsx("button",{className:"btn",onClick:v,disabled:r,children:r?"Creating...":"Create Test Order"}),w.jsx("button",{className:"btn",onClick:h,children:"Check Env Vars"}),w.jsx("button",{className:"btn",onClick:()=>{n(null),o(null),c(null)},children:"Clear"})]}),w.jsxs("div",{style:{marginTop:12},children:[l&&w.jsxs("div",{style:{marginBottom:12,padding:8,backgroundColor:"#f3f4f6",borderRadius:4},children:[w.jsx("strong",{children:"Environment Variables:"}),w.jsx("br",{}),"URL: ",l.hasUrl?" Set":" Missing"," (",l.urlPreview,")",w.jsx("br",{}),"Key: ",l.hasKey?" Set":" Missing"," (",l.keyPreview,")",w.jsx("br",{}),"Status: ",l.isConfigured?" Configured":" Not Configured",!l.isConfigured&&w.jsxs("div",{style:{marginTop:8,padding:8,backgroundColor:"#fef3c7",borderRadius:4,fontSize:"12px"},children:[w.jsx("strong",{children:"Setup Required:"}),w.jsx("br",{}),"1. Create a ",w.jsx("code",{children:".env"})," file in the project root",w.jsx("br",{}),"2. Add your Supabase URL and anon key",w.jsx("br",{}),"3. Restart the development server"]})]}),a&&w.jsx("pre",{style:{color:"crimson",whiteSpace:"pre-wrap"},children:String(a.message||a)}),t&&w.jsx("div",{style:{maxHeight:240,overflow:"auto"},children:w.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:JSON.stringify(t,null,2)})}),!t&&!a&&!l&&w.jsx("div",{className:"muted",children:"No result yet. Click fetch to test."})]})]})}function Zb(){const r=U.useRef(null),e=U.useRef(null),t=U.useRef(null),[n,a]=U.useState(!1),[o,l]=U.useState(""),[c,f]=U.useState(null),[h,v]=U.useState(null),[g,x]=U.useState(!1),[m,_]=U.useState(!1),[b,A]=U.useState(""),[S,O]=U.useState(0),[T,N]=U.useState(""),P=async()=>{try{a(!1);try{t.current&&typeof t.current.stop=="function"&&t.current.stop()}catch{}t.current=null;try{e.current&&typeof e.current.reset=="function"&&await e.current.reset()}catch{}e.current=null;const X=r.current;X&&X.srcObject&&(X.srcObject.getTracks().forEach(K=>K.stop()),X.srcObject=null)}catch{}},D=async()=>{f(null),v(null),l(""),N("");try{if(n)return;await P();const X=new Lb;e.current=X,a(!0),await X.decodeFromVideoDevice(null,r.current,async(J,K,ae)=>{try{ae&&!t.current&&(t.current=ae)}catch{}if(J){const te=String(J.getText()||"");if(console.log("Scanned text:",te),!te||m)return;const se=Date.now();if(b===te&&se-S<1500)return;_(!0),A(te),O(se);try{const L=await Y(te);N(L?"Successfully scanned":"")}finally{_(!1)}}K&&K.name})}catch(X){console.error(X),f(X),a(!1)}},B=X=>{if(!X)return{};const J=String(X).trim();console.log("Parsing scanned text:",J);const K=/[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}/i;if(J.startsWith("IARE_"))return console.log("Found encrypted code:",J),{encryptedCode:J};const ae=J.match(K);if(ae)return console.log("Found UUID order ID:",ae[0]),{orderId:ae[0]};const te=J.replace(/\D+/g,"");if(te.length>=3&&te.length<=10)return console.log("Found token number:",te),{token:te};try{const L=new URL(J).searchParams,re=L.get("token")||L.get("id")||L.get("order_id")||L.get("code");if(re){if(re.startsWith("IARE_"))return console.log("Found encrypted code in URL params:",re),{encryptedCode:re};if(K.test(re))return console.log("Found UUID in URL params:",re),{orderId:re};const le=re.replace(/\D+/g,"");if(le.length>=3&&le.length<=10)return console.log("Found token in URL params:",le),{token:le}}}catch{}return console.log("No valid token, ID, or encrypted code found in:",J),{}},Y=async X=>{f(null),v(null);const{token:J,orderId:K,encryptedCode:ae}=B(X);console.log("Parsed token:",J,"orderId:",K,"encryptedCode:",ae);try{let te=null;if(ae){console.log("Searching by encrypted code:",ae);const{data:se,error:L}=await Ye.from("orders").select("id,item_name,encrypted_code,order_token,created_at,status,total_amount,order_placer").eq("encrypted_code",ae).limit(1).maybeSingle();if(L)throw console.error("Error searching by encrypted code:",L),L;se?(console.log("Found order by encrypted code:",se),te=se):console.log("No order found with encrypted code:",ae)}if(!te&&J){console.log("Searching by token:",J);const{data:se,error:L}=await Ye.from("orders").select("id,item_name,encrypted_code,order_token,created_at,status,total_amount,order_placer").eq("order_token",J).limit(1).maybeSingle();if(L)throw console.error("Error searching by token:",L),L;se?(console.log("Found order by token:",se),te=se):console.log("No order found with token:",J)}if(!te&&K){console.log("Searching by order ID:",K);const{data:se,error:L}=await Ye.from("orders").select("id,item_name,encrypted_code,order_token,created_at,status,total_amount,order_placer").eq("id",K).limit(1).maybeSingle();if(L)throw console.error("Error searching by order ID:",L),L;se?(console.log("Found order by ID:",se),te=se):console.log("No order found with ID:",K)}if(te)return console.log("Setting order:",te),v(te),te;{const se=`No order found for scanned code. Encrypted Code: ${ae}, Token: ${J}, Order ID: ${K}`;return console.log(se),f(new Error(se)),null}}catch(te){return console.error("Scan lookup failed:",te),f(te),null}},F=async X=>{if(h){x(!0);try{const{error:J}=await Ye.rpc("update_order_status_flexible",{p_order_id:h.id,p_new_status:String(X).toLowerCase()});if(J)throw J;v(K=>({...K,status:X})),alert(`Updated to ${X}`)}catch(J){alert("Failed to update: "+(J.message||J))}finally{x(!1)}}};return U.useEffect(()=>(D(),()=>{P()}),[]),w.jsx("div",{style:{display:"grid",gap:16},children:w.jsxs(st,{title:"QR Scanner",children:[w.jsx("div",{className:"actions",style:{marginBottom:8},children:w.jsxs("button",{className:"btn",onClick:n?P:D,children:[n?"Stop":"Start"," Camera"]})}),w.jsxs("div",{style:{marginBottom:16,padding:12,backgroundColor:"#f8fafc",borderRadius:8,border:"1px solid #e2e8f0"},children:[w.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"14px"},children:"Manual Test Input"}),w.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[w.jsx("input",{type:"text",placeholder:"Enter barcode/QR code manually for testing...",style:{flex:1,padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"},onKeyPress:X=>{if(X.key==="Enter"){const J=X.target.value.trim();J&&(console.log("Manual input:",J),Y(J),X.target.value="")}}}),w.jsx("button",{className:"btn",onClick:X=>{const J=X.target.previousElementSibling,K=J.value.trim();K&&(console.log("Manual input:",K),Y(K),J.value="")},style:{fontSize:"12px",padding:"8px 12px"},children:"Test"})]}),w.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:4},children:"Enter an encrypted code (starts with IARE_), token number (e.g., 1234), or order ID, then press Enter or click Test"})]}),w.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[w.jsxs("div",{children:[w.jsx("video",{ref:r,style:{width:"100%",maxHeight:320,background:"#000",borderRadius:8},muted:!0,playsInline:!0}),T&&w.jsx("div",{className:"muted",style:{marginTop:8,color:"#10b981"},children:T}),c&&w.jsx("div",{className:"muted",style:{color:"crimson",marginTop:8},children:String(c.message||c)})]}),w.jsx("div",{children:h?w.jsxs("div",{children:[w.jsxs("div",{style:{marginBottom:8},children:[w.jsxs("div",{children:["Item Name: ",w.jsx("strong",{children:h.item_name||"Order Item"})]}),w.jsxs("div",{children:["Encrypted Code: ",w.jsx("code",{style:{fontSize:"12px",backgroundColor:"#f3f4f6",padding:"2px 4px",borderRadius:"3px"},children:h.encrypted_code||"Not available"})]}),w.jsxs("div",{children:["Status: ",We(h.status)]}),w.jsxs("div",{children:["Price: ",h.total_amount!=null?`${h.total_amount}`:"-"]}),w.jsxs("div",{children:["Token: ",h.order_token?`#${h.order_token}`:"Not available"]}),w.jsxs("div",{children:["Placed By: ",h.order_placer==="admin"?"Counter":"Student"]})]}),w.jsxs("div",{className:"actions",children:[We(h.status)==="PENDING"&&w.jsx("button",{className:"btn",disabled:g,onClick:()=>F("PREPARING"),children:g?"Updating...":"Mark Preparing"}),We(h.status)==="PREPARING"&&w.jsxs(w.Fragment,{children:[w.jsx("button",{className:"btn",disabled:g,onClick:()=>F("READY"),children:g?"Updating...":"Mark Ready"}),w.jsx("button",{className:"btn",disabled:g,onClick:()=>F("DELIVERED"),children:g?"Updating...":"Mark Delivered"})]}),We(h.status)==="READY"&&w.jsx("button",{className:"btn",disabled:g,onClick:()=>F("DELIVERED"),children:g?"Updating...":"Mark Delivered"})]})]}):w.jsx("div",{className:"muted",children:"Scan a QR that contains an order token or ID."})})]}),w.jsx("div",{className:"muted",style:{marginTop:8},children:"Tip: Your QR can contain encrypted codes (IARE_...), order tokens (e.g., #1234), or order UUIDs."})]})})}yx.createRoot(document.getElementById("root")).render(w.jsx(U.StrictMode,{children:w.jsx(Dm,{children:w.jsx(Ub,{})})}));
