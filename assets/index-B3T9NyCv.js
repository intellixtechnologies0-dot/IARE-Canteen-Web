(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function f2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function uE(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var oh={exports:{}},Ys={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function fE(){if(Em)return Ys;Em=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:n,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Ys.Fragment=e,Ys.jsx=t,Ys.jsxs=t,Ys}var Sm;function dE(){return Sm||(Sm=1,oh.exports=fE()),oh.exports}var m=dE(),sh={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function hE(){if(Am)return Ue;Am=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(N){return N===null||typeof N!="object"?null:(N=g&&N[g]||N["@@iterator"],typeof N=="function"?N:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,E={};function S(N,F,z){this.props=N,this.context=F,this.refs=E,this.updater=z||x}S.prototype.isReactComponent={},S.prototype.setState=function(N,F){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,F,"setState")},S.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function b(){}b.prototype=S.prototype;function C(N,F,z){this.props=N,this.context=F,this.refs=E,this.updater=z||x}var T=C.prototype=new b;T.constructor=C,_(T,S.prototype),T.isPureReactComponent=!0;var D=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function U(N,F,z,Z,J,ce){return z=ce.ref,{$$typeof:n,type:N,key:F,ref:z!==void 0?z:null,props:ce}}function $(N,F){return U(N.type,F,void 0,void 0,void 0,N.props)}function G(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function te(N){var F={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(z){return F[z]})}var ae=/\/+/g;function le(N,F){return typeof N=="object"&&N!==null&&N.key!=null?te(""+N.key):F.toString(36)}function se(){}function de(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(se,se):(N.status="pending",N.then(function(F){N.status==="pending"&&(N.status="fulfilled",N.value=F)},function(F){N.status==="pending"&&(N.status="rejected",N.reason=F)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Ee(N,F,z,Z,J){var ce=typeof N;(ce==="undefined"||ce==="boolean")&&(N=null);var fe=!1;if(N===null)fe=!0;else switch(ce){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(N.$$typeof){case n:case e:fe=!0;break;case p:return fe=N._init,Ee(fe(N._payload),F,z,Z,J)}}if(fe)return J=J(N),fe=Z===""?"."+le(N,0):Z,D(J)?(z="",fe!=null&&(z=fe.replace(ae,"$&/")+"/"),Ee(J,F,z,"",function(Je){return Je})):J!=null&&(G(J)&&(J=$(J,z+(J.key==null||N&&N.key===J.key?"":(""+J.key).replace(ae,"$&/")+"/")+fe)),F.push(J)),1;fe=0;var ye=Z===""?".":Z+":";if(D(N))for(var me=0;me<N.length;me++)Z=N[me],ce=ye+le(Z,me),fe+=Ee(Z,F,z,ce,J);else if(me=y(N),typeof me=="function")for(N=me.call(N),me=0;!(Z=N.next()).done;)Z=Z.value,ce=ye+le(Z,me++),fe+=Ee(Z,F,z,ce,J);else if(ce==="object"){if(typeof N.then=="function")return Ee(de(N),F,z,Z,J);throw F=String(N),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return fe}function k(N,F,z){if(N==null)return N;var Z=[],J=0;return Ee(N,Z,"","",function(ce){return F.call(z,ce,J++)}),Z}function I(N){if(N._status===-1){var F=N._result;F=F(),F.then(function(z){(N._status===0||N._status===-1)&&(N._status=1,N._result=z)},function(z){(N._status===0||N._status===-1)&&(N._status=2,N._result=z)}),N._status===-1&&(N._status=0,N._result=F)}if(N._status===1)return N._result.default;throw N._result}var B=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function ee(){}return Ue.Children={map:k,forEach:function(N,F,z){k(N,function(){F.apply(this,arguments)},z)},count:function(N){var F=0;return k(N,function(){F++}),F},toArray:function(N){return k(N,function(F){return F})||[]},only:function(N){if(!G(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ue.Component=S,Ue.Fragment=t,Ue.Profiler=i,Ue.PureComponent=C,Ue.StrictMode=r,Ue.Suspense=f,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(N){return P.H.useMemoCache(N)}},Ue.cache=function(N){return function(){return N.apply(null,arguments)}},Ue.cloneElement=function(N,F,z){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var Z=_({},N.props),J=N.key,ce=void 0;if(F!=null)for(fe in F.ref!==void 0&&(ce=void 0),F.key!==void 0&&(J=""+F.key),F)!L.call(F,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&F.ref===void 0||(Z[fe]=F[fe]);var fe=arguments.length-2;if(fe===1)Z.children=z;else if(1<fe){for(var ye=Array(fe),me=0;me<fe;me++)ye[me]=arguments[me+2];Z.children=ye}return U(N.type,J,void 0,void 0,ce,Z)},Ue.createContext=function(N){return N={$$typeof:s,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:a,_context:N},N},Ue.createElement=function(N,F,z){var Z,J={},ce=null;if(F!=null)for(Z in F.key!==void 0&&(ce=""+F.key),F)L.call(F,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(J[Z]=F[Z]);var fe=arguments.length-2;if(fe===1)J.children=z;else if(1<fe){for(var ye=Array(fe),me=0;me<fe;me++)ye[me]=arguments[me+2];J.children=ye}if(N&&N.defaultProps)for(Z in fe=N.defaultProps,fe)J[Z]===void 0&&(J[Z]=fe[Z]);return U(N,ce,void 0,void 0,null,J)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(N){return{$$typeof:c,render:N}},Ue.isValidElement=G,Ue.lazy=function(N){return{$$typeof:p,_payload:{_status:-1,_result:N},_init:I}},Ue.memo=function(N,F){return{$$typeof:d,type:N,compare:F===void 0?null:F}},Ue.startTransition=function(N){var F=P.T,z={};P.T=z;try{var Z=N(),J=P.S;J!==null&&J(z,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(ee,B)}catch(ce){B(ce)}finally{P.T=F}},Ue.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Ue.use=function(N){return P.H.use(N)},Ue.useActionState=function(N,F,z){return P.H.useActionState(N,F,z)},Ue.useCallback=function(N,F){return P.H.useCallback(N,F)},Ue.useContext=function(N){return P.H.useContext(N)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(N,F){return P.H.useDeferredValue(N,F)},Ue.useEffect=function(N,F,z){var Z=P.H;if(typeof z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(N,F)},Ue.useId=function(){return P.H.useId()},Ue.useImperativeHandle=function(N,F,z){return P.H.useImperativeHandle(N,F,z)},Ue.useInsertionEffect=function(N,F){return P.H.useInsertionEffect(N,F)},Ue.useLayoutEffect=function(N,F){return P.H.useLayoutEffect(N,F)},Ue.useMemo=function(N,F){return P.H.useMemo(N,F)},Ue.useOptimistic=function(N,F){return P.H.useOptimistic(N,F)},Ue.useReducer=function(N,F,z){return P.H.useReducer(N,F,z)},Ue.useRef=function(N){return P.H.useRef(N)},Ue.useState=function(N){return P.H.useState(N)},Ue.useSyncExternalStore=function(N,F,z){return P.H.useSyncExternalStore(N,F,z)},Ue.useTransition=function(){return P.H.useTransition()},Ue.version="19.1.1",Ue}var Cm;function L0(){return Cm||(Cm=1,sh.exports=hE()),sh.exports}var R=L0();const d2=f2(R);var lh={exports:{}},Ks={},ch={exports:{}},uh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function pE(){return Tm||(Tm=1,(function(n){function e(k,I){var B=k.length;k.push(I);e:for(;0<B;){var ee=B-1>>>1,N=k[ee];if(0<i(N,I))k[ee]=I,k[B]=N,B=ee;else break e}}function t(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var I=k[0],B=k.pop();if(B!==I){k[0]=B;e:for(var ee=0,N=k.length,F=N>>>1;ee<F;){var z=2*(ee+1)-1,Z=k[z],J=z+1,ce=k[J];if(0>i(Z,B))J<N&&0>i(ce,Z)?(k[ee]=ce,k[J]=B,ee=J):(k[ee]=Z,k[z]=B,ee=z);else if(J<N&&0>i(ce,B))k[ee]=ce,k[J]=B,ee=J;else break e}}return I}function i(k,I){var B=k.sortIndex-I.sortIndex;return B!==0?B:k.id-I.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();n.unstable_now=function(){return s.now()-c}}var f=[],d=[],p=1,g=null,y=3,x=!1,_=!1,E=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function D(k){for(var I=t(d);I!==null;){if(I.callback===null)r(d);else if(I.startTime<=k)r(d),I.sortIndex=I.expirationTime,e(f,I);else break;I=t(d)}}function P(k){if(E=!1,D(k),!_)if(t(f)!==null)_=!0,L||(L=!0,le());else{var I=t(d);I!==null&&Ee(P,I.startTime-k)}}var L=!1,U=-1,$=5,G=-1;function te(){return S?!0:!(n.unstable_now()-G<$)}function ae(){if(S=!1,L){var k=n.unstable_now();G=k;var I=!0;try{e:{_=!1,E&&(E=!1,C(U),U=-1),x=!0;var B=y;try{t:{for(D(k),g=t(f);g!==null&&!(g.expirationTime>k&&te());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,y=g.priorityLevel;var N=ee(g.expirationTime<=k);if(k=n.unstable_now(),typeof N=="function"){g.callback=N,D(k),I=!0;break t}g===t(f)&&r(f),D(k)}else r(f);g=t(f)}if(g!==null)I=!0;else{var F=t(d);F!==null&&Ee(P,F.startTime-k),I=!1}}break e}finally{g=null,y=B,x=!1}I=void 0}}finally{I?le():L=!1}}}var le;if(typeof T=="function")le=function(){T(ae)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,de=se.port2;se.port1.onmessage=ae,le=function(){de.postMessage(null)}}else le=function(){b(ae,0)};function Ee(k,I){U=b(function(){k(n.unstable_now())},I)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(k){switch(y){case 1:case 2:case 3:var I=3;break;default:I=y}var B=y;y=I;try{return k()}finally{y=B}},n.unstable_requestPaint=function(){S=!0},n.unstable_runWithPriority=function(k,I){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var B=y;y=k;try{return I()}finally{y=B}},n.unstable_scheduleCallback=function(k,I,B){var ee=n.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ee+B:ee):B=ee,k){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=B+N,k={id:p++,callback:I,priorityLevel:k,startTime:B,expirationTime:N,sortIndex:-1},B>ee?(k.sortIndex=B,e(d,k),t(f)===null&&k===t(d)&&(E?(C(U),U=-1):E=!0,Ee(P,B-ee))):(k.sortIndex=N,e(f,k),_||x||(_=!0,L||(L=!0,le()))),k},n.unstable_shouldYield=te,n.unstable_wrapCallback=function(k){var I=y;return function(){var B=y;y=I;try{return k.apply(this,arguments)}finally{y=B}}}})(uh)),uh}var Om;function gE(){return Om||(Om=1,ch.exports=pE()),ch.exports}var fh={exports:{}},Sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function vE(){if(Rm)return Sn;Rm=1;var n=L0();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,d,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:d,implementation:p}}var s=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Sn.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(f,d,null,p)},Sn.flushSync=function(f){var d=s.T,p=r.p;try{if(s.T=null,r.p=2,f)return f()}finally{s.T=d,r.p=p,r.d.f()}},Sn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Sn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Sn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,g=c(p,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:x}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Sn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Sn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,g=c(p,d.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Sn.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Sn.requestFormReset=function(f){r.d.r(f)},Sn.unstable_batchedUpdates=function(f,d){return f(d)},Sn.useFormState=function(f,d,p){return s.H.useFormState(f,d,p)},Sn.useFormStatus=function(){return s.H.useHostTransitionStatus()},Sn.version="19.1.1",Sn}var Dm;function mE(){if(Dm)return fh.exports;Dm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),fh.exports=vE(),fh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function yE(){if(Nm)return Ks;Nm=1;var n=gE(),e=L0(),t=mE();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var l=o,u=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(u=l.return),o=l.return;while(o)}return l.tag===3?u:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(r(188))}function f(o){var l=o.alternate;if(!l){if(l=a(o),l===null)throw Error(r(188));return l!==o?null:o}for(var u=o,h=l;;){var v=u.return;if(v===null)break;var w=v.alternate;if(w===null){if(h=v.return,h!==null){u=h;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===u)return c(v),o;if(w===h)return c(v),l;w=w.sibling}throw Error(r(188))}if(u.return!==h.return)u=v,h=w;else{for(var A=!1,O=v.child;O;){if(O===u){A=!0,u=v,h=w;break}if(O===h){A=!0,h=v,u=w;break}O=O.sibling}if(!A){for(O=w.child;O;){if(O===u){A=!0,u=w,h=v;break}if(O===h){A=!0,h=w,u=v;break}O=O.sibling}if(!A)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?o:l}function d(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=d(o),l!==null)return l;o=o.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),T=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function le(o){return o===null||typeof o!="object"?null:(o=ae&&o[ae]||o["@@iterator"],typeof o=="function"?o:null)}var se=Symbol.for("react.client.reference");function de(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===se?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case _:return"Fragment";case S:return"Profiler";case E:return"StrictMode";case P:return"Suspense";case L:return"SuspenseList";case G:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case x:return"Portal";case T:return(o.displayName||"Context")+".Provider";case C:return(o._context.displayName||"Context")+".Consumer";case D:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case U:return l=o.displayName||null,l!==null?l:de(o.type)||"Memo";case $:l=o._payload,o=o._init;try{return de(o(l))}catch{}}return null}var Ee=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},ee=[],N=-1;function F(o){return{current:o}}function z(o){0>N||(o.current=ee[N],ee[N]=null,N--)}function Z(o,l){N++,ee[N]=o.current,o.current=l}var J=F(null),ce=F(null),fe=F(null),ye=F(null);function me(o,l){switch(Z(fe,l),Z(ce,o),Z(J,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?Zv(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=Zv(l),o=Qv(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}z(J),Z(J,o)}function Je(){z(J),z(ce),z(fe)}function Be(o){o.memoizedState!==null&&Z(ye,o);var l=J.current,u=Qv(l,o.type);l!==u&&(Z(ce,o),Z(J,u))}function Pe(o){ce.current===o&&(z(J),z(ce)),ye.current===o&&(z(ye),Gs._currentValue=B)}var Le=Object.prototype.hasOwnProperty,ot=n.unstable_scheduleCallback,St=n.unstable_cancelCallback,We=n.unstable_shouldYield,xt=n.unstable_requestPaint,st=n.unstable_now,_n=n.unstable_getCurrentPriorityLevel,Hr=n.unstable_ImmediatePriority,q=n.unstable_UserBlockingPriority,ue=n.unstable_NormalPriority,he=n.unstable_LowPriority,we=n.unstable_IdlePriority,ge=n.log,Re=n.unstable_setDisableYieldValue,Ie=null,et=null;function At(o){if(typeof ge=="function"&&Re(o),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(Ie,o)}catch{}}var Ae=Math.clz32?Math.clz32:Ce,Pn=Math.log,_e=Math.LN2;function Ce(o){return o>>>=0,o===0?32:31-(Pn(o)/_e|0)|0}var Xt=256,Gr=4194304;function Cr(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Tr(o,l,u){var h=o.pendingLanes;if(h===0)return 0;var v=0,w=o.suspendedLanes,A=o.pingedLanes;o=o.warmLanes;var O=h&134217727;return O!==0?(h=O&~w,h!==0?v=Cr(h):(A&=O,A!==0?v=Cr(A):u||(u=O&~o,u!==0&&(v=Cr(u))))):(O=h&~w,O!==0?v=Cr(O):A!==0?v=Cr(A):u||(u=h&~o,u!==0&&(v=Cr(u)))),v===0?0:l!==0&&l!==v&&(l&w)===0&&(w=v&-v,u=l&-l,w>=u||w===32&&(u&4194048)!==0)?l:v}function pi(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function Xu(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bl(){var o=Xt;return Xt<<=1,(Xt&4194048)===0&&(Xt=256),o}function Ll(){var o=Gr;return Gr<<=1,(Gr&62914560)===0&&(Gr=4194304),o}function Wu(o){for(var l=[],u=0;31>u;u++)l.push(o);return l}function es(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Q_(o,l,u,h,v,w){var A=o.pendingLanes;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=u,o.entangledLanes&=u,o.errorRecoveryDisabledLanes&=u,o.shellSuspendCounter=0;var O=o.entanglements,j=o.expirationTimes,W=o.hiddenUpdates;for(u=A&~u;0<u;){var re=31-Ae(u),oe=1<<re;O[re]=0,j[re]=-1;var K=W[re];if(K!==null)for(W[re]=null,re=0;re<K.length;re++){var Q=K[re];Q!==null&&(Q.lane&=-536870913)}u&=~oe}h!==0&&j1(o,h,0),w!==0&&v===0&&o.tag!==0&&(o.suspendedLanes|=w&~(A&~l))}function j1(o,l,u){o.pendingLanes|=l,o.suspendedLanes&=~l;var h=31-Ae(l);o.entangledLanes|=l,o.entanglements[h]=o.entanglements[h]|1073741824|u&4194090}function B1(o,l){var u=o.entangledLanes|=l;for(o=o.entanglements;u;){var h=31-Ae(u),v=1<<h;v&l|o[h]&l&&(o[h]|=l),u&=~v}}function Yu(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Ku(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function L1(){var o=I.p;return o!==0?o:(o=window.event,o===void 0?32:mm(o.type))}function J_(o,l){var u=I.p;try{return I.p=o,l()}finally{I.p=u}}var gi=Math.random().toString(36).slice(2),bn="__reactFiber$"+gi,jn="__reactProps$"+gi,ka="__reactContainer$"+gi,Zu="__reactEvents$"+gi,eb="__reactListeners$"+gi,tb="__reactHandles$"+gi,F1="__reactResources$"+gi,ts="__reactMarker$"+gi;function Qu(o){delete o[bn],delete o[jn],delete o[Zu],delete o[eb],delete o[tb]}function Ma(o){var l=o[bn];if(l)return l;for(var u=o.parentNode;u;){if(l=u[ka]||u[bn]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(o=nm(o);o!==null;){if(u=o[bn])return u;o=nm(o)}return l}o=u,u=o.parentNode}return null}function Pa(o){if(o=o[bn]||o[ka]){var l=o.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return o}return null}function ns(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function ja(o){var l=o[F1];return l||(l=o[F1]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function on(o){o[ts]=!0}var U1=new Set,V1={};function Qi(o,l){Ba(o,l),Ba(o+"Capture",l)}function Ba(o,l){for(V1[o]=l,o=0;o<l.length;o++)U1.add(l[o])}var nb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),z1={},H1={};function rb(o){return Le.call(H1,o)?!0:Le.call(z1,o)?!1:nb.test(o)?H1[o]=!0:(z1[o]=!0,!1)}function Fl(o,l,u){if(rb(l))if(u===null)o.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var h=l.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+u)}}function Ul(o,l,u){if(u===null)o.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+u)}}function $r(o,l,u,h){if(h===null)o.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttributeNS(l,u,""+h)}}var Ju,G1;function La(o){if(Ju===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);Ju=l&&l[1]||"",G1=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ju+o+G1}var ef=!1;function tf(o,l){if(!o||ef)return"";ef=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(l){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(Q){var K=Q}Reflect.construct(o,[],oe)}else{try{oe.call()}catch(Q){K=Q}o.call(oe.prototype)}}else{try{throw Error()}catch(Q){K=Q}(oe=o())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),A=w[0],O=w[1];if(A&&O){var j=A.split(`
`),W=O.split(`
`);for(v=h=0;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;for(;v<W.length&&!W[v].includes("DetermineComponentFrameRoot");)v++;if(h===j.length||v===W.length)for(h=j.length-1,v=W.length-1;1<=h&&0<=v&&j[h]!==W[v];)v--;for(;1<=h&&0<=v;h--,v--)if(j[h]!==W[v]){if(h!==1||v!==1)do if(h--,v--,0>v||j[h]!==W[v]){var re=`
`+j[h].replace(" at new "," at ");return o.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",o.displayName)),re}while(1<=h&&0<=v);break}}}finally{ef=!1,Error.prepareStackTrace=u}return(u=o?o.displayName||o.name:"")?La(u):""}function ib(o){switch(o.tag){case 26:case 27:case 5:return La(o.type);case 16:return La("Lazy");case 13:return La("Suspense");case 19:return La("SuspenseList");case 0:case 15:return tf(o.type,!1);case 11:return tf(o.type.render,!1);case 1:return tf(o.type,!0);case 31:return La("Activity");default:return""}}function $1(o){try{var l="";do l+=ib(o),o=o.return;while(o);return l}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Jn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function q1(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ab(o){var l=q1(o)?"checked":"value",u=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),h=""+o[l];if(!o.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,w=u.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return v.call(this)},set:function(A){h=""+A,w.call(this,A)}}),Object.defineProperty(o,l,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(A){h=""+A},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Vl(o){o._valueTracker||(o._valueTracker=ab(o))}function X1(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var u=l.getValue(),h="";return o&&(h=q1(o)?o.checked?"true":"false":o.value),o=h,o!==u?(l.setValue(o),!0):!1}function zl(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var ob=/[\n"\\]/g;function er(o){return o.replace(ob,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function nf(o,l,u,h,v,w,A,O){o.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?o.type=A:o.removeAttribute("type"),l!=null?A==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+Jn(l)):o.value!==""+Jn(l)&&(o.value=""+Jn(l)):A!=="submit"&&A!=="reset"||o.removeAttribute("value"),l!=null?rf(o,A,Jn(l)):u!=null?rf(o,A,Jn(u)):h!=null&&o.removeAttribute("value"),v==null&&w!=null&&(o.defaultChecked=!!w),v!=null&&(o.checked=v&&typeof v!="function"&&typeof v!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?o.name=""+Jn(O):o.removeAttribute("name")}function W1(o,l,u,h,v,w,A,O){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(o.type=w),l!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||l!=null))return;u=u!=null?""+Jn(u):"",l=l!=null?""+Jn(l):u,O||l===o.value||(o.value=l),o.defaultValue=l}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,o.checked=O?o.checked:!!h,o.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(o.name=A)}function rf(o,l,u){l==="number"&&zl(o.ownerDocument)===o||o.defaultValue===""+u||(o.defaultValue=""+u)}function Fa(o,l,u,h){if(o=o.options,l){l={};for(var v=0;v<u.length;v++)l["$"+u[v]]=!0;for(u=0;u<o.length;u++)v=l.hasOwnProperty("$"+o[u].value),o[u].selected!==v&&(o[u].selected=v),v&&h&&(o[u].defaultSelected=!0)}else{for(u=""+Jn(u),l=null,v=0;v<o.length;v++){if(o[v].value===u){o[v].selected=!0,h&&(o[v].defaultSelected=!0);return}l!==null||o[v].disabled||(l=o[v])}l!==null&&(l.selected=!0)}}function Y1(o,l,u){if(l!=null&&(l=""+Jn(l),l!==o.value&&(o.value=l),u==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=u!=null?""+Jn(u):""}function K1(o,l,u,h){if(l==null){if(h!=null){if(u!=null)throw Error(r(92));if(Ee(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),l=u}u=Jn(l),o.defaultValue=u,h=o.textContent,h===u&&h!==""&&h!==null&&(o.value=h)}function Ua(o,l){if(l){var u=o.firstChild;if(u&&u===o.lastChild&&u.nodeType===3){u.nodeValue=l;return}}o.textContent=l}var sb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Z1(o,l,u){var h=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":h?o.setProperty(l,u):typeof u!="number"||u===0||sb.has(l)?l==="float"?o.cssFloat=u:o[l]=(""+u).trim():o[l]=u+"px"}function Q1(o,l,u){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||l!=null&&l.hasOwnProperty(h)||(h.indexOf("--")===0?o.setProperty(h,""):h==="float"?o.cssFloat="":o[h]="");for(var v in l)h=l[v],l.hasOwnProperty(v)&&u[v]!==h&&Z1(o,v,h)}else for(var w in l)l.hasOwnProperty(w)&&Z1(o,w,l[w])}function af(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hl(o){return cb.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var of=null;function sf(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Va=null,za=null;function J1(o){var l=Pa(o);if(l&&(o=l.stateNode)){var u=o[jn]||null;e:switch(o=l.stateNode,l.type){case"input":if(nf(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=o;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+er(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var h=u[l];if(h!==o&&h.form===o.form){var v=h[jn]||null;if(!v)throw Error(r(90));nf(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<u.length;l++)h=u[l],h.form===o.form&&X1(h)}break e;case"textarea":Y1(o,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&Fa(o,!!u.multiple,l,!1)}}}var lf=!1;function ep(o,l,u){if(lf)return o(l,u);lf=!0;try{var h=o(l);return h}finally{if(lf=!1,(Va!==null||za!==null)&&(Oc(),Va&&(l=Va,o=za,za=Va=null,J1(l),o)))for(l=0;l<o.length;l++)J1(o[l])}}function rs(o,l){var u=o.stateNode;if(u===null)return null;var h=u[jn]||null;if(h===null)return null;u=h[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(o=o.type,h=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!h;break e;default:o=!1}if(o)return null;if(u&&typeof u!="function")throw Error(r(231,l,typeof u));return u}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cf=!1;if(qr)try{var is={};Object.defineProperty(is,"passive",{get:function(){cf=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{cf=!1}var vi=null,uf=null,Gl=null;function tp(){if(Gl)return Gl;var o,l=uf,u=l.length,h,v="value"in vi?vi.value:vi.textContent,w=v.length;for(o=0;o<u&&l[o]===v[o];o++);var A=u-o;for(h=1;h<=A&&l[u-h]===v[w-h];h++);return Gl=v.slice(o,1<h?1-h:void 0)}function $l(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function ql(){return!0}function np(){return!1}function Bn(o){function l(u,h,v,w,A){this._reactName=u,this._targetInst=v,this.type=h,this.nativeEvent=w,this.target=A,this.currentTarget=null;for(var O in o)o.hasOwnProperty(O)&&(u=o[O],this[O]=u?u(w):w[O]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ql:np,this.isPropagationStopped=np,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ql)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ql)},persist:function(){},isPersistent:ql}),l}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xl=Bn(Ji),as=p({},Ji,{view:0,detail:0}),ub=Bn(as),ff,df,os,Wl=p({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pf,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==os&&(os&&o.type==="mousemove"?(ff=o.screenX-os.screenX,df=o.screenY-os.screenY):df=ff=0,os=o),ff)},movementY:function(o){return"movementY"in o?o.movementY:df}}),rp=Bn(Wl),fb=p({},Wl,{dataTransfer:0}),db=Bn(fb),hb=p({},as,{relatedTarget:0}),hf=Bn(hb),pb=p({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),gb=Bn(pb),vb=p({},Ji,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),mb=Bn(vb),yb=p({},Ji,{data:0}),ip=Bn(yb),xb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_b={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bb(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=_b[o])?!!l[o]:!1}function pf(){return bb}var Eb=p({},as,{key:function(o){if(o.key){var l=xb[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=$l(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?wb[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pf,charCode:function(o){return o.type==="keypress"?$l(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?$l(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Sb=Bn(Eb),Ab=p({},Wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ap=Bn(Ab),Cb=p({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pf}),Tb=Bn(Cb),Ob=p({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rb=Bn(Ob),Db=p({},Wl,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Nb=Bn(Db),Ib=p({},Ji,{newState:0,oldState:0}),kb=Bn(Ib),Mb=[9,13,27,32],gf=qr&&"CompositionEvent"in window,ss=null;qr&&"documentMode"in document&&(ss=document.documentMode);var Pb=qr&&"TextEvent"in window&&!ss,op=qr&&(!gf||ss&&8<ss&&11>=ss),sp=" ",lp=!1;function cp(o,l){switch(o){case"keyup":return Mb.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function up(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ha=!1;function jb(o,l){switch(o){case"compositionend":return up(l);case"keypress":return l.which!==32?null:(lp=!0,sp);case"textInput":return o=l.data,o===sp&&lp?null:o;default:return null}}function Bb(o,l){if(Ha)return o==="compositionend"||!gf&&cp(o,l)?(o=tp(),Gl=uf=vi=null,Ha=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return op&&l.locale!=="ko"?null:l.data;default:return null}}var Lb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fp(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!Lb[o.type]:l==="textarea"}function dp(o,l,u,h){Va?za?za.push(h):za=[h]:Va=h,l=Mc(l,"onChange"),0<l.length&&(u=new Xl("onChange","change",null,u,h),o.push({event:u,listeners:l}))}var ls=null,cs=null;function Fb(o){qv(o,0)}function Yl(o){var l=ns(o);if(X1(l))return o}function hp(o,l){if(o==="change")return l}var pp=!1;if(qr){var vf;if(qr){var mf="oninput"in document;if(!mf){var gp=document.createElement("div");gp.setAttribute("oninput","return;"),mf=typeof gp.oninput=="function"}vf=mf}else vf=!1;pp=vf&&(!document.documentMode||9<document.documentMode)}function vp(){ls&&(ls.detachEvent("onpropertychange",mp),cs=ls=null)}function mp(o){if(o.propertyName==="value"&&Yl(cs)){var l=[];dp(l,cs,o,sf(o)),ep(Fb,l)}}function Ub(o,l,u){o==="focusin"?(vp(),ls=l,cs=u,ls.attachEvent("onpropertychange",mp)):o==="focusout"&&vp()}function Vb(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Yl(cs)}function zb(o,l){if(o==="click")return Yl(l)}function Hb(o,l){if(o==="input"||o==="change")return Yl(l)}function Gb(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var $n=typeof Object.is=="function"?Object.is:Gb;function us(o,l){if($n(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var u=Object.keys(o),h=Object.keys(l);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var v=u[h];if(!Le.call(l,v)||!$n(o[v],l[v]))return!1}return!0}function yp(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function xp(o,l){var u=yp(o);o=0;for(var h;u;){if(u.nodeType===3){if(h=o+u.textContent.length,o<=l&&h>=l)return{node:u,offset:l-o};o=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=yp(u)}}function wp(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?wp(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function _p(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=zl(o.document);l instanceof o.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)o=l.contentWindow;else break;l=zl(o.document)}return l}function yf(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var $b=qr&&"documentMode"in document&&11>=document.documentMode,Ga=null,xf=null,fs=null,wf=!1;function bp(o,l,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;wf||Ga==null||Ga!==zl(h)||(h=Ga,"selectionStart"in h&&yf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),fs&&us(fs,h)||(fs=h,h=Mc(xf,"onSelect"),0<h.length&&(l=new Xl("onSelect","select",null,l,u),o.push({event:l,listeners:h}),l.target=Ga)))}function ea(o,l){var u={};return u[o.toLowerCase()]=l.toLowerCase(),u["Webkit"+o]="webkit"+l,u["Moz"+o]="moz"+l,u}var $a={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},_f={},Ep={};qr&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function ta(o){if(_f[o])return _f[o];if(!$a[o])return o;var l=$a[o],u;for(u in l)if(l.hasOwnProperty(u)&&u in Ep)return _f[o]=l[u];return o}var Sp=ta("animationend"),Ap=ta("animationiteration"),Cp=ta("animationstart"),qb=ta("transitionrun"),Xb=ta("transitionstart"),Wb=ta("transitioncancel"),Tp=ta("transitionend"),Op=new Map,bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bf.push("scrollEnd");function vr(o,l){Op.set(o,l),Qi(l,[o])}var Rp=new WeakMap;function tr(o,l){if(typeof o=="object"&&o!==null){var u=Rp.get(o);return u!==void 0?u:(l={value:o,source:l,stack:$1(l)},Rp.set(o,l),l)}return{value:o,source:l,stack:$1(l)}}var nr=[],qa=0,Ef=0;function Kl(){for(var o=qa,l=Ef=qa=0;l<o;){var u=nr[l];nr[l++]=null;var h=nr[l];nr[l++]=null;var v=nr[l];nr[l++]=null;var w=nr[l];if(nr[l++]=null,h!==null&&v!==null){var A=h.pending;A===null?v.next=v:(v.next=A.next,A.next=v),h.pending=v}w!==0&&Dp(u,v,w)}}function Zl(o,l,u,h){nr[qa++]=o,nr[qa++]=l,nr[qa++]=u,nr[qa++]=h,Ef|=h,o.lanes|=h,o=o.alternate,o!==null&&(o.lanes|=h)}function Sf(o,l,u,h){return Zl(o,l,u,h),Ql(o)}function Xa(o,l){return Zl(o,null,null,l),Ql(o)}function Dp(o,l,u){o.lanes|=u;var h=o.alternate;h!==null&&(h.lanes|=u);for(var v=!1,w=o.return;w!==null;)w.childLanes|=u,h=w.alternate,h!==null&&(h.childLanes|=u),w.tag===22&&(o=w.stateNode,o===null||o._visibility&1||(v=!0)),o=w,w=w.return;return o.tag===3?(w=o.stateNode,v&&l!==null&&(v=31-Ae(u),o=w.hiddenUpdates,h=o[v],h===null?o[v]=[l]:h.push(l),l.lane=u|536870912),w):null}function Ql(o){if(50<js)throw js=0,Dd=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var Wa={};function Yb(o,l,u,h){this.tag=o,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(o,l,u,h){return new Yb(o,l,u,h)}function Af(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Xr(o,l){var u=o.alternate;return u===null?(u=qn(o.tag,l,o.key,o.mode),u.elementType=o.elementType,u.type=o.type,u.stateNode=o.stateNode,u.alternate=o,o.alternate=u):(u.pendingProps=l,u.type=o.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=o.flags&65011712,u.childLanes=o.childLanes,u.lanes=o.lanes,u.child=o.child,u.memoizedProps=o.memoizedProps,u.memoizedState=o.memoizedState,u.updateQueue=o.updateQueue,l=o.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=o.sibling,u.index=o.index,u.ref=o.ref,u.refCleanup=o.refCleanup,u}function Np(o,l){o.flags&=65011714;var u=o.alternate;return u===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,l=u.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function Jl(o,l,u,h,v,w){var A=0;if(h=o,typeof o=="function")Af(o)&&(A=1);else if(typeof o=="string")A=Z3(o,u,J.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case G:return o=qn(31,u,l,v),o.elementType=G,o.lanes=w,o;case _:return na(u.children,v,w,l);case E:A=8,v|=24;break;case S:return o=qn(12,u,l,v|2),o.elementType=S,o.lanes=w,o;case P:return o=qn(13,u,l,v),o.elementType=P,o.lanes=w,o;case L:return o=qn(19,u,l,v),o.elementType=L,o.lanes=w,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case b:case T:A=10;break e;case C:A=9;break e;case D:A=11;break e;case U:A=14;break e;case $:A=16,h=null;break e}A=29,u=Error(r(130,o===null?"null":typeof o,"")),h=null}return l=qn(A,u,l,v),l.elementType=o,l.type=h,l.lanes=w,l}function na(o,l,u,h){return o=qn(7,o,h,l),o.lanes=u,o}function Cf(o,l,u){return o=qn(6,o,null,l),o.lanes=u,o}function Tf(o,l,u){return l=qn(4,o.children!==null?o.children:[],o.key,l),l.lanes=u,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var Ya=[],Ka=0,ec=null,tc=0,rr=[],ir=0,ra=null,Wr=1,Yr="";function ia(o,l){Ya[Ka++]=tc,Ya[Ka++]=ec,ec=o,tc=l}function Ip(o,l,u){rr[ir++]=Wr,rr[ir++]=Yr,rr[ir++]=ra,ra=o;var h=Wr;o=Yr;var v=32-Ae(h)-1;h&=~(1<<v),u+=1;var w=32-Ae(l)+v;if(30<w){var A=v-v%5;w=(h&(1<<A)-1).toString(32),h>>=A,v-=A,Wr=1<<32-Ae(l)+v|u<<v|h,Yr=w+o}else Wr=1<<w|u<<v|h,Yr=o}function Of(o){o.return!==null&&(ia(o,1),Ip(o,1,0))}function Rf(o){for(;o===ec;)ec=Ya[--Ka],Ya[Ka]=null,tc=Ya[--Ka],Ya[Ka]=null;for(;o===ra;)ra=rr[--ir],rr[ir]=null,Yr=rr[--ir],rr[ir]=null,Wr=rr[--ir],rr[ir]=null}var Rn=null,Pt=null,rt=!1,aa=null,Or=!1,Df=Error(r(519));function oa(o){var l=Error(r(418,""));throw ps(tr(l,o)),Df}function kp(o){var l=o.stateNode,u=o.type,h=o.memoizedProps;switch(l[bn]=o,l[jn]=h,u){case"dialog":qe("cancel",l),qe("close",l);break;case"iframe":case"object":case"embed":qe("load",l);break;case"video":case"audio":for(u=0;u<Ls.length;u++)qe(Ls[u],l);break;case"source":qe("error",l);break;case"img":case"image":case"link":qe("error",l),qe("load",l);break;case"details":qe("toggle",l);break;case"input":qe("invalid",l),W1(l,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Vl(l);break;case"select":qe("invalid",l);break;case"textarea":qe("invalid",l),K1(l,h.value,h.defaultValue,h.children),Vl(l)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||h.suppressHydrationWarning===!0||Kv(l.textContent,u)?(h.popover!=null&&(qe("beforetoggle",l),qe("toggle",l)),h.onScroll!=null&&qe("scroll",l),h.onScrollEnd!=null&&qe("scrollend",l),h.onClick!=null&&(l.onclick=Pc),l=!0):l=!1,l||oa(o)}function Mp(o){for(Rn=o.return;Rn;)switch(Rn.tag){case 5:case 13:Or=!1;return;case 27:case 3:Or=!0;return;default:Rn=Rn.return}}function ds(o){if(o!==Rn)return!1;if(!rt)return Mp(o),rt=!0,!1;var l=o.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=o.type,u=!(u!=="form"&&u!=="button")||qd(o.type,o.memoizedProps)),u=!u),u&&Pt&&oa(o),Mp(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8)if(u=o.data,u==="/$"){if(l===0){Pt=yr(o.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++;o=o.nextSibling}Pt=null}}else l===27?(l=Pt,Ii(o.type)?(o=Kd,Kd=null,Pt=o):Pt=l):Pt=Rn?yr(o.stateNode.nextSibling):null;return!0}function hs(){Pt=Rn=null,rt=!1}function Pp(){var o=aa;return o!==null&&(Un===null?Un=o:Un.push.apply(Un,o),aa=null),o}function ps(o){aa===null?aa=[o]:aa.push(o)}var Nf=F(null),sa=null,Kr=null;function mi(o,l,u){Z(Nf,l._currentValue),l._currentValue=u}function Zr(o){o._currentValue=Nf.current,z(Nf)}function If(o,l,u){for(;o!==null;){var h=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,h!==null&&(h.childLanes|=l)):h!==null&&(h.childLanes&l)!==l&&(h.childLanes|=l),o===u)break;o=o.return}}function kf(o,l,u,h){var v=o.child;for(v!==null&&(v.return=o);v!==null;){var w=v.dependencies;if(w!==null){var A=v.child;w=w.firstContext;e:for(;w!==null;){var O=w;w=v;for(var j=0;j<l.length;j++)if(O.context===l[j]){w.lanes|=u,O=w.alternate,O!==null&&(O.lanes|=u),If(w.return,u,o),h||(A=null);break e}w=O.next}}else if(v.tag===18){if(A=v.return,A===null)throw Error(r(341));A.lanes|=u,w=A.alternate,w!==null&&(w.lanes|=u),If(A,u,o),A=null}else A=v.child;if(A!==null)A.return=v;else for(A=v;A!==null;){if(A===o){A=null;break}if(v=A.sibling,v!==null){v.return=A.return,A=v;break}A=A.return}v=A}}function gs(o,l,u,h){o=null;for(var v=l,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var A=v.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var O=v.type;$n(v.pendingProps.value,A.value)||(o!==null?o.push(O):o=[O])}}else if(v===ye.current){if(A=v.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(o!==null?o.push(Gs):o=[Gs])}v=v.return}o!==null&&kf(l,o,u,h),l.flags|=262144}function nc(o){for(o=o.firstContext;o!==null;){if(!$n(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function la(o){sa=o,Kr=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function En(o){return jp(sa,o)}function rc(o,l){return sa===null&&la(o),jp(o,l)}function jp(o,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},Kr===null){if(o===null)throw Error(r(308));Kr=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else Kr=Kr.next=l;return u}var Kb=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(u,h){o.push(h)}};this.abort=function(){l.aborted=!0,o.forEach(function(u){return u()})}},Zb=n.unstable_scheduleCallback,Qb=n.unstable_NormalPriority,Wt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mf(){return{controller:new Kb,data:new Map,refCount:0}}function vs(o){o.refCount--,o.refCount===0&&Zb(Qb,function(){o.controller.abort()})}var ms=null,Pf=0,Za=0,Qa=null;function Jb(o,l){if(ms===null){var u=ms=[];Pf=0,Za=Bd(),Qa={status:"pending",value:void 0,then:function(h){u.push(h)}}}return Pf++,l.then(Bp,Bp),l}function Bp(){if(--Pf===0&&ms!==null){Qa!==null&&(Qa.status="fulfilled");var o=ms;ms=null,Za=0,Qa=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function e3(o,l){var u=[],h={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return o.then(function(){h.status="fulfilled",h.value=l;for(var v=0;v<u.length;v++)(0,u[v])(l)},function(v){for(h.status="rejected",h.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),h}var Lp=k.S;k.S=function(o,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&Jb(o,l),Lp!==null&&Lp(o,l)};var ca=F(null);function jf(){var o=ca.current;return o!==null?o:wt.pooledCache}function ic(o,l){l===null?Z(ca,ca.current):Z(ca,l.pool)}function Fp(){var o=jf();return o===null?null:{parent:Wt._currentValue,pool:o}}var ys=Error(r(460)),Up=Error(r(474)),ac=Error(r(542)),Bf={then:function(){}};function Vp(o){return o=o.status,o==="fulfilled"||o==="rejected"}function oc(){}function zp(o,l,u){switch(u=o[u],u===void 0?o.push(l):u!==l&&(l.then(oc,oc),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,Gp(o),o;default:if(typeof l.status=="string")l.then(oc,oc);else{if(o=wt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(h){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=h}},function(h){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=h}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,Gp(o),o}throw xs=l,ys}}var xs=null;function Hp(){if(xs===null)throw Error(r(459));var o=xs;return xs=null,o}function Gp(o){if(o===ys||o===ac)throw Error(r(483))}var yi=!1;function Lf(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ff(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function xi(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function wi(o,l,u){var h=o.updateQueue;if(h===null)return null;if(h=h.shared,(ut&2)!==0){var v=h.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),h.pending=l,l=Ql(o),Dp(o,null,u),l}return Zl(o,h,l,u),Ql(o)}function ws(o,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var h=l.lanes;h&=o.pendingLanes,u|=h,l.lanes=u,B1(o,u)}}function Uf(o,l){var u=o.updateQueue,h=o.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var v=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?v=w=A:w=w.next=A,u=u.next}while(u!==null);w===null?v=w=l:w=w.next=l}else v=w=l;u={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},o.updateQueue=u;return}o=u.lastBaseUpdate,o===null?u.firstBaseUpdate=l:o.next=l,u.lastBaseUpdate=l}var Vf=!1;function _s(){if(Vf){var o=Qa;if(o!==null)throw o}}function bs(o,l,u,h){Vf=!1;var v=o.updateQueue;yi=!1;var w=v.firstBaseUpdate,A=v.lastBaseUpdate,O=v.shared.pending;if(O!==null){v.shared.pending=null;var j=O,W=j.next;j.next=null,A===null?w=W:A.next=W,A=j;var re=o.alternate;re!==null&&(re=re.updateQueue,O=re.lastBaseUpdate,O!==A&&(O===null?re.firstBaseUpdate=W:O.next=W,re.lastBaseUpdate=j))}if(w!==null){var oe=v.baseState;A=0,re=W=j=null,O=w;do{var K=O.lane&-536870913,Q=K!==O.lane;if(Q?(Ye&K)===K:(h&K)===K){K!==0&&K===Za&&(Vf=!0),re!==null&&(re=re.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var ke=o,De=O;K=l;var vt=u;switch(De.tag){case 1:if(ke=De.payload,typeof ke=="function"){oe=ke.call(vt,oe,K);break e}oe=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=De.payload,K=typeof ke=="function"?ke.call(vt,oe,K):ke,K==null)break e;oe=p({},oe,K);break e;case 2:yi=!0}}K=O.callback,K!==null&&(o.flags|=64,Q&&(o.flags|=8192),Q=v.callbacks,Q===null?v.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:O.tag,payload:O.payload,callback:O.callback,next:null},re===null?(W=re=Q,j=oe):re=re.next=Q,A|=K;if(O=O.next,O===null){if(O=v.shared.pending,O===null)break;Q=O,O=Q.next,Q.next=null,v.lastBaseUpdate=Q,v.shared.pending=null}}while(!0);re===null&&(j=oe),v.baseState=j,v.firstBaseUpdate=W,v.lastBaseUpdate=re,w===null&&(v.shared.lanes=0),Oi|=A,o.lanes=A,o.memoizedState=oe}}function $p(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function qp(o,l){var u=o.callbacks;if(u!==null)for(o.callbacks=null,o=0;o<u.length;o++)$p(u[o],l)}var Ja=F(null),sc=F(0);function Xp(o,l){o=ii,Z(sc,o),Z(Ja,l),ii=o|l.baseLanes}function zf(){Z(sc,ii),Z(Ja,Ja.current)}function Hf(){ii=sc.current,z(Ja),z(sc)}var _i=0,Ve=null,pt=null,zt=null,lc=!1,eo=!1,ua=!1,cc=0,Es=0,to=null,t3=0;function Lt(){throw Error(r(321))}function Gf(o,l){if(l===null)return!1;for(var u=0;u<l.length&&u<o.length;u++)if(!$n(o[u],l[u]))return!1;return!0}function $f(o,l,u,h,v,w){return _i=w,Ve=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,k.H=o===null||o.memoizedState===null?Dg:Ng,ua=!1,w=u(h,v),ua=!1,eo&&(w=Yp(l,u,h,v)),Wp(o),w}function Wp(o){k.H=gc;var l=pt!==null&&pt.next!==null;if(_i=0,zt=pt=Ve=null,lc=!1,Es=0,to=null,l)throw Error(r(300));o===null||sn||(o=o.dependencies,o!==null&&nc(o)&&(sn=!0))}function Yp(o,l,u,h){Ve=o;var v=0;do{if(eo&&(to=null),Es=0,eo=!1,25<=v)throw Error(r(301));if(v+=1,zt=pt=null,o.updateQueue!=null){var w=o.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}k.H=l3,w=l(u,h)}while(eo);return w}function n3(){var o=k.H,l=o.useState()[0];return l=typeof l.then=="function"?Ss(l):l,o=o.useState()[0],(pt!==null?pt.memoizedState:null)!==o&&(Ve.flags|=1024),l}function qf(){var o=cc!==0;return cc=0,o}function Xf(o,l,u){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~u}function Wf(o){if(lc){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}lc=!1}_i=0,zt=pt=Ve=null,eo=!1,Es=cc=0,to=null}function Ln(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Ve.memoizedState=zt=o:zt=zt.next=o,zt}function Ht(){if(pt===null){var o=Ve.alternate;o=o!==null?o.memoizedState:null}else o=pt.next;var l=zt===null?Ve.memoizedState:zt.next;if(l!==null)zt=l,pt=o;else{if(o===null)throw Ve.alternate===null?Error(r(467)):Error(r(310));pt=o,o={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},zt===null?Ve.memoizedState=zt=o:zt=zt.next=o}return zt}function Yf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ss(o){var l=Es;return Es+=1,to===null&&(to=[]),o=zp(to,o,l),l=Ve,(zt===null?l.memoizedState:zt.next)===null&&(l=l.alternate,k.H=l===null||l.memoizedState===null?Dg:Ng),o}function uc(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Ss(o);if(o.$$typeof===T)return En(o)}throw Error(r(438,String(o)))}function Kf(o){var l=null,u=Ve.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var h=Ve.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(l={data:h.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=Yf(),Ve.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(o),h=0;h<o;h++)u[h]=te;return l.index++,u}function Qr(o,l){return typeof l=="function"?l(o):l}function fc(o){var l=Ht();return Zf(l,pt,o)}function Zf(o,l,u){var h=o.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var v=o.baseQueue,w=h.pending;if(w!==null){if(v!==null){var A=v.next;v.next=w.next,w.next=A}l.baseQueue=v=w,h.pending=null}if(w=o.baseState,v===null)o.memoizedState=w;else{l=v.next;var O=A=null,j=null,W=l,re=!1;do{var oe=W.lane&-536870913;if(oe!==W.lane?(Ye&oe)===oe:(_i&oe)===oe){var K=W.revertLane;if(K===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),oe===Za&&(re=!0);else if((_i&K)===K){W=W.next,K===Za&&(re=!0);continue}else oe={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},j===null?(O=j=oe,A=w):j=j.next=oe,Ve.lanes|=K,Oi|=K;oe=W.action,ua&&u(w,oe),w=W.hasEagerState?W.eagerState:u(w,oe)}else K={lane:oe,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},j===null?(O=j=K,A=w):j=j.next=K,Ve.lanes|=oe,Oi|=oe;W=W.next}while(W!==null&&W!==l);if(j===null?A=w:j.next=O,!$n(w,o.memoizedState)&&(sn=!0,re&&(u=Qa,u!==null)))throw u;o.memoizedState=w,o.baseState=A,o.baseQueue=j,h.lastRenderedState=w}return v===null&&(h.lanes=0),[o.memoizedState,h.dispatch]}function Qf(o){var l=Ht(),u=l.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var h=u.dispatch,v=u.pending,w=l.memoizedState;if(v!==null){u.pending=null;var A=v=v.next;do w=o(w,A.action),A=A.next;while(A!==v);$n(w,l.memoizedState)||(sn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),u.lastRenderedState=w}return[w,h]}function Kp(o,l,u){var h=Ve,v=Ht(),w=rt;if(w){if(u===void 0)throw Error(r(407));u=u()}else u=l();var A=!$n((pt||v).memoizedState,u);A&&(v.memoizedState=u,sn=!0),v=v.queue;var O=Jp.bind(null,h,v,o);if(As(2048,8,O,[o]),v.getSnapshot!==l||A||zt!==null&&zt.memoizedState.tag&1){if(h.flags|=2048,no(9,dc(),Qp.bind(null,h,v,u,l),null),wt===null)throw Error(r(349));w||(_i&124)!==0||Zp(h,l,u)}return u}function Zp(o,l,u){o.flags|=16384,o={getSnapshot:l,value:u},l=Ve.updateQueue,l===null?(l=Yf(),Ve.updateQueue=l,l.stores=[o]):(u=l.stores,u===null?l.stores=[o]:u.push(o))}function Qp(o,l,u,h){l.value=u,l.getSnapshot=h,eg(l)&&tg(o)}function Jp(o,l,u){return u(function(){eg(l)&&tg(o)})}function eg(o){var l=o.getSnapshot;o=o.value;try{var u=l();return!$n(o,u)}catch{return!0}}function tg(o){var l=Xa(o,2);l!==null&&Zn(l,o,2)}function Jf(o){var l=Ln();if(typeof o=="function"){var u=o;if(o=u(),ua){At(!0);try{u()}finally{At(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:o},l}function ng(o,l,u,h){return o.baseState=u,Zf(o,pt,typeof h=="function"?h:Qr)}function r3(o,l,u,h,v){if(pc(o))throw Error(r(485));if(o=l.action,o!==null){var w={payload:v,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){w.listeners.push(A)}};k.T!==null?u(!0):w.isTransition=!1,h(w),u=l.pending,u===null?(w.next=l.pending=w,rg(l,w)):(w.next=u.next,l.pending=u.next=w)}}function rg(o,l){var u=l.action,h=l.payload,v=o.state;if(l.isTransition){var w=k.T,A={};k.T=A;try{var O=u(v,h),j=k.S;j!==null&&j(A,O),ig(o,l,O)}catch(W){ed(o,l,W)}finally{k.T=w}}else try{w=u(v,h),ig(o,l,w)}catch(W){ed(o,l,W)}}function ig(o,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){ag(o,l,h)},function(h){return ed(o,l,h)}):ag(o,l,u)}function ag(o,l,u){l.status="fulfilled",l.value=u,og(l),o.state=u,l=o.pending,l!==null&&(u=l.next,u===l?o.pending=null:(u=u.next,l.next=u,rg(o,u)))}function ed(o,l,u){var h=o.pending;if(o.pending=null,h!==null){h=h.next;do l.status="rejected",l.reason=u,og(l),l=l.next;while(l!==h)}o.action=null}function og(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function sg(o,l){return l}function lg(o,l){if(rt){var u=wt.formState;if(u!==null){e:{var h=Ve;if(rt){if(Pt){t:{for(var v=Pt,w=Or;v.nodeType!==8;){if(!w){v=null;break t}if(v=yr(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){Pt=yr(v.nextSibling),h=v.data==="F!";break e}}oa(h)}h=!1}h&&(l=u[0])}}return u=Ln(),u.memoizedState=u.baseState=l,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sg,lastRenderedState:l},u.queue=h,u=Tg.bind(null,Ve,h),h.dispatch=u,h=Jf(!1),w=ad.bind(null,Ve,!1,h.queue),h=Ln(),v={state:l,dispatch:null,action:o,pending:null},h.queue=v,u=r3.bind(null,Ve,v,w,u),v.dispatch=u,h.memoizedState=o,[l,u,!1]}function cg(o){var l=Ht();return ug(l,pt,o)}function ug(o,l,u){if(l=Zf(o,l,sg)[0],o=fc(Qr)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var h=Ss(l)}catch(A){throw A===ys?ac:A}else h=l;l=Ht();var v=l.queue,w=v.dispatch;return u!==l.memoizedState&&(Ve.flags|=2048,no(9,dc(),i3.bind(null,v,u),null)),[h,w,o]}function i3(o,l){o.action=l}function fg(o){var l=Ht(),u=pt;if(u!==null)return ug(l,u,o);Ht(),l=l.memoizedState,u=Ht();var h=u.queue.dispatch;return u.memoizedState=o,[l,h,!1]}function no(o,l,u,h){return o={tag:o,create:u,deps:h,inst:l,next:null},l=Ve.updateQueue,l===null&&(l=Yf(),Ve.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=o.next=o:(h=u.next,u.next=o,o.next=h,l.lastEffect=o),o}function dc(){return{destroy:void 0,resource:void 0}}function dg(){return Ht().memoizedState}function hc(o,l,u,h){var v=Ln();h=h===void 0?null:h,Ve.flags|=o,v.memoizedState=no(1|l,dc(),u,h)}function As(o,l,u,h){var v=Ht();h=h===void 0?null:h;var w=v.memoizedState.inst;pt!==null&&h!==null&&Gf(h,pt.memoizedState.deps)?v.memoizedState=no(l,w,u,h):(Ve.flags|=o,v.memoizedState=no(1|l,w,u,h))}function hg(o,l){hc(8390656,8,o,l)}function pg(o,l){As(2048,8,o,l)}function gg(o,l){return As(4,2,o,l)}function vg(o,l){return As(4,4,o,l)}function mg(o,l){if(typeof l=="function"){o=o();var u=l(o);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function yg(o,l,u){u=u!=null?u.concat([o]):null,As(4,4,mg.bind(null,l,o),u)}function td(){}function xg(o,l){var u=Ht();l=l===void 0?null:l;var h=u.memoizedState;return l!==null&&Gf(l,h[1])?h[0]:(u.memoizedState=[o,l],o)}function wg(o,l){var u=Ht();l=l===void 0?null:l;var h=u.memoizedState;if(l!==null&&Gf(l,h[1]))return h[0];if(h=o(),ua){At(!0);try{o()}finally{At(!1)}}return u.memoizedState=[h,l],h}function nd(o,l,u){return u===void 0||(_i&1073741824)!==0?o.memoizedState=l:(o.memoizedState=u,o=Ev(),Ve.lanes|=o,Oi|=o,u)}function _g(o,l,u,h){return $n(u,l)?u:Ja.current!==null?(o=nd(o,u,h),$n(o,l)||(sn=!0),o):(_i&42)===0?(sn=!0,o.memoizedState=u):(o=Ev(),Ve.lanes|=o,Oi|=o,l)}function bg(o,l,u,h,v){var w=I.p;I.p=w!==0&&8>w?w:8;var A=k.T,O={};k.T=O,ad(o,!1,l,u);try{var j=v(),W=k.S;if(W!==null&&W(O,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var re=e3(j,h);Cs(o,l,re,Kn(o))}else Cs(o,l,h,Kn(o))}catch(oe){Cs(o,l,{then:function(){},status:"rejected",reason:oe},Kn())}finally{I.p=w,k.T=A}}function a3(){}function rd(o,l,u,h){if(o.tag!==5)throw Error(r(476));var v=Eg(o).queue;bg(o,v,l,B,u===null?a3:function(){return Sg(o),u(h)})}function Eg(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:B},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:u},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function Sg(o){var l=Eg(o).next.queue;Cs(o,l,{},Kn())}function id(){return En(Gs)}function Ag(){return Ht().memoizedState}function Cg(){return Ht().memoizedState}function o3(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var u=Kn();o=xi(u);var h=wi(l,o,u);h!==null&&(Zn(h,l,u),ws(h,l,u)),l={cache:Mf()},o.payload=l;return}l=l.return}}function s3(o,l,u){var h=Kn();u={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},pc(o)?Og(l,u):(u=Sf(o,l,u,h),u!==null&&(Zn(u,o,h),Rg(u,l,h)))}function Tg(o,l,u){var h=Kn();Cs(o,l,u,h)}function Cs(o,l,u,h){var v={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(pc(o))Og(l,v);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var A=l.lastRenderedState,O=w(A,u);if(v.hasEagerState=!0,v.eagerState=O,$n(O,A))return Zl(o,l,v,0),wt===null&&Kl(),!1}catch{}finally{}if(u=Sf(o,l,v,h),u!==null)return Zn(u,o,h),Rg(u,l,h),!0}return!1}function ad(o,l,u,h){if(h={lane:2,revertLane:Bd(),action:h,hasEagerState:!1,eagerState:null,next:null},pc(o)){if(l)throw Error(r(479))}else l=Sf(o,u,h,2),l!==null&&Zn(l,o,2)}function pc(o){var l=o.alternate;return o===Ve||l!==null&&l===Ve}function Og(o,l){eo=lc=!0;var u=o.pending;u===null?l.next=l:(l.next=u.next,u.next=l),o.pending=l}function Rg(o,l,u){if((u&4194048)!==0){var h=l.lanes;h&=o.pendingLanes,u|=h,l.lanes=u,B1(o,u)}}var gc={readContext:En,use:uc,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt},Dg={readContext:En,use:uc,useCallback:function(o,l){return Ln().memoizedState=[o,l===void 0?null:l],o},useContext:En,useEffect:hg,useImperativeHandle:function(o,l,u){u=u!=null?u.concat([o]):null,hc(4194308,4,mg.bind(null,l,o),u)},useLayoutEffect:function(o,l){return hc(4194308,4,o,l)},useInsertionEffect:function(o,l){hc(4,2,o,l)},useMemo:function(o,l){var u=Ln();l=l===void 0?null:l;var h=o();if(ua){At(!0);try{o()}finally{At(!1)}}return u.memoizedState=[h,l],h},useReducer:function(o,l,u){var h=Ln();if(u!==void 0){var v=u(l);if(ua){At(!0);try{u(l)}finally{At(!1)}}}else v=l;return h.memoizedState=h.baseState=v,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:v},h.queue=o,o=o.dispatch=s3.bind(null,Ve,o),[h.memoizedState,o]},useRef:function(o){var l=Ln();return o={current:o},l.memoizedState=o},useState:function(o){o=Jf(o);var l=o.queue,u=Tg.bind(null,Ve,l);return l.dispatch=u,[o.memoizedState,u]},useDebugValue:td,useDeferredValue:function(o,l){var u=Ln();return nd(u,o,l)},useTransition:function(){var o=Jf(!1);return o=bg.bind(null,Ve,o.queue,!0,!1),Ln().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,u){var h=Ve,v=Ln();if(rt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=l(),wt===null)throw Error(r(349));(Ye&124)!==0||Zp(h,l,u)}v.memoizedState=u;var w={value:u,getSnapshot:l};return v.queue=w,hg(Jp.bind(null,h,w,o),[o]),h.flags|=2048,no(9,dc(),Qp.bind(null,h,w,u,l),null),u},useId:function(){var o=Ln(),l=wt.identifierPrefix;if(rt){var u=Yr,h=Wr;u=(h&~(1<<32-Ae(h)-1)).toString(32)+u,l="«"+l+"R"+u,u=cc++,0<u&&(l+="H"+u.toString(32)),l+="»"}else u=t3++,l="«"+l+"r"+u.toString(32)+"»";return o.memoizedState=l},useHostTransitionStatus:id,useFormState:lg,useActionState:lg,useOptimistic:function(o){var l=Ln();l.memoizedState=l.baseState=o;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=ad.bind(null,Ve,!0,u),u.dispatch=l,[o,l]},useMemoCache:Kf,useCacheRefresh:function(){return Ln().memoizedState=o3.bind(null,Ve)}},Ng={readContext:En,use:uc,useCallback:xg,useContext:En,useEffect:pg,useImperativeHandle:yg,useInsertionEffect:gg,useLayoutEffect:vg,useMemo:wg,useReducer:fc,useRef:dg,useState:function(){return fc(Qr)},useDebugValue:td,useDeferredValue:function(o,l){var u=Ht();return _g(u,pt.memoizedState,o,l)},useTransition:function(){var o=fc(Qr)[0],l=Ht().memoizedState;return[typeof o=="boolean"?o:Ss(o),l]},useSyncExternalStore:Kp,useId:Ag,useHostTransitionStatus:id,useFormState:cg,useActionState:cg,useOptimistic:function(o,l){var u=Ht();return ng(u,pt,o,l)},useMemoCache:Kf,useCacheRefresh:Cg},l3={readContext:En,use:uc,useCallback:xg,useContext:En,useEffect:pg,useImperativeHandle:yg,useInsertionEffect:gg,useLayoutEffect:vg,useMemo:wg,useReducer:Qf,useRef:dg,useState:function(){return Qf(Qr)},useDebugValue:td,useDeferredValue:function(o,l){var u=Ht();return pt===null?nd(u,o,l):_g(u,pt.memoizedState,o,l)},useTransition:function(){var o=Qf(Qr)[0],l=Ht().memoizedState;return[typeof o=="boolean"?o:Ss(o),l]},useSyncExternalStore:Kp,useId:Ag,useHostTransitionStatus:id,useFormState:fg,useActionState:fg,useOptimistic:function(o,l){var u=Ht();return pt!==null?ng(u,pt,o,l):(u.baseState=o,[o,u.queue.dispatch])},useMemoCache:Kf,useCacheRefresh:Cg},ro=null,Ts=0;function vc(o){var l=Ts;return Ts+=1,ro===null&&(ro=[]),zp(ro,o,l)}function Os(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function mc(o,l){throw l.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function Ig(o){var l=o._init;return l(o._payload)}function kg(o){function l(H,V){if(o){var X=H.deletions;X===null?(H.deletions=[V],H.flags|=16):X.push(V)}}function u(H,V){if(!o)return null;for(;V!==null;)l(H,V),V=V.sibling;return null}function h(H){for(var V=new Map;H!==null;)H.key!==null?V.set(H.key,H):V.set(H.index,H),H=H.sibling;return V}function v(H,V){return H=Xr(H,V),H.index=0,H.sibling=null,H}function w(H,V,X){return H.index=X,o?(X=H.alternate,X!==null?(X=X.index,X<V?(H.flags|=67108866,V):X):(H.flags|=67108866,V)):(H.flags|=1048576,V)}function A(H){return o&&H.alternate===null&&(H.flags|=67108866),H}function O(H,V,X,ie){return V===null||V.tag!==6?(V=Cf(X,H.mode,ie),V.return=H,V):(V=v(V,X),V.return=H,V)}function j(H,V,X,ie){var xe=X.type;return xe===_?re(H,V,X.props.children,ie,X.key):V!==null&&(V.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===$&&Ig(xe)===V.type)?(V=v(V,X.props),Os(V,X),V.return=H,V):(V=Jl(X.type,X.key,X.props,null,H.mode,ie),Os(V,X),V.return=H,V)}function W(H,V,X,ie){return V===null||V.tag!==4||V.stateNode.containerInfo!==X.containerInfo||V.stateNode.implementation!==X.implementation?(V=Tf(X,H.mode,ie),V.return=H,V):(V=v(V,X.children||[]),V.return=H,V)}function re(H,V,X,ie,xe){return V===null||V.tag!==7?(V=na(X,H.mode,ie,xe),V.return=H,V):(V=v(V,X),V.return=H,V)}function oe(H,V,X){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Cf(""+V,H.mode,X),V.return=H,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case y:return X=Jl(V.type,V.key,V.props,null,H.mode,X),Os(X,V),X.return=H,X;case x:return V=Tf(V,H.mode,X),V.return=H,V;case $:var ie=V._init;return V=ie(V._payload),oe(H,V,X)}if(Ee(V)||le(V))return V=na(V,H.mode,X,null),V.return=H,V;if(typeof V.then=="function")return oe(H,vc(V),X);if(V.$$typeof===T)return oe(H,rc(H,V),X);mc(H,V)}return null}function K(H,V,X,ie){var xe=V!==null?V.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return xe!==null?null:O(H,V,""+X,ie);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case y:return X.key===xe?j(H,V,X,ie):null;case x:return X.key===xe?W(H,V,X,ie):null;case $:return xe=X._init,X=xe(X._payload),K(H,V,X,ie)}if(Ee(X)||le(X))return xe!==null?null:re(H,V,X,ie,null);if(typeof X.then=="function")return K(H,V,vc(X),ie);if(X.$$typeof===T)return K(H,V,rc(H,X),ie);mc(H,X)}return null}function Q(H,V,X,ie,xe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return H=H.get(X)||null,O(V,H,""+ie,xe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case y:return H=H.get(ie.key===null?X:ie.key)||null,j(V,H,ie,xe);case x:return H=H.get(ie.key===null?X:ie.key)||null,W(V,H,ie,xe);case $:var He=ie._init;return ie=He(ie._payload),Q(H,V,X,ie,xe)}if(Ee(ie)||le(ie))return H=H.get(X)||null,re(V,H,ie,xe,null);if(typeof ie.then=="function")return Q(H,V,X,vc(ie),xe);if(ie.$$typeof===T)return Q(H,V,X,rc(V,ie),xe);mc(V,ie)}return null}function ke(H,V,X,ie){for(var xe=null,He=null,Se=V,Ne=V=0,cn=null;Se!==null&&Ne<X.length;Ne++){Se.index>Ne?(cn=Se,Se=null):cn=Se.sibling;var tt=K(H,Se,X[Ne],ie);if(tt===null){Se===null&&(Se=cn);break}o&&Se&&tt.alternate===null&&l(H,Se),V=w(tt,V,Ne),He===null?xe=tt:He.sibling=tt,He=tt,Se=cn}if(Ne===X.length)return u(H,Se),rt&&ia(H,Ne),xe;if(Se===null){for(;Ne<X.length;Ne++)Se=oe(H,X[Ne],ie),Se!==null&&(V=w(Se,V,Ne),He===null?xe=Se:He.sibling=Se,He=Se);return rt&&ia(H,Ne),xe}for(Se=h(Se);Ne<X.length;Ne++)cn=Q(Se,H,Ne,X[Ne],ie),cn!==null&&(o&&cn.alternate!==null&&Se.delete(cn.key===null?Ne:cn.key),V=w(cn,V,Ne),He===null?xe=cn:He.sibling=cn,He=cn);return o&&Se.forEach(function(Bi){return l(H,Bi)}),rt&&ia(H,Ne),xe}function De(H,V,X,ie){if(X==null)throw Error(r(151));for(var xe=null,He=null,Se=V,Ne=V=0,cn=null,tt=X.next();Se!==null&&!tt.done;Ne++,tt=X.next()){Se.index>Ne?(cn=Se,Se=null):cn=Se.sibling;var Bi=K(H,Se,tt.value,ie);if(Bi===null){Se===null&&(Se=cn);break}o&&Se&&Bi.alternate===null&&l(H,Se),V=w(Bi,V,Ne),He===null?xe=Bi:He.sibling=Bi,He=Bi,Se=cn}if(tt.done)return u(H,Se),rt&&ia(H,Ne),xe;if(Se===null){for(;!tt.done;Ne++,tt=X.next())tt=oe(H,tt.value,ie),tt!==null&&(V=w(tt,V,Ne),He===null?xe=tt:He.sibling=tt,He=tt);return rt&&ia(H,Ne),xe}for(Se=h(Se);!tt.done;Ne++,tt=X.next())tt=Q(Se,H,Ne,tt.value,ie),tt!==null&&(o&&tt.alternate!==null&&Se.delete(tt.key===null?Ne:tt.key),V=w(tt,V,Ne),He===null?xe=tt:He.sibling=tt,He=tt);return o&&Se.forEach(function(cE){return l(H,cE)}),rt&&ia(H,Ne),xe}function vt(H,V,X,ie){if(typeof X=="object"&&X!==null&&X.type===_&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case y:e:{for(var xe=X.key;V!==null;){if(V.key===xe){if(xe=X.type,xe===_){if(V.tag===7){u(H,V.sibling),ie=v(V,X.props.children),ie.return=H,H=ie;break e}}else if(V.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===$&&Ig(xe)===V.type){u(H,V.sibling),ie=v(V,X.props),Os(ie,X),ie.return=H,H=ie;break e}u(H,V);break}else l(H,V);V=V.sibling}X.type===_?(ie=na(X.props.children,H.mode,ie,X.key),ie.return=H,H=ie):(ie=Jl(X.type,X.key,X.props,null,H.mode,ie),Os(ie,X),ie.return=H,H=ie)}return A(H);case x:e:{for(xe=X.key;V!==null;){if(V.key===xe)if(V.tag===4&&V.stateNode.containerInfo===X.containerInfo&&V.stateNode.implementation===X.implementation){u(H,V.sibling),ie=v(V,X.children||[]),ie.return=H,H=ie;break e}else{u(H,V);break}else l(H,V);V=V.sibling}ie=Tf(X,H.mode,ie),ie.return=H,H=ie}return A(H);case $:return xe=X._init,X=xe(X._payload),vt(H,V,X,ie)}if(Ee(X))return ke(H,V,X,ie);if(le(X)){if(xe=le(X),typeof xe!="function")throw Error(r(150));return X=xe.call(X),De(H,V,X,ie)}if(typeof X.then=="function")return vt(H,V,vc(X),ie);if(X.$$typeof===T)return vt(H,V,rc(H,X),ie);mc(H,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,V!==null&&V.tag===6?(u(H,V.sibling),ie=v(V,X),ie.return=H,H=ie):(u(H,V),ie=Cf(X,H.mode,ie),ie.return=H,H=ie),A(H)):u(H,V)}return function(H,V,X,ie){try{Ts=0;var xe=vt(H,V,X,ie);return ro=null,xe}catch(Se){if(Se===ys||Se===ac)throw Se;var He=qn(29,Se,null,H.mode);return He.lanes=ie,He.return=H,He}finally{}}}var io=kg(!0),Mg=kg(!1),ar=F(null),Rr=null;function bi(o){var l=o.alternate;Z(Yt,Yt.current&1),Z(ar,o),Rr===null&&(l===null||Ja.current!==null||l.memoizedState!==null)&&(Rr=o)}function Pg(o){if(o.tag===22){if(Z(Yt,Yt.current),Z(ar,o),Rr===null){var l=o.alternate;l!==null&&l.memoizedState!==null&&(Rr=o)}}else Ei()}function Ei(){Z(Yt,Yt.current),Z(ar,ar.current)}function Jr(o){z(ar),Rr===o&&(Rr=null),z(Yt)}var Yt=F(0);function yc(o){for(var l=o;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Yd(u)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function od(o,l,u,h){l=o.memoizedState,u=u(h,l),u=u==null?l:p({},l,u),o.memoizedState=u,o.lanes===0&&(o.updateQueue.baseState=u)}var sd={enqueueSetState:function(o,l,u){o=o._reactInternals;var h=Kn(),v=xi(h);v.payload=l,u!=null&&(v.callback=u),l=wi(o,v,h),l!==null&&(Zn(l,o,h),ws(l,o,h))},enqueueReplaceState:function(o,l,u){o=o._reactInternals;var h=Kn(),v=xi(h);v.tag=1,v.payload=l,u!=null&&(v.callback=u),l=wi(o,v,h),l!==null&&(Zn(l,o,h),ws(l,o,h))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var u=Kn(),h=xi(u);h.tag=2,l!=null&&(h.callback=l),l=wi(o,h,u),l!==null&&(Zn(l,o,u),ws(l,o,u))}};function jg(o,l,u,h,v,w,A){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(h,w,A):l.prototype&&l.prototype.isPureReactComponent?!us(u,h)||!us(v,w):!0}function Bg(o,l,u,h){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,h),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,h),l.state!==o&&sd.enqueueReplaceState(l,l.state,null)}function fa(o,l){var u=l;if("ref"in l){u={};for(var h in l)h!=="ref"&&(u[h]=l[h])}if(o=o.defaultProps){u===l&&(u=p({},u));for(var v in o)u[v]===void 0&&(u[v]=o[v])}return u}var xc=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function Lg(o){xc(o)}function Fg(o){console.error(o)}function Ug(o){xc(o)}function wc(o,l){try{var u=o.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(h){setTimeout(function(){throw h})}}function Vg(o,l,u){try{var h=o.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function ld(o,l,u){return u=xi(u),u.tag=3,u.payload={element:null},u.callback=function(){wc(o,l)},u}function zg(o){return o=xi(o),o.tag=3,o}function Hg(o,l,u,h){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var w=h.value;o.payload=function(){return v(w)},o.callback=function(){Vg(l,u,h)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(o.callback=function(){Vg(l,u,h),typeof v!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var O=h.stack;this.componentDidCatch(h.value,{componentStack:O!==null?O:""})})}function c3(o,l,u,h,v){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(l=u.alternate,l!==null&&gs(l,u,v,!0),u=ar.current,u!==null){switch(u.tag){case 13:return Rr===null?Id():u.alternate===null&&jt===0&&(jt=3),u.flags&=-257,u.flags|=65536,u.lanes=v,h===Bf?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([h]):l.add(h),Md(o,h,v)),!1;case 22:return u.flags|=65536,h===Bf?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([h]):u.add(h)),Md(o,h,v)),!1}throw Error(r(435,u.tag))}return Md(o,h,v),Id(),!1}if(rt)return l=ar.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,h!==Df&&(o=Error(r(422),{cause:h}),ps(tr(o,u)))):(h!==Df&&(l=Error(r(423),{cause:h}),ps(tr(l,u))),o=o.current.alternate,o.flags|=65536,v&=-v,o.lanes|=v,h=tr(h,u),v=ld(o.stateNode,h,v),Uf(o,v),jt!==4&&(jt=2)),!1;var w=Error(r(520),{cause:h});if(w=tr(w,u),Ps===null?Ps=[w]:Ps.push(w),jt!==4&&(jt=2),l===null)return!0;h=tr(h,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,o=v&-v,u.lanes|=o,o=ld(u.stateNode,h,o),Uf(u,o),!1;case 1:if(l=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ri===null||!Ri.has(w))))return u.flags|=65536,v&=-v,u.lanes|=v,v=zg(v),Hg(v,o,u,h),Uf(u,v),!1}u=u.return}while(u!==null);return!1}var Gg=Error(r(461)),sn=!1;function pn(o,l,u,h){l.child=o===null?Mg(l,null,u,h):io(l,o.child,u,h)}function $g(o,l,u,h,v){u=u.render;var w=l.ref;if("ref"in h){var A={};for(var O in h)O!=="ref"&&(A[O]=h[O])}else A=h;return la(l),h=$f(o,l,u,A,w,v),O=qf(),o!==null&&!sn?(Xf(o,l,v),ei(o,l,v)):(rt&&O&&Of(l),l.flags|=1,pn(o,l,h,v),l.child)}function qg(o,l,u,h,v){if(o===null){var w=u.type;return typeof w=="function"&&!Af(w)&&w.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=w,Xg(o,l,w,h,v)):(o=Jl(u.type,null,h,l,l.mode,v),o.ref=l.ref,o.return=l,l.child=o)}if(w=o.child,!vd(o,v)){var A=w.memoizedProps;if(u=u.compare,u=u!==null?u:us,u(A,h)&&o.ref===l.ref)return ei(o,l,v)}return l.flags|=1,o=Xr(w,h),o.ref=l.ref,o.return=l,l.child=o}function Xg(o,l,u,h,v){if(o!==null){var w=o.memoizedProps;if(us(w,h)&&o.ref===l.ref)if(sn=!1,l.pendingProps=h=w,vd(o,v))(o.flags&131072)!==0&&(sn=!0);else return l.lanes=o.lanes,ei(o,l,v)}return cd(o,l,u,h,v)}function Wg(o,l,u){var h=l.pendingProps,v=h.children,w=o!==null?o.memoizedState:null;if(h.mode==="hidden"){if((l.flags&128)!==0){if(h=w!==null?w.baseLanes|u:u,o!==null){for(v=l.child=o.child,w=0;v!==null;)w=w|v.lanes|v.childLanes,v=v.sibling;l.childLanes=w&~h}else l.childLanes=0,l.child=null;return Yg(o,l,h,u)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&ic(l,w!==null?w.cachePool:null),w!==null?Xp(l,w):zf(),Pg(l);else return l.lanes=l.childLanes=536870912,Yg(o,l,w!==null?w.baseLanes|u:u,u)}else w!==null?(ic(l,w.cachePool),Xp(l,w),Ei(),l.memoizedState=null):(o!==null&&ic(l,null),zf(),Ei());return pn(o,l,v,u),l.child}function Yg(o,l,u,h){var v=jf();return v=v===null?null:{parent:Wt._currentValue,pool:v},l.memoizedState={baseLanes:u,cachePool:v},o!==null&&ic(l,null),zf(),Pg(l),o!==null&&gs(o,l,h,!0),null}function _c(o,l){var u=l.ref;if(u===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(o===null||o.ref!==u)&&(l.flags|=4194816)}}function cd(o,l,u,h,v){return la(l),u=$f(o,l,u,h,void 0,v),h=qf(),o!==null&&!sn?(Xf(o,l,v),ei(o,l,v)):(rt&&h&&Of(l),l.flags|=1,pn(o,l,u,v),l.child)}function Kg(o,l,u,h,v,w){return la(l),l.updateQueue=null,u=Yp(l,h,u,v),Wp(o),h=qf(),o!==null&&!sn?(Xf(o,l,w),ei(o,l,w)):(rt&&h&&Of(l),l.flags|=1,pn(o,l,u,w),l.child)}function Zg(o,l,u,h,v){if(la(l),l.stateNode===null){var w=Wa,A=u.contextType;typeof A=="object"&&A!==null&&(w=En(A)),w=new u(h,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=sd,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=h,w.state=l.memoizedState,w.refs={},Lf(l),A=u.contextType,w.context=typeof A=="object"&&A!==null?En(A):Wa,w.state=l.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(od(l,u,A,h),w.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(A=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),A!==w.state&&sd.enqueueReplaceState(w,w.state,null),bs(l,h,w,v),_s(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),h=!0}else if(o===null){w=l.stateNode;var O=l.memoizedProps,j=fa(u,O);w.props=j;var W=w.context,re=u.contextType;A=Wa,typeof re=="object"&&re!==null&&(A=En(re));var oe=u.getDerivedStateFromProps;re=typeof oe=="function"||typeof w.getSnapshotBeforeUpdate=="function",O=l.pendingProps!==O,re||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O||W!==A)&&Bg(l,w,h,A),yi=!1;var K=l.memoizedState;w.state=K,bs(l,h,w,v),_s(),W=l.memoizedState,O||K!==W||yi?(typeof oe=="function"&&(od(l,u,oe,h),W=l.memoizedState),(j=yi||jg(l,u,j,h,K,W,A))?(re||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=h,l.memoizedState=W),w.props=h,w.state=W,w.context=A,h=j):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),h=!1)}else{w=l.stateNode,Ff(o,l),A=l.memoizedProps,re=fa(u,A),w.props=re,oe=l.pendingProps,K=w.context,W=u.contextType,j=Wa,typeof W=="object"&&W!==null&&(j=En(W)),O=u.getDerivedStateFromProps,(W=typeof O=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==oe||K!==j)&&Bg(l,w,h,j),yi=!1,K=l.memoizedState,w.state=K,bs(l,h,w,v),_s();var Q=l.memoizedState;A!==oe||K!==Q||yi||o!==null&&o.dependencies!==null&&nc(o.dependencies)?(typeof O=="function"&&(od(l,u,O,h),Q=l.memoizedState),(re=yi||jg(l,u,re,h,K,Q,j)||o!==null&&o.dependencies!==null&&nc(o.dependencies))?(W||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,Q,j),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,Q,j)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||A===o.memoizedProps&&K===o.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===o.memoizedProps&&K===o.memoizedState||(l.flags|=1024),l.memoizedProps=h,l.memoizedState=Q),w.props=h,w.state=Q,w.context=j,h=re):(typeof w.componentDidUpdate!="function"||A===o.memoizedProps&&K===o.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===o.memoizedProps&&K===o.memoizedState||(l.flags|=1024),h=!1)}return w=h,_c(o,l),h=(l.flags&128)!==0,w||h?(w=l.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,o!==null&&h?(l.child=io(l,o.child,null,v),l.child=io(l,null,u,v)):pn(o,l,u,v),l.memoizedState=w.state,o=l.child):o=ei(o,l,v),o}function Qg(o,l,u,h){return hs(),l.flags|=256,pn(o,l,u,h),l.child}var ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fd(o){return{baseLanes:o,cachePool:Fp()}}function dd(o,l,u){return o=o!==null?o.childLanes&~u:0,l&&(o|=or),o}function Jg(o,l,u){var h=l.pendingProps,v=!1,w=(l.flags&128)!==0,A;if((A=w)||(A=o!==null&&o.memoizedState===null?!1:(Yt.current&2)!==0),A&&(v=!0,l.flags&=-129),A=(l.flags&32)!==0,l.flags&=-33,o===null){if(rt){if(v?bi(l):Ei(),rt){var O=Pt,j;if(j=O){e:{for(j=O,O=Or;j.nodeType!==8;){if(!O){O=null;break e}if(j=yr(j.nextSibling),j===null){O=null;break e}}O=j}O!==null?(l.memoizedState={dehydrated:O,treeContext:ra!==null?{id:Wr,overflow:Yr}:null,retryLane:536870912,hydrationErrors:null},j=qn(18,null,null,0),j.stateNode=O,j.return=l,l.child=j,Rn=l,Pt=null,j=!0):j=!1}j||oa(l)}if(O=l.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return Yd(O)?l.lanes=32:l.lanes=536870912,null;Jr(l)}return O=h.children,h=h.fallback,v?(Ei(),v=l.mode,O=bc({mode:"hidden",children:O},v),h=na(h,v,u,null),O.return=l,h.return=l,O.sibling=h,l.child=O,v=l.child,v.memoizedState=fd(u),v.childLanes=dd(o,A,u),l.memoizedState=ud,h):(bi(l),hd(l,O))}if(j=o.memoizedState,j!==null&&(O=j.dehydrated,O!==null)){if(w)l.flags&256?(bi(l),l.flags&=-257,l=pd(o,l,u)):l.memoizedState!==null?(Ei(),l.child=o.child,l.flags|=128,l=null):(Ei(),v=h.fallback,O=l.mode,h=bc({mode:"visible",children:h.children},O),v=na(v,O,u,null),v.flags|=2,h.return=l,v.return=l,h.sibling=v,l.child=h,io(l,o.child,null,u),h=l.child,h.memoizedState=fd(u),h.childLanes=dd(o,A,u),l.memoizedState=ud,l=v);else if(bi(l),Yd(O)){if(A=O.nextSibling&&O.nextSibling.dataset,A)var W=A.dgst;A=W,h=Error(r(419)),h.stack="",h.digest=A,ps({value:h,source:null,stack:null}),l=pd(o,l,u)}else if(sn||gs(o,l,u,!1),A=(u&o.childLanes)!==0,sn||A){if(A=wt,A!==null&&(h=u&-u,h=(h&42)!==0?1:Yu(h),h=(h&(A.suspendedLanes|u))!==0?0:h,h!==0&&h!==j.retryLane))throw j.retryLane=h,Xa(o,h),Zn(A,o,h),Gg;O.data==="$?"||Id(),l=pd(o,l,u)}else O.data==="$?"?(l.flags|=192,l.child=o.child,l=null):(o=j.treeContext,Pt=yr(O.nextSibling),Rn=l,rt=!0,aa=null,Or=!1,o!==null&&(rr[ir++]=Wr,rr[ir++]=Yr,rr[ir++]=ra,Wr=o.id,Yr=o.overflow,ra=l),l=hd(l,h.children),l.flags|=4096);return l}return v?(Ei(),v=h.fallback,O=l.mode,j=o.child,W=j.sibling,h=Xr(j,{mode:"hidden",children:h.children}),h.subtreeFlags=j.subtreeFlags&65011712,W!==null?v=Xr(W,v):(v=na(v,O,u,null),v.flags|=2),v.return=l,h.return=l,h.sibling=v,l.child=h,h=v,v=l.child,O=o.child.memoizedState,O===null?O=fd(u):(j=O.cachePool,j!==null?(W=Wt._currentValue,j=j.parent!==W?{parent:W,pool:W}:j):j=Fp(),O={baseLanes:O.baseLanes|u,cachePool:j}),v.memoizedState=O,v.childLanes=dd(o,A,u),l.memoizedState=ud,h):(bi(l),u=o.child,o=u.sibling,u=Xr(u,{mode:"visible",children:h.children}),u.return=l,u.sibling=null,o!==null&&(A=l.deletions,A===null?(l.deletions=[o],l.flags|=16):A.push(o)),l.child=u,l.memoizedState=null,u)}function hd(o,l){return l=bc({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function bc(o,l){return o=qn(22,o,null,l),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function pd(o,l,u){return io(l,o.child,null,u),o=hd(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function ev(o,l,u){o.lanes|=l;var h=o.alternate;h!==null&&(h.lanes|=l),If(o.return,l,u)}function gd(o,l,u,h,v){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:v}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=u,w.tailMode=v)}function tv(o,l,u){var h=l.pendingProps,v=h.revealOrder,w=h.tail;if(pn(o,l,h.children,u),h=Yt.current,(h&2)!==0)h=h&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&ev(o,u,l);else if(o.tag===19)ev(o,u,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}h&=1}switch(Z(Yt,h),v){case"forwards":for(u=l.child,v=null;u!==null;)o=u.alternate,o!==null&&yc(o)===null&&(v=u),u=u.sibling;u=v,u===null?(v=l.child,l.child=null):(v=u.sibling,u.sibling=null),gd(l,!1,v,u,w);break;case"backwards":for(u=null,v=l.child,l.child=null;v!==null;){if(o=v.alternate,o!==null&&yc(o)===null){l.child=v;break}o=v.sibling,v.sibling=u,u=v,v=o}gd(l,!0,u,null,w);break;case"together":gd(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ei(o,l,u){if(o!==null&&(l.dependencies=o.dependencies),Oi|=l.lanes,(u&l.childLanes)===0)if(o!==null){if(gs(o,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,u=Xr(o,o.pendingProps),l.child=u,u.return=l;o.sibling!==null;)o=o.sibling,u=u.sibling=Xr(o,o.pendingProps),u.return=l;u.sibling=null}return l.child}function vd(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&nc(o)))}function u3(o,l,u){switch(l.tag){case 3:me(l,l.stateNode.containerInfo),mi(l,Wt,o.memoizedState.cache),hs();break;case 27:case 5:Be(l);break;case 4:me(l,l.stateNode.containerInfo);break;case 10:mi(l,l.type,l.memoizedProps.value);break;case 13:var h=l.memoizedState;if(h!==null)return h.dehydrated!==null?(bi(l),l.flags|=128,null):(u&l.child.childLanes)!==0?Jg(o,l,u):(bi(l),o=ei(o,l,u),o!==null?o.sibling:null);bi(l);break;case 19:var v=(o.flags&128)!==0;if(h=(u&l.childLanes)!==0,h||(gs(o,l,u,!1),h=(u&l.childLanes)!==0),v){if(h)return tv(o,l,u);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Z(Yt,Yt.current),h)break;return null;case 22:case 23:return l.lanes=0,Wg(o,l,u);case 24:mi(l,Wt,o.memoizedState.cache)}return ei(o,l,u)}function nv(o,l,u){if(o!==null)if(o.memoizedProps!==l.pendingProps)sn=!0;else{if(!vd(o,u)&&(l.flags&128)===0)return sn=!1,u3(o,l,u);sn=(o.flags&131072)!==0}else sn=!1,rt&&(l.flags&1048576)!==0&&Ip(l,tc,l.index);switch(l.lanes=0,l.tag){case 16:e:{o=l.pendingProps;var h=l.elementType,v=h._init;if(h=v(h._payload),l.type=h,typeof h=="function")Af(h)?(o=fa(h,o),l.tag=1,l=Zg(null,l,h,o,u)):(l.tag=0,l=cd(null,l,h,o,u));else{if(h!=null){if(v=h.$$typeof,v===D){l.tag=11,l=$g(null,l,h,o,u);break e}else if(v===U){l.tag=14,l=qg(null,l,h,o,u);break e}}throw l=de(h)||h,Error(r(306,l,""))}}return l;case 0:return cd(o,l,l.type,l.pendingProps,u);case 1:return h=l.type,v=fa(h,l.pendingProps),Zg(o,l,h,v,u);case 3:e:{if(me(l,l.stateNode.containerInfo),o===null)throw Error(r(387));h=l.pendingProps;var w=l.memoizedState;v=w.element,Ff(o,l),bs(l,h,null,u);var A=l.memoizedState;if(h=A.cache,mi(l,Wt,h),h!==w.cache&&kf(l,[Wt],u,!0),_s(),h=A.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:A.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=Qg(o,l,h,u);break e}else if(h!==v){v=tr(Error(r(424)),l),ps(v),l=Qg(o,l,h,u);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Pt=yr(o.firstChild),Rn=l,rt=!0,aa=null,Or=!0,u=Mg(l,null,h,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(hs(),h===v){l=ei(o,l,u);break e}pn(o,l,h,u)}l=l.child}return l;case 26:return _c(o,l),o===null?(u=om(l.type,null,l.pendingProps,null))?l.memoizedState=u:rt||(u=l.type,o=l.pendingProps,h=jc(fe.current).createElement(u),h[bn]=l,h[jn]=o,vn(h,u,o),on(h),l.stateNode=h):l.memoizedState=om(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Be(l),o===null&&rt&&(h=l.stateNode=rm(l.type,l.pendingProps,fe.current),Rn=l,Or=!0,v=Pt,Ii(l.type)?(Kd=v,Pt=yr(h.firstChild)):Pt=v),pn(o,l,l.pendingProps.children,u),_c(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&rt&&((v=h=Pt)&&(h=L3(h,l.type,l.pendingProps,Or),h!==null?(l.stateNode=h,Rn=l,Pt=yr(h.firstChild),Or=!1,v=!0):v=!1),v||oa(l)),Be(l),v=l.type,w=l.pendingProps,A=o!==null?o.memoizedProps:null,h=w.children,qd(v,w)?h=null:A!==null&&qd(v,A)&&(l.flags|=32),l.memoizedState!==null&&(v=$f(o,l,n3,null,null,u),Gs._currentValue=v),_c(o,l),pn(o,l,h,u),l.child;case 6:return o===null&&rt&&((o=u=Pt)&&(u=F3(u,l.pendingProps,Or),u!==null?(l.stateNode=u,Rn=l,Pt=null,o=!0):o=!1),o||oa(l)),null;case 13:return Jg(o,l,u);case 4:return me(l,l.stateNode.containerInfo),h=l.pendingProps,o===null?l.child=io(l,null,h,u):pn(o,l,h,u),l.child;case 11:return $g(o,l,l.type,l.pendingProps,u);case 7:return pn(o,l,l.pendingProps,u),l.child;case 8:return pn(o,l,l.pendingProps.children,u),l.child;case 12:return pn(o,l,l.pendingProps.children,u),l.child;case 10:return h=l.pendingProps,mi(l,l.type,h.value),pn(o,l,h.children,u),l.child;case 9:return v=l.type._context,h=l.pendingProps.children,la(l),v=En(v),h=h(v),l.flags|=1,pn(o,l,h,u),l.child;case 14:return qg(o,l,l.type,l.pendingProps,u);case 15:return Xg(o,l,l.type,l.pendingProps,u);case 19:return tv(o,l,u);case 31:return h=l.pendingProps,u=l.mode,h={mode:h.mode,children:h.children},o===null?(u=bc(h,u),u.ref=l.ref,l.child=u,u.return=l,l=u):(u=Xr(o.child,h),u.ref=l.ref,l.child=u,u.return=l,l=u),l;case 22:return Wg(o,l,u);case 24:return la(l),h=En(Wt),o===null?(v=jf(),v===null&&(v=wt,w=Mf(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=u),v=w),l.memoizedState={parent:h,cache:v},Lf(l),mi(l,Wt,v)):((o.lanes&u)!==0&&(Ff(o,l),bs(l,null,null,u),_s()),v=o.memoizedState,w=l.memoizedState,v.parent!==h?(v={parent:h,cache:h},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),mi(l,Wt,h)):(h=w.cache,mi(l,Wt,h),h!==v.cache&&kf(l,[Wt],u,!0))),pn(o,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function ti(o){o.flags|=4}function rv(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!fm(l)){if(l=ar.current,l!==null&&((Ye&4194048)===Ye?Rr!==null:(Ye&62914560)!==Ye&&(Ye&536870912)===0||l!==Rr))throw xs=Bf,Up;o.flags|=8192}}function Ec(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?Ll():536870912,o.lanes|=l,lo|=l)}function Rs(o,l){if(!rt)switch(o.tailMode){case"hidden":l=o.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?o.tail=null:u.sibling=null;break;case"collapsed":u=o.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:h.sibling=null}}function Dt(o){var l=o.alternate!==null&&o.alternate.child===o.child,u=0,h=0;if(l)for(var v=o.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=h,o.childLanes=u,l}function f3(o,l,u){var h=l.pendingProps;switch(Rf(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(l),null;case 1:return Dt(l),null;case 3:return u=l.stateNode,h=null,o!==null&&(h=o.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),Zr(Wt),Je(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(o===null||o.child===null)&&(ds(l)?ti(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Pp())),Dt(l),null;case 26:return u=l.memoizedState,o===null?(ti(l),u!==null?(Dt(l),rv(l,u)):(Dt(l),l.flags&=-16777217)):u?u!==o.memoizedState?(ti(l),Dt(l),rv(l,u)):(Dt(l),l.flags&=-16777217):(o.memoizedProps!==h&&ti(l),Dt(l),l.flags&=-16777217),null;case 27:Pe(l),u=fe.current;var v=l.type;if(o!==null&&l.stateNode!=null)o.memoizedProps!==h&&ti(l);else{if(!h){if(l.stateNode===null)throw Error(r(166));return Dt(l),null}o=J.current,ds(l)?kp(l):(o=rm(v,h,u),l.stateNode=o,ti(l))}return Dt(l),null;case 5:if(Pe(l),u=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==h&&ti(l);else{if(!h){if(l.stateNode===null)throw Error(r(166));return Dt(l),null}if(o=J.current,ds(l))kp(l);else{switch(v=jc(fe.current),o){case 1:o=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=v.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof h.is=="string"?v.createElement("select",{is:h.is}):v.createElement("select"),h.multiple?o.multiple=!0:h.size&&(o.size=h.size);break;default:o=typeof h.is=="string"?v.createElement(u,{is:h.is}):v.createElement(u)}}o[bn]=l,o[jn]=h;e:for(v=l.child;v!==null;){if(v.tag===5||v.tag===6)o.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===l)break e;for(;v.sibling===null;){if(v.return===null||v.return===l)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}l.stateNode=o;e:switch(vn(o,u,h),u){case"button":case"input":case"select":case"textarea":o=!!h.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ti(l)}}return Dt(l),l.flags&=-16777217,null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==h&&ti(l);else{if(typeof h!="string"&&l.stateNode===null)throw Error(r(166));if(o=fe.current,ds(l)){if(o=l.stateNode,u=l.memoizedProps,h=null,v=Rn,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}o[bn]=l,o=!!(o.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||Kv(o.nodeValue,u)),o||oa(l)}else o=jc(o).createTextNode(h),o[bn]=l,l.stateNode=o}return Dt(l),null;case 13:if(h=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(v=ds(l),h!==null&&h.dehydrated!==null){if(o===null){if(!v)throw Error(r(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[bn]=l}else hs(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Dt(l),v=!1}else v=Pp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(Jr(l),l):(Jr(l),null)}if(Jr(l),(l.flags&128)!==0)return l.lanes=u,l;if(u=h!==null,o=o!==null&&o.memoizedState!==null,u){h=l.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool);var w=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==v&&(h.flags|=2048)}return u!==o&&u&&(l.child.flags|=8192),Ec(l,l.updateQueue),Dt(l),null;case 4:return Je(),o===null&&Vd(l.stateNode.containerInfo),Dt(l),null;case 10:return Zr(l.type),Dt(l),null;case 19:if(z(Yt),v=l.memoizedState,v===null)return Dt(l),null;if(h=(l.flags&128)!==0,w=v.rendering,w===null)if(h)Rs(v,!1);else{if(jt!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(w=yc(o),w!==null){for(l.flags|=128,Rs(v,!1),o=w.updateQueue,l.updateQueue=o,Ec(l,o),l.subtreeFlags=0,o=u,u=l.child;u!==null;)Np(u,o),u=u.sibling;return Z(Yt,Yt.current&1|2),l.child}o=o.sibling}v.tail!==null&&st()>Cc&&(l.flags|=128,h=!0,Rs(v,!1),l.lanes=4194304)}else{if(!h)if(o=yc(w),o!==null){if(l.flags|=128,h=!0,o=o.updateQueue,l.updateQueue=o,Ec(l,o),Rs(v,!0),v.tail===null&&v.tailMode==="hidden"&&!w.alternate&&!rt)return Dt(l),null}else 2*st()-v.renderingStartTime>Cc&&u!==536870912&&(l.flags|=128,h=!0,Rs(v,!1),l.lanes=4194304);v.isBackwards?(w.sibling=l.child,l.child=w):(o=v.last,o!==null?o.sibling=w:l.child=w,v.last=w)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=st(),l.sibling=null,o=Yt.current,Z(Yt,h?o&1|2:o&1),l):(Dt(l),null);case 22:case 23:return Jr(l),Hf(),h=l.memoizedState!==null,o!==null?o.memoizedState!==null!==h&&(l.flags|=8192):h&&(l.flags|=8192),h?(u&536870912)!==0&&(l.flags&128)===0&&(Dt(l),l.subtreeFlags&6&&(l.flags|=8192)):Dt(l),u=l.updateQueue,u!==null&&Ec(l,u.retryQueue),u=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==u&&(l.flags|=2048),o!==null&&z(ca),null;case 24:return u=null,o!==null&&(u=o.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Zr(Wt),Dt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function d3(o,l){switch(Rf(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Zr(Wt),Je(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return Pe(l),null;case 13:if(Jr(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));hs()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return z(Yt),null;case 4:return Je(),null;case 10:return Zr(l.type),null;case 22:case 23:return Jr(l),Hf(),o!==null&&z(ca),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return Zr(Wt),null;case 25:return null;default:return null}}function iv(o,l){switch(Rf(l),l.tag){case 3:Zr(Wt),Je();break;case 26:case 27:case 5:Pe(l);break;case 4:Je();break;case 13:Jr(l);break;case 19:z(Yt);break;case 10:Zr(l.type);break;case 22:case 23:Jr(l),Hf(),o!==null&&z(ca);break;case 24:Zr(Wt)}}function Ds(o,l){try{var u=l.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var v=h.next;u=v;do{if((u.tag&o)===o){h=void 0;var w=u.create,A=u.inst;h=w(),A.destroy=h}u=u.next}while(u!==v)}}catch(O){yt(l,l.return,O)}}function Si(o,l,u){try{var h=l.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var w=v.next;h=w;do{if((h.tag&o)===o){var A=h.inst,O=A.destroy;if(O!==void 0){A.destroy=void 0,v=l;var j=u,W=O;try{W()}catch(re){yt(v,j,re)}}}h=h.next}while(h!==w)}}catch(re){yt(l,l.return,re)}}function av(o){var l=o.updateQueue;if(l!==null){var u=o.stateNode;try{qp(l,u)}catch(h){yt(o,o.return,h)}}}function ov(o,l,u){u.props=fa(o.type,o.memoizedProps),u.state=o.memoizedState;try{u.componentWillUnmount()}catch(h){yt(o,l,h)}}function Ns(o,l){try{var u=o.ref;if(u!==null){switch(o.tag){case 26:case 27:case 5:var h=o.stateNode;break;case 30:h=o.stateNode;break;default:h=o.stateNode}typeof u=="function"?o.refCleanup=u(h):u.current=h}}catch(v){yt(o,l,v)}}function Dr(o,l){var u=o.ref,h=o.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(v){yt(o,l,v)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){yt(o,l,v)}else u.current=null}function sv(o){var l=o.type,u=o.memoizedProps,h=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(v){yt(o,o.return,v)}}function md(o,l,u){try{var h=o.stateNode;k3(h,o.type,u,l),h[jn]=l}catch(v){yt(o,o.return,v)}}function lv(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Ii(o.type)||o.tag===4}function yd(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||lv(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Ii(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function xd(o,l,u){var h=o.tag;if(h===5||h===6)o=o.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(o,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(o),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=Pc));else if(h!==4&&(h===27&&Ii(o.type)&&(u=o.stateNode,l=null),o=o.child,o!==null))for(xd(o,l,u),o=o.sibling;o!==null;)xd(o,l,u),o=o.sibling}function Sc(o,l,u){var h=o.tag;if(h===5||h===6)o=o.stateNode,l?u.insertBefore(o,l):u.appendChild(o);else if(h!==4&&(h===27&&Ii(o.type)&&(u=o.stateNode),o=o.child,o!==null))for(Sc(o,l,u),o=o.sibling;o!==null;)Sc(o,l,u),o=o.sibling}function cv(o){var l=o.stateNode,u=o.memoizedProps;try{for(var h=o.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);vn(l,h,u),l[bn]=o,l[jn]=u}catch(w){yt(o,o.return,w)}}var ni=!1,Ft=!1,wd=!1,uv=typeof WeakSet=="function"?WeakSet:Set,ln=null;function h3(o,l){if(o=o.containerInfo,Gd=zc,o=_p(o),yf(o)){if("selectionStart"in o)var u={start:o.selectionStart,end:o.selectionEnd};else e:{u=(u=o.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var v=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var A=0,O=-1,j=-1,W=0,re=0,oe=o,K=null;t:for(;;){for(var Q;oe!==u||v!==0&&oe.nodeType!==3||(O=A+v),oe!==w||h!==0&&oe.nodeType!==3||(j=A+h),oe.nodeType===3&&(A+=oe.nodeValue.length),(Q=oe.firstChild)!==null;)K=oe,oe=Q;for(;;){if(oe===o)break t;if(K===u&&++W===v&&(O=A),K===w&&++re===h&&(j=A),(Q=oe.nextSibling)!==null)break;oe=K,K=oe.parentNode}oe=Q}u=O===-1||j===-1?null:{start:O,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for($d={focusedElem:o,selectionRange:u},zc=!1,ln=l;ln!==null;)if(l=ln,o=l.child,(l.subtreeFlags&1024)!==0&&o!==null)o.return=l,ln=o;else for(;ln!==null;){switch(l=ln,w=l.alternate,o=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&w!==null){o=void 0,u=l,v=w.memoizedProps,w=w.memoizedState,h=u.stateNode;try{var ke=fa(u.type,v,u.elementType===u.type);o=h.getSnapshotBeforeUpdate(ke,w),h.__reactInternalSnapshotBeforeUpdate=o}catch(De){yt(u,u.return,De)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,u=o.nodeType,u===9)Wd(o);else if(u===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Wd(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,ln=o;break}ln=l.return}}function fv(o,l,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:Ai(o,u),h&4&&Ds(5,u);break;case 1:if(Ai(o,u),h&4)if(o=u.stateNode,l===null)try{o.componentDidMount()}catch(A){yt(u,u.return,A)}else{var v=fa(u.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(v,l,o.__reactInternalSnapshotBeforeUpdate)}catch(A){yt(u,u.return,A)}}h&64&&av(u),h&512&&Ns(u,u.return);break;case 3:if(Ai(o,u),h&64&&(o=u.updateQueue,o!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{qp(o,l)}catch(A){yt(u,u.return,A)}}break;case 27:l===null&&h&4&&cv(u);case 26:case 5:Ai(o,u),l===null&&h&4&&sv(u),h&512&&Ns(u,u.return);break;case 12:Ai(o,u);break;case 13:Ai(o,u),h&4&&pv(o,u),h&64&&(o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(u=b3.bind(null,u),U3(o,u))));break;case 22:if(h=u.memoizedState!==null||ni,!h){l=l!==null&&l.memoizedState!==null||Ft,v=ni;var w=Ft;ni=h,(Ft=l)&&!w?Ci(o,u,(u.subtreeFlags&8772)!==0):Ai(o,u),ni=v,Ft=w}break;case 30:break;default:Ai(o,u)}}function dv(o){var l=o.alternate;l!==null&&(o.alternate=null,dv(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&Qu(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Ot=null,Fn=!1;function ri(o,l,u){for(u=u.child;u!==null;)hv(o,l,u),u=u.sibling}function hv(o,l,u){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(Ie,u)}catch{}switch(u.tag){case 26:Ft||Dr(u,l),ri(o,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Ft||Dr(u,l);var h=Ot,v=Fn;Ii(u.type)&&(Ot=u.stateNode,Fn=!1),ri(o,l,u),Us(u.stateNode),Ot=h,Fn=v;break;case 5:Ft||Dr(u,l);case 6:if(h=Ot,v=Fn,Ot=null,ri(o,l,u),Ot=h,Fn=v,Ot!==null)if(Fn)try{(Ot.nodeType===9?Ot.body:Ot.nodeName==="HTML"?Ot.ownerDocument.body:Ot).removeChild(u.stateNode)}catch(w){yt(u,l,w)}else try{Ot.removeChild(u.stateNode)}catch(w){yt(u,l,w)}break;case 18:Ot!==null&&(Fn?(o=Ot,tm(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,u.stateNode),Ws(o)):tm(Ot,u.stateNode));break;case 4:h=Ot,v=Fn,Ot=u.stateNode.containerInfo,Fn=!0,ri(o,l,u),Ot=h,Fn=v;break;case 0:case 11:case 14:case 15:Ft||Si(2,u,l),Ft||Si(4,u,l),ri(o,l,u);break;case 1:Ft||(Dr(u,l),h=u.stateNode,typeof h.componentWillUnmount=="function"&&ov(u,l,h)),ri(o,l,u);break;case 21:ri(o,l,u);break;case 22:Ft=(h=Ft)||u.memoizedState!==null,ri(o,l,u),Ft=h;break;default:ri(o,l,u)}}function pv(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Ws(o)}catch(u){yt(l,l.return,u)}}function p3(o){switch(o.tag){case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new uv),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new uv),l;default:throw Error(r(435,o.tag))}}function _d(o,l){var u=p3(o);l.forEach(function(h){var v=E3.bind(null,o,h);u.has(h)||(u.add(h),h.then(v,v))})}function Xn(o,l){var u=l.deletions;if(u!==null)for(var h=0;h<u.length;h++){var v=u[h],w=o,A=l,O=A;e:for(;O!==null;){switch(O.tag){case 27:if(Ii(O.type)){Ot=O.stateNode,Fn=!1;break e}break;case 5:Ot=O.stateNode,Fn=!1;break e;case 3:case 4:Ot=O.stateNode.containerInfo,Fn=!0;break e}O=O.return}if(Ot===null)throw Error(r(160));hv(w,A,v),Ot=null,Fn=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)gv(l,o),l=l.sibling}var mr=null;function gv(o,l){var u=o.alternate,h=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Xn(l,o),Wn(o),h&4&&(Si(3,o,o.return),Ds(3,o),Si(5,o,o.return));break;case 1:Xn(l,o),Wn(o),h&512&&(Ft||u===null||Dr(u,u.return)),h&64&&ni&&(o=o.updateQueue,o!==null&&(h=o.callbacks,h!==null&&(u=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var v=mr;if(Xn(l,o),Wn(o),h&512&&(Ft||u===null||Dr(u,u.return)),h&4){var w=u!==null?u.memoizedState:null;if(h=o.memoizedState,u===null)if(h===null)if(o.stateNode===null){e:{h=o.type,u=o.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":w=v.getElementsByTagName("title")[0],(!w||w[ts]||w[bn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(h),v.head.insertBefore(w,v.querySelector("head > title"))),vn(w,h,u),w[bn]=o,on(w),h=w;break e;case"link":var A=cm("link","href",v).get(h+(u.href||""));if(A){for(var O=0;O<A.length;O++)if(w=A[O],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(O,1);break t}}w=v.createElement(h),vn(w,h,u),v.head.appendChild(w);break;case"meta":if(A=cm("meta","content",v).get(h+(u.content||""))){for(O=0;O<A.length;O++)if(w=A[O],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(O,1);break t}}w=v.createElement(h),vn(w,h,u),v.head.appendChild(w);break;default:throw Error(r(468,h))}w[bn]=o,on(w),h=w}o.stateNode=h}else um(v,o.type,o.stateNode);else o.stateNode=lm(v,h,o.memoizedProps);else w!==h?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,h===null?um(v,o.type,o.stateNode):lm(v,h,o.memoizedProps)):h===null&&o.stateNode!==null&&md(o,o.memoizedProps,u.memoizedProps)}break;case 27:Xn(l,o),Wn(o),h&512&&(Ft||u===null||Dr(u,u.return)),u!==null&&h&4&&md(o,o.memoizedProps,u.memoizedProps);break;case 5:if(Xn(l,o),Wn(o),h&512&&(Ft||u===null||Dr(u,u.return)),o.flags&32){v=o.stateNode;try{Ua(v,"")}catch(Q){yt(o,o.return,Q)}}h&4&&o.stateNode!=null&&(v=o.memoizedProps,md(o,v,u!==null?u.memoizedProps:v)),h&1024&&(wd=!0);break;case 6:if(Xn(l,o),Wn(o),h&4){if(o.stateNode===null)throw Error(r(162));h=o.memoizedProps,u=o.stateNode;try{u.nodeValue=h}catch(Q){yt(o,o.return,Q)}}break;case 3:if(Fc=null,v=mr,mr=Bc(l.containerInfo),Xn(l,o),mr=v,Wn(o),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Ws(l.containerInfo)}catch(Q){yt(o,o.return,Q)}wd&&(wd=!1,vv(o));break;case 4:h=mr,mr=Bc(o.stateNode.containerInfo),Xn(l,o),Wn(o),mr=h;break;case 12:Xn(l,o),Wn(o);break;case 13:Xn(l,o),Wn(o),o.child.flags&8192&&o.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Td=st()),h&4&&(h=o.updateQueue,h!==null&&(o.updateQueue=null,_d(o,h)));break;case 22:v=o.memoizedState!==null;var j=u!==null&&u.memoizedState!==null,W=ni,re=Ft;if(ni=W||v,Ft=re||j,Xn(l,o),Ft=re,ni=W,Wn(o),h&8192)e:for(l=o.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(u===null||j||ni||Ft||da(o)),u=null,l=o;;){if(l.tag===5||l.tag===26){if(u===null){j=u=l;try{if(w=j.stateNode,v)A=w.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{O=j.stateNode;var oe=j.memoizedProps.style,K=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;O.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Q){yt(j,j.return,Q)}}}else if(l.tag===6){if(u===null){j=l;try{j.stateNode.nodeValue=v?"":j.memoizedProps}catch(Q){yt(j,j.return,Q)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}h&4&&(h=o.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,_d(o,u))));break;case 19:Xn(l,o),Wn(o),h&4&&(h=o.updateQueue,h!==null&&(o.updateQueue=null,_d(o,h)));break;case 30:break;case 21:break;default:Xn(l,o),Wn(o)}}function Wn(o){var l=o.flags;if(l&2){try{for(var u,h=o.return;h!==null;){if(lv(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,w=yd(o);Sc(o,w,v);break;case 5:var A=u.stateNode;u.flags&32&&(Ua(A,""),u.flags&=-33);var O=yd(o);Sc(o,O,A);break;case 3:case 4:var j=u.stateNode.containerInfo,W=yd(o);xd(o,W,j);break;default:throw Error(r(161))}}catch(re){yt(o,o.return,re)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function vv(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;vv(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function Ai(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)fv(o,l.alternate,l),l=l.sibling}function da(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:Si(4,l,l.return),da(l);break;case 1:Dr(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&ov(l,l.return,u),da(l);break;case 27:Us(l.stateNode);case 26:case 5:Dr(l,l.return),da(l);break;case 22:l.memoizedState===null&&da(l);break;case 30:da(l);break;default:da(l)}o=o.sibling}}function Ci(o,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var h=l.alternate,v=o,w=l,A=w.flags;switch(w.tag){case 0:case 11:case 15:Ci(v,w,u),Ds(4,w);break;case 1:if(Ci(v,w,u),h=w,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(W){yt(h,h.return,W)}if(h=w,v=h.updateQueue,v!==null){var O=h.stateNode;try{var j=v.shared.hiddenCallbacks;if(j!==null)for(v.shared.hiddenCallbacks=null,v=0;v<j.length;v++)$p(j[v],O)}catch(W){yt(h,h.return,W)}}u&&A&64&&av(w),Ns(w,w.return);break;case 27:cv(w);case 26:case 5:Ci(v,w,u),u&&h===null&&A&4&&sv(w),Ns(w,w.return);break;case 12:Ci(v,w,u);break;case 13:Ci(v,w,u),u&&A&4&&pv(v,w);break;case 22:w.memoizedState===null&&Ci(v,w,u),Ns(w,w.return);break;case 30:break;default:Ci(v,w,u)}l=l.sibling}}function bd(o,l){var u=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==u&&(o!=null&&o.refCount++,u!=null&&vs(u))}function Ed(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&vs(o))}function Nr(o,l,u,h){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)mv(o,l,u,h),l=l.sibling}function mv(o,l,u,h){var v=l.flags;switch(l.tag){case 0:case 11:case 15:Nr(o,l,u,h),v&2048&&Ds(9,l);break;case 1:Nr(o,l,u,h);break;case 3:Nr(o,l,u,h),v&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&vs(o)));break;case 12:if(v&2048){Nr(o,l,u,h),o=l.stateNode;try{var w=l.memoizedProps,A=w.id,O=w.onPostCommit;typeof O=="function"&&O(A,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(j){yt(l,l.return,j)}}else Nr(o,l,u,h);break;case 13:Nr(o,l,u,h);break;case 23:break;case 22:w=l.stateNode,A=l.alternate,l.memoizedState!==null?w._visibility&2?Nr(o,l,u,h):Is(o,l):w._visibility&2?Nr(o,l,u,h):(w._visibility|=2,ao(o,l,u,h,(l.subtreeFlags&10256)!==0)),v&2048&&bd(A,l);break;case 24:Nr(o,l,u,h),v&2048&&Ed(l.alternate,l);break;default:Nr(o,l,u,h)}}function ao(o,l,u,h,v){for(v=v&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var w=o,A=l,O=u,j=h,W=A.flags;switch(A.tag){case 0:case 11:case 15:ao(w,A,O,j,v),Ds(8,A);break;case 23:break;case 22:var re=A.stateNode;A.memoizedState!==null?re._visibility&2?ao(w,A,O,j,v):Is(w,A):(re._visibility|=2,ao(w,A,O,j,v)),v&&W&2048&&bd(A.alternate,A);break;case 24:ao(w,A,O,j,v),v&&W&2048&&Ed(A.alternate,A);break;default:ao(w,A,O,j,v)}l=l.sibling}}function Is(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=o,h=l,v=h.flags;switch(h.tag){case 22:Is(u,h),v&2048&&bd(h.alternate,h);break;case 24:Is(u,h),v&2048&&Ed(h.alternate,h);break;default:Is(u,h)}l=l.sibling}}var ks=8192;function oo(o){if(o.subtreeFlags&ks)for(o=o.child;o!==null;)yv(o),o=o.sibling}function yv(o){switch(o.tag){case 26:oo(o),o.flags&ks&&o.memoizedState!==null&&J3(mr,o.memoizedState,o.memoizedProps);break;case 5:oo(o);break;case 3:case 4:var l=mr;mr=Bc(o.stateNode.containerInfo),oo(o),mr=l;break;case 22:o.memoizedState===null&&(l=o.alternate,l!==null&&l.memoizedState!==null?(l=ks,ks=16777216,oo(o),ks=l):oo(o));break;default:oo(o)}}function xv(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function Ms(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var h=l[u];ln=h,_v(h,o)}xv(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)wv(o),o=o.sibling}function wv(o){switch(o.tag){case 0:case 11:case 15:Ms(o),o.flags&2048&&Si(9,o,o.return);break;case 3:Ms(o);break;case 12:Ms(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,Ac(o)):Ms(o);break;default:Ms(o)}}function Ac(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var h=l[u];ln=h,_v(h,o)}xv(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:Si(8,l,l.return),Ac(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,Ac(l));break;default:Ac(l)}o=o.sibling}}function _v(o,l){for(;ln!==null;){var u=ln;switch(u.tag){case 0:case 11:case 15:Si(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:vs(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,ln=h;else e:for(u=o;ln!==null;){h=ln;var v=h.sibling,w=h.return;if(dv(h),h===u){ln=null;break e}if(v!==null){v.return=w,ln=v;break e}ln=w}}}var g3={getCacheForType:function(o){var l=En(Wt),u=l.data.get(o);return u===void 0&&(u=o(),l.data.set(o,u)),u}},v3=typeof WeakMap=="function"?WeakMap:Map,ut=0,wt=null,$e=null,Ye=0,ft=0,Yn=null,Ti=!1,so=!1,Sd=!1,ii=0,jt=0,Oi=0,ha=0,Ad=0,or=0,lo=0,Ps=null,Un=null,Cd=!1,Td=0,Cc=1/0,Tc=null,Ri=null,gn=0,Di=null,co=null,uo=0,Od=0,Rd=null,bv=null,js=0,Dd=null;function Kn(){if((ut&2)!==0&&Ye!==0)return Ye&-Ye;if(k.T!==null){var o=Za;return o!==0?o:Bd()}return L1()}function Ev(){or===0&&(or=(Ye&536870912)===0||rt?Bl():536870912);var o=ar.current;return o!==null&&(o.flags|=32),or}function Zn(o,l,u){(o===wt&&(ft===2||ft===9)||o.cancelPendingCommit!==null)&&(fo(o,0),Ni(o,Ye,or,!1)),es(o,u),((ut&2)===0||o!==wt)&&(o===wt&&((ut&2)===0&&(ha|=u),jt===4&&Ni(o,Ye,or,!1)),Ir(o))}function Sv(o,l,u){if((ut&6)!==0)throw Error(r(327));var h=!u&&(l&124)===0&&(l&o.expiredLanes)===0||pi(o,l),v=h?x3(o,l):kd(o,l,!0),w=h;do{if(v===0){so&&!h&&Ni(o,l,0,!1);break}else{if(u=o.current.alternate,w&&!m3(u)){v=kd(o,l,!1),w=!1;continue}if(v===2){if(w=l,o.errorRecoveryDisabledLanes&w)var A=0;else A=o.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){l=A;e:{var O=o;v=Ps;var j=O.current.memoizedState.isDehydrated;if(j&&(fo(O,A).flags|=256),A=kd(O,A,!1),A!==2){if(Sd&&!j){O.errorRecoveryDisabledLanes|=w,ha|=w,v=4;break e}w=Un,Un=v,w!==null&&(Un===null?Un=w:Un.push.apply(Un,w))}v=A}if(w=!1,v!==2)continue}}if(v===1){fo(o,0),Ni(o,l,0,!0);break}e:{switch(h=o,w=v,w){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Ni(h,l,or,!Ti);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(v=Td+300-st(),10<v)){if(Ni(h,l,or,!Ti),Tr(h,0,!0)!==0)break e;h.timeoutHandle=Jv(Av.bind(null,h,u,Un,Tc,Cd,l,or,ha,lo,Ti,w,2,-0,0),v);break e}Av(h,u,Un,Tc,Cd,l,or,ha,lo,Ti,w,0,-0,0)}}break}while(!0);Ir(o)}function Av(o,l,u,h,v,w,A,O,j,W,re,oe,K,Q){if(o.timeoutHandle=-1,oe=l.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(Hs={stylesheets:null,count:0,unsuspend:Q3},yv(l),oe=eE(),oe!==null)){o.cancelPendingCommit=oe(Iv.bind(null,o,l,w,u,h,v,A,O,j,re,1,K,Q)),Ni(o,w,A,!W);return}Iv(o,l,w,u,h,v,A,O,j)}function m3(o){for(var l=o;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var v=u[h],w=v.getSnapshot;v=v.value;try{if(!$n(w(),v))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ni(o,l,u,h){l&=~Ad,l&=~ha,o.suspendedLanes|=l,o.pingedLanes&=~l,h&&(o.warmLanes|=l),h=o.expirationTimes;for(var v=l;0<v;){var w=31-Ae(v),A=1<<w;h[w]=-1,v&=~A}u!==0&&j1(o,u,l)}function Oc(){return(ut&6)===0?(Bs(0),!1):!0}function Nd(){if($e!==null){if(ft===0)var o=$e.return;else o=$e,Kr=sa=null,Wf(o),ro=null,Ts=0,o=$e;for(;o!==null;)iv(o.alternate,o),o=o.return;$e=null}}function fo(o,l){var u=o.timeoutHandle;u!==-1&&(o.timeoutHandle=-1,P3(u)),u=o.cancelPendingCommit,u!==null&&(o.cancelPendingCommit=null,u()),Nd(),wt=o,$e=u=Xr(o.current,null),Ye=l,ft=0,Yn=null,Ti=!1,so=pi(o,l),Sd=!1,lo=or=Ad=ha=Oi=jt=0,Un=Ps=null,Cd=!1,(l&8)!==0&&(l|=l&32);var h=o.entangledLanes;if(h!==0)for(o=o.entanglements,h&=l;0<h;){var v=31-Ae(h),w=1<<v;l|=o[v],h&=~w}return ii=l,Kl(),u}function Cv(o,l){Ve=null,k.H=gc,l===ys||l===ac?(l=Hp(),ft=3):l===Up?(l=Hp(),ft=4):ft=l===Gg?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Yn=l,$e===null&&(jt=1,wc(o,tr(l,o.current)))}function Tv(){var o=k.H;return k.H=gc,o===null?gc:o}function Ov(){var o=k.A;return k.A=g3,o}function Id(){jt=4,Ti||(Ye&4194048)!==Ye&&ar.current!==null||(so=!0),(Oi&134217727)===0&&(ha&134217727)===0||wt===null||Ni(wt,Ye,or,!1)}function kd(o,l,u){var h=ut;ut|=2;var v=Tv(),w=Ov();(wt!==o||Ye!==l)&&(Tc=null,fo(o,l)),l=!1;var A=jt;e:do try{if(ft!==0&&$e!==null){var O=$e,j=Yn;switch(ft){case 8:Nd(),A=6;break e;case 3:case 2:case 9:case 6:ar.current===null&&(l=!0);var W=ft;if(ft=0,Yn=null,ho(o,O,j,W),u&&so){A=0;break e}break;default:W=ft,ft=0,Yn=null,ho(o,O,j,W)}}y3(),A=jt;break}catch(re){Cv(o,re)}while(!0);return l&&o.shellSuspendCounter++,Kr=sa=null,ut=h,k.H=v,k.A=w,$e===null&&(wt=null,Ye=0,Kl()),A}function y3(){for(;$e!==null;)Rv($e)}function x3(o,l){var u=ut;ut|=2;var h=Tv(),v=Ov();wt!==o||Ye!==l?(Tc=null,Cc=st()+500,fo(o,l)):so=pi(o,l);e:do try{if(ft!==0&&$e!==null){l=$e;var w=Yn;t:switch(ft){case 1:ft=0,Yn=null,ho(o,l,w,1);break;case 2:case 9:if(Vp(w)){ft=0,Yn=null,Dv(l);break}l=function(){ft!==2&&ft!==9||wt!==o||(ft=7),Ir(o)},w.then(l,l);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:Vp(w)?(ft=0,Yn=null,Dv(l)):(ft=0,Yn=null,ho(o,l,w,7));break;case 5:var A=null;switch($e.tag){case 26:A=$e.memoizedState;case 5:case 27:var O=$e;if(!A||fm(A)){ft=0,Yn=null;var j=O.sibling;if(j!==null)$e=j;else{var W=O.return;W!==null?($e=W,Rc(W)):$e=null}break t}}ft=0,Yn=null,ho(o,l,w,5);break;case 6:ft=0,Yn=null,ho(o,l,w,6);break;case 8:Nd(),jt=6;break e;default:throw Error(r(462))}}w3();break}catch(re){Cv(o,re)}while(!0);return Kr=sa=null,k.H=h,k.A=v,ut=u,$e!==null?0:(wt=null,Ye=0,Kl(),jt)}function w3(){for(;$e!==null&&!We();)Rv($e)}function Rv(o){var l=nv(o.alternate,o,ii);o.memoizedProps=o.pendingProps,l===null?Rc(o):$e=l}function Dv(o){var l=o,u=l.alternate;switch(l.tag){case 15:case 0:l=Kg(u,l,l.pendingProps,l.type,void 0,Ye);break;case 11:l=Kg(u,l,l.pendingProps,l.type.render,l.ref,Ye);break;case 5:Wf(l);default:iv(u,l),l=$e=Np(l,ii),l=nv(u,l,ii)}o.memoizedProps=o.pendingProps,l===null?Rc(o):$e=l}function ho(o,l,u,h){Kr=sa=null,Wf(l),ro=null,Ts=0;var v=l.return;try{if(c3(o,v,l,u,Ye)){jt=1,wc(o,tr(u,o.current)),$e=null;return}}catch(w){if(v!==null)throw $e=v,w;jt=1,wc(o,tr(u,o.current)),$e=null;return}l.flags&32768?(rt||h===1?o=!0:so||(Ye&536870912)!==0?o=!1:(Ti=o=!0,(h===2||h===9||h===3||h===6)&&(h=ar.current,h!==null&&h.tag===13&&(h.flags|=16384))),Nv(l,o)):Rc(l)}function Rc(o){var l=o;do{if((l.flags&32768)!==0){Nv(l,Ti);return}o=l.return;var u=f3(l.alternate,l,ii);if(u!==null){$e=u;return}if(l=l.sibling,l!==null){$e=l;return}$e=l=o}while(l!==null);jt===0&&(jt=5)}function Nv(o,l){do{var u=d3(o.alternate,o);if(u!==null){u.flags&=32767,$e=u;return}if(u=o.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(o=o.sibling,o!==null)){$e=o;return}$e=o=u}while(o!==null);jt=6,$e=null}function Iv(o,l,u,h,v,w,A,O,j){o.cancelPendingCommit=null;do Dc();while(gn!==0);if((ut&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(w=l.lanes|l.childLanes,w|=Ef,Q_(o,u,w,A,O,j),o===wt&&($e=wt=null,Ye=0),co=l,Di=o,uo=u,Od=w,Rd=v,bv=h,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,S3(ue,function(){return Bv(),null})):(o.callbackNode=null,o.callbackPriority=0),h=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||h){h=k.T,k.T=null,v=I.p,I.p=2,A=ut,ut|=4;try{h3(o,l,u)}finally{ut=A,I.p=v,k.T=h}}gn=1,kv(),Mv(),Pv()}}function kv(){if(gn===1){gn=0;var o=Di,l=co,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=k.T,k.T=null;var h=I.p;I.p=2;var v=ut;ut|=4;try{gv(l,o);var w=$d,A=_p(o.containerInfo),O=w.focusedElem,j=w.selectionRange;if(A!==O&&O&&O.ownerDocument&&wp(O.ownerDocument.documentElement,O)){if(j!==null&&yf(O)){var W=j.start,re=j.end;if(re===void 0&&(re=W),"selectionStart"in O)O.selectionStart=W,O.selectionEnd=Math.min(re,O.value.length);else{var oe=O.ownerDocument||document,K=oe&&oe.defaultView||window;if(K.getSelection){var Q=K.getSelection(),ke=O.textContent.length,De=Math.min(j.start,ke),vt=j.end===void 0?De:Math.min(j.end,ke);!Q.extend&&De>vt&&(A=vt,vt=De,De=A);var H=xp(O,De),V=xp(O,vt);if(H&&V&&(Q.rangeCount!==1||Q.anchorNode!==H.node||Q.anchorOffset!==H.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var X=oe.createRange();X.setStart(H.node,H.offset),Q.removeAllRanges(),De>vt?(Q.addRange(X),Q.extend(V.node,V.offset)):(X.setEnd(V.node,V.offset),Q.addRange(X))}}}}for(oe=[],Q=O;Q=Q.parentNode;)Q.nodeType===1&&oe.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<oe.length;O++){var ie=oe[O];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}zc=!!Gd,$d=Gd=null}finally{ut=v,I.p=h,k.T=u}}o.current=l,gn=2}}function Mv(){if(gn===2){gn=0;var o=Di,l=co,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=k.T,k.T=null;var h=I.p;I.p=2;var v=ut;ut|=4;try{fv(o,l.alternate,l)}finally{ut=v,I.p=h,k.T=u}}gn=3}}function Pv(){if(gn===4||gn===3){gn=0,xt();var o=Di,l=co,u=uo,h=bv;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?gn=5:(gn=0,co=Di=null,jv(o,o.pendingLanes));var v=o.pendingLanes;if(v===0&&(Ri=null),Ku(u),l=l.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(Ie,l,void 0,(l.current.flags&128)===128)}catch{}if(h!==null){l=k.T,v=I.p,I.p=2,k.T=null;try{for(var w=o.onRecoverableError,A=0;A<h.length;A++){var O=h[A];w(O.value,{componentStack:O.stack})}}finally{k.T=l,I.p=v}}(uo&3)!==0&&Dc(),Ir(o),v=o.pendingLanes,(u&4194090)!==0&&(v&42)!==0?o===Dd?js++:(js=0,Dd=o):js=0,Bs(0)}}function jv(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,vs(l)))}function Dc(o){return kv(),Mv(),Pv(),Bv()}function Bv(){if(gn!==5)return!1;var o=Di,l=Od;Od=0;var u=Ku(uo),h=k.T,v=I.p;try{I.p=32>u?32:u,k.T=null,u=Rd,Rd=null;var w=Di,A=uo;if(gn=0,co=Di=null,uo=0,(ut&6)!==0)throw Error(r(331));var O=ut;if(ut|=4,wv(w.current),mv(w,w.current,A,u),ut=O,Bs(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(Ie,w)}catch{}return!0}finally{I.p=v,k.T=h,jv(o,l)}}function Lv(o,l,u){l=tr(u,l),l=ld(o.stateNode,l,2),o=wi(o,l,2),o!==null&&(es(o,2),Ir(o))}function yt(o,l,u){if(o.tag===3)Lv(o,o,u);else for(;l!==null;){if(l.tag===3){Lv(l,o,u);break}else if(l.tag===1){var h=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ri===null||!Ri.has(h))){o=tr(u,o),u=zg(2),h=wi(l,u,2),h!==null&&(Hg(u,h,l,o),es(h,2),Ir(h));break}}l=l.return}}function Md(o,l,u){var h=o.pingCache;if(h===null){h=o.pingCache=new v3;var v=new Set;h.set(l,v)}else v=h.get(l),v===void 0&&(v=new Set,h.set(l,v));v.has(u)||(Sd=!0,v.add(u),o=_3.bind(null,o,l,u),l.then(o,o))}function _3(o,l,u){var h=o.pingCache;h!==null&&h.delete(l),o.pingedLanes|=o.suspendedLanes&u,o.warmLanes&=~u,wt===o&&(Ye&u)===u&&(jt===4||jt===3&&(Ye&62914560)===Ye&&300>st()-Td?(ut&2)===0&&fo(o,0):Ad|=u,lo===Ye&&(lo=0)),Ir(o)}function Fv(o,l){l===0&&(l=Ll()),o=Xa(o,l),o!==null&&(es(o,l),Ir(o))}function b3(o){var l=o.memoizedState,u=0;l!==null&&(u=l.retryLane),Fv(o,u)}function E3(o,l){var u=0;switch(o.tag){case 13:var h=o.stateNode,v=o.memoizedState;v!==null&&(u=v.retryLane);break;case 19:h=o.stateNode;break;case 22:h=o.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(l),Fv(o,u)}function S3(o,l){return ot(o,l)}var Nc=null,po=null,Pd=!1,Ic=!1,jd=!1,pa=0;function Ir(o){o!==po&&o.next===null&&(po===null?Nc=po=o:po=po.next=o),Ic=!0,Pd||(Pd=!0,C3())}function Bs(o,l){if(!jd&&Ic){jd=!0;do for(var u=!1,h=Nc;h!==null;){if(o!==0){var v=h.pendingLanes;if(v===0)var w=0;else{var A=h.suspendedLanes,O=h.pingedLanes;w=(1<<31-Ae(42|o)+1)-1,w&=v&~(A&~O),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,Hv(h,w))}else w=Ye,w=Tr(h,h===wt?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||pi(h,w)||(u=!0,Hv(h,w));h=h.next}while(u);jd=!1}}function A3(){Uv()}function Uv(){Ic=Pd=!1;var o=0;pa!==0&&(M3()&&(o=pa),pa=0);for(var l=st(),u=null,h=Nc;h!==null;){var v=h.next,w=Vv(h,l);w===0?(h.next=null,u===null?Nc=v:u.next=v,v===null&&(po=u)):(u=h,(o!==0||(w&3)!==0)&&(Ic=!0)),h=v}Bs(o)}function Vv(o,l){for(var u=o.suspendedLanes,h=o.pingedLanes,v=o.expirationTimes,w=o.pendingLanes&-62914561;0<w;){var A=31-Ae(w),O=1<<A,j=v[A];j===-1?((O&u)===0||(O&h)!==0)&&(v[A]=Xu(O,l)):j<=l&&(o.expiredLanes|=O),w&=~O}if(l=wt,u=Ye,u=Tr(o,o===l?u:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),h=o.callbackNode,u===0||o===l&&(ft===2||ft===9)||o.cancelPendingCommit!==null)return h!==null&&h!==null&&St(h),o.callbackNode=null,o.callbackPriority=0;if((u&3)===0||pi(o,u)){if(l=u&-u,l===o.callbackPriority)return l;switch(h!==null&&St(h),Ku(u)){case 2:case 8:u=q;break;case 32:u=ue;break;case 268435456:u=we;break;default:u=ue}return h=zv.bind(null,o),u=ot(u,h),o.callbackPriority=l,o.callbackNode=u,l}return h!==null&&h!==null&&St(h),o.callbackPriority=2,o.callbackNode=null,2}function zv(o,l){if(gn!==0&&gn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var u=o.callbackNode;if(Dc()&&o.callbackNode!==u)return null;var h=Ye;return h=Tr(o,o===wt?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),h===0?null:(Sv(o,h,l),Vv(o,st()),o.callbackNode!=null&&o.callbackNode===u?zv.bind(null,o):null)}function Hv(o,l){if(Dc())return null;Sv(o,l,!0)}function C3(){j3(function(){(ut&6)!==0?ot(Hr,A3):Uv()})}function Bd(){return pa===0&&(pa=Bl()),pa}function Gv(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Hl(""+o)}function $v(o,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,o.id&&u.setAttribute("form",o.id),l.parentNode.insertBefore(u,l),o=new FormData(o),u.parentNode.removeChild(u),o}function T3(o,l,u,h,v){if(l==="submit"&&u&&u.stateNode===v){var w=Gv((v[jn]||null).action),A=h.submitter;A&&(l=(l=A[jn]||null)?Gv(l.formAction):A.getAttribute("formAction"),l!==null&&(w=l,A=null));var O=new Xl("action","action",null,h,v);o.push({event:O,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(pa!==0){var j=A?$v(v,A):new FormData(v);rd(u,{pending:!0,data:j,method:v.method,action:w},null,j)}}else typeof w=="function"&&(O.preventDefault(),j=A?$v(v,A):new FormData(v),rd(u,{pending:!0,data:j,method:v.method,action:w},w,j))},currentTarget:v}]})}}for(var Ld=0;Ld<bf.length;Ld++){var Fd=bf[Ld],O3=Fd.toLowerCase(),R3=Fd[0].toUpperCase()+Fd.slice(1);vr(O3,"on"+R3)}vr(Sp,"onAnimationEnd"),vr(Ap,"onAnimationIteration"),vr(Cp,"onAnimationStart"),vr("dblclick","onDoubleClick"),vr("focusin","onFocus"),vr("focusout","onBlur"),vr(qb,"onTransitionRun"),vr(Xb,"onTransitionStart"),vr(Wb,"onTransitionCancel"),vr(Tp,"onTransitionEnd"),Ba("onMouseEnter",["mouseout","mouseover"]),Ba("onMouseLeave",["mouseout","mouseover"]),Ba("onPointerEnter",["pointerout","pointerover"]),Ba("onPointerLeave",["pointerout","pointerover"]),Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ls));function qv(o,l){l=(l&4)!==0;for(var u=0;u<o.length;u++){var h=o[u],v=h.event;h=h.listeners;e:{var w=void 0;if(l)for(var A=h.length-1;0<=A;A--){var O=h[A],j=O.instance,W=O.currentTarget;if(O=O.listener,j!==w&&v.isPropagationStopped())break e;w=O,v.currentTarget=W;try{w(v)}catch(re){xc(re)}v.currentTarget=null,w=j}else for(A=0;A<h.length;A++){if(O=h[A],j=O.instance,W=O.currentTarget,O=O.listener,j!==w&&v.isPropagationStopped())break e;w=O,v.currentTarget=W;try{w(v)}catch(re){xc(re)}v.currentTarget=null,w=j}}}}function qe(o,l){var u=l[Zu];u===void 0&&(u=l[Zu]=new Set);var h=o+"__bubble";u.has(h)||(Xv(l,o,2,!1),u.add(h))}function Ud(o,l,u){var h=0;l&&(h|=4),Xv(u,o,h,l)}var kc="_reactListening"+Math.random().toString(36).slice(2);function Vd(o){if(!o[kc]){o[kc]=!0,U1.forEach(function(u){u!=="selectionchange"&&(D3.has(u)||Ud(u,!1,o),Ud(u,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[kc]||(l[kc]=!0,Ud("selectionchange",!1,l))}}function Xv(o,l,u,h){switch(mm(l)){case 2:var v=rE;break;case 8:v=iE;break;default:v=th}u=v.bind(null,l,u,o),v=void 0,!cf||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),h?v!==void 0?o.addEventListener(l,u,{capture:!0,passive:v}):o.addEventListener(l,u,!0):v!==void 0?o.addEventListener(l,u,{passive:v}):o.addEventListener(l,u,!1)}function zd(o,l,u,h,v){var w=h;if((l&1)===0&&(l&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var O=h.stateNode.containerInfo;if(O===v)break;if(A===4)for(A=h.return;A!==null;){var j=A.tag;if((j===3||j===4)&&A.stateNode.containerInfo===v)return;A=A.return}for(;O!==null;){if(A=Ma(O),A===null)return;if(j=A.tag,j===5||j===6||j===26||j===27){h=w=A;continue e}O=O.parentNode}}h=h.return}ep(function(){var W=w,re=sf(u),oe=[];e:{var K=Op.get(o);if(K!==void 0){var Q=Xl,ke=o;switch(o){case"keypress":if($l(u)===0)break e;case"keydown":case"keyup":Q=Sb;break;case"focusin":ke="focus",Q=hf;break;case"focusout":ke="blur",Q=hf;break;case"beforeblur":case"afterblur":Q=hf;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=rp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=db;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Tb;break;case Sp:case Ap:case Cp:Q=gb;break;case Tp:Q=Rb;break;case"scroll":case"scrollend":Q=ub;break;case"wheel":Q=Nb;break;case"copy":case"cut":case"paste":Q=mb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=ap;break;case"toggle":case"beforetoggle":Q=kb}var De=(l&4)!==0,vt=!De&&(o==="scroll"||o==="scrollend"),H=De?K!==null?K+"Capture":null:K;De=[];for(var V=W,X;V!==null;){var ie=V;if(X=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||X===null||H===null||(ie=rs(V,H),ie!=null&&De.push(Fs(V,ie,X))),vt)break;V=V.return}0<De.length&&(K=new Q(K,ke,null,u,re),oe.push({event:K,listeners:De}))}}if((l&7)===0){e:{if(K=o==="mouseover"||o==="pointerover",Q=o==="mouseout"||o==="pointerout",K&&u!==of&&(ke=u.relatedTarget||u.fromElement)&&(Ma(ke)||ke[ka]))break e;if((Q||K)&&(K=re.window===re?re:(K=re.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(ke=u.relatedTarget||u.toElement,Q=W,ke=ke?Ma(ke):null,ke!==null&&(vt=a(ke),De=ke.tag,ke!==vt||De!==5&&De!==27&&De!==6)&&(ke=null)):(Q=null,ke=W),Q!==ke)){if(De=rp,ie="onMouseLeave",H="onMouseEnter",V="mouse",(o==="pointerout"||o==="pointerover")&&(De=ap,ie="onPointerLeave",H="onPointerEnter",V="pointer"),vt=Q==null?K:ns(Q),X=ke==null?K:ns(ke),K=new De(ie,V+"leave",Q,u,re),K.target=vt,K.relatedTarget=X,ie=null,Ma(re)===W&&(De=new De(H,V+"enter",ke,u,re),De.target=X,De.relatedTarget=vt,ie=De),vt=ie,Q&&ke)t:{for(De=Q,H=ke,V=0,X=De;X;X=go(X))V++;for(X=0,ie=H;ie;ie=go(ie))X++;for(;0<V-X;)De=go(De),V--;for(;0<X-V;)H=go(H),X--;for(;V--;){if(De===H||H!==null&&De===H.alternate)break t;De=go(De),H=go(H)}De=null}else De=null;Q!==null&&Wv(oe,K,Q,De,!1),ke!==null&&vt!==null&&Wv(oe,vt,ke,De,!0)}}e:{if(K=W?ns(W):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var xe=hp;else if(fp(K))if(pp)xe=Hb;else{xe=Vb;var He=Ub}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?W&&af(W.elementType)&&(xe=hp):xe=zb;if(xe&&(xe=xe(o,W))){dp(oe,xe,u,re);break e}He&&He(o,K,W),o==="focusout"&&W&&K.type==="number"&&W.memoizedProps.value!=null&&rf(K,"number",K.value)}switch(He=W?ns(W):window,o){case"focusin":(fp(He)||He.contentEditable==="true")&&(Ga=He,xf=W,fs=null);break;case"focusout":fs=xf=Ga=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,bp(oe,u,re);break;case"selectionchange":if($b)break;case"keydown":case"keyup":bp(oe,u,re)}var Se;if(gf)e:{switch(o){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Ha?cp(o,u)&&(Ne="onCompositionEnd"):o==="keydown"&&u.keyCode===229&&(Ne="onCompositionStart");Ne&&(op&&u.locale!=="ko"&&(Ha||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Ha&&(Se=tp()):(vi=re,uf="value"in vi?vi.value:vi.textContent,Ha=!0)),He=Mc(W,Ne),0<He.length&&(Ne=new ip(Ne,o,null,u,re),oe.push({event:Ne,listeners:He}),Se?Ne.data=Se:(Se=up(u),Se!==null&&(Ne.data=Se)))),(Se=Pb?jb(o,u):Bb(o,u))&&(Ne=Mc(W,"onBeforeInput"),0<Ne.length&&(He=new ip("onBeforeInput","beforeinput",null,u,re),oe.push({event:He,listeners:Ne}),He.data=Se)),T3(oe,o,W,u,re)}qv(oe,l)})}function Fs(o,l,u){return{instance:o,listener:l,currentTarget:u}}function Mc(o,l){for(var u=l+"Capture",h=[];o!==null;){var v=o,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=rs(o,u),v!=null&&h.unshift(Fs(o,v,w)),v=rs(o,l),v!=null&&h.push(Fs(o,v,w))),o.tag===3)return h;o=o.return}return[]}function go(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function Wv(o,l,u,h,v){for(var w=l._reactName,A=[];u!==null&&u!==h;){var O=u,j=O.alternate,W=O.stateNode;if(O=O.tag,j!==null&&j===h)break;O!==5&&O!==26&&O!==27||W===null||(j=W,v?(W=rs(u,w),W!=null&&A.unshift(Fs(u,W,j))):v||(W=rs(u,w),W!=null&&A.push(Fs(u,W,j)))),u=u.return}A.length!==0&&o.push({event:l,listeners:A})}var N3=/\r\n?/g,I3=/\u0000|\uFFFD/g;function Yv(o){return(typeof o=="string"?o:""+o).replace(N3,`
`).replace(I3,"")}function Kv(o,l){return l=Yv(l),Yv(o)===l}function Pc(){}function gt(o,l,u,h,v,w){switch(u){case"children":typeof h=="string"?l==="body"||l==="textarea"&&h===""||Ua(o,h):(typeof h=="number"||typeof h=="bigint")&&l!=="body"&&Ua(o,""+h);break;case"className":Ul(o,"class",h);break;case"tabIndex":Ul(o,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Ul(o,u,h);break;case"style":Q1(o,h,w);break;case"data":if(l!=="object"){Ul(o,"data",h);break}case"src":case"href":if(h===""&&(l!=="a"||u!=="href")){o.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){o.removeAttribute(u);break}h=Hl(""+h),o.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){o.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(l!=="input"&&gt(o,l,"name",v.name,v,null),gt(o,l,"formEncType",v.formEncType,v,null),gt(o,l,"formMethod",v.formMethod,v,null),gt(o,l,"formTarget",v.formTarget,v,null)):(gt(o,l,"encType",v.encType,v,null),gt(o,l,"method",v.method,v,null),gt(o,l,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){o.removeAttribute(u);break}h=Hl(""+h),o.setAttribute(u,h);break;case"onClick":h!=null&&(o.onclick=Pc);break;case"onScroll":h!=null&&qe("scroll",o);break;case"onScrollEnd":h!=null&&qe("scrollend",o);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));o.innerHTML=u}}break;case"multiple":o.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":o.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){o.removeAttribute("xlink:href");break}u=Hl(""+h),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?o.setAttribute(u,""+h):o.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?o.setAttribute(u,""):o.removeAttribute(u);break;case"capture":case"download":h===!0?o.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?o.setAttribute(u,h):o.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?o.setAttribute(u,h):o.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?o.removeAttribute(u):o.setAttribute(u,h);break;case"popover":qe("beforetoggle",o),qe("toggle",o),Fl(o,"popover",h);break;case"xlinkActuate":$r(o,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":$r(o,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":$r(o,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":$r(o,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":$r(o,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":$r(o,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":$r(o,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":$r(o,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":$r(o,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Fl(o,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=lb.get(u)||u,Fl(o,u,h))}}function Hd(o,l,u,h,v,w){switch(u){case"style":Q1(o,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));o.innerHTML=u}}break;case"children":typeof h=="string"?Ua(o,h):(typeof h=="number"||typeof h=="bigint")&&Ua(o,""+h);break;case"onScroll":h!=null&&qe("scroll",o);break;case"onScrollEnd":h!=null&&qe("scrollend",o);break;case"onClick":h!=null&&(o.onclick=Pc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!V1.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),l=u.slice(2,v?u.length-7:void 0),w=o[jn]||null,w=w!=null?w[u]:null,typeof w=="function"&&o.removeEventListener(l,w,v),typeof h=="function")){typeof w!="function"&&w!==null&&(u in o?o[u]=null:o.hasAttribute(u)&&o.removeAttribute(u)),o.addEventListener(l,h,v);break e}u in o?o[u]=h:h===!0?o.setAttribute(u,""):Fl(o,u,h)}}}function vn(o,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",o),qe("load",o);var h=!1,v=!1,w;for(w in u)if(u.hasOwnProperty(w)){var A=u[w];if(A!=null)switch(w){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:gt(o,l,w,A,u,null)}}v&&gt(o,l,"srcSet",u.srcSet,u,null),h&&gt(o,l,"src",u.src,u,null);return;case"input":qe("invalid",o);var O=w=A=v=null,j=null,W=null;for(h in u)if(u.hasOwnProperty(h)){var re=u[h];if(re!=null)switch(h){case"name":v=re;break;case"type":A=re;break;case"checked":j=re;break;case"defaultChecked":W=re;break;case"value":w=re;break;case"defaultValue":O=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,l));break;default:gt(o,l,h,re,u,null)}}W1(o,w,O,j,W,A,v,!1),Vl(o);return;case"select":qe("invalid",o),h=A=w=null;for(v in u)if(u.hasOwnProperty(v)&&(O=u[v],O!=null))switch(v){case"value":w=O;break;case"defaultValue":A=O;break;case"multiple":h=O;default:gt(o,l,v,O,u,null)}l=w,u=A,o.multiple=!!h,l!=null?Fa(o,!!h,l,!1):u!=null&&Fa(o,!!h,u,!0);return;case"textarea":qe("invalid",o),w=v=h=null;for(A in u)if(u.hasOwnProperty(A)&&(O=u[A],O!=null))switch(A){case"value":h=O;break;case"defaultValue":v=O;break;case"children":w=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:gt(o,l,A,O,u,null)}K1(o,h,v,w),Vl(o);return;case"option":for(j in u)if(u.hasOwnProperty(j)&&(h=u[j],h!=null))switch(j){case"selected":o.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:gt(o,l,j,h,u,null)}return;case"dialog":qe("beforetoggle",o),qe("toggle",o),qe("cancel",o),qe("close",o);break;case"iframe":case"object":qe("load",o);break;case"video":case"audio":for(h=0;h<Ls.length;h++)qe(Ls[h],o);break;case"image":qe("error",o),qe("load",o);break;case"details":qe("toggle",o);break;case"embed":case"source":case"link":qe("error",o),qe("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in u)if(u.hasOwnProperty(W)&&(h=u[W],h!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:gt(o,l,W,h,u,null)}return;default:if(af(l)){for(re in u)u.hasOwnProperty(re)&&(h=u[re],h!==void 0&&Hd(o,l,re,h,u,void 0));return}}for(O in u)u.hasOwnProperty(O)&&(h=u[O],h!=null&&gt(o,l,O,h,u,null))}function k3(o,l,u,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,A=null,O=null,j=null,W=null,re=null;for(Q in u){var oe=u[Q];if(u.hasOwnProperty(Q)&&oe!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":j=oe;default:h.hasOwnProperty(Q)||gt(o,l,Q,null,h,oe)}}for(var K in h){var Q=h[K];if(oe=u[K],h.hasOwnProperty(K)&&(Q!=null||oe!=null))switch(K){case"type":w=Q;break;case"name":v=Q;break;case"checked":W=Q;break;case"defaultChecked":re=Q;break;case"value":A=Q;break;case"defaultValue":O=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,l));break;default:Q!==oe&&gt(o,l,K,Q,h,oe)}}nf(o,A,O,j,W,re,w,v);return;case"select":Q=A=O=K=null;for(w in u)if(j=u[w],u.hasOwnProperty(w)&&j!=null)switch(w){case"value":break;case"multiple":Q=j;default:h.hasOwnProperty(w)||gt(o,l,w,null,h,j)}for(v in h)if(w=h[v],j=u[v],h.hasOwnProperty(v)&&(w!=null||j!=null))switch(v){case"value":K=w;break;case"defaultValue":O=w;break;case"multiple":A=w;default:w!==j&&gt(o,l,v,w,h,j)}l=O,u=A,h=Q,K!=null?Fa(o,!!u,K,!1):!!h!=!!u&&(l!=null?Fa(o,!!u,l,!0):Fa(o,!!u,u?[]:"",!1));return;case"textarea":Q=K=null;for(O in u)if(v=u[O],u.hasOwnProperty(O)&&v!=null&&!h.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:gt(o,l,O,null,h,v)}for(A in h)if(v=h[A],w=u[A],h.hasOwnProperty(A)&&(v!=null||w!=null))switch(A){case"value":K=v;break;case"defaultValue":Q=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==w&&gt(o,l,A,v,h,w)}Y1(o,K,Q);return;case"option":for(var ke in u)if(K=u[ke],u.hasOwnProperty(ke)&&K!=null&&!h.hasOwnProperty(ke))switch(ke){case"selected":o.selected=!1;break;default:gt(o,l,ke,null,h,K)}for(j in h)if(K=h[j],Q=u[j],h.hasOwnProperty(j)&&K!==Q&&(K!=null||Q!=null))switch(j){case"selected":o.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:gt(o,l,j,K,h,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in u)K=u[De],u.hasOwnProperty(De)&&K!=null&&!h.hasOwnProperty(De)&&gt(o,l,De,null,h,K);for(W in h)if(K=h[W],Q=u[W],h.hasOwnProperty(W)&&K!==Q&&(K!=null||Q!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,l));break;default:gt(o,l,W,K,h,Q)}return;default:if(af(l)){for(var vt in u)K=u[vt],u.hasOwnProperty(vt)&&K!==void 0&&!h.hasOwnProperty(vt)&&Hd(o,l,vt,void 0,h,K);for(re in h)K=h[re],Q=u[re],!h.hasOwnProperty(re)||K===Q||K===void 0&&Q===void 0||Hd(o,l,re,K,h,Q);return}}for(var H in u)K=u[H],u.hasOwnProperty(H)&&K!=null&&!h.hasOwnProperty(H)&&gt(o,l,H,null,h,K);for(oe in h)K=h[oe],Q=u[oe],!h.hasOwnProperty(oe)||K===Q||K==null&&Q==null||gt(o,l,oe,K,h,Q)}var Gd=null,$d=null;function jc(o){return o.nodeType===9?o:o.ownerDocument}function Zv(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qv(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function qd(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Xd=null;function M3(){var o=window.event;return o&&o.type==="popstate"?o===Xd?!1:(Xd=o,!0):(Xd=null,!1)}var Jv=typeof setTimeout=="function"?setTimeout:void 0,P3=typeof clearTimeout=="function"?clearTimeout:void 0,em=typeof Promise=="function"?Promise:void 0,j3=typeof queueMicrotask=="function"?queueMicrotask:typeof em<"u"?function(o){return em.resolve(null).then(o).catch(B3)}:Jv;function B3(o){setTimeout(function(){throw o})}function Ii(o){return o==="head"}function tm(o,l){var u=l,h=0,v=0;do{var w=u.nextSibling;if(o.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"){if(0<h&&8>h){u=h;var A=o.ownerDocument;if(u&1&&Us(A.documentElement),u&2&&Us(A.body),u&4)for(u=A.head,Us(u),A=u.firstChild;A;){var O=A.nextSibling,j=A.nodeName;A[ts]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&A.rel.toLowerCase()==="stylesheet"||u.removeChild(A),A=O}}if(v===0){o.removeChild(w),Ws(l);return}v--}else u==="$"||u==="$?"||u==="$!"?v++:h=u.charCodeAt(0)-48;else h=0;u=w}while(u);Ws(l)}function Wd(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Wd(u),Qu(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}o.removeChild(u)}}function L3(o,l,u,h){for(;o.nodeType===1;){var v=u;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!h&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(h){if(!o[ts])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(w=o.getAttribute("rel"),w==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(w!==v.rel||o.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||o.getAttribute("title")!==(v.title==null?null:v.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(w=o.getAttribute("src"),(w!==(v.src==null?null:v.src)||o.getAttribute("type")!==(v.type==null?null:v.type)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&o.getAttribute("name")===w)return o}else return o;if(o=yr(o.nextSibling),o===null)break}return null}function F3(o,l,u){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=yr(o.nextSibling),o===null))return null;return o}function Yd(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function U3(o,l){var u=o.ownerDocument;if(o.data!=="$?"||u.readyState==="complete")l();else{var h=function(){l(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),o._reactRetry=h}}function yr(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return o}var Kd=null;function nm(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var u=o.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return o;l--}else u==="/$"&&l++}o=o.previousSibling}return null}function rm(o,l,u){switch(l=jc(u),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Us(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);Qu(o)}var sr=new Map,im=new Set;function Bc(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var ai=I.d;I.d={f:V3,r:z3,D:H3,C:G3,L:$3,m:q3,X:W3,S:X3,M:Y3};function V3(){var o=ai.f(),l=Oc();return o||l}function z3(o){var l=Pa(o);l!==null&&l.tag===5&&l.type==="form"?Sg(l):ai.r(o)}var vo=typeof document>"u"?null:document;function am(o,l,u){var h=vo;if(h&&typeof l=="string"&&l){var v=er(l);v='link[rel="'+o+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),im.has(v)||(im.add(v),o={rel:o,crossOrigin:u,href:l},h.querySelector(v)===null&&(l=h.createElement("link"),vn(l,"link",o),on(l),h.head.appendChild(l)))}}function H3(o){ai.D(o),am("dns-prefetch",o,null)}function G3(o,l){ai.C(o,l),am("preconnect",o,l)}function $3(o,l,u){ai.L(o,l,u);var h=vo;if(h&&o&&l){var v='link[rel="preload"][as="'+er(l)+'"]';l==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+er(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+er(u.imageSizes)+'"]')):v+='[href="'+er(o)+'"]';var w=v;switch(l){case"style":w=mo(o);break;case"script":w=yo(o)}sr.has(w)||(o=p({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:o,as:l},u),sr.set(w,o),h.querySelector(v)!==null||l==="style"&&h.querySelector(Vs(w))||l==="script"&&h.querySelector(zs(w))||(l=h.createElement("link"),vn(l,"link",o),on(l),h.head.appendChild(l)))}}function q3(o,l){ai.m(o,l);var u=vo;if(u&&o){var h=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+er(h)+'"][href="'+er(o)+'"]',w=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=yo(o)}if(!sr.has(w)&&(o=p({rel:"modulepreload",href:o},l),sr.set(w,o),u.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(zs(w)))return}h=u.createElement("link"),vn(h,"link",o),on(h),u.head.appendChild(h)}}}function X3(o,l,u){ai.S(o,l,u);var h=vo;if(h&&o){var v=ja(h).hoistableStyles,w=mo(o);l=l||"default";var A=v.get(w);if(!A){var O={loading:0,preload:null};if(A=h.querySelector(Vs(w)))O.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":l},u),(u=sr.get(w))&&Zd(o,u);var j=A=h.createElement("link");on(j),vn(j,"link",o),j._p=new Promise(function(W,re){j.onload=W,j.onerror=re}),j.addEventListener("load",function(){O.loading|=1}),j.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Lc(A,l,h)}A={type:"stylesheet",instance:A,count:1,state:O},v.set(w,A)}}}function W3(o,l){ai.X(o,l);var u=vo;if(u&&o){var h=ja(u).hoistableScripts,v=yo(o),w=h.get(v);w||(w=u.querySelector(zs(v)),w||(o=p({src:o,async:!0},l),(l=sr.get(v))&&Qd(o,l),w=u.createElement("script"),on(w),vn(w,"link",o),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(v,w))}}function Y3(o,l){ai.M(o,l);var u=vo;if(u&&o){var h=ja(u).hoistableScripts,v=yo(o),w=h.get(v);w||(w=u.querySelector(zs(v)),w||(o=p({src:o,async:!0,type:"module"},l),(l=sr.get(v))&&Qd(o,l),w=u.createElement("script"),on(w),vn(w,"link",o),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(v,w))}}function om(o,l,u,h){var v=(v=fe.current)?Bc(v):null;if(!v)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=mo(u.href),u=ja(v).hoistableStyles,h=u.get(l),h||(h={type:"style",instance:null,count:0,state:null},u.set(l,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){o=mo(u.href);var w=ja(v).hoistableStyles,A=w.get(o);if(A||(v=v.ownerDocument||v,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(o,A),(w=v.querySelector(Vs(o)))&&!w._p&&(A.instance=w,A.state.loading=5),sr.has(o)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},sr.set(o,u),w||K3(v,o,u,A.state))),l&&h===null)throw Error(r(528,""));return A}if(l&&h!==null)throw Error(r(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=yo(u),u=ja(v).hoistableScripts,h=u.get(l),h||(h={type:"script",instance:null,count:0,state:null},u.set(l,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function mo(o){return'href="'+er(o)+'"'}function Vs(o){return'link[rel="stylesheet"]['+o+"]"}function sm(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function K3(o,l,u,h){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?h.loading=1:(l=o.createElement("link"),h.preload=l,l.addEventListener("load",function(){return h.loading|=1}),l.addEventListener("error",function(){return h.loading|=2}),vn(l,"link",u),on(l),o.head.appendChild(l))}function yo(o){return'[src="'+er(o)+'"]'}function zs(o){return"script[async]"+o}function lm(o,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var h=o.querySelector('style[data-href~="'+er(u.href)+'"]');if(h)return l.instance=h,on(h),h;var v=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(o.ownerDocument||o).createElement("style"),on(h),vn(h,"style",v),Lc(h,u.precedence,o),l.instance=h;case"stylesheet":v=mo(u.href);var w=o.querySelector(Vs(v));if(w)return l.state.loading|=4,l.instance=w,on(w),w;h=sm(u),(v=sr.get(v))&&Zd(h,v),w=(o.ownerDocument||o).createElement("link"),on(w);var A=w;return A._p=new Promise(function(O,j){A.onload=O,A.onerror=j}),vn(w,"link",h),l.state.loading|=4,Lc(w,u.precedence,o),l.instance=w;case"script":return w=yo(u.src),(v=o.querySelector(zs(w)))?(l.instance=v,on(v),v):(h=u,(v=sr.get(w))&&(h=p({},u),Qd(h,v)),o=o.ownerDocument||o,v=o.createElement("script"),on(v),vn(v,"link",h),o.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(h=l.instance,l.state.loading|=4,Lc(h,u.precedence,o));return l.instance}function Lc(o,l,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,w=v,A=0;A<h.length;A++){var O=h[A];if(O.dataset.precedence===l)w=O;else if(w!==v)break}w?w.parentNode.insertBefore(o,w.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(o,l.firstChild))}function Zd(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function Qd(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var Fc=null;function cm(o,l,u){if(Fc===null){var h=new Map,v=Fc=new Map;v.set(u,h)}else v=Fc,h=v.get(u),h||(h=new Map,v.set(u,h));if(h.has(o))return h;for(h.set(o,null),u=u.getElementsByTagName(o),v=0;v<u.length;v++){var w=u[v];if(!(w[ts]||w[bn]||o==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var A=w.getAttribute(l)||"";A=o+A;var O=h.get(A);O?O.push(w):h.set(A,[w])}}return h}function um(o,l,u){o=o.ownerDocument||o,o.head.insertBefore(u,l==="title"?o.querySelector("head > title"):null)}function Z3(o,l,u){if(u===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function fm(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Hs=null;function Q3(){}function J3(o,l,u){if(Hs===null)throw Error(r(475));var h=Hs;if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=mo(u.href),w=o.querySelector(Vs(v));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(h.count++,h=Uc.bind(h),o.then(h,h)),l.state.loading|=4,l.instance=w,on(w);return}w=o.ownerDocument||o,u=sm(u),(v=sr.get(v))&&Zd(u,v),w=w.createElement("link"),on(w);var A=w;A._p=new Promise(function(O,j){A.onload=O,A.onerror=j}),vn(w,"link",u),l.instance=w}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(h.count++,l=Uc.bind(h),o.addEventListener("load",l),o.addEventListener("error",l))}}function eE(){if(Hs===null)throw Error(r(475));var o=Hs;return o.stylesheets&&o.count===0&&Jd(o,o.stylesheets),0<o.count?function(l){var u=setTimeout(function(){if(o.stylesheets&&Jd(o,o.stylesheets),o.unsuspend){var h=o.unsuspend;o.unsuspend=null,h()}},6e4);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(u)}}:null}function Uc(){if(this.count--,this.count===0){if(this.stylesheets)Jd(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Vc=null;function Jd(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Vc=new Map,l.forEach(tE,o),Vc=null,Uc.call(o))}function tE(o,l){if(!(l.state.loading&4)){var u=Vc.get(o);if(u)var h=u.get(null);else{u=new Map,Vc.set(o,u);for(var v=o.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var A=v[w];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),h=A)}h&&u.set(null,h)}v=l.instance,A=v.getAttribute("data-precedence"),w=u.get(A)||h,w===h&&u.set(null,v),u.set(A,v),this.count++,h=Uc.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),w?w.parentNode.insertBefore(v,w.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(v,o.firstChild)),l.state.loading|=4}}var Gs={$$typeof:T,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function nE(o,l,u,h,v,w,A,O){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wu(0),this.hiddenUpdates=Wu(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function dm(o,l,u,h,v,w,A,O,j,W,re,oe){return o=new nE(o,l,u,A,O,j,W,oe),l=1,w===!0&&(l|=24),w=qn(3,null,null,l),o.current=w,w.stateNode=o,l=Mf(),l.refCount++,o.pooledCache=l,l.refCount++,w.memoizedState={element:h,isDehydrated:u,cache:l},Lf(w),o}function hm(o){return o?(o=Wa,o):Wa}function pm(o,l,u,h,v,w){v=hm(v),h.context===null?h.context=v:h.pendingContext=v,h=xi(l),h.payload={element:u},w=w===void 0?null:w,w!==null&&(h.callback=w),u=wi(o,h,l),u!==null&&(Zn(u,o,l),ws(u,o,l))}function gm(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var u=o.retryLane;o.retryLane=u!==0&&u<l?u:l}}function eh(o,l){gm(o,l),(o=o.alternate)&&gm(o,l)}function vm(o){if(o.tag===13){var l=Xa(o,67108864);l!==null&&Zn(l,o,67108864),eh(o,67108864)}}var zc=!0;function rE(o,l,u,h){var v=k.T;k.T=null;var w=I.p;try{I.p=2,th(o,l,u,h)}finally{I.p=w,k.T=v}}function iE(o,l,u,h){var v=k.T;k.T=null;var w=I.p;try{I.p=8,th(o,l,u,h)}finally{I.p=w,k.T=v}}function th(o,l,u,h){if(zc){var v=nh(h);if(v===null)zd(o,l,h,Hc,u),ym(o,h);else if(oE(v,o,l,u,h))h.stopPropagation();else if(ym(o,h),l&4&&-1<aE.indexOf(o)){for(;v!==null;){var w=Pa(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var A=Cr(w.pendingLanes);if(A!==0){var O=w;for(O.pendingLanes|=2,O.entangledLanes|=2;A;){var j=1<<31-Ae(A);O.entanglements[1]|=j,A&=~j}Ir(w),(ut&6)===0&&(Cc=st()+500,Bs(0))}}break;case 13:O=Xa(w,2),O!==null&&Zn(O,w,2),Oc(),eh(w,2)}if(w=nh(h),w===null&&zd(o,l,h,Hc,u),w===v)break;v=w}v!==null&&h.stopPropagation()}else zd(o,l,h,null,u)}}function nh(o){return o=sf(o),rh(o)}var Hc=null;function rh(o){if(Hc=null,o=Ma(o),o!==null){var l=a(o);if(l===null)o=null;else{var u=l.tag;if(u===13){if(o=s(l),o!==null)return o;o=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return Hc=o,null}function mm(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_n()){case Hr:return 2;case q:return 8;case ue:case he:return 32;case we:return 268435456;default:return 32}default:return 32}}var ih=!1,ki=null,Mi=null,Pi=null,$s=new Map,qs=new Map,ji=[],aE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ym(o,l){switch(o){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":$s.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":qs.delete(l.pointerId)}}function Xs(o,l,u,h,v,w){return o===null||o.nativeEvent!==w?(o={blockedOn:l,domEventName:u,eventSystemFlags:h,nativeEvent:w,targetContainers:[v]},l!==null&&(l=Pa(l),l!==null&&vm(l)),o):(o.eventSystemFlags|=h,l=o.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),o)}function oE(o,l,u,h,v){switch(l){case"focusin":return ki=Xs(ki,o,l,u,h,v),!0;case"dragenter":return Mi=Xs(Mi,o,l,u,h,v),!0;case"mouseover":return Pi=Xs(Pi,o,l,u,h,v),!0;case"pointerover":var w=v.pointerId;return $s.set(w,Xs($s.get(w)||null,o,l,u,h,v)),!0;case"gotpointercapture":return w=v.pointerId,qs.set(w,Xs(qs.get(w)||null,o,l,u,h,v)),!0}return!1}function xm(o){var l=Ma(o.target);if(l!==null){var u=a(l);if(u!==null){if(l=u.tag,l===13){if(l=s(u),l!==null){o.blockedOn=l,J_(o.priority,function(){if(u.tag===13){var h=Kn();h=Yu(h);var v=Xa(u,h);v!==null&&Zn(v,u,h),eh(u,h)}});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){o.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Gc(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var u=nh(o.nativeEvent);if(u===null){u=o.nativeEvent;var h=new u.constructor(u.type,u);of=h,u.target.dispatchEvent(h),of=null}else return l=Pa(u),l!==null&&vm(l),o.blockedOn=u,!1;l.shift()}return!0}function wm(o,l,u){Gc(o)&&u.delete(l)}function sE(){ih=!1,ki!==null&&Gc(ki)&&(ki=null),Mi!==null&&Gc(Mi)&&(Mi=null),Pi!==null&&Gc(Pi)&&(Pi=null),$s.forEach(wm),qs.forEach(wm)}function $c(o,l){o.blockedOn===l&&(o.blockedOn=null,ih||(ih=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,sE)))}var qc=null;function _m(o){qc!==o&&(qc=o,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){qc===o&&(qc=null);for(var l=0;l<o.length;l+=3){var u=o[l],h=o[l+1],v=o[l+2];if(typeof h!="function"){if(rh(h||u)===null)continue;break}var w=Pa(u);w!==null&&(o.splice(l,3),l-=3,rd(w,{pending:!0,data:v,method:u.method,action:h},h,v))}}))}function Ws(o){function l(j){return $c(j,o)}ki!==null&&$c(ki,o),Mi!==null&&$c(Mi,o),Pi!==null&&$c(Pi,o),$s.forEach(l),qs.forEach(l);for(var u=0;u<ji.length;u++){var h=ji[u];h.blockedOn===o&&(h.blockedOn=null)}for(;0<ji.length&&(u=ji[0],u.blockedOn===null);)xm(u),u.blockedOn===null&&ji.shift();if(u=(o.ownerDocument||o).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var v=u[h],w=u[h+1],A=v[jn]||null;if(typeof w=="function")A||_m(u);else if(A){var O=null;if(w&&w.hasAttribute("formAction")){if(v=w,A=w[jn]||null)O=A.formAction;else if(rh(v)!==null)continue}else O=A.action;typeof O=="function"?u[h+1]=O:(u.splice(h,3),h-=3),_m(u)}}}function ah(o){this._internalRoot=o}Xc.prototype.render=ah.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var u=l.current,h=Kn();pm(u,h,o,l,null,null)},Xc.prototype.unmount=ah.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;pm(o.current,2,null,o,null,null),Oc(),l[ka]=null}};function Xc(o){this._internalRoot=o}Xc.prototype.unstable_scheduleHydration=function(o){if(o){var l=L1();o={blockedOn:null,target:o,priority:l};for(var u=0;u<ji.length&&l!==0&&l<ji[u].priority;u++);ji.splice(u,0,o),u===0&&xm(o)}};var bm=e.version;if(bm!=="19.1.1")throw Error(r(527,bm,"19.1.1"));I.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(l),o=o!==null?d(o):null,o=o===null?null:o.stateNode,o};var lE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{Ie=Wc.inject(lE),et=Wc}catch{}}return Ks.createRoot=function(o,l){if(!i(o))throw Error(r(299));var u=!1,h="",v=Lg,w=Fg,A=Ug,O=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(O=l.unstable_transitionCallbacks)),l=dm(o,1,!1,null,null,u,h,v,w,A,O,null),o[ka]=l.current,Vd(o),new ah(l)},Ks.hydrateRoot=function(o,l,u){if(!i(o))throw Error(r(299));var h=!1,v="",w=Lg,A=Fg,O=Ug,j=null,W=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(O=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(j=u.unstable_transitionCallbacks),u.formState!==void 0&&(W=u.formState)),l=dm(o,1,!0,l,u??null,h,v,w,A,O,j,W),l.context=hm(null),u=l.current,h=Kn(),h=Yu(h),v=xi(h),v.callback=null,wi(u,v,h),u=h,l.current.lanes=u,es(l,u),Ir(l),o[ka]=l.current,Vd(o),new Xc(l)},Ks.version="19.1.1",Ks}var Im;function xE(){if(Im)return lh.exports;Im=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),lh.exports=yE(),lh.exports}var wE=xE();/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var km="popstate";function _E(n={}){function e(i,a){let{pathname:s="/",search:c="",hash:f=""}=Na(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Wh("",{pathname:s,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){let s=i.document.querySelector("base"),c="";if(s&&s.getAttribute("href")){let f=i.location.href,d=f.indexOf("#");c=d===-1?f:f.slice(0,d)}return c+"#"+(typeof a=="string"?a:ml(a))}function r(i,a){Ar(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return EE(e,t,r,n)}function Mt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ar(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bE(){return Math.random().toString(36).substring(2,10)}function Mm(n,e){return{usr:n.state,key:n.key,idx:e}}function Wh(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Na(e):e,state:t,key:e&&e.key||r||bE()}}function ml({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Na(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function EE(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,c="POP",f=null,d=p();d==null&&(d=0,s.replaceState({...s.state,idx:d},""));function p(){return(s.state||{idx:null}).idx}function g(){c="POP";let S=p(),b=S==null?null:S-d;d=S,f&&f({action:c,location:E.location,delta:b})}function y(S,b){c="PUSH";let C=Wh(E.location,S,b);t&&t(C,S),d=p()+1;let T=Mm(C,d),D=E.createHref(C);try{s.pushState(T,"",D)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(D)}a&&f&&f({action:c,location:E.location,delta:1})}function x(S,b){c="REPLACE";let C=Wh(E.location,S,b);t&&t(C,S),d=p();let T=Mm(C,d),D=E.createHref(C);s.replaceState(T,"",D),a&&f&&f({action:c,location:E.location,delta:0})}function _(S){return SE(S)}let E={get action(){return c},get location(){return n(i,s)},listen(S){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(km,g),f=S,()=>{i.removeEventListener(km,g),f=null}},createHref(S){return e(i,S)},createURL:_,encodeLocation(S){let b=_(S);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:y,replace:x,go(S){return s.go(S)}};return E}function SE(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:ml(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function h2(n,e,t="/"){return AE(n,e,t,!1)}function AE(n,e,t,r){let i=typeof e=="string"?Na(e):e,a=ci(i.pathname||"/",t);if(a==null)return null;let s=p2(n);CE(s);let c=null;for(let f=0;c==null&&f<s.length;++f){let d=BE(a);c=PE(s[f],d,r)}return c}function p2(n,e=[],t=[],r=""){let i=(a,s,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};f.relativePath.startsWith("/")&&(Mt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let d=li([r,f.relativePath]),p=t.concat(f);a.children&&a.children.length>0&&(Mt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),p2(a.children,e,p,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:kE(d,a.index),routesMeta:p})};return n.forEach((a,s)=>{if(a.path===""||!a.path?.includes("?"))i(a,s);else for(let c of g2(a.path))i(a,s,c)}),e}function g2(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=g2(r.join("/")),c=[];return c.push(...s.map(f=>f===""?a:[a,f].join("/"))),i&&c.push(...s),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function CE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:ME(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var TE=/^:[\w-]+$/,OE=3,RE=2,DE=1,NE=10,IE=-2,Pm=n=>n==="*";function kE(n,e){let t=n.split("/"),r=t.length;return t.some(Pm)&&(r+=IE),e&&(r+=RE),t.filter(i=>!Pm(i)).reduce((i,a)=>i+(TE.test(a)?OE:a===""?DE:NE),r)}function ME(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function PE(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",s=[];for(let c=0;c<r.length;++c){let f=r[c],d=c===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=_u({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},p),y=f.route;if(!g&&d&&t&&!r[r.length-1].route.index&&(g=_u({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),s.push({params:i,pathname:li([a,g.pathname]),pathnameBase:VE(li([a,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(a=li([a,g.pathnameBase]))}return s}function _u(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=jE(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((d,{paramName:p,isOptional:g},y)=>{if(p==="*"){let _=c[y]||"";s=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const x=c[y];return g&&!x?d[p]=void 0:d[p]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:s,pattern:n}}function jE(n,e=!1,t=!0){Ar(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function BE(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ar(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ci(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function LE(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Na(n):n;return{pathname:t?t.startsWith("/")?t:FE(t,e):e,search:zE(r),hash:HE(i)}}function FE(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function dh(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UE(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function v2(n){let e=UE(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function m2(n,e,t,r=!1){let i;typeof n=="string"?i=Na(n):(i={...n},Mt(!i.pathname||!i.pathname.includes("?"),dh("?","pathname","search",i)),Mt(!i.pathname||!i.pathname.includes("#"),dh("#","pathname","hash",i)),Mt(!i.search||!i.search.includes("#"),dh("#","search","hash",i)));let a=n===""||i.pathname==="",s=a?"/":i.pathname,c;if(s==null)c=t;else{let g=e.length-1;if(!r&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}c=g>=0?e[g]:"/"}let f=LE(i,c),d=s&&s!=="/"&&s.endsWith("/"),p=(a||s===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||p)&&(f.pathname+="/"),f}var li=n=>n.join("/").replace(/\/\/+/g,"/"),VE=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),zE=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,HE=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function GE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var y2=["POST","PUT","PATCH","DELETE"];new Set(y2);var $E=["GET",...y2];new Set($E);var Xo=R.createContext(null);Xo.displayName="DataRouter";var Pu=R.createContext(null);Pu.displayName="DataRouterState";R.createContext(!1);var x2=R.createContext({isTransitioning:!1});x2.displayName="ViewTransition";var qE=R.createContext(new Map);qE.displayName="Fetchers";var XE=R.createContext(null);XE.displayName="Await";var zr=R.createContext(null);zr.displayName="Navigation";var Al=R.createContext(null);Al.displayName="Location";var di=R.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var F0=R.createContext(null);F0.displayName="RouteError";function WE(n,{relative:e}={}){Mt(Cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=R.useContext(zr),{hash:i,pathname:a,search:s}=Tl(n,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:li([t,a])),r.createHref({pathname:c,search:s,hash:i})}function Cl(){return R.useContext(Al)!=null}function hi(){return Mt(Cl(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Al).location}var w2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _2(n){R.useContext(zr).static||R.useLayoutEffect(n)}function ju(){let{isDataRoute:n}=R.useContext(di);return n?sS():YE()}function YE(){Mt(Cl(),"useNavigate() may be used only in the context of a <Router> component.");let n=R.useContext(Xo),{basename:e,navigator:t}=R.useContext(zr),{matches:r}=R.useContext(di),{pathname:i}=hi(),a=JSON.stringify(v2(r)),s=R.useRef(!1);return _2(()=>{s.current=!0}),R.useCallback((f,d={})=>{if(Ar(s.current,w2),!s.current)return;if(typeof f=="number"){t.go(f);return}let p=m2(f,JSON.parse(a),i,d.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:li([e,p.pathname])),(d.replace?t.replace:t.push)(p,d.state,d)},[e,t,a,i,n])}R.createContext(null);function Tl(n,{relative:e}={}){let{matches:t}=R.useContext(di),{pathname:r}=hi(),i=JSON.stringify(v2(t));return R.useMemo(()=>m2(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function KE(n,e){return b2(n,e)}function b2(n,e,t,r){Mt(Cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=R.useContext(zr),{matches:a}=R.useContext(di),s=a[a.length-1],c=s?s.params:{},f=s?s.pathname:"/",d=s?s.pathnameBase:"/",p=s&&s.route;{let b=p&&p.path||"";E2(f,!p||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let g=hi(),y;if(e){let b=typeof e=="string"?Na(e):e;Mt(d==="/"||b.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${b.pathname}" was given in the \`location\` prop.`),y=b}else y=g;let x=y.pathname||"/",_=x;if(d!=="/"){let b=d.replace(/^\//,"").split("/");_="/"+x.replace(/^\//,"").split("/").slice(b.length).join("/")}let E=h2(n,{pathname:_});Ar(p||E!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Ar(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=tS(E&&E.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:li([d,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:li([d,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,t,r);return e&&S?R.createElement(Al.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},S):S}function ZE(){let n=oS(),e=GE(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",n),s=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:a},"ErrorBoundary")," or"," ",R.createElement("code",{style:a},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:i},t):null,s)}var QE=R.createElement(ZE,null),JE=class extends R.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?R.createElement(di.Provider,{value:this.props.routeContext},R.createElement(F0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eS({routeContext:n,match:e,children:t}){let r=R.useContext(Xo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(di.Provider,{value:n},t)}function tS(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t?.errors;if(a!=null){let f=i.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);Mt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let s=!1,c=-1;if(t)for(let f=0;f<i.length;f++){let d=i[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:p,errors:g}=t,y=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!g||g[d.route.id]===void 0);if(d.route.lazy||y){s=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((f,d,p)=>{let g,y=!1,x=null,_=null;t&&(g=a&&d.route.id?a[d.route.id]:void 0,x=d.route.errorElement||QE,s&&(c<0&&p===0?(E2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,_=null):c===p&&(y=!0,_=d.route.hydrateFallbackElement||null)));let E=e.concat(i.slice(0,p+1)),S=()=>{let b;return g?b=x:y?b=_:d.route.Component?b=R.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=f,R.createElement(eS,{match:d,routeContext:{outlet:f,matches:E,isDataRoute:t!=null},children:b})};return t&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?R.createElement(JE,{location:t.location,revalidation:t.revalidation,component:x,error:g,children:S(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):S()},null)}function U0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nS(n){let e=R.useContext(Xo);return Mt(e,U0(n)),e}function rS(n){let e=R.useContext(Pu);return Mt(e,U0(n)),e}function iS(n){let e=R.useContext(di);return Mt(e,U0(n)),e}function V0(n){let e=iS(n),t=e.matches[e.matches.length-1];return Mt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function aS(){return V0("useRouteId")}function oS(){let n=R.useContext(F0),e=rS("useRouteError"),t=V0("useRouteError");return n!==void 0?n:e.errors?.[t]}function sS(){let{router:n}=nS("useNavigate"),e=V0("useNavigate"),t=R.useRef(!1);return _2(()=>{t.current=!0}),R.useCallback(async(i,a={})=>{Ar(t.current,w2),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var jm={};function E2(n,e,t){!e&&!jm[n]&&(jm[n]=!0,Ar(!1,t))}R.memo(lS);function lS({routes:n,future:e,state:t}){return b2(n,void 0,t,e)}function kr(n){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cS({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1}){Mt(!Cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=n.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof t=="string"&&(t=Na(t));let{pathname:f="/",search:d="",hash:p="",state:g=null,key:y="default"}=t,x=R.useMemo(()=>{let _=ci(f,s);return _==null?null:{location:{pathname:_,search:d,hash:p,state:g,key:y},navigationType:r}},[s,f,d,p,g,y,r]);return Ar(x!=null,`<Router basename="${s}"> is not able to match the URL "${f}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:R.createElement(zr.Provider,{value:c},R.createElement(Al.Provider,{children:e,value:x}))}function uS({children:n,location:e}){return KE(Yh(n),e)}function Yh(n,e=[]){let t=[];return R.Children.forEach(n,(r,i)=>{if(!R.isValidElement(r))return;let a=[...e,i];if(r.type===R.Fragment){t.push.apply(t,Yh(r.props.children,a));return}Mt(r.type===kr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Yh(r.props.children,a)),t.push(s)}),t}var fu="get",du="application/x-www-form-urlencoded";function Bu(n){return n!=null&&typeof n.tagName=="string"}function fS(n){return Bu(n)&&n.tagName.toLowerCase()==="button"}function dS(n){return Bu(n)&&n.tagName.toLowerCase()==="form"}function hS(n){return Bu(n)&&n.tagName.toLowerCase()==="input"}function pS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function gS(n,e){return n.button===0&&(!e||e==="_self")&&!pS(n)}var Yc=null;function vS(){if(Yc===null)try{new FormData(document.createElement("form"),0),Yc=!1}catch{Yc=!0}return Yc}var mS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hh(n){return n!=null&&!mS.has(n)?(Ar(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${du}"`),null):n}function yS(n,e){let t,r,i,a,s;if(dS(n)){let c=n.getAttribute("action");r=c?ci(c,e):null,t=n.getAttribute("method")||fu,i=hh(n.getAttribute("enctype"))||du,a=new FormData(n)}else if(fS(n)||hS(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?ci(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||fu,i=hh(n.getAttribute("formenctype"))||hh(c.getAttribute("enctype"))||du,a=new FormData(c,n),!vS()){let{name:d,type:p,value:g}=n;if(p==="image"){let y=d?`${d}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else d&&a.append(d,g)}}else{if(Bu(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=fu,r=null,i=du,s=n}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function z0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xS(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&ci(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function wS(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _S(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function bS(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await wS(a,t);return s.links?s.links():[]}return[]}));return CS(r.flat(1).filter(_S).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Bm(n,e,t,r,i,a){let s=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,c=(f,d)=>t[d].pathname!==f.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,d)=>s(f,d)||c(f,d)):a==="data"?e.filter((f,d)=>{let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(s(f,d)||c(f,d))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function ES(n,e,{includeHydrateFallback:t}={}){return SS(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function SS(n){return[...new Set(n)]}function AS(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function CS(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(AS(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}function S2(){let n=R.useContext(Xo);return z0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function TS(){let n=R.useContext(Pu);return z0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var H0=R.createContext(void 0);H0.displayName="FrameworkContext";function A2(){let n=R.useContext(H0);return z0(n,"You must render this element inside a <HydratedRouter> element"),n}function OS(n,e){let t=R.useContext(H0),[r,i]=R.useState(!1),[a,s]=R.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:d,onMouseLeave:p,onTouchStart:g}=e,y=R.useRef(null);R.useEffect(()=>{if(n==="render"&&s(!0),n==="viewport"){let E=b=>{b.forEach(C=>{s(C.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[n]),R.useEffect(()=>{if(r){let E=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(E)}}},[r]);let x=()=>{i(!0)},_=()=>{i(!1),s(!1)};return t?n!=="intent"?[a,y,{}]:[a,y,{onFocus:Zs(c,x),onBlur:Zs(f,_),onMouseEnter:Zs(d,x),onMouseLeave:Zs(p,_),onTouchStart:Zs(g,x)}]:[!1,y,{}]}function Zs(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function RS({page:n,...e}){let{router:t}=S2(),r=R.useMemo(()=>h2(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?R.createElement(NS,{page:n,matches:r,...e}):null}function DS(n){let{manifest:e,routeModules:t}=A2(),[r,i]=R.useState([]);return R.useEffect(()=>{let a=!1;return bS(n,e,t).then(s=>{a||i(s)}),()=>{a=!0}},[n,e,t]),r}function NS({page:n,matches:e,...t}){let r=hi(),{manifest:i,routeModules:a}=A2(),{basename:s}=S2(),{loaderData:c,matches:f}=TS(),d=R.useMemo(()=>Bm(n,e,f,i,r,"data"),[n,e,f,i,r]),p=R.useMemo(()=>Bm(n,e,f,i,r,"assets"),[n,e,f,i,r]),g=R.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let _=new Set,E=!1;if(e.forEach(b=>{let C=i.routes[b.route.id];!C||!C.hasLoader||(!d.some(T=>T.route.id===b.route.id)&&b.route.id in c&&a[b.route.id]?.shouldRevalidate||C.hasClientLoader?E=!0:_.add(b.route.id))}),_.size===0)return[];let S=xS(n,s,"data");return E&&_.size>0&&S.searchParams.set("_routes",e.filter(b=>_.has(b.route.id)).map(b=>b.route.id).join(",")),[S.pathname+S.search]},[s,c,r,i,d,e,n,a]),y=R.useMemo(()=>ES(p,i),[p,i]),x=DS(p);return R.createElement(R.Fragment,null,g.map(_=>R.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),y.map(_=>R.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),x.map(({key:_,link:E})=>R.createElement("link",{key:_,nonce:t.nonce,...E})))}function IS(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var C2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{C2&&(window.__reactRouterVersion="7.8.0")}catch{}function kS({basename:n,children:e,window:t}){let r=R.useRef();r.current==null&&(r.current=_E({window:t,v5Compat:!0}));let i=r.current,[a,s]=R.useState({action:i.action,location:i.location}),c=R.useCallback(f=>{R.startTransition(()=>s(f))},[s]);return R.useLayoutEffect(()=>i.listen(c),[i,c]),R.createElement(cS,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var T2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,O2=R.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:c,target:f,to:d,preventScrollReset:p,viewTransition:g,...y},x){let{basename:_}=R.useContext(zr),E=typeof d=="string"&&T2.test(d),S,b=!1;if(typeof d=="string"&&E&&(S=d,C2))try{let G=new URL(window.location.href),te=d.startsWith("//")?new URL(G.protocol+d):new URL(d),ae=ci(te.pathname,_);te.origin===G.origin&&ae!=null?d=ae+te.search+te.hash:b=!0}catch{Ar(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=WE(d,{relative:i}),[T,D,P]=OS(r,y),L=jS(d,{replace:s,state:c,target:f,preventScrollReset:p,relative:i,viewTransition:g});function U(G){e&&e(G),G.defaultPrevented||L(G)}let $=R.createElement("a",{...y,...P,href:S||C,onClick:b||a?e:U,ref:IS(x,D),target:f,"data-discover":!E&&t==="render"?"true":void 0});return T&&!E?R.createElement(R.Fragment,null,$,R.createElement(RS,{page:C})):$});O2.displayName="Link";var Mr=R.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:c,children:f,...d},p){let g=Tl(s,{relative:d.relative}),y=hi(),x=R.useContext(Pu),{navigator:_,basename:E}=R.useContext(zr),S=x!=null&&VS(g)&&c===!0,b=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,C=y.pathname,T=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(C=C.toLowerCase(),T=T?T.toLowerCase():null,b=b.toLowerCase()),T&&E&&(T=ci(T,E)||T);const D=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let P=C===b||!i&&C.startsWith(b)&&C.charAt(D)==="/",L=T!=null&&(T===b||!i&&T.startsWith(b)&&T.charAt(b.length)==="/"),U={isActive:P,isPending:L,isTransitioning:S},$=P?e:void 0,G;typeof r=="function"?G=r(U):G=[r,P?"active":null,L?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let te=typeof a=="function"?a(U):a;return R.createElement(O2,{...d,"aria-current":$,className:G,ref:p,style:te,to:s,viewTransition:c},typeof f=="function"?f(U):f)});Mr.displayName="NavLink";var MS=R.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:s=fu,action:c,onSubmit:f,relative:d,preventScrollReset:p,viewTransition:g,...y},x)=>{let _=FS(),E=US(c,{relative:d}),S=s.toLowerCase()==="get"?"get":"post",b=typeof c=="string"&&T2.test(c),C=T=>{if(f&&f(T),T.defaultPrevented)return;T.preventDefault();let D=T.nativeEvent.submitter,P=D?.getAttribute("formmethod")||s;_(D||T.currentTarget,{fetcherKey:e,method:P,navigate:t,replace:i,state:a,relative:d,preventScrollReset:p,viewTransition:g})};return R.createElement("form",{ref:x,method:S,action:E,onSubmit:r?f:C,...y,"data-discover":!b&&n==="render"?"true":void 0})});MS.displayName="Form";function PS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R2(n){let e=R.useContext(Xo);return Mt(e,PS(n)),e}function jS(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let c=ju(),f=hi(),d=Tl(n,{relative:a});return R.useCallback(p=>{if(gS(p,e)){p.preventDefault();let g=t!==void 0?t:ml(f)===ml(d);c(n,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[f,c,d,t,r,e,n,i,a,s])}var BS=0,LS=()=>`__${String(++BS)}__`;function FS(){let{router:n}=R2("useSubmit"),{basename:e}=R.useContext(zr),t=aS();return R.useCallback(async(r,i={})=>{let{action:a,method:s,encType:c,formData:f,body:d}=yS(r,e);if(i.navigate===!1){let p=i.fetcherKey||LS();await n.fetch(p,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||s,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||s,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function US(n,{relative:e}={}){let{basename:t}=R.useContext(zr),r=R.useContext(di);Mt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Tl(n||".",{relative:e})},s=hi();if(n==null){a.search=s.search;let c=new URLSearchParams(a.search),f=c.getAll("index");if(f.some(p=>p==="")){c.delete("index"),f.filter(g=>g).forEach(g=>c.append("index",g));let p=c.toString();a.search=p?`?${p}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:li([t,a.pathname])),ml(a)}function VS(n,{relative:e}={}){let t=R.useContext(x2);Mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=R2("useViewTransitionState"),i=Tl(n,{relative:e});if(!t.isTransitioning)return!1;let a=ci(t.currentLocation.pathname,r)||t.currentLocation.pathname,s=ci(t.nextLocation.pathname,r)||t.nextLocation.pathname;return _u(i.pathname,s)!=null||_u(i.pathname,a)!=null}const zS="modulepreload",HS=function(n){return"/IARE-Canteen-Web/"+n},Lm={},Ol=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),c=s?.nonce||s?.getAttribute("nonce");i=f(t.map(d=>{if(d=HS(d),d in Lm)return;Lm[d]=!0;const p=d.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":zS,p||(y.as="script"),y.crossOrigin="",y.href=d,c&&y.setAttribute("nonce",c),document.head.appendChild(y),p)return new Promise((x,_)=>{y.addEventListener("load",x),y.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(s){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s}return i.then(s=>{for(const c of s||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})},GS=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Ol(async()=>{const{default:r}=await Promise.resolve().then(()=>Wo);return{default:r}},[]).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class G0 extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class $S extends G0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Fm extends G0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Um extends G0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Kh;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Kh||(Kh={}));var qS=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function c(p){try{d(r.next(p))}catch(g){s(g)}}function f(p){try{d(r.throw(p))}catch(g){s(g)}}function d(p){p.done?a(p.value):i(p.value).then(c,f)}d((r=r.apply(n,e||[])).next())})};class XS{constructor(e,{headers:t={},customFetch:r,region:i=Kh.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=GS(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return qS(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=t;let c={},{region:f}=t;f||(f=this.region);const d=new URL(`${this.url}/${e}`);f&&f!=="any"&&(c["x-region"]=f,d.searchParams.set("forceFunctionRegion",f));let p;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",p=s):typeof s=="string"?(c["Content-Type"]="text/plain",p=s):typeof FormData<"u"&&s instanceof FormData?p=s:(c["Content-Type"]="application/json",p=JSON.stringify(s)));const g=yield this.fetch(d.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:p}).catch(E=>{throw new $S(E)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new Fm(g);if(!g.ok)throw new Um(g);let x=((r=g.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return x==="application/json"?_=yield g.json():x==="application/octet-stream"?_=yield g.blob():x==="text/event-stream"?_=g:x==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(i){return{data:null,error:i,response:i instanceof Um||i instanceof Fm?i.context:void 0}}})}}var un={},xo={},wo={},_o={},bo={},Eo={},WS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zo=WS();const YS=zo.fetch,D2=zo.fetch.bind(zo),N2=zo.Headers,KS=zo.Request,ZS=zo.Response,Wo=Object.freeze(Object.defineProperty({__proto__:null,Headers:N2,Request:KS,Response:ZS,default:D2,fetch:YS},Symbol.toStringTag,{value:"Module"})),QS=uE(Wo);var Kc={},Vm;function I2(){if(Vm)return Kc;Vm=1,Object.defineProperty(Kc,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Kc.default=n,Kc}var zm;function k2(){if(zm)return Eo;zm=1;var n=Eo&&Eo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Eo,"__esModule",{value:!0});const e=n(QS),t=n(I2());class r{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,s){return this.headers=Object.assign({},this.headers),this.headers[a]=s,this}then(a,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const c=this.fetch;let f=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var p,g,y;let x=null,_=null,E=null,S=d.status,b=d.statusText;if(d.ok){if(this.method!=="HEAD"){const P=await d.text();P===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?_=P:_=JSON.parse(P))}const T=(p=this.headers.Prefer)===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),D=(g=d.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");T&&D&&D.length>1&&(E=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(x={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,E=null,S=406,b="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const T=await d.text();try{x=JSON.parse(T),Array.isArray(x)&&d.status===404&&(_=[],x=null,S=200,b="OK")}catch{d.status===404&&T===""?(S=204,b="No Content"):x={message:T}}if(x&&this.isMaybeSingle&&(!((y=x?.details)===null||y===void 0)&&y.includes("0 rows"))&&(x=null,S=200,b="OK"),x&&this.shouldThrowOnError)throw new t.default(x)}return{error:x,data:_,count:E,status:S,statusText:b}});return this.shouldThrowOnError||(f=f.catch(d=>{var p,g,y;return{error:{message:`${(p=d?.name)!==null&&p!==void 0?p:"FetchError"}: ${d?.message}`,details:`${(g=d?.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(y=d?.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),f.then(a,s)}returns(){return this}overrideTypes(){return this}}return Eo.default=r,Eo}var Hm;function M2(){if(Hm)return bo;Hm=1;var n=bo&&bo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bo,"__esModule",{value:!0});const e=n(k2());class t extends e.default{select(i){let a=!1;const s=(i??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:a=!0,nullsFirst:s,foreignTable:c,referencedTable:f=c}={}){const d=f?`${f}.order`:"order",p=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${p?`${p},`:""}${i}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:s=a}={}){const c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,a,{foreignTable:s,referencedTable:c=s}={}){const f=typeof c>"u"?"offset":`${c}.offset`,d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(d,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:a=!1,settings:s=!1,buffers:c=!1,wal:f=!1,format:d="text"}={}){var p;const g=[i?"analyze":null,a?"verbose":null,s?"settings":null,c?"buffers":null,f?"wal":null].filter(Boolean).join("|"),y=(p=this.headers.Accept)!==null&&p!==void 0?p:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${y}"; options=${g};`,d==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return bo.default=t,bo}var Gm;function $0(){if(Gm)return _o;Gm=1;var n=_o&&_o.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_o,"__esModule",{value:!0});const e=n(M2());class t extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const s=Array.from(new Set(a)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:s,type:c}={}){let f="";c==="plain"?f="pl":c==="phrase"?f="ph":c==="websearch"&&(f="w");const d=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${f}fts${d}.${a}`),this}match(i){return Object.entries(i).forEach(([a,s])=>{this.url.searchParams.append(a,`eq.${s}`)}),this}not(i,a,s){return this.url.searchParams.append(i,`not.${a}.${s}`),this}or(i,{foreignTable:a,referencedTable:s=a}={}){const c=s?`${s}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,a,s){return this.url.searchParams.append(i,`${a}.${s}`),this}}return _o.default=t,_o}var $m;function P2(){if($m)return wo;$m=1;var n=wo&&wo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wo,"__esModule",{value:!0});const e=n($0());class t{constructor(i,{headers:a={},schema:s,fetch:c}){this.url=i,this.headers=a,this.schema=s,this.fetch=c}select(i,{head:a=!1,count:s}={}){const c=a?"HEAD":"GET";let f=!1;const d=(i??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",d),s&&(this.headers.Prefer=`count=${s}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:a,defaultToNull:s=!0}={}){const c="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),a&&f.push(`count=${a}`),s||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(i)){const d=i.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(d.length>0){const p=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:a,ignoreDuplicates:s=!1,count:c,defaultToNull:f=!0}={}){const d="POST",p=[`resolution=${s?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&p.push(this.headers.Prefer),c&&p.push(`count=${c}`),f||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(i)){const g=i.reduce((y,x)=>y.concat(Object.keys(x)),[]);if(g.length>0){const y=[...new Set(g)].map(x=>`"${x}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:a}={}){const s="PATCH",c=[];return this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),this.headers.Prefer=c.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const a="DELETE",s=[];return i&&s.push(`count=${i}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return wo.default=t,wo}var Qs={},Js={},qm;function JS(){return qm||(qm=1,Object.defineProperty(Js,"__esModule",{value:!0}),Js.version=void 0,Js.version="0.0.0-automated"),Js}var Xm;function eA(){if(Xm)return Qs;Xm=1,Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.DEFAULT_HEADERS=void 0;const n=JS();return Qs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},Qs}var Wm;function tA(){if(Wm)return xo;Wm=1;var n=xo&&xo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(xo,"__esModule",{value:!0});const e=n(P2()),t=n($0()),r=eA();class i{constructor(s,{headers:c={},schema:f,fetch:d}={}){this.url=s,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),c),this.schemaName=f,this.fetch=d}from(s){const c=new URL(`${this.url}/${s}`);return new e.default(c,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new i(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,c={},{head:f=!1,get:d=!1,count:p}={}){let g;const y=new URL(`${this.url}/rpc/${s}`);let x;f||d?(g=f?"HEAD":"GET",Object.entries(c).filter(([E,S])=>S!==void 0).map(([E,S])=>[E,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([E,S])=>{y.searchParams.append(E,S)})):(g="POST",x=c);const _=Object.assign({},this.headers);return p&&(_.Prefer=`count=${p}`),new t.default({method:g,url:y,headers:_,schema:this.schemaName,body:x,fetch:this.fetch,allowEmpty:!1})}}return xo.default=i,xo}var Ym;function nA(){if(Ym)return un;Ym=1;var n=un&&un.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(un,"__esModule",{value:!0}),un.PostgrestError=un.PostgrestBuilder=un.PostgrestTransformBuilder=un.PostgrestFilterBuilder=un.PostgrestQueryBuilder=un.PostgrestClient=void 0;const e=n(tA());un.PostgrestClient=e.default;const t=n(P2());un.PostgrestQueryBuilder=t.default;const r=n($0());un.PostgrestFilterBuilder=r.default;const i=n(M2());un.PostgrestTransformBuilder=i.default;const a=n(k2());un.PostgrestBuilder=a.default;const s=n(I2());return un.PostgrestError=s.default,un.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:s.default},un}var rA=nA();const iA=f2(rA),{PostgrestClient:aA,PostgrestQueryBuilder:e7,PostgrestFilterBuilder:t7,PostgrestTransformBuilder:n7,PostgrestBuilder:r7,PostgrestError:i7}=iA;class oA{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const t=parseInt(process.versions.node.split(".")[0]);return t>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${t} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${t} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const sA="2.15.1",lA=`realtime-js/${sA}`,cA="1.0.0",Zh=1e4,uA=1e3,fA=100;var cl;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(cl||(cl={}));var Kt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Kt||(Kt={}));var br;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(br||(br={}));var Qh;(function(n){n.websocket="websocket"})(Qh||(Qh={}));var Ea;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ea||(Ea={}));class dA{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const i=t.getUint8(1),a=t.getUint8(2);let s=this.HEADER_LENGTH+2;const c=r.decode(e.slice(s,s+i));s=s+i;const f=r.decode(e.slice(s,s+a));s=s+a;const d=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:c,event:f,payload:d}}}class j2{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _t;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(_t||(_t={}));const Km=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,s)=>(a[s]=hA(s,n,e,i),a),{})},hA=(n,e,t,r)=>{const i=e.find(c=>c.name===n),a=i?.type,s=t[n];return a&&!r.includes(a)?B2(a,s):Jh(s)},B2=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return mA(e,t)}switch(n){case _t.bool:return pA(e);case _t.float4:case _t.float8:case _t.int2:case _t.int4:case _t.int8:case _t.numeric:case _t.oid:return gA(e);case _t.json:case _t.jsonb:return vA(e);case _t.timestamp:return yA(e);case _t.abstime:case _t.date:case _t.daterange:case _t.int4range:case _t.int8range:case _t.money:case _t.reltime:case _t.text:case _t.time:case _t.timestamptz:case _t.timetz:case _t.tsrange:case _t.tstzrange:return Jh(e);default:return Jh(e)}},Jh=n=>n,pA=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},gA=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},vA=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},mA=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let a;const s=n.slice(1,t);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(c=>B2(e,c))}return n},yA=n=>typeof n=="string"?n.replace(" ","T"):n,L2=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class ph{constructor(e,t,r={},i=Zh){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Zm;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Zm||(Zm={}));class ul{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:s,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ul.syncState(this.state,i,a,s),this.pendingDiffs.forEach(f=>{this.state=ul.syncDiff(this.state,f,a,s)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ul.syncDiff(this.state,i,a,s),c())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const a=this.cloneDeep(e),s=this.transformState(t),c={},f={};return this.map(a,(d,p)=>{s[d]||(f[d]=p)}),this.map(s,(d,p)=>{const g=a[d];if(g){const y=p.map(S=>S.presence_ref),x=g.map(S=>S.presence_ref),_=p.filter(S=>x.indexOf(S.presence_ref)<0),E=g.filter(S=>y.indexOf(S.presence_ref)<0);_.length>0&&(c[d]=_),E.length>0&&(f[d]=E)}else c[d]=p}),this.syncDiff(a,{joins:c,leaves:f},r,i)}static syncDiff(e,t,r,i){const{joins:a,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(c,f)=>{var d;const p=(d=e[c])!==null&&d!==void 0?d:[];if(e[c]=this.cloneDeep(f),p.length>0){const g=e[c].map(x=>x.presence_ref),y=p.filter(x=>g.indexOf(x.presence_ref)<0);e[c].unshift(...y)}r(c,p,f)}),this.map(s,(c,f)=>{let d=e[c];if(!d)return;const p=f.map(g=>g.presence_ref);d=d.filter(g=>p.indexOf(g.presence_ref)<0),e[c]=d,i(c,d,f),d.length===0&&delete e[c]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return"metas"in i?t[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qm;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Qm||(Qm={}));var fl;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(fl||(fl={}));var si;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(si||(si={}));class q0{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ph(this,br.join,this.params,this.timeout),this.rejoinTimer=new j2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Kt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(br.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new ul(this),this.broadcastEndpointURL=L2(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Kt.closed){const{config:{broadcast:a,presence:s,private:c}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[fl.PRESENCE]&&this.bindings[fl.PRESENCE].length>0,p={},g={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:f,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(y=>e?.(si.CHANNEL_ERROR,y)),this._onClose(()=>e?.(si.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:y})=>{var x;if(this.socket.setAuth(),y===void 0){e?.(si.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,E=(x=_?.length)!==null&&x!==void 0?x:0,S=[];for(let b=0;b<E;b++){const C=_[b],{filter:{event:T,schema:D,table:P,filter:L}}=C,U=y&&y[b];if(U&&U.event===T&&U.schema===D&&U.table===P&&U.filter===L)S.push(Object.assign(Object.assign({},C),{id:U.id}));else{this.unsubscribe(),this.state=Kt.errored,e?.(si.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(si.SUBSCRIBED);return}}).receive("error",y=>{this.state=Kt.errored,e?.(si.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e?.(si.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===Kt.joined&&e===fl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async send(e,t={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:s}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,c,f;const d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(c=(s=this.params)===null||s===void 0?void 0:s.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Kt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(br.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new ph(this,br.leave,{},e),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Kt.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(a),s}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ph(this,e,t,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>fA){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,a;const s=e.toLocaleLowerCase(),{close:c,error:f,leave:d,join:p}=br;if(r&&[c,f,d,p].indexOf(s)>=0&&r!==this._joinRef())return;let y=this._onMessage(s,t,r);if(t&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var _,E,S;return((_=x.filter)===null||_===void 0?void 0:_.event)==="*"||((S=(E=x.filter)===null||E===void 0?void 0:E.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===s}).map(x=>x.callback(y,r)):(a=this.bindings[s])===null||a===void 0||a.filter(x=>{var _,E,S,b,C,T;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in x){const D=x.id,P=(_=x.filter)===null||_===void 0?void 0:_.event;return D&&((E=t.ids)===null||E===void 0?void 0:E.includes(D))&&(P==="*"||P?.toLocaleLowerCase()===((S=t.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const D=(C=(b=x?.filter)===null||b===void 0?void 0:b.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return D==="*"||D===((T=t?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===s}).map(x=>{if(typeof y=="object"&&"ids"in y){const _=y.data,{schema:E,table:S,commit_timestamp:b,type:C,errors:T}=_;y=Object.assign(Object.assign({},{schema:E,table:S,commit_timestamp:b,eventType:C,new:{},old:{},errors:T}),this._getPayloadRecords(_))}x.callback(y,r)})}_isClosed(){return this.state===Kt.closed}_isJoined(){return this.state===Kt.joined}_isJoining(){return this.state===Kt.joining}_isLeaving(){return this.state===Kt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const i=e.toLocaleLowerCase(),a={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&q0.isEqual(i.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(br.close,{},e)}_onError(e){this._on(br.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Kt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Km(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Km(e.columns,e.old_record)),t}}const Jm=()=>{},Zc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xA=[1e3,2e3,5e3,1e4],wA=1e4,_A=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bA{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zh,this.transport=null,this.heartbeatIntervalMs=Zc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Jm,this.ref=0,this.reconnectTimer=null,this.logger=Jm,this.conn=null,this.sendBuffer=[],this.serializer=new dA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...s)=>Ol(async()=>{const{default:c}=await Promise.resolve().then(()=>Wo);return{default:c}},void 0).then(({default:c})=>c(...s)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...s)=>a(...s)},!(!((r=t?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Qh.websocket}`,this.httpEndpoint=L2(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=oA.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cA}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case cl.connecting:return Ea.Connecting;case cl.open:return Ea.Open;case cl.closing:return Ea.Closing;default:return Ea.Closed}}isConnected(){return this.connectionState()===Ea.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new q0(`realtime:${e}`,t,this);return this.channels.push(a),a}}push(e){const{topic:t,event:r,payload:i,ref:a}=e,s=()=>{this.encode(e,c=>{var f;(f=this.conn)===null||f===void 0||f.send(c)})};this.log("push",`${t} ${r} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(uA,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Zc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{t.topic==="phoenix"&&t.event==="phx_reply"&&this.heartbeatCallback(t.payload.status==="ok"?"ok":"error"),t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:s}=t,c=s?`(${s})`:"",f=a.status||"";this.log("receive",`${f} ${r} ${i} ${c}`.trim(),a),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,a,s)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(br.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([_A],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const i={access_token:t,version:lA};t&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(br.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new j2(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Zc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,i,a,s,c,f,d;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:Zh,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Zc.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=e?.accessToken)!==null&&s!==void 0?s:null,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:(p=>xA[p-1]||wA),this.encode=(f=e?.encode)!==null&&f!==void 0?f:((p,g)=>g(JSON.stringify(p))),this.decode=(d=e?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class X0 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Jt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class EA extends X0{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class e0 extends X0{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var SA=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function c(p){try{d(r.next(p))}catch(g){s(g)}}function f(p){try{d(r.throw(p))}catch(g){s(g)}}function d(p){p.done?a(p.value):i(p.value).then(c,f)}d((r=r.apply(n,e||[])).next())})};const F2=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Ol(async()=>{const{default:r}=await Promise.resolve().then(()=>Wo);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},AA=()=>SA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ol(()=>Promise.resolve().then(()=>Wo),void 0)).Response:Response}),t0=n=>{if(Array.isArray(n))return n.map(t=>t0(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=t0(r)}),e},CA=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var Ia=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function c(p){try{d(r.next(p))}catch(g){s(g)}}function f(p){try{d(r.throw(p))}catch(g){s(g)}}function d(p){p.done?a(p.value):i(p.value).then(c,f)}d((r=r.apply(n,e||[])).next())})};const gh=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),TA=(n,e,t)=>Ia(void 0,void 0,void 0,function*(){const r=yield AA();n instanceof r&&!t?.noResolveJson?n.json().then(i=>{const a=n.status||500,s=i?.statusCode||a+"";e(new EA(gh(i),a,s))}).catch(i=>{e(new e0(gh(i),i))}):e(new e0(gh(n),n))}),OA=(n,e,t,r)=>{const i={method:n,headers:e?.headers||{}};return n==="GET"||!r?i:(CA(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),t))};function Rl(n,e,t,r,i,a){return Ia(this,void 0,void 0,function*(){return new Promise((s,c)=>{n(t,OA(e,r,i,a)).then(f=>{if(!f.ok)throw f;return r?.noResolveJson?f:f.json()}).then(f=>s(f)).catch(f=>TA(f,c,r))})})}function bu(n,e,t,r){return Ia(this,void 0,void 0,function*(){return Rl(n,"GET",e,t,r)})}function Pr(n,e,t,r,i){return Ia(this,void 0,void 0,function*(){return Rl(n,"POST",e,r,i,t)})}function n0(n,e,t,r,i){return Ia(this,void 0,void 0,function*(){return Rl(n,"PUT",e,r,i,t)})}function RA(n,e,t,r){return Ia(this,void 0,void 0,function*(){return Rl(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function U2(n,e,t,r,i){return Ia(this,void 0,void 0,function*(){return Rl(n,"DELETE",e,r,i,t)})}var Dn=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function c(p){try{d(r.next(p))}catch(g){s(g)}}function f(p){try{d(r.throw(p))}catch(g){s(g)}}function d(p){p.done?a(p.value):i(p.value).then(c,f)}d((r=r.apply(n,e||[])).next())})};const DA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ey={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class NA{constructor(e,t={},r,i){this.url=e,this.headers=t,this.bucketId=r,this.fetch=F2(i)}uploadOrUpdate(e,t,r,i){return Dn(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},ey),i);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const f=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),f&&a.append("metadata",this.encodeMetadata(f)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",s.cacheControl),f&&a.append("metadata",this.encodeMetadata(f))):(a=r,c["cache-control"]=`max-age=${s.cacheControl}`,c["content-type"]=s.contentType,f&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),i?.headers&&(c=Object.assign(Object.assign({},c),i.headers));const d=this._removeEmptyFolders(t),p=this._getFinalPath(d),g=yield(e=="PUT"?n0:Pr)(this.fetch,`${this.url}/object/${p}`,a,Object.assign({headers:c},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:d,id:g.Id,fullPath:g.Key},error:null}}catch(a){if(Jt(a))return{data:null,error:a};throw a}})}upload(e,t,r){return Dn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return Dn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${s}`);c.searchParams.set("token",t);try{let f;const d=Object.assign({upsert:ey.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",d.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",d.cacheControl)):(f=r,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType);const g=yield n0(this.fetch,c.toString(),f,{headers:p});return{data:{path:a,fullPath:g.Key},error:null}}catch(f){if(Jt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,t){return Dn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");const a=yield Pr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+a.url),c=s.searchParams.get("token");if(!c)throw new X0("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:c},error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}update(e,t,r){return Dn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return Dn(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Jt(i))return{data:null,error:i};throw i}})}copy(e,t,r){return Dn(this,void 0,void 0,function*(){try{return{data:{path:(yield Pr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Jt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,r){return Dn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Pr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(Jt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return Dn(this,void 0,void 0,function*(){try{const i=yield Pr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(Jt(i))return{data:null,error:i};throw i}})}download(e,t){return Dn(this,void 0,void 0,function*(){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(t?.transform||{}),s=a?`?${a}`:"";try{const c=this._getFinalPath(e);return{data:yield(yield bu(this.fetch,`${this.url}/${i}/${c}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(Jt(c))return{data:null,error:c};throw c}})}info(e){return Dn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield bu(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:t0(r),error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}exists(e){return Dn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield RA(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Jt(r)&&r instanceof e0){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),i=[],a=t?.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&i.push(a);const c=typeof t?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(t?.transform||{});f!==""&&i.push(f);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${d}`)}}}remove(e){return Dn(this,void 0,void 0,function*(){try{return{data:yield U2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Jt(t))return{data:null,error:t};throw t}})}list(e,t,r){return Dn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},DA),t),{prefix:e||""});return{data:yield Pr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Jt(i))return{data:null,error:i};throw i}})}listV2(e,t){return Dn(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Pr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const IA="2.11.0",kA={"X-Client-Info":`storage-js/${IA}`};var So=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function c(p){try{d(r.next(p))}catch(g){s(g)}}function f(p){try{d(r.throw(p))}catch(g){s(g)}}function d(p){p.done?a(p.value):i(p.value).then(c,f)}d((r=r.apply(n,e||[])).next())})};class MA{constructor(e,t={},r,i){const a=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},kA),t),this.fetch=F2(r)}listBuckets(){return So(this,void 0,void 0,function*(){try{return{data:yield bu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Jt(e))return{data:null,error:e};throw e}})}getBucket(e){return So(this,void 0,void 0,function*(){try{return{data:yield bu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Jt(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return So(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return So(this,void 0,void 0,function*(){try{return{data:yield n0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return So(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Jt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return So(this,void 0,void 0,function*(){try{return{data:yield U2(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Jt(t))return{data:null,error:t};throw t}})}}class PA extends MA{constructor(e,t={},r,i){super(e,t,r,i)}from(e){return new NA(this.url,this.headers,e,this.fetch)}}const jA="2.55.0";let il="";typeof Deno<"u"?il="deno":typeof document<"u"?il="web":typeof navigator<"u"&&navigator.product==="ReactNative"?il="react-native":il="node";const BA={"X-Client-Info":`supabase-js-${il}/${jA}`},LA={headers:BA},FA={schema:"public"},UA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},VA={};var zA=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function c(p){try{d(r.next(p))}catch(g){s(g)}}function f(p){try{d(r.throw(p))}catch(g){s(g)}}function d(p){p.done?a(p.value):i(p.value).then(c,f)}d((r=r.apply(n,e||[])).next())})};const HA=n=>{let e;return n?e=n:typeof fetch>"u"?e=D2:e=fetch,(...t)=>e(...t)},GA=()=>typeof Headers>"u"?N2:Headers,$A=(n,e,t)=>{const r=HA(t),i=GA();return(a,s)=>zA(void 0,void 0,void 0,function*(){var c;const f=(c=yield e())!==null&&c!==void 0?c:n;let d=new i(s?.headers);return d.has("apikey")||d.set("apikey",n),d.has("Authorization")||d.set("Authorization",`Bearer ${f}`),r(a,Object.assign(Object.assign({},s),{headers:d}))})};var qA=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function c(p){try{d(r.next(p))}catch(g){s(g)}}function f(p){try{d(r.throw(p))}catch(g){s(g)}}function d(p){p.done?a(p.value):i(p.value).then(c,f)}d((r=r.apply(n,e||[])).next())})};function XA(n){return n.endsWith("/")?n:n+"/"}function WA(n,e){var t,r;const{db:i,auth:a,realtime:s,global:c}=n,{db:f,auth:d,realtime:p,global:g}=e,y={db:Object.assign(Object.assign({},f),i),auth:Object.assign(Object.assign({},d),a),realtime:Object.assign(Object.assign({},p),s),storage:{},global:Object.assign(Object.assign(Object.assign({},g),c),{headers:Object.assign(Object.assign({},(t=g?.headers)!==null&&t!==void 0?t:{}),(r=c?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>qA(this,void 0,void 0,function*(){return""})};return n.accessToken?y.accessToken=n.accessToken:delete y.accessToken,y}const V2="2.71.1",Do=30*1e3,r0=3,vh=r0*Do,YA="http://localhost:9999",KA="supabase.auth.token",ZA={"X-Client-Info":`gotrue-js/${V2}`},i0="X-Supabase-Api-Version",z2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},QA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JA=600*1e3;class W0 extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function Fe(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class eC extends W0{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function tC(n){return Fe(n)&&n.name==="AuthApiError"}class H2 extends W0{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ki extends W0{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}}class Vi extends Ki{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nC(n){return Fe(n)&&n.name==="AuthSessionMissingError"}class Qc extends Ki{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jc extends Ki{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class eu extends Ki{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rC(n){return Fe(n)&&n.name==="AuthImplicitGrantRedirectError"}class ty extends Ki{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class a0 extends Ki{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function mh(n){return Fe(n)&&n.name==="AuthRetryableFetchError"}class ny extends Ki{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class o0 extends Ki{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Eu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ry=` 	
\r=`.split(""),iC=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<ry.length;e+=1)n[ry[e].charCodeAt(0)]=-2;for(let e=0;e<Eu.length;e+=1)n[Eu[e].charCodeAt(0)]=e;return n})();function iy(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(Eu[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(Eu[r]),e.queuedBits-=6}}function G2(n,e,t){const r=iC[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function ay(n){const e=[],t=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{sC(s,r,t)};for(let s=0;s<n.length;s+=1)G2(n.charCodeAt(s),i,a);return e.join("")}function aC(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function oC(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}aC(r,e)}}function sC(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function lC(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)G2(n.charCodeAt(i),t,r);return new Uint8Array(e)}function cC(n){const e=[];return oC(n,t=>e.push(t)),new Uint8Array(e)}function uC(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};return n.forEach(i=>iy(i,t,r)),iy(null,t,r),e.join("")}function fC(n){return Math.round(Date.now()/1e3)+n}function dC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const wr=()=>typeof window<"u"&&typeof document<"u",ga={tested:!1,writable:!1},$2=()=>{if(!wr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ga.tested)return ga.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ga.tested=!0,ga.writable=!0}catch{ga.tested=!0,ga.writable=!1}return ga.writable};function hC(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}const q2=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Ol(async()=>{const{default:r}=await Promise.resolve().then(()=>Wo);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},pC=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",No=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},va=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Li=async(n,e)=>{await n.removeItem(e)};class Lu{constructor(){this.promise=new Lu.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Lu.promiseConstructor=Promise;function yh(n){const e=n.split(".");if(e.length!==3)throw new o0("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!QA.test(e[r]))throw new o0("JWT not in base64url format");return{header:JSON.parse(ay(e[0])),payload:JSON.parse(ay(e[1])),signature:lC(e[2]),raw:{header:e[0],payload:e[1]}}}async function gC(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function vC(n,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await n(a);if(!e(a,null,s)){r(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function mC(n){return("0"+n.toString(16)).substr(-2)}function yC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let a=0;a<56;a++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,mC).join("")}async function xC(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function wC(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await xC(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ao(n,e,t=!1){const r=yC();let i=r;t&&(i+="/PASSWORD_RECOVERY"),await No(n,`${e}-code-verifier`,i);const a=await wC(r);return[a,r===a?"plain":"s256"]}const _C=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bC(n){const e=n.headers.get(i0);if(!e||!e.match(_C))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function EC(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function SC(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const AC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Co(n){if(!AC.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xh(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function oy(n){return JSON.parse(JSON.stringify(n))}var CC=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const wa=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),TC=[502,503,504];async function sy(n){var e;if(!pC(n))throw new a0(wa(n),0);if(TC.includes(n.status))throw new a0(wa(n),n.status);let t;try{t=await n.json()}catch(a){throw new H2(wa(a),a)}let r;const i=bC(n);if(i&&i.getTime()>=z2["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new ny(wa(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Vi}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new ny(wa(t),n.status,t.weak_password.reasons);throw new eC(wa(t),n.status||500,r)}const OC=(n,e,t,r)=>{const i={method:n,headers:e?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function Xe(n,e,t,r){var i;const a=Object.assign({},r?.headers);a[i0]||(a[i0]=z2["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);const c=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",f=await RC(n,e,t+c,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(f):{data:Object.assign({},f),error:null}}async function RC(n,e,t,r,i,a){const s=OC(e,r,i,a);let c;try{c=await n(t,Object.assign({},s))}catch(f){throw console.error(f),new a0(wa(f),0)}if(c.ok||await sy(c),r?.noResolveJson)return c;try{return await c.json()}catch(f){await sy(f)}}function oi(n){var e;let t=null;kC(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=fC(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function ly(n){const e=oi(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Gi(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function DC(n){return{data:n,error:null}}function NC(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:a}=n,s=CC(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:a},f=Object.assign({},s);return{data:{properties:c,user:f},error:null}}function IC(n){return n}function kC(n){return n.access_token&&n.refresh_token&&n.expires_in}const wh=["global","local","others"];var MC=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class PC{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=q2(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=wh[0]){if(wh.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wh.join(", ")}`);try{return await Xe(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await Xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Gi})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=MC(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:NC,redirectTo:t?.redirectTo})}catch(t){if(Fe(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Xe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Gi})}catch(t){if(Fe(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,i,a,s,c,f;try{const d={nextPage:null,lastPage:0,total:0},p=await Xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:IC});if(p.error)throw p.error;const g=await p.json(),y=(s=p.headers.get("x-total-count"))!==null&&s!==void 0?s:0,x=(f=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(_=>{const E=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(_.split(";")[1].split("=")[1]);d[`${S}Page`]=E}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(Fe(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){Co(e);try{return await Xe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Gi})}catch(t){if(Fe(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Co(e);try{return await Xe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Gi})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){Co(e);try{return await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Gi})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Co(e.userId);try{const{data:t,error:r}=await Xe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(Fe(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Co(e.userId),Co(e.id);try{return{data:await Xe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Fe(t))return{data:null,error:t};throw t}}}function cy(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function jC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const To={debug:!!(globalThis&&$2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class X2 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class BC extends X2{}async function LC(n,e,t){To.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),To.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){To.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{To.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw To.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new BC(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(To.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}jC();const FC={url:YA,storageKey:KA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ZA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function uy(n,e,t){return await t()}const Oo={};class yl{constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=yl.nextInstanceID,yl.nextInstanceID+=1,this.instanceID>0&&wr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},FC),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new PC({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=q2(i.fetch),this.lock=i.lock||uy,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:wr()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=LC:this.lock=uy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:$2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=cy(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=cy(this.memoryStorage)),wr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=Oo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Oo[this.storageKey]=Object.assign(Object.assign({},Oo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Oo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Oo[this.storageKey]=Object.assign(Object.assign({},Oo[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${V2}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=hC(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),wr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),rC(a)){const f=(e=a.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),await this._saveSession(s),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Fe(t)?{error:t}:{error:new H2("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,i;try{const a=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:oi}),{data:s,error:c}=a;if(c||!s)return{data:{user:null,session:null},error:c};const f=s.session,d=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:d,session:f},error:null}}catch(a){if(Fe(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,r,i;try{let a;if("email"in e){const{email:p,password:g,options:y}=e;let x=null,_=null;this.flowType==="pkce"&&([x,_]=await Ao(this.storage,this.storageKey)),a=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:p,password:g,data:(t=y?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:x,code_challenge_method:_},xform:oi})}else if("phone"in e){const{phone:p,password:g,options:y}=e;a=await Xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(r=y?.data)!==null&&r!==void 0?r:{},channel:(i=y?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:oi})}else throw new Jc("You must provide either an email or phone number and a password");const{data:s,error:c}=a;if(c||!s)return{data:{user:null,session:null},error:c};const f=s.session,d=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:d,session:f},error:null}}catch(a){if(Fe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:s,options:c}=e;t=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:ly})}else if("phone"in e){const{phone:a,password:s,options:c}=e;t=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:ly})}else throw new Jc("You must provide either an email or phone number and a password");const{data:r,error:i}=t;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Qc}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(t){if(Fe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,r,i,a,s,c,f,d,p,g,y,x;let _,E;if("message"in e)_=e.message,E=e.signature;else{const{chain:S,wallet:b,statement:C,options:T}=e;let D;if(wr())if(typeof b=="object")D=b;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))D=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=b}const P=new URL((t=T?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in D&&D.signIn){const L=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),C?{statement:C}:null));let U;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")U=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)U=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)_=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),E=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${P.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(r=T?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=T?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((s=T?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((c=T?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((f=T?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((d=T?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((g=(p=T?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...T.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const L=await D.signMessage(new TextEncoder().encode(_),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=L}}try{const{data:S,error:b}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:uC(E)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:oi});if(b)throw b;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Qc}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:b})}catch(S){if(Fe(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const t=await va(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(t??"").split("/");try{const{data:a,error:s}=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:oi});if(await Li(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Qc}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(Fe(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:i,access_token:a,nonce:s}=e,c=await Xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:oi}),{data:f,error:d}=c;return d?{data:{user:null,session:null},error:d}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Qc}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:d})}catch(t){if(Fe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,i,a,s;try{if("email"in e){const{email:c,options:f}=e;let d=null,p=null;this.flowType==="pkce"&&([d,p]=await Ao(this.storage,this.storageKey));const{error:g}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(t=f?.data)!==null&&t!==void 0?t:{},create_user:(r=f?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:d,code_challenge_method:p},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:c,options:f}=e,{data:d,error:p}=await Xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=f?.data)!==null&&i!==void 0?i:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(s=f?.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:p}}throw new Jc("You must provide either an email or phone number.")}catch(c){if(Fe(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var t,r;try{let i,a;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:c}=await Xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:oi});if(c)throw c;if(!s)throw new Error("An error occurred on token verification.");const f=s.session,d=s.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:d,session:f},error:null}}catch(i){if(Fe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,r,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await Ao(this.storage,this.storageKey)),await Xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:DC})}catch(a){if(Fe(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Vi;const{error:i}=await Xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Fe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:s}=await Xe(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:s,error:c}=await Xe(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:s?.message_id},error:c}}throw new Jc("You must provide either an email or phone number and a type")}catch(t){if(Fe(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await va(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<vh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const s=await va(this.userStorage,this.storageKey+"-user");s?.user?e.user=s.user:e.user=xh()}if(this.storage.isServer&&e.user){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,d,p)=>(!s&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,d,p))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Gi}):await this._useSession(async t=>{var r,i,a;const{data:s,error:c}=t;if(c)throw c;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vi}:await Xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Gi})})}catch(t){if(Fe(t))return nC(t)&&(await this._removeSession(),await Li(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Vi;const s=i.session;let c=null,f=null;this.flowType==="pkce"&&e.email!=null&&([c,f]=await Ao(this.storage,this.storageKey));const{data:d,error:p}=await Xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:f}),jwt:s.access_token,xform:Gi});if(p)throw p;return s.user=d.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Vi;const t=Date.now()/1e3;let r=t,i=!0,a=null;const{payload:s}=yh(e.access_token);if(s.exp&&(r=s.exp,i=r<=t),i){const{session:c,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:f}=await this._getUser(e.access_token);if(f)throw f;a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(Fe(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:s,error:c}=t;if(c)throw c;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Vi;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Fe(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!wr())throw new eu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new eu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new ty("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new eu("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ty("No code detected.");const{data:C,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:c,expires_at:f,token_type:d}=e;if(!a||!c||!s||!d)throw new eu("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(c);let y=p+g;f&&(y=parseInt(f));const x=y-p;x*1e3<=Do&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${g}s`);const _=y-g;p-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,y,p):p-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,y,p);const{data:E,error:S}=await this._getUser(a);if(S)throw S;const b={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:g,expires_at:y,refresh_token:s,token_type:d,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(r){if(Fe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await va(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:i,error:a}=t;if(a)return{error:a};const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:c}=await this.admin.signOut(s,e);if(c&&!(tC(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await Li(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=dC(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,i;try{const{data:{session:a},error:s}=t;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ao(this.storage,this.storageKey,!0));try{return await Xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(Fe(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Fe(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:i}=await this._useSession(async a=>{var s,c,f,d,p;const{data:g,error:y}=a;if(y)throw y;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Xe(this.fetch,"GET",x,{headers:this.headers,jwt:(p=(d=g.session)===null||d===void 0?void 0:d.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return wr()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(Fe(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,i;const{data:a,error:s}=t;if(s)throw s;return await Xe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(Fe(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await vC(async i=>(i>0&&await gC(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await Xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:oi})),(i,a)=>{const s=200*Math.pow(2,i);return a&&mh(a)&&Date.now()+s-r<Do})}catch(r){if(this._debug(t,"error",r),Fe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),wr()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await va(this.storage,this.storageKey);if(i&&this.userStorage){let s=await va(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await No(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s?.user)!==null&&e!==void 0?e:xh()}else if(i&&!i.user&&!i.user){const s=await va(this.storage,this.storageKey+"-user");s&&s?.user?(i.user=s.user,await Li(this.storage,this.storageKey+"-user"),await No(this.storage,this.storageKey,i)):i.user=xh()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<vh;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${vh}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),mh(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:c}=await this._getUser(i.access_token);!c&&s?.user?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Vi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Lu;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new Vi;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={session:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),Fe(a)){const s={session:null,error:a};return mh(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,t)}catch(f){a.push(f)}});if(await Promise.all(s),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await No(this.userStorage,this.storageKey+"-user",{user:t.user});const i=Object.assign({},t);delete i.user;const a=oy(i);await No(this.storage,this.storageKey,a)}else{const i=oy(t);await No(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Li(this.storage,this.storageKey),await Li(this.storage,this.storageKey+"-code-verifier"),await Li(this.storage,this.storageKey+"-user"),this.userStorage&&await Li(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&wr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Do);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Do);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Do}ms, refresh threshold is ${r0} ticks`),i<=r0&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof X2)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const i=[`provider=${encodeURIComponent(t)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,s]=await Ao(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(c.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:i,error:a}=t;return a?{data:null,error:a}:await Xe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(Fe(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,i;const{data:a,error:s}=t;if(s)return{data:null,error:s};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:f,error:d}=await Xe(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((i=f?.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(t){if(Fe(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:a}=t;if(a)return{data:null,error:a};const{data:s,error:c}=await Xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:c})})}catch(t){if(Fe(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:a}=t;return a?{data:null,error:a}:await Xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(Fe(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=e?.factors||[],i=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=yh(i.access_token);let c=null;s.aal&&(c=s.aal);let f=c;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const p=s.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(c=>c.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===e),r&&this.jwks_cached_at+JA>i)return r;const{data:a,error:s}=await Xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(c=>c.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:x,error:_}=await this.getSession();if(_||!x.session)return{data:null,error:_};r=x.session.access_token}const{header:i,payload:a,signature:s,raw:{header:c,payload:f}}=yh(r);t?.allowExpired||EC(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!d){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:a,header:i,signature:s},error:null}}const p=SC(i.alg),g=await crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,s,cC(`${c}.${f}`)))throw new o0("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}}}yl.nextInstanceID=0;const UC=yl;class VC extends UC{constructor(e){super(e)}}var zC=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function c(p){try{d(r.next(p))}catch(g){s(g)}}function f(p){try{d(r.throw(p))}catch(g){s(g)}}function d(p){p.done?a(p.value):i(p.value).then(c,f)}d((r=r.apply(n,e||[])).next())})};class HC{constructor(e,t,r){var i,a,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const c=XA(e),f=new URL(c);this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const d=`sb-${f.hostname.split(".")[0]}-auth-token`,p={db:FA,realtime:VA,auth:Object.assign(Object.assign({},UA),{storageKey:d}),global:LA},g=WA(r??{},p);this.storageKey=(i=g.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=g.global.headers)!==null&&a!==void 0?a:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(y,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=g.auth)!==null&&s!==void 0?s:{},this.headers,g.global.fetch),this.fetch=$A(t,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new aA(new URL("rest/v1",f).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new PA(this.storageUrl.href,this.headers,this.fetch,r?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new XS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return zC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:a,flowType:s,lock:c,debug:f},d,p){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new VC({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,flowType:s,lock:c,debug:f,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new bA(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const GC=(n,e,t)=>new HC(n,e,t);function $C(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}$C()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const qC="https://znqhoohjugyblgwepovp.supabase.co",XC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpucWhvb2hqdWd5Ymxnd2Vwb3ZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ0OTk0OTAsImV4cCI6MjA3MDA3NTQ5MH0.dEWUpJtDbzLKRv9UtxpJLEmSMT6M_QChI3eu8EjO3dY",ve=GC(qC,XC,{realtime:{params:{eventsPerSecond:10}}});function WC(n,e){var t=Object.setPrototypeOf;t?t(n,e):n.__proto__=e}function YC(n,e){e===void 0&&(e=n.constructor);var t=Error.captureStackTrace;t&&t(n,e)}var KC=(function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},n(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),ZC=(function(n){KC(e,n);function e(t,r){var i=this.constructor,a=n.call(this,t,r)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),WC(a,i.prototype),YC(a),a}return e})(Error),QC=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Gn=(function(n){QC(e,n);function e(t){t===void 0&&(t=void 0);var r=n.call(this,t)||this;return r.message=t,r}return e.prototype.getKind=function(){var t=this.constructor;return t.kind},e.kind="Exception",e})(ZC),JC=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Vt=(function(n){JC(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ArgumentException",e})(Gn),e4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Oe=(function(n){e4(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e})(Gn),W2=(function(){function n(e){if(this.binarizer=e,e===null)throw new Oe("Binarizer must be non-null.")}return n.prototype.getWidth=function(){return this.binarizer.getWidth()},n.prototype.getHeight=function(){return this.binarizer.getHeight()},n.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},n.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},n.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},n.prototype.crop=function(e,t,r,i){var a=this.binarizer.getLuminanceSource().crop(e,t,r,i);return new n(this.binarizer.createBinarizer(a))},n.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},n.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new n(this.binarizer.createBinarizer(e))},n.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new n(this.binarizer.createBinarizer(e))},n.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},n})(),t4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),qt=(function(n){t4(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})(Gn),n4=(function(){function n(e){this.source=e}return n.prototype.getLuminanceSource=function(){return this.source},n.prototype.getWidth=function(){return this.source.getWidth()},n.prototype.getHeight=function(){return this.source.getHeight()},n})(),bt=(function(){function n(){}return n.arraycopy=function(e,t,r,i,a){for(;a--;)r[i++]=e[t++]},n.currentTimeMillis=function(){return Date.now()},n})(),r4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Y0=(function(n){r4(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e})(Gn),i4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),fy=(function(n){i4(e,n);function e(t,r){t===void 0&&(t=void 0),r===void 0&&(r=void 0);var i=n.call(this,r)||this;return i.index=t,i.message=r,i}return e.kind="ArrayIndexOutOfBoundsException",e})(Y0),a4=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rn=(function(){function n(){}return n.fill=function(e,t){for(var r=0,i=e.length;r<i;r++)e[r]=t},n.fillWithin=function(e,t,r,i){n.rangeCheck(e.length,t,r);for(var a=t;a<r;a++)e[a]=i},n.rangeCheck=function(e,t,r){if(t>r)throw new Oe("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new fy(t);if(r>e)throw new fy(r)},n.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},n.create=function(e,t,r){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:t}).fill(r)})},n.createInt32Array=function(e,t,r){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:t}).fill(r)})},n.equals=function(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(var r=0,i=e.length;r<i;r++)if(e[r]!==t[r])return!1;return!0},n.hashCode=function(e){var t,r;if(e===null)return 0;var i=1;try{for(var a=a4(e),s=a.next();!s.done;s=a.next()){var c=s.value;i=31*i+c}}catch(f){t={error:f}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},n.fillUint8Array=function(e,t){for(var r=0;r!==e.length;r++)e[r]=t},n.copyOf=function(e,t){return e.slice(0,t)},n.copyOfUint8Array=function(e,t){if(e.length<=t){var r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)},n.copyOfRange=function(e,t,r){var i=r-t,a=new Int32Array(i);return bt.arraycopy(e,t,a,0,i),a},n.binarySearch=function(e,t,r){r===void 0&&(r=n.numberComparator);for(var i=0,a=e.length-1;i<=a;){var s=a+i>>1,c=r(t,e[s]);if(c>0)i=s+1;else if(c<0)a=s-1;else return s}return-i-1},n.numberComparator=function(e,t){return e-t},n})(),Ge=(function(){function n(){}return n.numberOfTrailingZeros=function(e){var t;if(e===0)return 32;var r=31;return t=e<<16,t!==0&&(r-=16,e=t),t=e<<8,t!==0&&(r-=8,e=t),t=e<<4,t!==0&&(r-=4,e=t),t=e<<2,t!==0&&(r-=2,e=t),r-(e<<1>>>31)},n.numberOfLeadingZeros=function(e){if(e===0)return 32;var t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t},n.toHexString=function(e){return e.toString(16)},n.toBinaryString=function(e){return String(parseInt(String(e),2))},n.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},n.truncDivision=function(e,t){return Math.trunc(e/t)},n.parseInt=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},n.MIN_VALUE_32_BITS=-2147483648,n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n})(),hn=(function(){function n(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=n.makeArray(e):this.bits=t)}return n.prototype.getSize=function(){return this.size},n.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},n.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var t=n.makeArray(e);bt.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},n.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},n.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},n.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},n.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,i=Math.floor(e/32),a=r[i];a&=~((1<<(e&31))-1);for(var s=r.length;a===0;){if(++i===s)return t;a=r[i]}var c=i*32+Ge.numberOfTrailingZeros(a);return c>t?t:c},n.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,i=Math.floor(e/32),a=~r[i];a&=~((1<<(e&31))-1);for(var s=r.length;a===0;){if(++i===s)return t;a=~r[i]}var c=i*32+Ge.numberOfTrailingZeros(a);return c>t?t:c},n.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},n.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new Oe;if(t!==e){t--;for(var r=Math.floor(e/32),i=Math.floor(t/32),a=this.bits,s=r;s<=i;s++){var c=s>r?0:e&31,f=s<i?31:t&31,d=(2<<f)-(1<<c);a[s]|=d}}},n.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,r=0;r<e;r++)t[r]=0},n.prototype.isRange=function(e,t,r){if(t<e||e<0||t>this.size)throw new Oe;if(t===e)return!0;t--;for(var i=Math.floor(e/32),a=Math.floor(t/32),s=this.bits,c=i;c<=a;c++){var f=c>i?0:e&31,d=c<a?31:t&31,p=(2<<d)-(1<<f)&4294967295;if((s[c]&p)!==(r?p:0))return!1}return!0},n.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},n.prototype.appendBits=function(e,t){if(t<0||t>32)throw new Oe("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var r=t;r>0;r--)this.appendBit((e>>r-1&1)===1)},n.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var r=0;r<t;r++)this.appendBit(e.get(r))},n.prototype.xor=function(e){if(this.size!==e.size)throw new Oe("Sizes don't match");for(var t=this.bits,r=0,i=t.length;r<i;r++)t[r]^=e.bits[r]},n.prototype.toBytes=function(e,t,r,i){for(var a=0;a<i;a++){for(var s=0,c=0;c<8;c++)this.get(e)&&(s|=1<<7-c),e++;t[r+a]=s}},n.prototype.getBitArray=function(){return this.bits},n.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,i=this.bits,a=0;a<r;a++){var s=i[a];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,e[t-a]=s}if(this.size!==r*32){for(var c=r*32-this.size,f=e[0]>>>c,a=1;a<r;a++){var d=e[a];f|=d<<32-c,e[a-1]=f,f=d>>>c}e[r-1]=f}this.bits=e},n.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.size===t.size&&rn.equals(this.bits,t.bits)},n.prototype.hashCode=function(){return 31*this.size+rn.hashCode(this.bits)},n.prototype.toString=function(){for(var e="",t=0,r=this.size;t<r;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e},n.prototype.clone=function(){return new n(this.size,this.bits.slice())},n.prototype.toArray=function(){for(var e=[],t=0,r=this.size;t<r;t++)e.push(this.get(t));return e},n})(),s0;(function(n){n[n.OTHER=0]="OTHER",n[n.PURE_BARCODE=1]="PURE_BARCODE",n[n.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",n[n.TRY_HARDER=3]="TRY_HARDER",n[n.CHARACTER_SET=4]="CHARACTER_SET",n[n.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",n[n.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",n[n.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",n[n.ASSUME_GS1=8]="ASSUME_GS1",n[n.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",n[n.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",n[n.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(s0||(s0={}));const Et=s0;var o4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),pe=(function(n){o4(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e})(Gn),s4=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dt;(function(n){n[n.Cp437=0]="Cp437",n[n.ISO8859_1=1]="ISO8859_1",n[n.ISO8859_2=2]="ISO8859_2",n[n.ISO8859_3=3]="ISO8859_3",n[n.ISO8859_4=4]="ISO8859_4",n[n.ISO8859_5=5]="ISO8859_5",n[n.ISO8859_6=6]="ISO8859_6",n[n.ISO8859_7=7]="ISO8859_7",n[n.ISO8859_8=8]="ISO8859_8",n[n.ISO8859_9=9]="ISO8859_9",n[n.ISO8859_10=10]="ISO8859_10",n[n.ISO8859_11=11]="ISO8859_11",n[n.ISO8859_13=12]="ISO8859_13",n[n.ISO8859_14=13]="ISO8859_14",n[n.ISO8859_15=14]="ISO8859_15",n[n.ISO8859_16=15]="ISO8859_16",n[n.SJIS=16]="SJIS",n[n.Cp1250=17]="Cp1250",n[n.Cp1251=18]="Cp1251",n[n.Cp1252=19]="Cp1252",n[n.Cp1256=20]="Cp1256",n[n.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",n[n.UTF8=22]="UTF8",n[n.ASCII=23]="ASCII",n[n.Big5=24]="Big5",n[n.GB18030=25]="GB18030",n[n.EUC_KR=26]="EUC_KR"})(dt||(dt={}));var nn=(function(){function n(e,t,r){for(var i,a,s=[],c=3;c<arguments.length;c++)s[c-3]=arguments[c];this.valueIdentifier=e,this.name=r,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=s,n.VALUE_IDENTIFIER_TO_ECI.set(e,this),n.NAME_TO_ECI.set(r,this);for(var f=this.values,d=0,p=f.length;d!==p;d++){var g=f[d];n.VALUES_TO_ECI.set(g,this)}try{for(var y=s4(s),x=y.next();!x.done;x=y.next()){var _=x.value;n.NAME_TO_ECI.set(_,this)}}catch(E){i={error:E}}finally{try{x&&!x.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}}return n.prototype.getValueIdentifier=function(){return this.valueIdentifier},n.prototype.getName=function(){return this.name},n.prototype.getValue=function(){return this.values[0]},n.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new pe("incorect value");var t=n.VALUES_TO_ECI.get(e);if(t===void 0)throw new pe("incorect value");return t},n.getCharacterSetECIByName=function(e){var t=n.NAME_TO_ECI.get(e);if(t===void 0)throw new pe("incorect value");return t},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.getName()===t.getName()},n.VALUE_IDENTIFIER_TO_ECI=new Map,n.VALUES_TO_ECI=new Map,n.NAME_TO_ECI=new Map,n.Cp437=new n(dt.Cp437,Int32Array.from([0,2]),"Cp437"),n.ISO8859_1=new n(dt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),n.ISO8859_2=new n(dt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),n.ISO8859_3=new n(dt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),n.ISO8859_4=new n(dt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),n.ISO8859_5=new n(dt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),n.ISO8859_6=new n(dt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),n.ISO8859_7=new n(dt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),n.ISO8859_8=new n(dt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),n.ISO8859_9=new n(dt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),n.ISO8859_10=new n(dt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),n.ISO8859_11=new n(dt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),n.ISO8859_13=new n(dt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),n.ISO8859_14=new n(dt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),n.ISO8859_15=new n(dt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),n.ISO8859_16=new n(dt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),n.SJIS=new n(dt.SJIS,20,"SJIS","Shift_JIS"),n.Cp1250=new n(dt.Cp1250,21,"Cp1250","windows-1250"),n.Cp1251=new n(dt.Cp1251,22,"Cp1251","windows-1251"),n.Cp1252=new n(dt.Cp1252,23,"Cp1252","windows-1252"),n.Cp1256=new n(dt.Cp1256,24,"Cp1256","windows-1256"),n.UnicodeBigUnmarked=new n(dt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),n.UTF8=new n(dt.UTF8,26,"UTF8","UTF-8"),n.ASCII=new n(dt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),n.Big5=new n(dt.Big5,28,"Big5"),n.GB18030=new n(dt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),n.EUC_KR=new n(dt.EUC_KR,30,"EUC_KR","EUC-KR"),n})(),l4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),hu=(function(n){l4(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e})(Gn),dr=(function(){function n(){}return n.decode=function(e,t){var r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)},n.shouldDecodeOnFallback=function(e){return!n.isBrowser()&&e==="ISO-8859-1"},n.encode=function(e,t){var r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},n.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},n.encodingName=function(e){return typeof e=="string"?e:e.getName()},n.encodingCharacterSet=function(e){return e instanceof nn?e:nn.getCharacterSetECIByName(e)},n.decodeFallback=function(e,t){var r=this.encodingCharacterSet(t);if(n.isDecodeFallbackSupported(r)){for(var i="",a=0,s=e.length;a<s;a++){var c=e[a].toString(16);c.length<2&&(c="0"+c),i+="%"+c}return decodeURIComponent(i)}if(r.equals(nn.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new hu("Encoding "+this.encodingName(t)+" not supported by fallback.")},n.isDecodeFallbackSupported=function(e){return e.equals(nn.UTF8)||e.equals(nn.ISO8859_1)||e.equals(nn.ASCII)},n.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))),r=t.split(""),i=[],a=0;a<r.length;a++)i.push(r[a].charCodeAt(0));return new Uint8Array(i)},n})(),Ke=(function(){function n(){}return n.castAsNonUtf8Char=function(e,t){t===void 0&&(t=null);var r=t?t.getName():this.ISO88591;return dr.decode(new Uint8Array([e]),r)},n.guessEncoding=function(e,t){if(t!=null&&t.get(Et.CHARACTER_SET)!==void 0)return t.get(Et.CHARACTER_SET).toString();for(var r=e.length,i=!0,a=!0,s=!0,c=0,f=0,d=0,p=0,g=0,y=0,x=0,_=0,E=0,S=0,b=0,C=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,T=0;T<r&&(i||a||s);T++){var D=e[T]&255;s&&(c>0?(D&128)===0?s=!1:c--:(D&128)!==0&&((D&64)===0?s=!1:(c++,(D&32)===0?f++:(c++,(D&16)===0?d++:(c++,(D&8)===0?p++:s=!1))))),i&&(D>127&&D<160?i=!1:D>159&&(D<192||D===215||D===247)&&b++),a&&(g>0?D<64||D===127||D>252?a=!1:g--:D===128||D===160||D>239?a=!1:D>160&&D<224?(y++,_=0,x++,x>E&&(E=x)):D>127?(g++,x=0,_++,_>S&&(S=_)):(x=0,_=0))}return s&&c>0&&(s=!1),a&&g>0&&(a=!1),s&&(C||f+d+p>0)?n.UTF8:a&&(n.ASSUME_SHIFT_JIS||E>=3||S>=3)?n.SHIFT_JIS:i&&a?E===2&&y===2||b*10>=r?n.SHIFT_JIS:n.ISO88591:i?n.ISO88591:a?n.SHIFT_JIS:s?n.UTF8:n.PLATFORM_DEFAULT_ENCODING},n.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=-1;function a(c,f,d,p,g,y){if(c==="%%")return"%";if(t[++i]!==void 0){c=p?parseInt(p.substr(1)):void 0;var x=g?parseInt(g.substr(1)):void 0,_;switch(y){case"s":_=t[i];break;case"c":_=t[i][0];break;case"f":_=parseFloat(t[i]).toFixed(c);break;case"p":_=parseFloat(t[i]).toPrecision(c);break;case"e":_=parseFloat(t[i]).toExponential(c);break;case"x":_=parseInt(t[i]).toString(x||16);break;case"d":_=parseFloat(parseInt(t[i],x||10).toPrecision(c)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(x);for(var E=parseInt(d),S=d&&d[0]+""=="0"?"0":" ";_.length<E;)_=f!==void 0?_+S:S+_;return _}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,a)},n.getBytes=function(e,t){return dr.encode(e,t)},n.getCharCode=function(e,t){return t===void 0&&(t=0),e.charCodeAt(t)},n.getCharAt=function(e){return String.fromCharCode(e)},n.SHIFT_JIS=nn.SJIS.getName(),n.GB2312="GB2312",n.ISO88591=nn.ISO8859_1.getName(),n.EUC_JP="EUC_JP",n.UTF8=nn.UTF8.getName(),n.PLATFORM_DEFAULT_ENCODING=n.UTF8,n.ASSUME_SHIFT_JIS=!1,n})(),ze=(function(){function n(e){e===void 0&&(e=""),this.value=e}return n.prototype.enableDecoding=function(e){return this.encoding=e,this},n.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Ke.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},n.prototype.appendChars=function(e,t,r){for(var i=t;t<t+r;i++)this.append(e[i]);return this},n.prototype.length=function(){return this.value.length},n.prototype.charAt=function(e){return this.value.charAt(e)},n.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},n.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},n.prototype.substring=function(e,t){return this.value.substring(e,t)},n.prototype.setLengthToZero=function(){this.value=""},n.prototype.toString=function(){return this.value},n.prototype.insert=function(e,t){this.value=this.value.substring(0,e)+t+this.value.substring(e)},n})(),Ur=(function(){function n(e,t,r,i){if(this.width=e,this.height=t,this.rowSize=r,this.bits=i,t==null&&(t=e),this.height=t,e<1||t<1)throw new Oe("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return n.parseFromBooleanArray=function(e){for(var t=e.length,r=e[0].length,i=new n(r,t),a=0;a<t;a++)for(var s=e[a],c=0;c<r;c++)s[c]&&i.set(c,a);return i},n.parseFromString=function(e,t,r){if(e===null)throw new Oe("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,s=0,c=-1,f=0,d=0;d<e.length;)if(e.charAt(d)===`
`||e.charAt(d)==="\r"){if(a>s){if(c===-1)c=a-s;else if(a-s!==c)throw new Oe("row lengths do not match");s=a,f++}d++}else if(e.substring(d,d+t.length)===t)d+=t.length,i[a]=!0,a++;else if(e.substring(d,d+r.length)===r)d+=r.length,i[a]=!1,a++;else throw new Oe("illegal character encountered: "+e.substring(d));if(a>s){if(c===-1)c=a-s;else if(a-s!==c)throw new Oe("row lengths do not match");f++}for(var p=new n(c,f),g=0;g<a;g++)i[g]&&p.set(Math.floor(g%c),Math.floor(g/c));return p},n.prototype.get=function(e,t){var r=t*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0},n.prototype.set=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295},n.prototype.unset=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)},n.prototype.flip=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295},n.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Oe("input matrix dimensions do not match");for(var t=new hn(Math.floor(this.width/32)+1),r=this.rowSize,i=this.bits,a=0,s=this.height;a<s;a++)for(var c=a*r,f=e.getRow(a,t).getBitArray(),d=0;d<r;d++)i[c+d]^=f[d]},n.prototype.clear=function(){for(var e=this.bits,t=e.length,r=0;r<t;r++)e[r]=0},n.prototype.setRegion=function(e,t,r,i){if(t<0||e<0)throw new Oe("Left and top must be nonnegative");if(i<1||r<1)throw new Oe("Height and width must be at least 1");var a=e+r,s=t+i;if(s>this.height||a>this.width)throw new Oe("The region must fit inside the matrix");for(var c=this.rowSize,f=this.bits,d=t;d<s;d++)for(var p=d*c,g=e;g<a;g++)f[p+Math.floor(g/32)]|=1<<(g&31)&4294967295},n.prototype.getRow=function(e,t){t==null||t.getSize()<this.width?t=new hn(this.width):t.clear();for(var r=this.rowSize,i=this.bits,a=e*r,s=0;s<r;s++)t.setBulk(s*32,i[a+s]);return t},n.prototype.setRow=function(e,t){bt.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},n.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),r=new hn(e),i=new hn(e),a=0,s=Math.floor((t+1)/2);a<s;a++)r=this.getRow(a,r),i=this.getRow(t-1-a,i),r.reverse(),i.reverse(),this.setRow(a,i),this.setRow(t-1-a,r)},n.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,r=this.rowSize,i=this.bits,a=e,s=t,c=-1,f=-1,d=0;d<t;d++)for(var p=0;p<r;p++){var g=i[d*r+p];if(g!==0){if(d<s&&(s=d),d>f&&(f=d),p*32<a){for(var y=0;(g<<31-y&4294967295)===0;)y++;p*32+y<a&&(a=p*32+y)}if(p*32+31>c){for(var y=31;!(g>>>y);)y--;p*32+y>c&&(c=p*32+y)}}}return c<a||f<s?null:Int32Array.from([a,s,c-a+1,f-s+1])},n.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,r=0;r<t.length&&t[r]===0;)r++;if(r===t.length)return null;for(var i=r/e,a=r%e*32,s=t[r],c=0;(s<<31-c&4294967295)===0;)c++;return a+=c,Int32Array.from([a,i])},n.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,r=t.length-1;r>=0&&t[r]===0;)r--;if(r<0)return null;for(var i=Math.floor(r/e),a=Math.floor(r%e)*32,s=t[r],c=31;!(s>>>c);)c--;return a+=c,Int32Array.from([a,i])},n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.getRowSize=function(){return this.rowSize},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&rn.equals(this.bits,t.bits)},n.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+rn.hashCode(this.bits),e},n.prototype.toString=function(e,t,r){return e===void 0&&(e="X "),t===void 0&&(t="  "),r===void 0&&(r=`
`),this.buildToString(e,t,r)},n.prototype.buildToString=function(e,t,r){for(var i=new ze,a=0,s=this.height;a<s;a++){for(var c=0,f=this.width;c<f;c++)i.append(this.get(c,a)?e:t);i.append(r)}return i.toString()},n.prototype.clone=function(){return new n(this.width,this.height,this.rowSize,this.bits.slice())},n})(),c4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),ne=(function(n){c4(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})(Gn),u4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),f4=(function(n){u4(e,n);function e(t){var r=n.call(this,t)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return e.prototype.getBlackRow=function(t,r){var i=this.getLuminanceSource(),a=i.getWidth();r==null||r.getSize()<a?r=new hn(a):r.clear(),this.initArrays(a);for(var s=i.getRow(t,this.luminances),c=this.buckets,f=0;f<a;f++)c[(s[f]&255)>>e.LUMINANCE_SHIFT]++;var d=e.estimateBlackPoint(c);if(a<3)for(var f=0;f<a;f++)(s[f]&255)<d&&r.set(f);else for(var p=s[0]&255,g=s[1]&255,f=1;f<a-1;f++){var y=s[f+1]&255;(g*4-p-y)/2<d&&r.set(f),p=g,g=y}return r},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight(),a=new Ur(r,i);this.initArrays(r);for(var s=this.buckets,c=1;c<5;c++)for(var f=Math.floor(i*c/5),d=t.getRow(f,this.luminances),p=Math.floor(r*4/5),g=Math.floor(r/5);g<p;g++){var y=d[g]&255;s[y>>e.LUMINANCE_SHIFT]++}for(var x=e.estimateBlackPoint(s),_=t.getMatrix(),c=0;c<i;c++)for(var E=c*r,g=0;g<r;g++){var y=_[E+g]&255;y<x&&a.set(g,c)}return a},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var r=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)r[i]=0},e.estimateBlackPoint=function(t){for(var r=t.length,i=0,a=0,s=0,c=0;c<r;c++)t[c]>s&&(a=c,s=t[c]),t[c]>i&&(i=t[c]);for(var f=0,d=0,c=0;c<r;c++){var p=c-a,g=t[c]*p*p;g>d&&(f=c,d=g)}if(a>f){var y=a;a=f,f=y}if(f-a<=r/16)throw new ne;for(var x=f-1,_=-1,c=f-1;c>a;c--){var E=c-a,g=E*E*(f-c)*(i-t[c]);g>_&&(x=c,_=g)}return x<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(n4),d4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Y2=(function(n){d4(e,n);function e(t){var r=n.call(this,t)||this;return r.matrix=null,r}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight();if(r>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=t.getMatrix(),s=r>>e.BLOCK_SIZE_POWER;(r&e.BLOCK_SIZE_MASK)!==0&&s++;var c=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&c++;var f=e.calculateBlackPoints(a,s,c,r,i),d=new Ur(r,i);e.calculateThresholdForBlock(a,s,c,r,i,f,d),this.matrix=d}else this.matrix=n.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,r,i,a,s,c,f){for(var d=s-e.BLOCK_SIZE,p=a-e.BLOCK_SIZE,g=0;g<i;g++){var y=g<<e.BLOCK_SIZE_POWER;y>d&&(y=d);for(var x=e.cap(g,2,i-3),_=0;_<r;_++){var E=_<<e.BLOCK_SIZE_POWER;E>p&&(E=p);for(var S=e.cap(_,2,r-3),b=0,C=-2;C<=2;C++){var T=c[x+C];b+=T[S-2]+T[S-1]+T[S]+T[S+1]+T[S+2]}var D=b/25;e.thresholdBlock(t,E,y,D,a,f)}}},e.cap=function(t,r,i){return t<r?r:t>i?i:t},e.thresholdBlock=function(t,r,i,a,s,c){for(var f=0,d=i*s+r;f<e.BLOCK_SIZE;f++,d+=s)for(var p=0;p<e.BLOCK_SIZE;p++)(t[d+p]&255)<=a&&c.set(r+p,i+f)},e.calculateBlackPoints=function(t,r,i,a,s){for(var c=s-e.BLOCK_SIZE,f=a-e.BLOCK_SIZE,d=new Array(i),p=0;p<i;p++){d[p]=new Int32Array(r);var g=p<<e.BLOCK_SIZE_POWER;g>c&&(g=c);for(var y=0;y<r;y++){var x=y<<e.BLOCK_SIZE_POWER;x>f&&(x=f);for(var _=0,E=255,S=0,b=0,C=g*a+x;b<e.BLOCK_SIZE;b++,C+=a){for(var T=0;T<e.BLOCK_SIZE;T++){var D=t[C+T]&255;_+=D,D<E&&(E=D),D>S&&(S=D)}if(S-E>e.MIN_DYNAMIC_RANGE)for(b++,C+=a;b<e.BLOCK_SIZE;b++,C+=a)for(var T=0;T<e.BLOCK_SIZE;T++)_+=t[C+T]&255}var P=_>>e.BLOCK_SIZE_POWER*2;if(S-E<=e.MIN_DYNAMIC_RANGE&&(P=E/2,p>0&&y>0)){var L=(d[p-1][y]+2*d[p][y-1]+d[p-1][y-1])/4;E<L&&(P=L)}d[p][y]=P}}return d},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e})(f4),Dl=(function(){function n(e,t){this.width=e,this.height=t}return n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.isCropSupported=function(){return!1},n.prototype.crop=function(e,t,r,i){throw new hu("This luminance source does not support cropping.")},n.prototype.isRotateSupported=function(){return!1},n.prototype.rotateCounterClockwise=function(){throw new hu("This luminance source does not support rotation by 90 degrees.")},n.prototype.rotateCounterClockwise45=function(){throw new hu("This luminance source does not support rotation by 45 degrees.")},n.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new ze,r=0;r<this.height;r++){for(var i=this.getRow(r,e),a=0;a<this.width;a++){var s=i[a]&255,c=void 0;s<64?c="#":s<128?c="+":s<192?c=".":c=" ",t.append(c)}t.append(`
`)}return t.toString()},n})(),h4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Fu=(function(n){h4(e,n);function e(t){var r=n.call(this,t.getWidth(),t.getHeight())||this;return r.delegate=t,r}return e.prototype.getRow=function(t,r){for(var i=this.delegate.getRow(t,r),a=this.getWidth(),s=0;s<a;s++)i[s]=255-(i[s]&255);return i},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r),a=0;a<r;a++)i[a]=255-(t[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,r,i,a){return new e(this.delegate.crop(t,r,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})(Dl),p4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),g4=(function(n){p4(e,n);function e(t,r){r===void 0&&(r=!1);var i=n.call(this,t.width,t.height)||this;return i.canvas=t,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(t,r),i}return e.makeBufferFromCanvasImageData=function(t,r){r===void 0&&(r=!1);var i=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(i.data,t.width,t.height,r)},e.toGrayscaleBuffer=function(t,r,i,a){a===void 0&&(a=!1);var s=new Uint8ClampedArray(r*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var c=0,f=0,d=t.length;c<d;c+=4,f++){var p=void 0,g=t[c+3];if(g===0)p=255;else{var y=t[c],x=t[c+1],_=t[c+2];p=306*y+601*x+117*_+512>>10}s[f]=p}else for(var c=0,f=0,E=t.length;c<E;c+=4,f++){var p=void 0,g=t[c+3];if(g===0)p=255;else{var y=t[c],x=t[c+1],_=t[c+2];p=306*y+601*x+117*_+512>>10}s[f]=255-p}return s},e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Oe("Requested row is outside the image: "+t);var i=this.getWidth(),a=t*i;return r===null?r=this.buffer.slice(a,a+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(a,a+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return n.prototype.crop.call(this,t,r,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var r=this.getTempCanvasElement(),i=r.getContext("2d"),a=t*e.DEGREE_TO_RADIANS,s=this.canvas.width,c=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(a))*s+Math.abs(Math.sin(a))*c),d=Math.ceil(Math.abs(Math.sin(a))*s+Math.abs(Math.cos(a))*c);return r.width=f,r.height=d,i.translate(f/2,d/2),i.rotate(a),i.drawImage(this.canvas,s/-2,c/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.prototype.invert=function(){return new Fu(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e})(Dl),v4=(function(){function n(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}return n.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},n})(),Nn=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function c(p){try{d(r.next(p))}catch(g){s(g)}}function f(p){try{d(r.throw(p))}catch(g){s(g)}}function d(p){p.done?a(p.value):i(p.value).then(c,f)}d((r=r.apply(n,e||[])).next())})},In=function(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(d){return function(p){return f([d,p])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,i=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){t.label=d[1];break}if(d[0]===6&&t.label<a[1]){t.label=a[1],a=d;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(d);break}a[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(n,t)}catch(p){d=[6,p],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},m4=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yo=(function(){function n(e,t,r){t===void 0&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(n.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),n.prototype.listVideoInputDevices=function(){return Nn(this,void 0,void 0,function(){var e,t,r,i,a,s,c,f,d,p,g,y;return In(this,function(x){switch(x.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=x.sent(),t=[];try{for(r=m4(e),i=r.next();!i.done;i=r.next())a=i.value,s=a.kind==="video"?"videoinput":a.kind,s==="videoinput"&&(c=a.deviceId||a.id,f=a.label||"Video device "+(t.length+1),d=a.groupId,p={deviceId:c,label:f,kind:s,groupId:d},t.push(p))}catch(_){g={error:_}}finally{try{i&&!i.done&&(y=r.return)&&y.call(r)}finally{if(g)throw g.error}}return[2,t]}})})},n.prototype.getVideoInputDevices=function(){return Nn(this,void 0,void 0,function(){var e;return In(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=t.sent(),[2,e.map(function(r){return new v4(r.deviceId,r.label)})]}})})},n.prototype.findDeviceById=function(e){return Nn(this,void 0,void 0,function(){var t;return In(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=r.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2,null]}})})},n.prototype.decodeFromInputVideoDevice=function(e,t){return Nn(this,void 0,void 0,function(){return In(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,r.sent()]}})})},n.prototype.decodeOnceFromVideoDevice=function(e,t){return Nn(this,void 0,void 0,function(){var r,i;return In(this,function(a){switch(a.label){case 0:return this.reset(),e?r={deviceId:{exact:e}}:r={facingMode:"environment"},i={video:r},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,a.sent()]}})})},n.prototype.decodeOnceFromConstraints=function(e,t){return Nn(this,void 0,void 0,function(){var r;return In(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromStream=function(e,t){return Nn(this,void 0,void 0,function(){var r,i;return In(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return r=a.sent(),[4,this.decodeOnce(r)];case 2:return i=a.sent(),[2,i]}})})},n.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,r){return Nn(this,void 0,void 0,function(){return In(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,t,r)];case 1:return[2,i.sent()]}})})},n.prototype.decodeFromVideoDevice=function(e,t,r){return Nn(this,void 0,void 0,function(){var i,a;return In(this,function(s){switch(s.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,t,r)];case 1:return[2,s.sent()]}})})},n.prototype.decodeFromConstraints=function(e,t,r){return Nn(this,void 0,void 0,function(){var i;return In(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,t,r)];case 2:return[2,a.sent()]}})})},n.prototype.decodeFromStream=function(e,t,r){return Nn(this,void 0,void 0,function(){var i;return In(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,r)];case 2:return[2,a.sent()]}})})},n.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},n.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},n.prototype.attachStreamToVideo=function(e,t){return Nn(this,void 0,void 0,function(){var r;return In(this,function(i){switch(i.label){case 0:return r=this.prepareVideoElement(t),this.addVideoSource(r,e),this.videoElement=r,this.stream=e,[4,this.playVideoOnLoadAsync(r)];case 1:return i.sent(),[2,r]}})})},n.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(r,i){return t.playVideoOnLoad(e,function(){return r()})})},n.prototype.playVideoOnLoad=function(e,t){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},n.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},n.prototype.tryPlayVideo=function(e){return Nn(this,void 0,void 0,function(){return In(this,function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},n.prototype.getMediaElement=function(e,t){var r=document.getElementById(e);if(!r)throw new Vt("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new Vt("element with id '"+e+"' must be an "+t+" element");return r},n.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new Vt("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},n.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new Vt("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},n.prototype.decodeFromVideoContinuously=function(e,t,r){if(e===void 0&&t===void 0)throw new Vt("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)},n.prototype.decodeFromImageElement=function(e){if(!e)throw new Vt("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);this.imageElement=t;var r;return this.isImageLoaded(t)?r=this.decodeOnce(t,!1,!0):r=this._decodeOnLoadImage(t),r},n.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},n.prototype.decodeFromVideoElementContinuously=function(e,t){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)},n.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Vt("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},n.prototype.decodeFromImageUrl=function(e){if(!e)throw new Vt("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var r=this._decodeOnLoadImage(t);return t.src=e,r},n.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Vt("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r},n.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new Vt("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(r,t);return r.src=e,i},n.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(r,i){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(r,i)},e.addEventListener("load",t.imageLoadedListener)})},n.prototype._decodeOnLoadVideo=function(e){return Nn(this,void 0,void 0,function(){return In(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},n.prototype._decodeOnLoadVideoContinuously=function(e,t){return Nn(this,void 0,void 0,function(){return In(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),this.decodeContinuously(e,t),[2]}})})},n.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},n.prototype.prepareImageElement=function(e){var t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},n.prototype.prepareVideoElement=function(e){var t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},n.prototype.decodeOnce=function(e,t,r){var i=this;t===void 0&&(t=!0),r===void 0&&(r=!0),this._stopAsyncDecode=!1;var a=function(s,c){if(i._stopAsyncDecode){c(new ne("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var f=i.decode(e);s(f)}catch(y){var d=t&&y instanceof ne,p=y instanceof qt||y instanceof pe,g=p&&r;if(d||g)return setTimeout(a,i._timeBetweenDecodingAttempts,s,c);c(y)}};return new Promise(function(s,c){return a(s,c)})},n.prototype.decodeContinuously=function(e,t){var r=this;this._stopContinuousDecode=!1;var i=function(){if(r._stopContinuousDecode){r._stopContinuousDecode=void 0;return}try{var a=r.decode(e);t(a,null),setTimeout(i,r.timeBetweenScansMillis)}catch(f){t(null,f);var s=f instanceof qt||f instanceof pe,c=f instanceof ne;(s||c)&&setTimeout(i,r._timeBetweenDecodingAttempts)}};i()},n.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},n.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var t=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),t=!0):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),i=new g4(r,t),a=new Y2(i);return new W2(a)},n.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),r=void 0;try{r=t.getContext("2d",{willReadFrequently:!0})}catch{r=t.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},n.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},n.prototype.drawFrameOnCanvas=function(e,t,r){t===void 0&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},n.prototype.drawImageOnCanvas=function(e,t,r){t===void 0&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},n.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},n.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var t=document.createElement("canvas"),r,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=i+"px",t.width=r,t.height=i,t},n.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},n.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},n.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},n.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},n.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},n.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}},n.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},n})(),On=(function(){function n(e,t,r,i,a,s){r===void 0&&(r=t==null?0:8*t.length),s===void 0&&(s=bt.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=i,this.format=a,this.timestamp=s,this.text=e,this.rawBytes=t,r==null?this.numBits=t==null?0:8*t.length:this.numBits=r,this.resultPoints=i,this.format=a,this.resultMetadata=null,s==null?this.timestamp=bt.currentTimeMillis():this.timestamp=s}return n.prototype.getText=function(){return this.text},n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.getBarcodeFormat=function(){return this.format},n.prototype.getResultMetadata=function(){return this.resultMetadata},n.prototype.putMetadata=function(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},n.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},n.prototype.addResultPoints=function(e){var t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){var r=new Array(t.length+e.length);bt.arraycopy(t,0,r,0,t.length),bt.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.toString=function(){return this.text},n})(),l0;(function(n){n[n.AZTEC=0]="AZTEC",n[n.CODABAR=1]="CODABAR",n[n.CODE_39=2]="CODE_39",n[n.CODE_93=3]="CODE_93",n[n.CODE_128=4]="CODE_128",n[n.DATA_MATRIX=5]="DATA_MATRIX",n[n.EAN_8=6]="EAN_8",n[n.EAN_13=7]="EAN_13",n[n.ITF=8]="ITF",n[n.MAXICODE=9]="MAXICODE",n[n.PDF_417=10]="PDF_417",n[n.QR_CODE=11]="QR_CODE",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(l0||(l0={}));const Te=l0;var c0;(function(n){n[n.OTHER=0]="OTHER",n[n.ORIENTATION=1]="ORIENTATION",n[n.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",n[n.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",n[n.ISSUE_NUMBER=4]="ISSUE_NUMBER",n[n.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",n[n.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",n[n.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",n[n.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",n[n.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",n[n.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(c0||(c0={}));const wn=c0;var Uu=(function(){function n(e,t,r,i,a,s){a===void 0&&(a=-1),s===void 0&&(s=-1),this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=s,this.numBits=e==null?0:8*e.length}return n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.setNumBits=function(e){this.numBits=e},n.prototype.getText=function(){return this.text},n.prototype.getByteSegments=function(){return this.byteSegments},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getErrorsCorrected=function(){return this.errorsCorrected},n.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},n.prototype.getErasures=function(){return this.erasures},n.prototype.setErasures=function(e){this.erasures=e},n.prototype.getOther=function(){return this.other},n.prototype.setOther=function(e){this.other=e},n.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},n.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},n.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},n})(),al=(function(){function n(){}return n.prototype.exp=function(e){return this.expTable[e]},n.prototype.log=function(e){if(e===0)throw new Oe;return this.logTable[e]},n.addOrSubtract=function(e,t){return e^t},n})(),$i=(function(){function n(e,t){if(t.length===0)throw new Oe;this.field=e;var r=t.length;if(r>1&&t[0]===0){for(var i=1;i<r&&t[i]===0;)i++;i===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-i),bt.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return this.coefficients[0]===0},n.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},n.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var t=this.coefficients,r;if(e===1){r=0;for(var i=0,a=t.length;i!==a;i++){var s=t[i];r=al.addOrSubtract(r,s)}return r}r=t[0];for(var c=t.length,f=this.field,i=1;i<c;i++)r=al.addOrSubtract(f.multiply(e,r),t[i]);return r},n.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Oe("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var i=t;t=r,r=i}var a=new Int32Array(r.length),s=r.length-t.length;bt.arraycopy(r,0,a,0,s);for(var c=s;c<r.length;c++)a[c]=al.addOrSubtract(t[c-s],r[c]);return new n(this.field,a)},n.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Oe("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,r=t.length,i=e.coefficients,a=i.length,s=new Int32Array(r+a-1),c=this.field,f=0;f<r;f++)for(var d=t[f],p=0;p<a;p++)s[f+p]=al.addOrSubtract(s[f+p],c.multiply(d,i[p]));return new n(c,s)},n.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var t=this.coefficients.length,r=this.field,i=new Int32Array(t),a=this.coefficients,s=0;s<t;s++)i[s]=r.multiply(a[s],e);return new n(r,i)},n.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new Oe;if(t===0)return this.field.getZero();for(var r=this.coefficients,i=r.length,a=new Int32Array(i+e),s=this.field,c=0;c<i;c++)a[c]=s.multiply(r[c],t);return new n(s,a)},n.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Oe("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Oe("Divide by 0");for(var t=this.field,r=t.getZero(),i=this,a=e.getCoefficient(e.getDegree()),s=t.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var c=i.getDegree()-e.getDegree(),f=t.multiply(i.getCoefficient(i.getDegree()),s),d=e.multiplyByMonomial(c,f),p=t.buildMonomial(c,f);r=r.addOrSubtract(p),i=i.addOrSubtract(d)}return[r,i]},n.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),t===0||r!==1){var i=this.field.log(r);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e},n})(),y4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),K2=(function(n){y4(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ArithmeticException",e})(Gn),x4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),zn=(function(n){x4(e,n);function e(t,r,i){var a=n.call(this)||this;a.primitive=t,a.size=r,a.generatorBase=i;for(var s=new Int32Array(r),c=1,f=0;f<r;f++)s[f]=c,c*=2,c>=r&&(c^=t,c&=r-1);a.expTable=s;for(var d=new Int32Array(r),f=0;f<r-1;f++)d[s[f]]=f;return a.logTable=d,a.zero=new $i(a,Int32Array.from([0])),a.one=new $i(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new Oe;if(r===0)return this.zero;var i=new Int32Array(t+1);return i[0]=r,new $i(this,i)},e.prototype.inverse=function(t){if(t===0)throw new K2;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Ge.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(al),w4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),tu=(function(n){w4(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ReedSolomonException",e})(Gn),_4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Nl=(function(n){_4(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IllegalStateException",e})(Gn),Vu=(function(){function n(e){this.field=e}return n.prototype.decode=function(e,t){for(var r=this.field,i=new $i(r,e),a=new Int32Array(t),s=!0,c=0;c<t;c++){var f=i.evaluateAt(r.exp(c+r.getGeneratorBase()));a[a.length-1-c]=f,f!==0&&(s=!1)}if(!s)for(var d=new $i(r,a),p=this.runEuclideanAlgorithm(r.buildMonomial(t,1),d,t),g=p[0],y=p[1],x=this.findErrorLocations(g),_=this.findErrorMagnitudes(y,x),c=0;c<x.length;c++){var E=e.length-1-r.log(x[c]);if(E<0)throw new tu("Bad error location");e[E]=zn.addOrSubtract(e[E],_[c])}},n.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=this.field,s=e,c=t,f=a.getZero(),d=a.getOne();c.getDegree()>=(r/2|0);){var p=s,g=f;if(s=c,f=d,s.isZero())throw new tu("r_{i-1} was zero");c=p;for(var y=a.getZero(),x=s.getCoefficient(s.getDegree()),_=a.inverse(x);c.getDegree()>=s.getDegree()&&!c.isZero();){var E=c.getDegree()-s.getDegree(),S=a.multiply(c.getCoefficient(c.getDegree()),_);y=y.addOrSubtract(a.buildMonomial(E,S)),c=c.addOrSubtract(s.multiplyByMonomial(E,S))}if(d=y.multiply(f).addOrSubtract(g),c.getDegree()>=s.getDegree())throw new Nl("Division algorithm failed to reduce polynomial?")}var b=d.getCoefficient(0);if(b===0)throw new tu("sigmaTilde(0) was zero");var C=a.inverse(b),T=d.multiplyScalar(C),D=c.multiplyScalar(C);return[T,D]},n.prototype.findErrorLocations=function(e){var t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);for(var r=new Int32Array(t),i=0,a=this.field,s=1;s<a.getSize()&&i<t;s++)e.evaluateAt(s)===0&&(r[i]=a.inverse(s),i++);if(i!==t)throw new tu("Error locator degree does not match number of roots");return r},n.prototype.findErrorMagnitudes=function(e,t){for(var r=t.length,i=new Int32Array(r),a=this.field,s=0;s<r;s++){for(var c=a.inverse(t[s]),f=1,d=0;d<r;d++)if(s!==d){var p=a.multiply(t[d],c),g=(p&1)===0?p|1:p&-2;f=a.multiply(f,g)}i[s]=a.multiply(e.evaluateAt(c),a.inverse(f)),a.getGeneratorBase()!==0&&(i[s]=a.multiply(i[s],c))}return i},n})(),mn;(function(n){n[n.UPPER=0]="UPPER",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.DIGIT=3]="DIGIT",n[n.PUNCT=4]="PUNCT",n[n.BINARY=5]="BINARY"})(mn||(mn={}));var dy=(function(){function n(){}return n.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),r=this.extractBits(t),i=this.correctBits(r),a=n.convertBoolArrayToByteArray(i),s=n.getEncodedData(i),c=new Uu(a,s,null,null);return c.setNumBits(i.length),c},n.highLevelDecode=function(e){return this.getEncodedData(e)},n.getEncodedData=function(e){for(var t=e.length,r=mn.UPPER,i=mn.UPPER,a="",s=0;s<t;)if(i===mn.BINARY){if(t-s<5)break;var c=n.readCode(e,s,5);if(s+=5,c===0){if(t-s<11)break;c=n.readCode(e,s,11)+31,s+=11}for(var f=0;f<c;f++){if(t-s<8){s=t;break}var d=n.readCode(e,s,8);a+=Ke.castAsNonUtf8Char(d),s+=8}i=r}else{var p=i===mn.DIGIT?4:5;if(t-s<p)break;var d=n.readCode(e,s,p);s+=p;var g=n.getCharacter(i,d);g.startsWith("CTRL_")?(r=i,i=n.getTable(g.charAt(5)),g.charAt(6)==="L"&&(r=i)):(a+=g,i=r)}return a},n.getTable=function(e){switch(e){case"L":return mn.LOWER;case"P":return mn.PUNCT;case"M":return mn.MIXED;case"D":return mn.DIGIT;case"B":return mn.BINARY;case"U":default:return mn.UPPER}},n.getCharacter=function(e,t){switch(e){case mn.UPPER:return n.UPPER_TABLE[t];case mn.LOWER:return n.LOWER_TABLE[t];case mn.MIXED:return n.MIXED_TABLE[t];case mn.PUNCT:return n.PUNCT_TABLE[t];case mn.DIGIT:return n.DIGIT_TABLE[t];default:throw new Nl("Bad table")}},n.prototype.correctBits=function(e){var t,r;this.ddata.getNbLayers()<=2?(r=6,t=zn.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=zn.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=zn.AZTEC_DATA_10):(r=12,t=zn.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/r;if(a<i)throw new pe;for(var s=e.length%r,c=new Int32Array(a),f=0;f<a;f++,s+=r)c[f]=n.readCode(e,s,r);try{var d=new Vu(t);d.decode(c,a-i)}catch(S){throw new pe(S)}for(var p=(1<<r)-1,g=0,f=0;f<i;f++){var y=c[f];if(y===0||y===p)throw new pe;(y===1||y===p-1)&&g++}for(var x=new Array(i*r-g),_=0,f=0;f<i;f++){var y=c[f];if(y===1||y===p-1)x.fill(y>1,_,_+r-1),_+=r-1;else for(var E=r-1;E>=0;--E)x[_++]=(y&1<<E)!==0}return x},n.prototype.extractBits=function(e){var t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),i=(t?11:14)+r*4,a=new Int32Array(i),s=new Array(this.totalBitsInLayer(r,t));if(t)for(var c=0;c<a.length;c++)a[c]=c;else for(var f=i+1+2*Ge.truncDivision(Ge.truncDivision(i,2)-1,15),d=i/2,p=Ge.truncDivision(f,2),c=0;c<d;c++){var g=c+Ge.truncDivision(c,15);a[d-c-1]=p-g-1,a[d+c]=p+g+1}for(var c=0,y=0;c<r;c++){for(var x=(r-c)*4+(t?9:12),_=c*2,E=i-1-_,S=0;S<x;S++)for(var b=S*2,C=0;C<2;C++)s[y+b+C]=e.get(a[_+C],a[_+S]),s[y+2*x+b+C]=e.get(a[_+S],a[E-C]),s[y+4*x+b+C]=e.get(a[E-C],a[E-S]),s[y+6*x+b+C]=e.get(a[E-S],a[_+C]);y+=x*8}return s},n.readCode=function(e,t,r){for(var i=0,a=t;a<t+r;a++)i<<=1,e[a]&&(i|=1);return i},n.readByte=function(e,t){var r=e.length-t;return r>=8?n.readCode(e,t,8):n.readCode(e,t,r)<<8-r},n.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),r=0;r<t.length;r++)t[r]=n.readByte(e,8*r);return t},n.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},n.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],n.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],n.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],n.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],n.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],n})(),nt=(function(){function n(){}return n.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},n.distance=function(e,t,r,i){var a=e-r,s=t-i;return Math.sqrt(a*a+s*s)},n.sum=function(e){for(var t=0,r=0,i=e.length;r!==i;r++){var a=e[r];t+=a}return t},n})(),u0=(function(){function n(){}return n.floatToIntBits=function(e){return e},n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n})(),be=(function(){function n(e,t){this.x=e,this.y=t}return n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.equals=function(e){if(e instanceof n){var t=e;return this.x===t.x&&this.y===t.y}return!1},n.prototype.hashCode=function(){return 31*u0.floatToIntBits(this.x)+u0.floatToIntBits(this.y)},n.prototype.toString=function(){return"("+this.x+","+this.y+")"},n.orderBestPatterns=function(e){var t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,s,c;if(r>=t&&r>=i?(s=e[0],a=e[1],c=e[2]):i>=r&&i>=t?(s=e[1],a=e[0],c=e[2]):(s=e[2],a=e[0],c=e[1]),this.crossProductZ(a,s,c)<0){var f=a;a=c,c=f}e[0]=a,e[1]=s,e[2]=c},n.distance=function(e,t){return nt.distance(e.x,e.y,t.x,t.y)},n.crossProductZ=function(e,t,r){var i=t.x,a=t.y;return(r.x-i)*(e.y-a)-(r.y-a)*(e.x-i)},n})(),K0=(function(){function n(e,t){this.bits=e,this.points=t}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n})(),b4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),E4=(function(n){b4(e,n);function e(t,r,i,a,s){var c=n.call(this,t,r)||this;return c.compact=i,c.nbDatablocks=a,c.nbLayers=s,c}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})(K0),f0=(function(){function n(e,t,r,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=n.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=t/2|0;if(this.leftInit=r-a,this.rightInit=r+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ne}return n.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,r=this.upInit,i=this.downInit,a=!1,s=!0,c=!1,f=!1,d=!1,p=!1,g=!1,y=this.width,x=this.height;s;){s=!1;for(var _=!0;(_||!f)&&t<y;)_=this.containsBlackPoint(r,i,t,!1),_?(t++,s=!0,f=!0):f||t++;if(t>=y){a=!0;break}for(var E=!0;(E||!d)&&i<x;)E=this.containsBlackPoint(e,t,i,!0),E?(i++,s=!0,d=!0):d||i++;if(i>=x){a=!0;break}for(var S=!0;(S||!p)&&e>=0;)S=this.containsBlackPoint(r,i,e,!1),S?(e--,s=!0,p=!0):p||e--;if(e<0){a=!0;break}for(var b=!0;(b||!g)&&r>=0;)b=this.containsBlackPoint(e,t,r,!0),b?(r--,s=!0,g=!0):g||r--;if(r<0){a=!0;break}s&&(c=!0)}if(!a&&c){for(var C=t-e,T=null,D=1;T===null&&D<C;D++)T=this.getBlackPointOnSegment(e,i-D,e+D,i);if(T==null)throw new ne;for(var P=null,D=1;P===null&&D<C;D++)P=this.getBlackPointOnSegment(e,r+D,e+D,r);if(P==null)throw new ne;for(var L=null,D=1;L===null&&D<C;D++)L=this.getBlackPointOnSegment(t,r+D,t-D,r);if(L==null)throw new ne;for(var U=null,D=1;U===null&&D<C;D++)U=this.getBlackPointOnSegment(t,i-D,t-D,i);if(U==null)throw new ne;return this.centerEdges(U,T,L,P)}else throw new ne},n.prototype.getBlackPointOnSegment=function(e,t,r,i){for(var a=nt.round(nt.distance(e,t,r,i)),s=(r-e)/a,c=(i-t)/a,f=this.image,d=0;d<a;d++){var p=nt.round(e+d*s),g=nt.round(t+d*c);if(f.get(p,g))return new be(p,g)}return null},n.prototype.centerEdges=function(e,t,r,i){var a=e.getX(),s=e.getY(),c=t.getX(),f=t.getY(),d=r.getX(),p=r.getY(),g=i.getX(),y=i.getY(),x=n.CORR;return a<this.width/2?[new be(g-x,y+x),new be(c+x,f+x),new be(d-x,p-x),new be(a+x,s-x)]:[new be(g+x,y+x),new be(c+x,f-x),new be(d-x,p+x),new be(a-x,s-x)]},n.prototype.containsBlackPoint=function(e,t,r,i){var a=this.image;if(i){for(var s=e;s<=t;s++)if(a.get(s,r))return!0}else for(var c=e;c<=t;c++)if(a.get(r,c))return!0;return!1},n.INIT_SIZE=10,n.CORR=1,n})(),hy=(function(){function n(){}return n.checkAndNudgePoints=function(e,t){for(var r=e.getWidth(),i=e.getHeight(),a=!0,s=0;s<t.length&&a;s+=2){var c=Math.floor(t[s]),f=Math.floor(t[s+1]);if(c<-1||c>r||f<-1||f>i)throw new ne;a=!1,c===-1?(t[s]=0,a=!0):c===r&&(t[s]=r-1,a=!0),f===-1?(t[s+1]=0,a=!0):f===i&&(t[s+1]=i-1,a=!0)}a=!0;for(var s=t.length-2;s>=0&&a;s-=2){var c=Math.floor(t[s]),f=Math.floor(t[s+1]);if(c<-1||c>r||f<-1||f>i)throw new ne;a=!1,c===-1?(t[s]=0,a=!0):c===r&&(t[s]=r-1,a=!0),f===-1?(t[s+1]=0,a=!0):f===i&&(t[s+1]=i-1,a=!0)}},n})(),Z2=(function(){function n(e,t,r,i,a,s,c,f,d){this.a11=e,this.a21=t,this.a31=r,this.a12=i,this.a22=a,this.a32=s,this.a13=c,this.a23=f,this.a33=d}return n.quadrilateralToQuadrilateral=function(e,t,r,i,a,s,c,f,d,p,g,y,x,_,E,S){var b=n.quadrilateralToSquare(e,t,r,i,a,s,c,f),C=n.squareToQuadrilateral(d,p,g,y,x,_,E,S);return C.times(b)},n.prototype.transformPoints=function(e){for(var t=e.length,r=this.a11,i=this.a12,a=this.a13,s=this.a21,c=this.a22,f=this.a23,d=this.a31,p=this.a32,g=this.a33,y=0;y<t;y+=2){var x=e[y],_=e[y+1],E=a*x+f*_+g;e[y]=(r*x+s*_+d)/E,e[y+1]=(i*x+c*_+p)/E}},n.prototype.transformPointsWithValues=function(e,t){for(var r=this.a11,i=this.a12,a=this.a13,s=this.a21,c=this.a22,f=this.a23,d=this.a31,p=this.a32,g=this.a33,y=e.length,x=0;x<y;x++){var _=e[x],E=t[x],S=a*_+f*E+g;e[x]=(r*_+s*E+d)/S,t[x]=(i*_+c*E+p)/S}},n.squareToQuadrilateral=function(e,t,r,i,a,s,c,f){var d=e-r+a-c,p=t-i+s-f;if(d===0&&p===0)return new n(r-e,a-r,e,i-t,s-i,t,0,0,1);var g=r-a,y=c-a,x=i-s,_=f-s,E=g*_-y*x,S=(d*_-y*p)/E,b=(g*p-d*x)/E;return new n(r-e+S*r,c-e+b*c,e,i-t+S*i,f-t+b*f,t,S,b,1)},n.quadrilateralToSquare=function(e,t,r,i,a,s,c,f){return n.squareToQuadrilateral(e,t,r,i,a,s,c,f).buildAdjoint()},n.prototype.buildAdjoint=function(){return new n(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},n.prototype.times=function(e){return new n(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},n})(),S4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),A4=(function(n){S4(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.sampleGrid=function(t,r,i,a,s,c,f,d,p,g,y,x,_,E,S,b,C,T,D){var P=Z2.quadrilateralToQuadrilateral(a,s,c,f,d,p,g,y,x,_,E,S,b,C,T,D);return this.sampleGridWithTransform(t,r,i,P)},e.prototype.sampleGridWithTransform=function(t,r,i,a){if(r<=0||i<=0)throw new ne;for(var s=new Ur(r,i),c=new Float32Array(2*r),f=0;f<i;f++){for(var d=c.length,p=f+.5,g=0;g<d;g+=2)c[g]=g/2+.5,c[g+1]=p;a.transformPoints(c),hy.checkAndNudgePoints(t,c);try{for(var g=0;g<d;g+=2)t.get(Math.floor(c[g]),Math.floor(c[g+1]))&&s.set(g/2,f)}catch{throw new ne}}return s},e})(hy),Z0=(function(){function n(){}return n.setGridSampler=function(e){n.gridSampler=e},n.getInstance=function(){return n.gridSampler},n.gridSampler=new A4,n})(),Vn=(function(){function n(e,t){this.x=e,this.y=t}return n.prototype.toResultPoint=function(){return new be(this.getX(),this.getY())},n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n})(),C4=(function(){function n(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return n.prototype.detect=function(){return this.detectMirror(!1)},n.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){var i=r[0];r[0]=r[2],r[2]=i}this.extractParameters(r);var a=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),s=this.getMatrixCornerPoints(r);return new E4(a,s,this.compact,this.nbDataBlocks,this.nbLayers)},n.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new ne;var t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);for(var i=0,a=0;a<4;a++){var s=r[(this.shift+a)%4];this.compact?(i<<=7,i+=s>>1&127):(i<<=10,i+=(s>>2&992)+(s>>1&31))}var c=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)},n.prototype.getRotation=function(e,t){var r=0;e.forEach(function(a,s,c){var f=(a>>t-2<<1)+(a&1);r=(r<<3)+f}),r=((r&1)<<11)+(r>>1);for(var i=0;i<4;i++)if(Ge.bitCount(r^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new ne},n.prototype.getCorrectedParameterData=function(e,t){var r,i;t?(r=7,i=2):(r=10,i=4);for(var a=r-i,s=new Int32Array(r),c=r-1;c>=0;--c)s[c]=e&15,e>>=4;try{var f=new Vu(zn.AZTEC_PARAM);f.decode(s,a)}catch{throw new ne}for(var d=0,c=0;c<i;c++)d=(d<<4)+s[c];return d},n.prototype.getBullsEyeCorners=function(e){var t=e,r=e,i=e,a=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var c=this.getFirstDifferent(t,s,1,-1),f=this.getFirstDifferent(r,s,1,1),d=this.getFirstDifferent(i,s,-1,1),p=this.getFirstDifferent(a,s,-1,-1);if(this.nbCenterLayers>2){var g=this.distancePoint(p,c)*this.nbCenterLayers/(this.distancePoint(a,t)*(this.nbCenterLayers+2));if(g<.75||g>1.25||!this.isWhiteOrBlackRectangle(c,f,d,p))break}t=c,r=f,i=d,a=p,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ne;this.compact=this.nbCenterLayers===5;var y=new be(t.getX()+.5,t.getY()-.5),x=new be(r.getX()+.5,r.getY()+.5),_=new be(i.getX()-.5,i.getY()+.5),E=new be(a.getX()-.5,a.getY()-.5);return this.expandSquare([y,x,_,E],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},n.prototype.getMatrixCenter=function(){var e,t,r,i;try{var a=new f0(this.image).detect();e=a[0],t=a[1],r=a[2],i=a[3]}catch{var s=this.image.getWidth()/2,c=this.image.getHeight()/2;e=this.getFirstDifferent(new Vn(s+7,c-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Vn(s+7,c+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Vn(s-7,c+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Vn(s-7,c-7),!1,-1,-1).toResultPoint()}var f=nt.round((e.getX()+i.getX()+t.getX()+r.getX())/4),d=nt.round((e.getY()+i.getY()+t.getY()+r.getY())/4);try{var a=new f0(this.image,15,f,d).detect();e=a[0],t=a[1],r=a[2],i=a[3]}catch{e=this.getFirstDifferent(new Vn(f+7,d-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Vn(f+7,d+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Vn(f-7,d+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Vn(f-7,d-7),!1,-1,-1).toResultPoint()}return f=nt.round((e.getX()+i.getX()+t.getX()+r.getX())/4),d=nt.round((e.getY()+i.getY()+t.getY()+r.getY())/4),new Vn(f,d)},n.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},n.prototype.sampleGrid=function(e,t,r,i,a){var s=Z0.getInstance(),c=this.getDimension(),f=c/2-this.nbCenterLayers,d=c/2+this.nbCenterLayers;return s.sampleGrid(e,c,c,f,f,d,f,d,d,f,d,t.getX(),t.getY(),r.getX(),r.getY(),i.getX(),i.getY(),a.getX(),a.getY())},n.prototype.sampleLine=function(e,t,r){for(var i=0,a=this.distanceResultPoint(e,t),s=a/r,c=e.getX(),f=e.getY(),d=s*(t.getX()-e.getX())/a,p=s*(t.getY()-e.getY())/a,g=0;g<r;g++)this.image.get(nt.round(c+g*d),nt.round(f+g*p))&&(i|=1<<r-g-1);return i},n.prototype.isWhiteOrBlackRectangle=function(e,t,r,i){var a=3;e=new Vn(e.getX()-a,e.getY()+a),t=new Vn(t.getX()-a,t.getY()-a),r=new Vn(r.getX()+a,r.getY()-a),i=new Vn(i.getX()+a,i.getY()+a);var s=this.getColor(i,e);if(s===0)return!1;var c=this.getColor(e,t);return c!==s||(c=this.getColor(t,r),c!==s)?!1:(c=this.getColor(r,i),c===s)},n.prototype.getColor=function(e,t){for(var r=this.distancePoint(e,t),i=(t.getX()-e.getX())/r,a=(t.getY()-e.getY())/r,s=0,c=e.getX(),f=e.getY(),d=this.image.get(e.getX(),e.getY()),p=Math.ceil(r),g=0;g<p;g++)c+=i,f+=a,this.image.get(nt.round(c),nt.round(f))!==d&&s++;var y=s/r;return y>.1&&y<.9?0:y<=.1===d?1:-1},n.prototype.getFirstDifferent=function(e,t,r,i){for(var a=e.getX()+r,s=e.getY()+i;this.isValid(a,s)&&this.image.get(a,s)===t;)a+=r,s+=i;for(a-=r,s-=i;this.isValid(a,s)&&this.image.get(a,s)===t;)a+=r;for(a-=r;this.isValid(a,s)&&this.image.get(a,s)===t;)s+=i;return s-=i,new Vn(a,s)},n.prototype.expandSquare=function(e,t,r){var i=r/(2*t),a=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),c=(e[0].getX()+e[2].getX())/2,f=(e[0].getY()+e[2].getY())/2,d=new be(c+i*a,f+i*s),p=new be(c-i*a,f-i*s);a=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),c=(e[1].getX()+e[3].getX())/2,f=(e[1].getY()+e[3].getY())/2;var g=new be(c+i*a,f+i*s),y=new be(c-i*a,f-i*s),x=[d,g,p,y];return x},n.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},n.prototype.isValidPoint=function(e){var t=nt.round(e.getX()),r=nt.round(e.getY());return this.isValid(t,r)},n.prototype.distancePoint=function(e,t){return nt.distance(e.getX(),e.getY(),t.getX(),t.getY())},n.prototype.distanceResultPoint=function(e,t){return nt.distance(e.getX(),e.getY(),t.getX(),t.getY())},n.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Ge.truncDivision(this.nbLayers-4,8)+1)+15},n})(),Su=(function(){function n(){}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r=null,i=new C4(e.getBlackMatrix()),a=null,s=null;try{var c=i.detectMirror(!1);a=c.getPoints(),this.reportFoundResultPoints(t,a),s=new dy().decode(c)}catch(g){r=g}if(s==null)try{var c=i.detectMirror(!0);a=c.getPoints(),this.reportFoundResultPoints(t,a),s=new dy().decode(c)}catch(g){throw r??g}var f=new On(s.getText(),s.getRawBytes(),s.getNumBits(),a,Te.AZTEC,bt.currentTimeMillis()),d=s.getByteSegments();d!=null&&f.putMetadata(wn.BYTE_SEGMENTS,d);var p=s.getECLevel();return p!=null&&f.putMetadata(wn.ERROR_CORRECTION_LEVEL,p),f},n.prototype.reportFoundResultPoints=function(e,t){if(e!=null){var r=e.get(Et.NEED_RESULT_POINT_CALLBACK);r!=null&&t.forEach(function(i,a,s){r.foundPossibleResultPoint(i)})}},n.prototype.reset=function(){},n})(),T4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();(function(n){T4(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new Su,t)||this}return e})(Yo);var an=(function(){function n(){}return n.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch{var r=t&&t.get(Et.TRY_HARDER)===!0;if(r&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,t),s=a.getResultMetadata(),c=270;s!==null&&s.get(wn.ORIENTATION)===!0&&(c=c+s.get(wn.ORIENTATION)%360),a.putMetadata(wn.ORIENTATION,c);var f=a.getResultPoints();if(f!==null)for(var d=i.getHeight(),p=0;p<f.length;p++)f[p]=new be(d-f[p].getY()-1,f[p].getX());return a}else throw new ne}},n.prototype.reset=function(){},n.prototype.doDecode=function(e,t){var r=e.getWidth(),i=e.getHeight(),a=new hn(r),s=t&&t.get(Et.TRY_HARDER)===!0,c=Math.max(1,i>>(s?8:5)),f;s?f=i:f=15;for(var d=Math.trunc(i/2),p=0;p<f;p++){var g=Math.trunc((p+1)/2),y=(p&1)===0,x=d+c*(y?g:-g);if(x<0||x>=i)break;try{a=e.getBlackRow(x,a)}catch{continue}for(var _=function(C){if(C===1&&(a.reverse(),t&&t.get(Et.NEED_RESULT_POINT_CALLBACK)===!0)){var T=new Map;t.forEach(function(L,U){return T.set(U,L)}),T.delete(Et.NEED_RESULT_POINT_CALLBACK),t=T}try{var D=E.decodeRow(x,a,t);if(C===1){D.putMetadata(wn.ORIENTATION,180);var P=D.getResultPoints();P!==null&&(P[0]=new be(r-P[0].getX()-1,P[0].getY()),P[1]=new be(r-P[1].getX()-1,P[1].getY()))}return{value:D}}catch{}},E=this,S=0;S<2;S++){var b=_(S);if(typeof b=="object")return b.value}}throw new ne},n.recordPattern=function(e,t,r){for(var i=r.length,a=0;a<i;a++)r[a]=0;var s=e.getSize();if(t>=s)throw new ne;for(var c=!e.get(t),f=0,d=t;d<s;){if(e.get(d)!==c)r[f]++;else{if(++f===i)break;r[f]=1,c=!c}d++}if(!(f===i||f===i-1&&d===s))throw new ne},n.recordPatternInReverse=function(e,t,r){for(var i=r.length,a=e.get(t);t>0&&i>=0;)e.get(--t)!==a&&(i--,a=!a);if(i>=0)throw new ne;n.recordPattern(e,t+1,r)},n.patternMatchVariance=function(e,t,r){for(var i=e.length,a=0,s=0,c=0;c<i;c++)a+=e[c],s+=t[c];if(a<s)return Number.POSITIVE_INFINITY;var f=a/s;r*=f;for(var d=0,p=0;p<i;p++){var g=e[p],y=t[p]*f,x=g>y?g-y:y-g;if(x>r)return Number.POSITIVE_INFINITY;d+=x}return d/a},n})(),O4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),py=(function(n){O4(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.findStartPattern=function(t){for(var r=t.getSize(),i=t.getNextSet(0),a=0,s=Int32Array.from([0,0,0,0,0,0]),c=i,f=!1,d=6,p=i;p<r;p++)if(t.get(p)!==f)s[a]++;else{if(a===d-1){for(var g=e.MAX_AVG_VARIANCE,y=-1,x=e.CODE_START_A;x<=e.CODE_START_C;x++){var _=an.patternMatchVariance(s,e.CODE_PATTERNS[x],e.MAX_INDIVIDUAL_VARIANCE);_<g&&(g=_,y=x)}if(y>=0&&t.isRange(Math.max(0,c-(p-c)/2),c,!1))return Int32Array.from([c,p,y]);c+=s[0]+s[1],s=s.slice(2,s.length),s[a-1]=0,s[a]=0,a--}else a++;s[a]=1,f=!f}throw new ne},e.decodeCode=function(t,r,i){an.recordPattern(t,i,r);for(var a=e.MAX_AVG_VARIANCE,s=-1,c=0;c<e.CODE_PATTERNS.length;c++){var f=e.CODE_PATTERNS[c],d=this.patternMatchVariance(r,f,e.MAX_INDIVIDUAL_VARIANCE);d<a&&(a=d,s=c)}if(s>=0)return s;throw new ne},e.prototype.decodeRow=function(t,r,i){var a=i&&i.get(Et.ASSUME_GS1)===!0,s=e.findStartPattern(r),c=s[2],f=0,d=new Uint8Array(20);d[f++]=c;var p;switch(c){case e.CODE_START_A:p=e.CODE_CODE_A;break;case e.CODE_START_B:p=e.CODE_CODE_B;break;case e.CODE_START_C:p=e.CODE_CODE_C;break;default:throw new pe}for(var g=!1,y=!1,x="",_=s[0],E=s[1],S=Int32Array.from([0,0,0,0,0,0]),b=0,C=0,T=c,D=0,P=!0,L=!1,U=!1;!g;){var $=y;switch(y=!1,b=C,C=e.decodeCode(r,S,E),d[f++]=C,C!==e.CODE_STOP&&(P=!0),C!==e.CODE_STOP&&(D++,T+=D*C),_=E,E+=S.reduce(function(I,B){return I+B},0),C){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new pe}switch(p){case e.CODE_CODE_A:if(C<64)U===L?x+=String.fromCharCode(32+C):x+=String.fromCharCode(32+C+128),U=!1;else if(C<96)U===L?x+=String.fromCharCode(C-64):x+=String.fromCharCode(C+64),U=!1;else switch(C!==e.CODE_STOP&&(P=!1),C){case e.CODE_FNC_1:a&&(x.length===0?x+="]C1":x+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!L&&U?(L=!0,U=!1):L&&U?(L=!1,U=!1):U=!0;break;case e.CODE_SHIFT:y=!0,p=e.CODE_CODE_B;break;case e.CODE_CODE_B:p=e.CODE_CODE_B;break;case e.CODE_CODE_C:p=e.CODE_CODE_C;break;case e.CODE_STOP:g=!0;break}break;case e.CODE_CODE_B:if(C<96)U===L?x+=String.fromCharCode(32+C):x+=String.fromCharCode(32+C+128),U=!1;else switch(C!==e.CODE_STOP&&(P=!1),C){case e.CODE_FNC_1:a&&(x.length===0?x+="]C1":x+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!L&&U?(L=!0,U=!1):L&&U?(L=!1,U=!1):U=!0;break;case e.CODE_SHIFT:y=!0,p=e.CODE_CODE_A;break;case e.CODE_CODE_A:p=e.CODE_CODE_A;break;case e.CODE_CODE_C:p=e.CODE_CODE_C;break;case e.CODE_STOP:g=!0;break}break;case e.CODE_CODE_C:if(C<100)C<10&&(x+="0"),x+=C;else switch(C!==e.CODE_STOP&&(P=!1),C){case e.CODE_FNC_1:a&&(x.length===0?x+="]C1":x+="");break;case e.CODE_CODE_A:p=e.CODE_CODE_A;break;case e.CODE_CODE_B:p=e.CODE_CODE_B;break;case e.CODE_STOP:g=!0;break}break}$&&(p=p===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var G=E-_;if(E=r.getNextUnset(E),!r.isRange(E,Math.min(r.getSize(),E+(E-_)/2),!1))throw new ne;if(T-=D*b,T%103!==b)throw new qt;var te=x.length;if(te===0)throw new ne;te>0&&P&&(p===e.CODE_CODE_C?x=x.substring(0,te-2):x=x.substring(0,te-1));for(var ae=(s[1]+s[0])/2,le=_+G/2,se=d.length,de=new Uint8Array(se),Ee=0;Ee<se;Ee++)de[Ee]=d[Ee];var k=[new be(ae,t),new be(le,t)];return new On(x,de,0,k,Te.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(an),R4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),_h=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gy=(function(n){R4(e,n);function e(t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var i=n.call(this)||this;return i.usingCheckDigit=t,i.extendedMode=r,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(t,r,i){var a,s,c,f,d=this.counters;d.fill(0),this.decodeRowResult="";var p=e.findAsteriskPattern(r,d),g=r.getNextSet(p[1]),y=r.getSize(),x,_;do{e.recordPattern(r,g,d);var E=e.toNarrowWidePattern(d);if(E<0)throw new ne;x=e.patternToChar(E),this.decodeRowResult+=x,_=g;try{for(var S=(a=void 0,_h(d)),b=S.next();!b.done;b=S.next()){var C=b.value;g+=C}}catch(se){a={error:se}}finally{try{b&&!b.done&&(s=S.return)&&s.call(S)}finally{if(a)throw a.error}}g=r.getNextSet(g)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var T=0;try{for(var D=_h(d),P=D.next();!P.done;P=D.next()){var C=P.value;T+=C}}catch(se){c={error:se}}finally{try{P&&!P.done&&(f=D.return)&&f.call(D)}finally{if(c)throw c.error}}var L=g-_-T;if(g!==y&&L*2<T)throw new ne;if(this.usingCheckDigit){for(var U=this.decodeRowResult.length-1,$=0,G=0;G<U;G++)$+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(G));if(this.decodeRowResult.charAt(U)!==e.ALPHABET_STRING.charAt($%43))throw new qt;this.decodeRowResult=this.decodeRowResult.substring(0,U)}if(this.decodeRowResult.length===0)throw new ne;var te;this.extendedMode?te=e.decodeExtended(this.decodeRowResult):te=this.decodeRowResult;var ae=(p[1]+p[0])/2,le=_+T/2;return new On(te,null,0,[new be(ae,t),new be(le,t)],Te.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,r){for(var i=t.getSize(),a=t.getNextSet(0),s=0,c=a,f=!1,d=r.length,p=a;p<i;p++)if(t.get(p)!==f)r[s]++;else{if(s===d-1){if(this.toNarrowWidePattern(r)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,c-Math.floor((p-c)/2)),c,!1))return[c,p];c+=r[0]+r[1],r.copyWithin(0,2,2+s-1),r[s-1]=0,r[s]=0,s--}else s++;r[s]=1,f=!f}throw new ne},e.toNarrowWidePattern=function(t){var r,i,a=t.length,s=0,c;do{var f=2147483647;try{for(var d=(r=void 0,_h(t)),p=d.next();!p.done;p=d.next()){var g=p.value;g<f&&g>s&&(f=g)}}catch(E){r={error:E}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}s=f,c=0;for(var y=0,x=0,_=0;_<a;_++){var g=t[_];g>s&&(x|=1<<a-1-_,c++,y+=g)}if(c===3){for(var _=0;_<a&&c>0;_++){var g=t[_];if(g>s&&(c--,g*2>=y))return-1}return x}}while(c>3);return-1},e.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);if(t===e.ASTERISK_ENCODING)return"*";throw new ne},e.decodeExtended=function(t){for(var r=t.length,i="",a=0;a<r;a++){var s=t.charAt(a);if(s==="+"||s==="$"||s==="%"||s==="/"){var c=t.charAt(a+1),f="\0";switch(s){case"+":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)+32);else throw new pe;break;case"$":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)-64);else throw new pe;break;case"%":if(c>="A"&&c<="E")f=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")f=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")f=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")f="\0";else if(c==="V")f="@";else if(c==="W")f="`";else if(c==="X"||c==="Y"||c==="Z")f="";else throw new pe;break;case"/":if(c>="A"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")f=":";else throw new pe;break}i+=f,a++}else i+=s}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(an),D4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),bh=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vy=(function(n){D4(e,n);function e(){var t=n.call(this)||this;return t.decodeRowResult="",t.counters=new Int32Array(6),t}return e.prototype.decodeRow=function(t,r,i){var a,s,c,f,d=this.findAsteriskPattern(r),p=r.getNextSet(d[1]),g=r.getSize(),y=this.counters;y.fill(0),this.decodeRowResult="";var x,_;do{e.recordPattern(r,p,y);var E=this.toPattern(y);if(E<0)throw new ne;x=this.patternToChar(E),this.decodeRowResult+=x,_=p;try{for(var S=(a=void 0,bh(y)),b=S.next();!b.done;b=S.next()){var C=b.value;p+=C}}catch(G){a={error:G}}finally{try{b&&!b.done&&(s=S.return)&&s.call(S)}finally{if(a)throw a.error}}p=r.getNextSet(p)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var T=0;try{for(var D=bh(y),P=D.next();!P.done;P=D.next()){var C=P.value;T+=C}}catch(G){c={error:G}}finally{try{P&&!P.done&&(f=D.return)&&f.call(D)}finally{if(c)throw c.error}}if(p===g||!r.get(p))throw new ne;if(this.decodeRowResult.length<2)throw new ne;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var L=this.decodeExtended(this.decodeRowResult),U=(d[1]+d[0])/2,$=_+T/2;return new On(L,null,0,[new be(U,t),new be($,t)],Te.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(t){var r=t.getSize(),i=t.getNextSet(0);this.counters.fill(0);for(var a=this.counters,s=i,c=!1,f=a.length,d=0,p=i;p<r;p++)if(t.get(p)!==c)a[d]++;else{if(d===f-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([s,p]);s+=a[0]+a[1],a.copyWithin(0,2,2+d-1),a[d-1]=0,a[d]=0,d--}else d++;a[d]=1,c=!c}throw new ne},e.prototype.toPattern=function(t){var r,i,a=0;try{for(var s=bh(t),c=s.next();!c.done;c=s.next()){var f=c.value;a+=f}}catch(_){r={error:_}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}for(var d=0,p=t.length,g=0;g<p;g++){var y=Math.round(t[g]*9/a);if(y<1||y>4)return-1;if((g&1)===0)for(var x=0;x<y;x++)d=d<<1|1;else d<<=y}return d},e.prototype.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);throw new ne},e.prototype.decodeExtended=function(t){for(var r=t.length,i="",a=0;a<r;a++){var s=t.charAt(a);if(s>="a"&&s<="d"){if(a>=r-1)throw new pe;var c=t.charAt(a+1),f="\0";switch(s){case"d":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)+32);else throw new pe;break;case"a":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)-64);else throw new pe;break;case"b":if(c>="A"&&c<="E")f=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")f=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")f=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")f="\0";else if(c==="V")f="@";else if(c==="W")f="`";else if(c>="X"&&c<="Z")f="";else throw new pe;break;case"c":if(c>="A"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")f=":";else throw new pe;break}i+=f,a++}else i+=s}return i},e.prototype.checkChecksums=function(t){var r=t.length;this.checkOneChecksum(t,r-2,20),this.checkOneChecksum(t,r-1,15)},e.prototype.checkOneChecksum=function(t,r,i){for(var a=1,s=0,c=r-1;c>=0;c--)s+=a*e.ALPHABET_STRING.indexOf(t.charAt(c)),++a>i&&(a=1);if(t.charAt(r)!==e.ALPHABET_STRING[s%47])throw new qt},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e})(an),N4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),I4=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},my=(function(n){N4(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return e.prototype.decodeRow=function(t,r,i){var a,s,c=this.decodeStart(r),f=this.decodeEnd(r),d=new ze;e.decodeMiddle(r,c[1],f[0],d);var p=d.toString(),g=null;i!=null&&(g=i.get(Et.ALLOWED_LENGTHS)),g==null&&(g=e.DEFAULT_ALLOWED_LENGTHS);var y=p.length,x=!1,_=0;try{for(var E=I4(g),S=E.next();!S.done;S=E.next()){var b=S.value;if(y===b){x=!0;break}b>_&&(_=b)}}catch(D){a={error:D}}finally{try{S&&!S.done&&(s=E.return)&&s.call(E)}finally{if(a)throw a.error}}if(!x&&y>_&&(x=!0),!x)throw new pe;var C=[new be(c[1],t),new be(f[0],t)],T=new On(p,null,0,C,Te.ITF,new Date().getTime());return T},e.decodeMiddle=function(t,r,i,a){var s=new Int32Array(10),c=new Int32Array(5),f=new Int32Array(5);for(s.fill(0),c.fill(0),f.fill(0);r<i;){an.recordPattern(t,r,s);for(var d=0;d<5;d++){var p=2*d;c[d]=s[p],f[d]=s[p+1]}var g=e.decodeDigit(c);a.append(g.toString()),g=this.decodeDigit(f),a.append(g.toString()),s.forEach(function(y){r+=y})}},e.prototype.decodeStart=function(t){var r=e.skipWhiteSpace(t),i=e.findGuardPattern(t,r,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i},e.prototype.validateQuietZone=function(t,r){var i=this.narrowLineWidth*10;i=i<r?i:r;for(var a=r-1;i>0&&a>=0&&!t.get(a);a--)i--;if(i!==0)throw new ne},e.skipWhiteSpace=function(t){var r=t.getSize(),i=t.getNextSet(0);if(i===r)throw new ne;return i},e.prototype.decodeEnd=function(t){t.reverse();try{var r=e.skipWhiteSpace(t),i=void 0;try{i=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[0])}catch(s){s instanceof ne&&(i=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);var a=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-a,i}finally{t.reverse()}},e.findGuardPattern=function(t,r,i){var a=i.length,s=new Int32Array(a),c=t.getSize(),f=!1,d=0,p=r;s.fill(0);for(var g=r;g<c;g++)if(t.get(g)!==f)s[d]++;else{if(d===a-1){if(an.patternMatchVariance(s,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[p,g];p+=s[0]+s[1],bt.arraycopy(s,2,s,0,d-1),s[d-1]=0,s[d]=0,d--}else d++;s[d]=1,f=!f}throw new ne},e.decodeDigit=function(t){for(var r=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,s=0;s<a;s++){var c=e.PATTERNS[s],f=an.patternMatchVariance(t,c,e.MAX_INDIVIDUAL_VARIANCE);f<r?(r=f,i=s):f===r&&(i=-1)}if(i>=0)return i%10;throw new ne},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(an),k4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Ho=(function(n){k4(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return e.findStartGuardPattern=function(t){for(var r=!1,i,a=0,s=Int32Array.from([0,0,0]);!r;){s=Int32Array.from([0,0,0]),i=e.findGuardPattern(t,a,!1,this.START_END_PATTERN,s);var c=i[0];a=i[1];var f=c-(a-c);f>=0&&(r=t.isRange(f,c,!1))}return i},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(r===0)return!1;var i=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,i=0,a=r-1;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new pe;i+=s}i*=3;for(var a=r-2;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new pe;i+=s}return(1e3-i)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,r,i,a){return this.findGuardPattern(t,r,i,a,new Int32Array(a.length))},e.findGuardPattern=function(t,r,i,a,s){var c=t.getSize();r=i?t.getNextUnset(r):t.getNextSet(r);for(var f=0,d=r,p=a.length,g=i,y=r;y<c;y++)if(t.get(y)!==g)s[f]++;else{if(f===p-1){if(an.patternMatchVariance(s,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([d,y]);d+=s[0]+s[1];for(var x=s.slice(2,s.length),_=0;_<f-1;_++)s[_]=x[_];s[f-1]=0,s[f]=0,f--}else f++;s[f]=1,g=!g}throw new ne},e.decodeDigit=function(t,r,i,a){this.recordPattern(t,i,r);for(var s=this.MAX_AVG_VARIANCE,c=-1,f=a.length,d=0;d<f;d++){var p=a[d],g=an.patternMatchVariance(r,p,e.MAX_INDIVIDUAL_VARIANCE);g<s&&(s=g,c=d)}if(c>=0)return c;throw new ne},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(an),M4=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},P4=(function(){function n(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(e,t,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,i),s=i.toString(),c=n.parseExtensionString(s),f=[new be((r[0]+r[1])/2,e),new be(a,e)],d=new On(s,null,0,f,Te.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&d.putAllMetadata(c),d},n.prototype.decodeMiddle=function(e,t,r){var i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var c=e.getSize(),f=t[1],d=0,p=0;p<5&&f<c;p++){var g=Ho.decodeDigit(e,s,f,Ho.L_AND_G_PATTERNS);r+=String.fromCharCode(48+g%10);try{for(var y=(i=void 0,M4(s)),x=y.next();!x.done;x=y.next()){var _=x.value;f+=_}}catch(S){i={error:S}}finally{try{x&&!x.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}g>=10&&(d|=1<<4-p),p!==4&&(f=e.getNextSet(f),f=e.getNextUnset(f))}if(r.length!==5)throw new ne;var E=this.determineCheckDigit(d);if(n.extensionChecksum(r.toString())!==E)throw new ne;return f},n.extensionChecksum=function(e){for(var t=e.length,r=0,i=t-2;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;r*=3;for(var i=t-1;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;return r*=3,r%10},n.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new ne},n.parseExtensionString=function(e){if(e.length!==5)return null;var t=n.parseExtension5String(e);return t==null?null:new Map([[wn.SUGGESTED_PRICE,t]])},n.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="£";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}var r=parseInt(e.substring(1)),i=(r/100).toString(),a=r%100,s=a<10?"0"+a:a.toString();return t+i+"."+s},n})(),j4=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},B4=(function(){function n(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(e,t,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,i),s=i.toString(),c=n.parseExtensionString(s),f=[new be((r[0]+r[1])/2,e),new be(a,e)],d=new On(s,null,0,f,Te.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&d.putAllMetadata(c),d},n.prototype.decodeMiddle=function(e,t,r){var i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var c=e.getSize(),f=t[1],d=0,p=0;p<2&&f<c;p++){var g=Ho.decodeDigit(e,s,f,Ho.L_AND_G_PATTERNS);r+=String.fromCharCode(48+g%10);try{for(var y=(i=void 0,j4(s)),x=y.next();!x.done;x=y.next()){var _=x.value;f+=_}}catch(E){i={error:E}}finally{try{x&&!x.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}g>=10&&(d|=1<<1-p),p!==1&&(f=e.getNextSet(f),f=e.getNextUnset(f))}if(r.length!==2)throw new ne;if(parseInt(r.toString())%4!==d)throw new ne;return f},n.parseExtensionString=function(e){return e.length!==2?null:new Map([[wn.ISSUE_NUMBER,parseInt(e)]])},n})(),L4=(function(){function n(){}return n.decodeRow=function(e,t,r){var i=Ho.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new P4;return a.decodeRow(e,t,i)}catch{var s=new B4;return s.decodeRow(e,t,i)}},n.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),n})(),F4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),tn=(function(n){F4(e,n);function e(){var t=n.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(c){return Int32Array.from(c)});for(var r=10;r<20;r++){for(var i=e.L_PATTERNS[r-10],a=new Int32Array(i.length),s=0;s<i.length;s++)a[s]=i[i.length-s-1];e.L_AND_G_PATTERNS[r]=a}return t}return e.prototype.decodeRow=function(t,r,i){var a=e.findStartGuardPattern(r),s=i==null?null:i.get(Et.NEED_RESULT_POINT_CALLBACK);if(s!=null){var c=new be((a[0]+a[1])/2,t);s.foundPossibleResultPoint(c)}var f=this.decodeMiddle(r,a,this.decodeRowStringBuffer),d=f.rowOffset,p=f.resultString;if(s!=null){var g=new be(d,t);s.foundPossibleResultPoint(g)}var y=e.decodeEnd(r,d);if(s!=null){var x=new be((y[0]+y[1])/2,t);s.foundPossibleResultPoint(x)}var _=y[1],E=_+(_-y[0]);if(E>=r.getSize()||!r.isRange(_,E,!1))throw new ne;var S=p.toString();if(S.length<8)throw new pe;if(!e.checkChecksum(S))throw new qt;var b=(a[1]+a[0])/2,C=(y[1]+y[0])/2,T=this.getBarcodeFormat(),D=[new be(b,t),new be(C,t)],P=new On(S,null,0,D,T,new Date().getTime()),L=0;try{var U=L4.decodeRow(t,r,y[1]);P.putMetadata(wn.UPC_EAN_EXTENSION,U.getText()),P.putAllMetadata(U.getResultMetadata()),P.addResultPoints(U.getResultPoints()),L=U.getText().length}catch{}var $=i==null?null:i.get(Et.ALLOWED_EAN_EXTENSIONS);if($!=null){var G=!1;for(var te in $)if(L.toString()===te){G=!0;break}if(!G)throw new ne}return T===Te.EAN_13||Te.UPC_A,P},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(r===0)return!1;var i=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,i=0,a=r-1;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new pe;i+=s}i*=3;for(var a=r-2;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new pe;i+=s}return(1e3-i)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(Ho),U4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),yy=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d0=(function(n){U4(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,r,i){var a,s,c,f,d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;for(var p=t.getSize(),g=r[1],y=0,x=0;x<6&&g<p;x++){var _=tn.decodeDigit(t,d,g,tn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+_%10);try{for(var E=(a=void 0,yy(d)),S=E.next();!S.done;S=E.next()){var b=S.value;g+=b}}catch(P){a={error:P}}finally{try{S&&!S.done&&(s=E.return)&&s.call(E)}finally{if(a)throw a.error}}_>=10&&(y|=1<<5-x)}i=e.determineFirstDigit(i,y);var C=tn.findGuardPattern(t,g,!0,tn.MIDDLE_PATTERN,new Int32Array(tn.MIDDLE_PATTERN.length).fill(0));g=C[1];for(var x=0;x<6&&g<p;x++){var _=tn.decodeDigit(t,d,g,tn.L_PATTERNS);i+=String.fromCharCode(48+_);try{for(var T=(c=void 0,yy(d)),D=T.next();!D.done;D=T.next()){var b=D.value;g+=b}}catch(U){c={error:U}}finally{try{D&&!D.done&&(f=T.return)&&f.call(T)}finally{if(c)throw c.error}}}return{rowOffset:g,resultString:i}},e.prototype.getBarcodeFormat=function(){return Te.EAN_13},e.determineFirstDigit=function(t,r){for(var i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new ne},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})(tn),V4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),xy=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wy=(function(n){V4(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,r,i){var a,s,c,f,d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;for(var p=t.getSize(),g=r[1],y=0;y<4&&g<p;y++){var x=tn.decodeDigit(t,d,g,tn.L_PATTERNS);i+=String.fromCharCode(48+x);try{for(var _=(a=void 0,xy(d)),E=_.next();!E.done;E=_.next()){var S=E.value;g+=S}}catch(D){a={error:D}}finally{try{E&&!E.done&&(s=_.return)&&s.call(_)}finally{if(a)throw a.error}}}var b=tn.findGuardPattern(t,g,!0,tn.MIDDLE_PATTERN,new Int32Array(tn.MIDDLE_PATTERN.length).fill(0));g=b[1];for(var y=0;y<4&&g<p;y++){var x=tn.decodeDigit(t,d,g,tn.L_PATTERNS);i+=String.fromCharCode(48+x);try{for(var C=(c=void 0,xy(d)),T=C.next();!T.done;T=C.next()){var S=T.value;g+=S}}catch(L){c={error:L}}finally{try{T&&!T.done&&(f=C.return)&&f.call(C)}finally{if(c)throw c.error}}}return{rowOffset:g,resultString:i}},e.prototype.getBarcodeFormat=function(){return Te.EAN_8},e})(tn),z4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),_y=(function(n){z4(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.ean13Reader=new d0,t}return e.prototype.getBarcodeFormat=function(){return Te.UPC_A},e.prototype.decode=function(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,i))},e.prototype.decodeMiddle=function(t,r,i){return this.ean13Reader.decodeMiddle(t,r,i)},e.prototype.maybeReturnResult=function(t){var r=t.getText();if(r.charAt(0)==="0"){var i=new On(r.substring(1),null,null,t.getResultPoints(),Te.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new ne},e.prototype.reset=function(){this.ean13Reader.reset()},e})(tn),H4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),G4=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},by=(function(n){H4(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return e.prototype.decodeMiddle=function(t,r,i){var a,s,c=this.decodeMiddleCounters.map(function(S){return S});c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var f=t.getSize(),d=r[1],p=0,g=0;g<6&&d<f;g++){var y=e.decodeDigit(t,c,d,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+y%10);try{for(var x=(a=void 0,G4(c)),_=x.next();!_.done;_=x.next()){var E=_.value;d+=E}}catch(S){a={error:S}}finally{try{_&&!_.done&&(s=x.return)&&s.call(x)}finally{if(a)throw a.error}}y>=10&&(p|=1<<5-g)}return e.determineNumSysAndCheckDigit(new ze(i),p),d},e.prototype.decodeEnd=function(t,r){return e.findGuardPatternWithoutCounters(t,r,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return tn.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,r){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){t.insert(0,"0"+i),t.append("0"+a);return}throw ne.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Te.UPC_E},e.convertUPCEtoUPCA=function(t){var r=t.slice(1,7).split("").map(function(s){return s.charCodeAt(0)}),i=new ze;i.append(t.charAt(0));var a=r[5];switch(a){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(a),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(a);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})(tn),$4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Ey=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Eh=(function(n){$4(e,n);function e(t){var r=n.call(this)||this,i=t==null?null:t.get(Et.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(Te.EAN_13)>-1&&a.push(new d0),i.indexOf(Te.UPC_A)>-1&&a.push(new _y),i.indexOf(Te.EAN_8)>-1&&a.push(new wy),i.indexOf(Te.UPC_E)>-1&&a.push(new by)),a.length===0&&(a.push(new d0),a.push(new _y),a.push(new wy),a.push(new by)),r.readers=a,r}return e.prototype.decodeRow=function(t,r,i){var a,s;try{for(var c=Ey(this.readers),f=c.next();!f.done;f=c.next()){var d=f.value;try{var p=d.decodeRow(t,r,i),g=p.getBarcodeFormat()===Te.EAN_13&&p.getText().charAt(0)==="0",y=i==null?null:i.get(Et.POSSIBLE_FORMATS),x=y==null||y.includes(Te.UPC_A);if(g&&x){var _=p.getRawBytes(),E=new On(p.getText().substring(1),_,_?_.length:null,p.getResultPoints(),Te.UPC_A);return E.putAllMetadata(p.getResultMetadata()),E}return p}catch{}}}catch(S){a={error:S}}finally{try{f&&!f.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}throw new ne},e.prototype.reset=function(){var t,r;try{for(var i=Ey(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;s.reset()}}catch(c){t={error:c}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e})(an),q4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),X4=(function(n){q4(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return e.prototype.decodeRow=function(t,r,i){var a=this.getValidRowData(r);if(!a)throw new ne;var s=this.codaBarDecodeRow(a.row);if(!s)throw new ne;return new On(s,null,0,[new be(a.left,t),new be(a.right,t)],Te.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(t){var r=t.toArray(),i=r.indexOf(!0);if(i===-1)return null;var a=r.lastIndexOf(!0);if(a<=i)return null;r=r.slice(i,a+1);for(var s=[],c=r[0],f=1,d=1;d<r.length;d++)r[d]===c?f++:(c=r[d],s.push(f),f=1);return s.push(f),s.length<23&&(s.length+1)%8!==0?null:{row:s,left:i,right:a}},e.prototype.codaBarDecodeRow=function(t){for(var r=[],i=Math.ceil(t.reduce(function(f,d){return(f+d)/2},0));t.length>0;){var a=t.splice(0,8).splice(0,7),s=a.map(function(f){return f<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[s]===void 0)return null;r.push(this.CODA_BAR_CHAR_SET[s])}var c=r.join("");return this.validCodaBarString(c)?c:null},e.prototype.validCodaBarString=function(t){var r=/^[A-D].{1,}[A-D]$/;return r.test(t)},e})(an),W4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Y4=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_a=(function(n){W4(e,n);function e(){var t=n.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,r){for(var i=0;i<r.length;i++)if(an.patternMatchVariance(t,r[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new ne},e.count=function(t){return nt.sum(new Int32Array(t))},e.increment=function(t,r){for(var i=0,a=r[0],s=1;s<t.length;s++)r[s]>a&&(a=r[s],i=s);t[i]++},e.decrement=function(t,r){for(var i=0,a=r[0],s=1;s<t.length;s++)r[s]<a&&(a=r[s],i=s);t[i]--},e.isFinderPattern=function(t){var r,i,a=t[0]+t[1],s=a+t[2]+t[3],c=a/s;if(c>=e.MIN_FINDER_PATTERN_RATIO&&c<=e.MAX_FINDER_PATTERN_RATIO){var f=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;try{for(var p=Y4(t),g=p.next();!g.done;g=p.next()){var y=g.value;y>d&&(d=y),y<f&&(f=y)}}catch(x){r={error:x}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}return d<10*f}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(an),Au=(function(){function n(e,t){this.value=e,this.checksumPortion=t}return n.prototype.getValue=function(){return this.value},n.prototype.getChecksumPortion=function(){return this.checksumPortion},n.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion},n.prototype.hashCode=function(){return this.value^this.checksumPortion},n})(),Q2=(function(){function n(e,t,r,i,a){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new be(r,a)),this.resultPoints.push(new be(i,a))}return n.prototype.getValue=function(){return this.value},n.prototype.getStartEnd=function(){return this.startEnd},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.prototype.hashCode=function(){return this.value},n})(),K4=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Io=(function(){function n(){}return n.getRSSvalue=function(e,t,r){var i,a,s=0;try{for(var c=K4(e),f=c.next();!f.done;f=c.next()){var d=f.value;s+=d}}catch(C){i={error:C}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}for(var p=0,g=0,y=e.length,x=0;x<y-1;x++){var _=void 0;for(_=1,g|=1<<x;_<e[x];_++,g&=~(1<<x)){var E=n.combins(s-_-1,y-x-2);if(r&&g===0&&s-_-(y-x-1)>=y-x-1&&(E-=n.combins(s-_-(y-x),y-x-2)),y-x-1>1){for(var S=0,b=s-_-(y-x-2);b>t;b--)S+=n.combins(s-_-b-1,y-x-3);E-=S*(y-1-x)}else s-_>t&&E--;p+=E}s-=_}return p},n.combins=function(e,t){var r,i;e-t>t?(i=t,r=e-t):(i=e-t,r=t);for(var a=1,s=1,c=e;c>r;c--)a*=c,s<=i&&(a/=s,s++);for(;s<=i;)a/=s,s++;return a},n})(),Z4=(function(){function n(){}return n.buildBitArray=function(e){var t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);for(var r=12*t,i=new hn(r),a=0,s=e[0],c=s.getRightChar().getValue(),f=11;f>=0;--f)(c&1<<f)!==0&&i.set(a),a++;for(var f=1;f<e.length;++f){for(var d=e[f],p=d.getLeftChar().getValue(),g=11;g>=0;--g)(p&1<<g)!==0&&i.set(a),a++;if(d.getRightChar()!==null)for(var y=d.getRightChar().getValue(),g=11;g>=0;--g)(y&1<<g)!==0&&i.set(a),a++}return i},n})(),ma=(function(){function n(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return n.prototype.getDecodedInformation=function(){return this.decodedInformation},n.prototype.isFinished=function(){return this.finished},n})(),Q0=(function(){function n(e){this.newPosition=e}return n.prototype.getNewPosition=function(){return this.newPosition},n})(),Q4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),xr=(function(n){Q4(e,n);function e(t,r){var i=n.call(this,t)||this;return i.value=r,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(Q0),J4=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),ya=(function(n){J4(e,n);function e(t,r,i){var a=n.call(this,t)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=r,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(Q0),e8=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Ro=(function(n){e8(e,n);function e(t,r,i){var a=n.call(this,t)||this;if(r<0||r>10||i<0||i>10)throw new pe;return a.firstDigit=r,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(Q0),nu=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},t8=(function(){function n(){}return n.parseFieldsInGeneralPurpose=function(e){var t,r,i,a,s,c,f,d;if(!e)return null;if(e.length<2)throw new ne;var p=e.substring(0,2);try{for(var g=nu(n.TWO_DIGIT_DATA_LENGTH),y=g.next();!y.done;y=g.next()){var x=y.value;if(x[0]===p)return x[1]===n.VARIABLE_LENGTH?n.processVariableAI(2,x[2],e):n.processFixedAI(2,x[1],e)}}catch(L){t={error:L}}finally{try{y&&!y.done&&(r=g.return)&&r.call(g)}finally{if(t)throw t.error}}if(e.length<3)throw new ne;var _=e.substring(0,3);try{for(var E=nu(n.THREE_DIGIT_DATA_LENGTH),S=E.next();!S.done;S=E.next()){var x=S.value;if(x[0]===_)return x[1]===n.VARIABLE_LENGTH?n.processVariableAI(3,x[2],e):n.processFixedAI(3,x[1],e)}}catch(L){i={error:L}}finally{try{S&&!S.done&&(a=E.return)&&a.call(E)}finally{if(i)throw i.error}}try{for(var b=nu(n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),C=b.next();!C.done;C=b.next()){var x=C.value;if(x[0]===_)return x[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,x[2],e):n.processFixedAI(4,x[1],e)}}catch(L){s={error:L}}finally{try{C&&!C.done&&(c=b.return)&&c.call(b)}finally{if(s)throw s.error}}if(e.length<4)throw new ne;var T=e.substring(0,4);try{for(var D=nu(n.FOUR_DIGIT_DATA_LENGTH),P=D.next();!P.done;P=D.next()){var x=P.value;if(x[0]===T)return x[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,x[2],e):n.processFixedAI(4,x[1],e)}}catch(L){f={error:L}}finally{try{P&&!P.done&&(d=D.return)&&d.call(D)}finally{if(f)throw f.error}}throw new ne},n.processFixedAI=function(e,t,r){if(r.length<e)throw new ne;var i=r.substring(0,e);if(r.length<e+t)throw new ne;var a=r.substring(e,e+t),s=r.substring(e+t),c="("+i+")"+a,f=n.parseFieldsInGeneralPurpose(s);return f==null?c:c+f},n.processVariableAI=function(e,t,r){var i=r.substring(0,e),a;r.length<e+t?a=r.length:a=e+t;var s=r.substring(e,a),c=r.substring(a),f="("+i+")"+s,d=n.parseFieldsInGeneralPurpose(c);return d==null?f:f+d},n.VARIABLE_LENGTH=[],n.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",n.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",n.VARIABLE_LENGTH,20],["22",n.VARIABLE_LENGTH,29],["30",n.VARIABLE_LENGTH,8],["37",n.VARIABLE_LENGTH,8],["90",n.VARIABLE_LENGTH,30],["91",n.VARIABLE_LENGTH,30],["92",n.VARIABLE_LENGTH,30],["93",n.VARIABLE_LENGTH,30],["94",n.VARIABLE_LENGTH,30],["95",n.VARIABLE_LENGTH,30],["96",n.VARIABLE_LENGTH,30],["97",n.VARIABLE_LENGTH,3],["98",n.VARIABLE_LENGTH,30],["99",n.VARIABLE_LENGTH,30]],n.THREE_DIGIT_DATA_LENGTH=[["240",n.VARIABLE_LENGTH,30],["241",n.VARIABLE_LENGTH,30],["242",n.VARIABLE_LENGTH,6],["250",n.VARIABLE_LENGTH,30],["251",n.VARIABLE_LENGTH,30],["253",n.VARIABLE_LENGTH,17],["254",n.VARIABLE_LENGTH,20],["400",n.VARIABLE_LENGTH,30],["401",n.VARIABLE_LENGTH,30],["402",17],["403",n.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",n.VARIABLE_LENGTH,20],["421",n.VARIABLE_LENGTH,15],["422",3],["423",n.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",n.VARIABLE_LENGTH,15],["391",n.VARIABLE_LENGTH,18],["392",n.VARIABLE_LENGTH,15],["393",n.VARIABLE_LENGTH,18],["703",n.VARIABLE_LENGTH,30]],n.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",n.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",n.VARIABLE_LENGTH,20],["8003",n.VARIABLE_LENGTH,30],["8004",n.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",n.VARIABLE_LENGTH,30],["8008",n.VARIABLE_LENGTH,12],["8018",18],["8020",n.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",n.VARIABLE_LENGTH,70],["8200",n.VARIABLE_LENGTH,70]],n})(),pu=(function(){function n(e){this.buffer=new ze,this.information=e}return n.prototype.decodeAllCodes=function(e,t){var r=t,i=null;do{var a=this.decodeGeneralPurposeField(r,i),s=t8.parseFieldsInGeneralPurpose(a.getNewString());if(s!=null&&e.append(s),a.isRemaining()?i=""+a.getRemainingValue():i=null,r===a.getNewPosition())break;r=a.getNewPosition()}while(!0);return e.toString()},n.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},n.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return t===0?new Ro(this.information.getSize(),Ro.FNC1,Ro.FNC1):new Ro(this.information.getSize(),t-1,Ro.FNC1)}var r=this.extractNumericValueFromBitArray(e,7),i=(r-8)/11,a=(r-8)%11;return new Ro(e+7,i,a)},n.prototype.extractNumericValueFromBitArray=function(e,t){return n.extractNumericValueFromBitArray(this.information,e,t)},n.extractNumericValueFromBitArray=function(e,t,r){for(var i=0,a=0;a<r;++a)e.get(t+a)&&(i|=1<<r-a-1);return i},n.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);var r=this.parseBlocks();return r!=null&&r.isRemaining()?new ya(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new ya(this.current.getPosition(),this.buffer.toString())},n.prototype.parseBlocks=function(){var e,t;do{var r=this.current.getPosition();this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished());var i=r!==this.current.getPosition();if(!i&&!e)break}while(!e);return t.getDecodedInformation()},n.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return e.isSecondDigitFNC1()?t=new ya(this.current.getPosition(),this.buffer.toString()):t=new ya(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new ma(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var t=new ya(this.current.getPosition(),this.buffer.toString());return new ma(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ma(!1)},n.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new ya(this.current.getPosition(),this.buffer.toString());return new ma(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ma(!1)},n.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new ya(this.current.getPosition(),this.buffer.toString());return new ma(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ma(!1)},n.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},n.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new xr(e+5,xr.FNC1);if(t>=5&&t<15)return new xr(e+5,"0"+(t-5));var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new xr(e+7,""+(r+1));if(r>=90&&r<116)return new xr(e+7,""+(r+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new pe}return new xr(e+8,a)},n.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63},n.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new xr(e+5,xr.FNC1);if(t>=5&&t<15)return new xr(e+5,"0"+(t-5));var r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new xr(e+6,""+(r+33));var i;switch(r){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Nl("Decoding invalid alphanumeric value: "+r)}return new xr(e+6,i)},n.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},n.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},n.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},n})(),J2=(function(){function n(e){this.information=e,this.generalDecoder=new pu(e)}return n.prototype.getInformation=function(){return this.information},n.prototype.getGeneralDecoder=function(){return this.generalDecoder},n})(),n8=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Er=(function(n){n8(e,n);function e(t){return n.call(this,t)||this}return e.prototype.encodeCompressedGtin=function(t,r){t.append("(01)");var i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,i)},e.prototype.encodeCompressedGtinWithoutAI=function(t,r,i){for(var a=0;a<4;++a){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*a,10);s/100===0&&t.append("0"),s/10===0&&t.append("0"),t.append(s)}e.appendCheckDigit(t,i)},e.appendCheckDigit=function(t,r){for(var i=0,a=0;a<13;a++){var s=t.charAt(a+r).charCodeAt(0)-48;i+=(a&1)===0?3*s:s}i=10-i%10,i===10&&(i=0),t.append(i)},e.GTIN_SIZE=40,e})(J2),r8=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),i8=(function(n){r8(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new ze;t.append("(01)");var r=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(Er),a8=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),o8=(function(n){a8(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new ze;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})(J2),s8=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),gu=(function(n){s8(e,n);function e(t){return n.call(this,t)||this}return e.prototype.encodeCompressedWeight=function(t,r,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(t,a);for(var s=this.checkWeight(a),c=1e5,f=0;f<5;++f)s/c===0&&t.append("0"),c/=10;t.append(s)},e})(Er),l8=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),ew=(function(n){l8(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+gu.GTIN_SIZE+e.WEIGHT_SIZE)throw new ne;var t=new ze;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+gu.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})(gu),c8=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),u8=(function(n){c8(e,n);function e(t){return n.call(this,t)||this}return e.prototype.addWeightCode=function(t,r){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e})(ew),f8=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),d8=(function(n){f8(e,n);function e(t){return n.call(this,t)||this}return e.prototype.addWeightCode=function(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e})(ew),h8=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),p8=(function(n){h8(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Er.GTIN_SIZE)throw new ne;var t=new ze;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Er.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Er.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(Er),g8=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),v8=(function(n){g8(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Er.GTIN_SIZE)throw new ne;var t=new ze;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Er.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Er.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&t.append("0"),i/10===0&&t.append("0"),t.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Er.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(a.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(Er),m8=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Fi=(function(n){m8(e,n);function e(t,r,i){var a=n.call(this,t)||this;return a.dateCode=i,a.firstAIdigits=r,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new ne;var t=new ze;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,r){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,e.DATE_SIZE);if(i!==38400){t.append("("),t.append(this.dateCode),t.append(")");var a=i%32;i/=32;var s=i%12+1;i/=12;var c=i;c/10===0&&t.append("0"),t.append(c),s/10===0&&t.append("0"),t.append(s),a/10===0&&t.append("0"),t.append(a)}},e.prototype.addWeightCode=function(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})(gu);function y8(n){try{if(n.get(1))return new i8(n);if(!n.get(2))return new o8(n);var e=pu.extractNumericValueFromBitArray(n,1,4);switch(e){case 4:return new u8(n);case 5:return new d8(n)}var t=pu.extractNumericValueFromBitArray(n,1,5);switch(t){case 12:return new p8(n);case 13:return new v8(n)}var r=pu.extractNumericValueFromBitArray(n,1,7);switch(r){case 56:return new Fi(n,"310","11");case 57:return new Fi(n,"320","11");case 58:return new Fi(n,"310","13");case 59:return new Fi(n,"320","13");case 60:return new Fi(n,"310","15");case 61:return new Fi(n,"320","15");case 62:return new Fi(n,"310","17");case 63:return new Fi(n,"320","17")}}catch(i){throw console.log(i),new Nl("unknown decoder: "+n)}}var Sy=(function(){function n(e,t,r,i){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=i}return n.prototype.mayBeLast=function(){return this.maybeLast},n.prototype.getLeftChar=function(){return this.leftchar},n.prototype.getRightChar=function(){return this.rightchar},n.prototype.getFinderPattern=function(){return this.finderpattern},n.prototype.mustBeLast=function(){return this.rightchar==null},n.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},n.equals=function(e,t){return e instanceof n?n.equalsOrNull(e.leftchar,t.leftchar)&&n.equalsOrNull(e.rightchar,t.rightchar)&&n.equalsOrNull(e.finderpattern,t.finderpattern):!1},n.equalsOrNull=function(e,t){return e===null?t===null:n.equals(e,t)},n.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},n})(),x8=(function(){function n(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}return n.prototype.getPairs=function(){return this.pairs},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.isReversed=function(){return this.wasReversed},n.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},n.prototype.toString=function(){return"{ "+this.pairs+" }"},n.prototype.equals=function(e,t){return e instanceof n?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1},n.prototype.checkEqualitity=function(e,t){if(!(!e||!t)){var r;return e.forEach(function(i,a){t.forEach(function(s){i.getLeftChar().getValue()===s.getLeftChar().getValue()&&i.getRightChar().getValue()===s.getRightChar().getValue()&&i.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(r=!0)})}),r}},n})(),w8=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Ui=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_8=(function(n){w8(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return e.prototype.decodeRow=function(t,r,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,r))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,r){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(c){if(c instanceof ne){if(!this.pairs.length)throw new ne;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(t,!1),a){var s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new ne},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(i){console.log(i)}return t&&(this.rows=this.rows.reverse()),r},e.prototype.checkRows=function(t,r){for(var i,a,s=r;s<this.rows.length;s++){var c=this.rows[s];this.pairs.length=0;try{for(var f=(i=void 0,Ui(t)),d=f.next();!d.done;d=f.next()){var p=d.value;this.pairs.push(p.getPairs())}}catch(y){i={error:y}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}if(this.pairs.push(c.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var g=new Array(t);g.push(c);try{return this.checkRows(g,s+1)}catch(y){console.log(y)}}}throw new ne},e.isValidSequence=function(t){var r,i;try{for(var a=Ui(e.FINDER_PATTERN_SEQUENCES),s=a.next();!s.done;s=a.next()){var c=s.value;if(!(t.length>c.length)){for(var f=!0,d=0;d<t.length;d++)if(t[d].getFinderPattern().getValue()!==c[d]){f=!1;break}if(f)return!0}}}catch(p){r={error:p}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return!1},e.prototype.storeRow=function(t,r){for(var i=0,a=!1,s=!1;i<this.rows.length;){var c=this.rows[i];if(c.getRowNumber()>t){s=c.isEquivalent(this.pairs);break}a=c.isEquivalent(this.pairs),i++}s||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new x8(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,r){var i,a,s,c,f,d;try{for(var p=Ui(r),g=p.next();!g.done;g=p.next()){var y=g.value;if(y.getPairs().length!==t.length){var x=!0;try{for(var _=(s=void 0,Ui(y.getPairs())),E=_.next();!E.done;E=_.next()){var S=E.value,b=!1;try{for(var C=(f=void 0,Ui(t)),T=C.next();!T.done;T=C.next()){var D=T.value;if(Sy.equals(S,D)){b=!0;break}}}catch(P){f={error:P}}finally{try{T&&!T.done&&(d=C.return)&&d.call(C)}finally{if(f)throw f.error}}b||(x=!1)}}catch(P){s={error:P}}finally{try{E&&!E.done&&(c=_.return)&&c.call(_)}finally{if(s)throw s.error}}}}}catch(P){i={error:P}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}},e.isPartialRow=function(t,r){var i,a,s,c,f,d;try{for(var p=Ui(r),g=p.next();!g.done;g=p.next()){var y=g.value,x=!0;try{for(var _=(s=void 0,Ui(t)),E=_.next();!E.done;E=_.next()){var S=E.value,b=!1;try{for(var C=(f=void 0,Ui(y.getPairs())),T=C.next();!T.done;T=C.next()){var D=T.value;if(S.equals(D)){b=!0;break}}}catch(P){f={error:P}}finally{try{T&&!T.done&&(d=C.return)&&d.call(C)}finally{if(f)throw f.error}}if(!b){x=!1;break}}}catch(P){s={error:P}}finally{try{E&&!E.done&&(c=_.return)&&c.call(_)}finally{if(s)throw s.error}}if(x)return!0}}catch(P){i={error:P}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var r=Z4.buildBitArray(t),i=y8(r),a=i.parseInformation(),s=t[0].getFinderPattern().getResultPoints(),c=t[t.length-1].getFinderPattern().getResultPoints(),f=[s[0],s[1],c[0],c[1]];return new On(a,null,null,f,Te.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),r=t.getLeftChar(),i=t.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),s=2,c=1;c<this.pairs.size();++c){var f=this.pairs.get(c);a+=f.getLeftChar().getChecksumPortion(),s++;var d=f.getRightChar();d!=null&&(a+=d.getChecksumPortion(),s++)}a%=211;var p=211*(s-4)+a;return p===r.getValue()},e.getNextSecondBar=function(t,r){var i;return t.get(r)?(i=t.getNextUnset(r),i=t.getNextSet(i)):(i=t.getNextSet(r),i=t.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(t,r,i){var a=r.length%2===0;this.startFromEven&&(a=!a);var s,c=!0,f=-1;do this.findNextPair(t,r,f),s=this.parseFoundFinderPattern(t,i,a),s===null?f=e.getNextSecondBar(t,this.startEnd[0]):c=!1;while(c);var d=this.decodeDataCharacter(t,s,a,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new ne;var p;try{p=this.decodeDataCharacter(t,s,a,!1)}catch(g){p=null,console.log(g)}return new Sy(d,p,s,!0)},e.prototype.isEmptyPair=function(t){return t.length===0},e.prototype.findNextPair=function(t,r,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var s=t.getSize(),c;if(i>=0)c=i;else if(this.isEmptyPair(r))c=0;else{var f=r[r.length-1];c=f.getFinderPattern().getStartEnd()[1]}var d=r.length%2!==0;this.startFromEven&&(d=!d);for(var p=!1;c<s&&(p=!t.get(c),!!p);)c++;for(var g=0,y=c,x=c;x<s;x++)if(t.get(x)!==p)a[g]++;else{if(g===3){if(d&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=y,this.startEnd[1]=x;return}d&&e.reverseCounters(a),y+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,g--}else g++;a[g]=1,p=!p}throw new ne},e.reverseCounters=function(t){for(var r=t.length,i=0;i<r/2;++i){var a=t[i];t[i]=t[r-i-1],t[r-i-1]=a}},e.prototype.parseFoundFinderPattern=function(t,r,i){var a,s,c;if(i){for(var f=this.startEnd[0]-1;f>=0&&!t.get(f);)f--;f++,a=this.startEnd[0]-f,s=f,c=this.startEnd[1]}else s=this.startEnd[0],c=t.getNextUnset(this.startEnd[1]+1),a=c-this.startEnd[1];var d=this.getDecodeFinderCounters();bt.arraycopy(d,0,d,1,d.length-1),d[0]=a;var p;try{p=this.parseFinderValue(d,e.FINDER_PATTERNS)}catch{return null}return new Q2(p,[s,c],s,c,r)},e.prototype.decodeDataCharacter=function(t,r,i,a){for(var s=this.getDataCharacterCounters(),c=0;c<s.length;c++)s[c]=0;if(a)e.recordPatternInReverse(t,r.getStartEnd()[0],s);else{e.recordPattern(t,r.getStartEnd()[1],s);for(var f=0,d=s.length-1;f<d;f++,d--){var p=s[f];s[f]=s[d],s[d]=p}}var g=17,y=nt.sum(new Int32Array(s))/g,x=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(y-x)/x>.3)throw new ne;for(var _=this.getOddCounts(),E=this.getEvenCounts(),S=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors(),f=0;f<s.length;f++){var C=1*s[f]/y,T=C+.5;if(T<1){if(C<.3)throw new ne;T=1}else if(T>8){if(C>8.7)throw new ne;T=8}var D=f/2;(f&1)===0?(_[D]=T,S[D]=C-T):(E[D]=T,b[D]=C-T)}this.adjustOddEvenCounts(g);for(var P=4*r.getValue()+(i?0:2)+(a?0:1)-1,L=0,U=0,f=_.length-1;f>=0;f--){if(e.isNotA1left(r,i,a)){var $=e.WEIGHTS[P][2*f];U+=_[f]*$}L+=_[f]}for(var G=0,f=E.length-1;f>=0;f--)if(e.isNotA1left(r,i,a)){var $=e.WEIGHTS[P][2*f+1];G+=E[f]*$}var te=U+G;if((L&1)!==0||L>13||L<4)throw new ne;var ae=(13-L)/2,le=e.SYMBOL_WIDEST[ae],se=9-le,de=Io.getRSSvalue(_,le,!0),Ee=Io.getRSSvalue(E,se,!1),k=e.EVEN_TOTAL_SUBSET[ae],I=e.GSUM[ae],B=de*k+Ee+I;return new Au(B,te)},e.isNotA1left=function(t,r,i){return!(t.getValue()===0&&r&&i)},e.prototype.adjustOddEvenCounts=function(t){var r=nt.sum(new Int32Array(this.getOddCounts())),i=nt.sum(new Int32Array(this.getEvenCounts())),a=!1,s=!1;r>13?s=!0:r<4&&(a=!0);var c=!1,f=!1;i>13?f=!0:i<4&&(c=!0);var d=r+i-t,p=(r&1)===1,g=(i&1)===0;if(d===1)if(p){if(g)throw new ne;s=!0}else{if(!g)throw new ne;f=!0}else if(d===-1)if(p){if(g)throw new ne;a=!0}else{if(!g)throw new ne;c=!0}else if(d===0){if(p){if(!g)throw new ne;r<i?(a=!0,f=!0):(s=!0,c=!0)}else if(g)throw new ne}else throw new ne;if(a){if(s)throw new ne;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(f)throw new ne;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})(_a),b8=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),E8=(function(n){b8(e,n);function e(t,r,i){var a=n.call(this,t,r)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(Au),S8=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Sh=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ay=(function(n){S8(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return e.prototype.decodeRow=function(t,r,i){var a,s,c,f,d=this.decodePair(r,!1,t,i);e.addOrTally(this.possibleLeftPairs,d),r.reverse();var p=this.decodePair(r,!0,t,i);e.addOrTally(this.possibleRightPairs,p),r.reverse();try{for(var g=Sh(this.possibleLeftPairs),y=g.next();!y.done;y=g.next()){var x=y.value;if(x.getCount()>1)try{for(var _=(c=void 0,Sh(this.possibleRightPairs)),E=_.next();!E.done;E=_.next()){var S=E.value;if(S.getCount()>1&&e.checkChecksum(x,S))return e.constructResult(x,S)}}catch(b){c={error:b}}finally{try{E&&!E.done&&(f=_.return)&&f.call(_)}finally{if(c)throw c.error}}}}catch(b){a={error:b}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}throw new ne},e.addOrTally=function(t,r){var i,a;if(r!=null){var s=!1;try{for(var c=Sh(t),f=c.next();!f.done;f=c.next()){var d=f.value;if(d.getValue()===r.getValue()){d.incrementCount(),s=!0;break}}}catch(p){i={error:p}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}s||t.push(r)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,r){for(var i=4537077*t.getValue()+r.getValue(),a=new String(i).toString(),s=new ze,c=13-a.length;c>0;c--)s.append("0");s.append(a);for(var f=0,c=0;c<13;c++){var d=s.charAt(c).charCodeAt(0)-48;f+=(c&1)===0?3*d:d}f=10-f%10,f===10&&(f=0),s.append(f.toString());var p=t.getFinderPattern().getResultPoints(),g=r.getFinderPattern().getResultPoints();return new On(s.toString(),null,0,[p[0],p[1],g[0],g[1]],Te.RSS_14,new Date().getTime())},e.checkChecksum=function(t,r){var i=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,a=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(t,r,i,a){try{var s=this.findFinderPattern(t,r),c=this.parseFoundFinderPattern(t,i,r,s),f=a==null?null:a.get(Et.NEED_RESULT_POINT_CALLBACK);if(f!=null){var d=(s[0]+s[1])/2;r&&(d=t.getSize()-1-d),f.foundPossibleResultPoint(new be(d,i))}var p=this.decodeDataCharacter(t,c,!0),g=this.decodeDataCharacter(t,c,!1);return new E8(1597*p.getValue()+g.getValue(),p.getChecksumPortion()+4*g.getChecksumPortion(),c)}catch{return null}},e.prototype.decodeDataCharacter=function(t,r,i){for(var a=this.getDataCharacterCounters(),s=0;s<a.length;s++)a[s]=0;if(i)an.recordPatternInReverse(t,r.getStartEnd()[0],a);else{an.recordPattern(t,r.getStartEnd()[1]+1,a);for(var c=0,f=a.length-1;c<f;c++,f--){var d=a[c];a[c]=a[f],a[f]=d}}for(var p=i?16:15,g=nt.sum(new Int32Array(a))/p,y=this.getOddCounts(),x=this.getEvenCounts(),_=this.getOddRoundingErrors(),E=this.getEvenRoundingErrors(),c=0;c<a.length;c++){var S=a[c]/g,b=Math.floor(S+.5);b<1?b=1:b>8&&(b=8);var C=Math.floor(c/2);(c&1)===0?(y[C]=b,_[C]=S-b):(x[C]=b,E[C]=S-b)}this.adjustOddEvenCounts(i,p);for(var T=0,D=0,c=y.length-1;c>=0;c--)D*=9,D+=y[c],T+=y[c];for(var P=0,L=0,c=x.length-1;c>=0;c--)P*=9,P+=x[c],L+=x[c];var U=D+3*P;if(i){if((T&1)!==0||T>12||T<4)throw new ne;var $=(12-T)/2,G=e.OUTSIDE_ODD_WIDEST[$],te=9-G,ae=Io.getRSSvalue(y,G,!1),le=Io.getRSSvalue(x,te,!0),se=e.OUTSIDE_EVEN_TOTAL_SUBSET[$],de=e.OUTSIDE_GSUM[$];return new Au(ae*se+le+de,U)}else{if((L&1)!==0||L>10||L<4)throw new ne;var $=(10-L)/2,G=e.INSIDE_ODD_WIDEST[$],te=9-G,ae=Io.getRSSvalue(y,G,!0),le=Io.getRSSvalue(x,te,!1),Ee=e.INSIDE_ODD_TOTAL_SUBSET[$],de=e.INSIDE_GSUM[$];return new Au(le*Ee+ae+de,U)}},e.prototype.findFinderPattern=function(t,r){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=t.getSize(),s=!1,c=0;c<a&&(s=!t.get(c),r!==s);)c++;for(var f=0,d=c,p=c;p<a;p++)if(t.get(p)!==s)i[f]++;else{if(f===3){if(_a.isFinderPattern(i))return[d,p];d+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,f--}else f++;i[f]=1,s=!s}throw new ne},e.prototype.parseFoundFinderPattern=function(t,r,i,a){for(var s=t.get(a[0]),c=a[0]-1;c>=0&&s!==t.get(c);)c--;c++;var f=a[0]-c,d=this.getDecodeFinderCounters(),p=new Int32Array(d.length);bt.arraycopy(d,0,p,1,d.length-1),p[0]=f;var g=this.parseFinderValue(p,e.FINDER_PATTERNS),y=c,x=a[1];return i&&(y=t.getSize()-1-y,x=t.getSize()-1-x),new Q2(g,[c,a[1]],y,x,r)},e.prototype.adjustOddEvenCounts=function(t,r){var i=nt.sum(new Int32Array(this.getOddCounts())),a=nt.sum(new Int32Array(this.getEvenCounts())),s=!1,c=!1,f=!1,d=!1;t?(i>12?c=!0:i<4&&(s=!0),a>12?d=!0:a<4&&(f=!0)):(i>11?c=!0:i<5&&(s=!0),a>10?d=!0:a<4&&(f=!0));var p=i+a-r,g=(i&1)===(t?1:0),y=(a&1)===1;if(p===1)if(g){if(y)throw new ne;c=!0}else{if(!y)throw new ne;d=!0}else if(p===-1)if(g){if(y)throw new ne;s=!0}else{if(!y)throw new ne;f=!0}else if(p===0){if(g){if(!y)throw new ne;i<a?(s=!0,d=!0):(c=!0,f=!0)}else if(y)throw new ne}else throw new ne;if(s){if(c)throw new ne;_a.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&_a.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(d)throw new ne;_a.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&_a.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})(_a),A8=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),ko=(function(n){A8(e,n);function e(t){var r=n.call(this)||this;r.readers=[];var i=t?t.get(Et.POSSIBLE_FORMATS):null,a=t&&t.get(Et.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,s=t&&t.get(Et.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(Te.EAN_13)||i.includes(Te.UPC_A)||i.includes(Te.EAN_8)||i.includes(Te.UPC_E))&&r.readers.push(new Eh(t)),i.includes(Te.CODE_39)&&r.readers.push(new gy(a,s)),i.includes(Te.CODE_93)&&r.readers.push(new vy),i.includes(Te.CODE_128)&&r.readers.push(new py),i.includes(Te.ITF)&&r.readers.push(new my),i.includes(Te.CODABAR)&&r.readers.push(new X4),i.includes(Te.RSS_14)&&r.readers.push(new Ay),i.includes(Te.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new _8))),r.readers.length===0&&(r.readers.push(new Eh(t)),r.readers.push(new gy),r.readers.push(new vy),r.readers.push(new Eh(t)),r.readers.push(new py),r.readers.push(new my),r.readers.push(new Ay)),r}return e.prototype.decodeRow=function(t,r,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(t,r,i)}catch{}throw new ne},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e})(an),C8=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();(function(n){C8(e,n);function e(t,r){return t===void 0&&(t=500),n.call(this,new ko(r),t,r)||this}return e})(Yo);var Cy=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lt=(function(){function n(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}return n.prototype.getECCodewords=function(){return this.ecCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n})(),it=(function(){function n(e,t){this.count=e,this.dataCodewords=t}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n})(),T8=(function(){function n(e,t,r,i,a,s){var c,f;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=s;var d=0,p=s.getECCodewords(),g=s.getECBlocks();try{for(var y=Cy(g),x=y.next();!x.done;x=y.next()){var _=x.value;d+=_.getCount()*(_.getDataCodewords()+p)}}catch(E){c={error:E}}finally{try{x&&!x.done&&(f=y.return)&&f.call(y)}finally{if(c)throw c.error}}this.totalCodewords=d}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},n.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},n.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},n.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n.getVersionForDimensions=function(e,t){var r,i;if((e&1)!==0||(t&1)!==0)throw new pe;try{for(var a=Cy(n.VERSIONS),s=a.next();!s.done;s=a.next()){var c=s.value;if(c.symbolSizeRows===e&&c.symbolSizeColumns===t)return c}}catch(f){r={error:f}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}throw new pe},n.prototype.toString=function(){return""+this.versionNumber},n.buildVersions=function(){return[new n(1,10,10,8,8,new lt(5,new it(1,3))),new n(2,12,12,10,10,new lt(7,new it(1,5))),new n(3,14,14,12,12,new lt(10,new it(1,8))),new n(4,16,16,14,14,new lt(12,new it(1,12))),new n(5,18,18,16,16,new lt(14,new it(1,18))),new n(6,20,20,18,18,new lt(18,new it(1,22))),new n(7,22,22,20,20,new lt(20,new it(1,30))),new n(8,24,24,22,22,new lt(24,new it(1,36))),new n(9,26,26,24,24,new lt(28,new it(1,44))),new n(10,32,32,14,14,new lt(36,new it(1,62))),new n(11,36,36,16,16,new lt(42,new it(1,86))),new n(12,40,40,18,18,new lt(48,new it(1,114))),new n(13,44,44,20,20,new lt(56,new it(1,144))),new n(14,48,48,22,22,new lt(68,new it(1,174))),new n(15,52,52,24,24,new lt(42,new it(2,102))),new n(16,64,64,14,14,new lt(56,new it(2,140))),new n(17,72,72,16,16,new lt(36,new it(4,92))),new n(18,80,80,18,18,new lt(48,new it(4,114))),new n(19,88,88,20,20,new lt(56,new it(4,144))),new n(20,96,96,22,22,new lt(68,new it(4,174))),new n(21,104,104,24,24,new lt(56,new it(6,136))),new n(22,120,120,18,18,new lt(68,new it(6,175))),new n(23,132,132,20,20,new lt(62,new it(8,163))),new n(24,144,144,22,22,new lt(62,new it(8,156),new it(2,155))),new n(25,8,18,6,16,new lt(7,new it(1,5))),new n(26,8,32,6,14,new lt(11,new it(1,10))),new n(27,12,26,10,24,new lt(14,new it(1,16))),new n(28,12,36,10,16,new lt(18,new it(1,22))),new n(29,16,36,14,16,new lt(24,new it(1,32))),new n(30,16,48,14,22,new lt(28,new it(1,49)))]},n.VERSIONS=n.buildVersions(),n})(),O8=(function(){function n(e){var t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new pe;this.version=n.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Ur(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return n.prototype.getVersion=function(){return this.version},n.readVersion=function(e){var t=e.getHeight(),r=e.getWidth();return T8.getVersionForDimensions(t,r)},n.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,r=4,i=0,a=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth(),c=!1,f=!1,d=!1,p=!1;do if(r===a&&i===0&&!c)e[t++]=this.readCorner1(a,s)&255,r-=2,i+=2,c=!0;else if(r===a-2&&i===0&&(s&3)!==0&&!f)e[t++]=this.readCorner2(a,s)&255,r-=2,i+=2,f=!0;else if(r===a+4&&i===2&&(s&7)===0&&!d)e[t++]=this.readCorner3(a,s)&255,r-=2,i+=2,d=!0;else if(r===a-2&&i===0&&(s&7)===4&&!p)e[t++]=this.readCorner4(a,s)&255,r-=2,i+=2,p=!0;else{do r<a&&i>=0&&!this.readMappingMatrix.get(i,r)&&(e[t++]=this.readUtah(r,i,a,s)&255),r-=2,i+=2;while(r>=0&&i<s);r+=1,i+=3;do r>=0&&i<s&&!this.readMappingMatrix.get(i,r)&&(e[t++]=this.readUtah(r,i,a,s)&255),r+=2,i-=2;while(r<a&&i>=0);r+=3,i+=1}while(r<a||i<s);if(t!==this.version.getTotalCodewords())throw new pe;return e},n.prototype.readModule=function(e,t,r,i){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},n.prototype.readUtah=function(e,t,r,i){var a=0;return this.readModule(e-2,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e-2,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t,r,i)&&(a|=1),a<<=1,this.readModule(e,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e,t,r,i)&&(a|=1),a},n.prototype.readCorner1=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},n.prototype.readCorner2=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},n.prototype.readCorner3=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},n.prototype.readCorner4=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},n.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new Oe("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),s=t/i|0,c=r/a|0,f=s*i,d=c*a,p=new Ur(d,f),g=0;g<s;++g)for(var y=g*i,x=0;x<c;++x)for(var _=x*a,E=0;E<i;++E)for(var S=g*(i+2)+1+E,b=y+E,C=0;C<a;++C){var T=x*(a+2)+1+C;if(e.get(T,S)){var D=_+C;p.set(D,b)}}return p},n})(),Ty=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},R8=(function(){function n(e,t){this.numDataCodewords=e,this.codewords=t}return n.getDataBlocks=function(e,t){var r,i,a,s,c=t.getECBlocks(),f=0,d=c.getECBlocks();try{for(var p=Ty(d),g=p.next();!g.done;g=p.next()){var y=g.value;f+=y.getCount()}}catch(de){r={error:de}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}var x=new Array(f),_=0;try{for(var E=Ty(d),S=E.next();!S.done;S=E.next())for(var y=S.value,b=0;b<y.getCount();b++){var C=y.getDataCodewords(),T=c.getECCodewords()+C;x[_++]=new n(C,new Uint8Array(T))}}catch(de){a={error:de}}finally{try{S&&!S.done&&(s=E.return)&&s.call(E)}finally{if(a)throw a.error}}for(var D=x[0].codewords.length,P=D-c.getECCodewords(),L=P-1,U=0,b=0;b<L;b++)for(var $=0;$<_;$++)x[$].codewords[b]=e[U++];for(var G=t.getVersionNumber()===24,te=G?8:_,$=0;$<te;$++)x[$].codewords[P-1]=e[U++];for(var ae=x[0].codewords.length,b=P;b<ae;b++)for(var $=0;$<_;$++){var le=G?($+8)%_:$,se=G&&le>7?b-1:b;x[le].codewords[se]=e[U++]}if(U!==e.length)throw new Oe;return x},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n})(),tw=(function(){function n(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return n.prototype.getBitOffset=function(){return this.bitOffset},n.prototype.getByteOffset=function(){return this.byteOffset},n.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Oe(""+e);var t=0,r=this.bitOffset,i=this.byteOffset,a=this.bytes;if(r>0){var s=8-r,c=e<s?e:s,f=s-c,d=255>>8-c<<f;t=(a[i]&d)>>f,e-=c,r+=c,r===8&&(r=0,i++)}if(e>0){for(;e>=8;)t=t<<8|a[i]&255,i++,e-=8;if(e>0){var f=8-e,d=255>>f<<f;t=t<<e|(a[i]&d)>>f,r+=e}}return this.bitOffset=r,this.byteOffset=i,t},n.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},n})(),Zt;(function(n){n[n.PAD_ENCODE=0]="PAD_ENCODE",n[n.ASCII_ENCODE=1]="ASCII_ENCODE",n[n.C40_ENCODE=2]="C40_ENCODE",n[n.TEXT_ENCODE=3]="TEXT_ENCODE",n[n.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",n[n.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",n[n.BASE256_ENCODE=6]="BASE256_ENCODE"})(Zt||(Zt={}));var D8=(function(){function n(){}return n.decode=function(e){var t=new tw(e),r=new ze,i=new ze,a=new Array,s=Zt.ASCII_ENCODE;do if(s===Zt.ASCII_ENCODE)s=this.decodeAsciiSegment(t,r,i);else{switch(s){case Zt.C40_ENCODE:this.decodeC40Segment(t,r);break;case Zt.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case Zt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case Zt.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case Zt.BASE256_ENCODE:this.decodeBase256Segment(t,r,a);break;default:throw new pe}s=Zt.ASCII_ENCODE}while(s!==Zt.PAD_ENCODE&&t.available()>0);return i.length()>0&&r.append(i.toString()),new Uu(e,r.toString(),a.length===0?null:a,null)},n.decodeAsciiSegment=function(e,t,r){var i=!1;do{var a=e.readBits(8);if(a===0)throw new pe;if(a<=128)return i&&(a+=128),t.append(String.fromCharCode(a-1)),Zt.ASCII_ENCODE;if(a===129)return Zt.PAD_ENCODE;if(a<=229){var s=a-130;s<10&&t.append("0"),t.append(""+s)}else switch(a){case 230:return Zt.C40_ENCODE;case 231:return Zt.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:t.append("[)>05"),r.insert(0,"");break;case 237:t.append("[)>06"),r.insert(0,"");break;case 238:return Zt.ANSIX12_ENCODE;case 239:return Zt.TEXT_ENCODE;case 240:return Zt.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new pe;break}}while(e.available()>0);return Zt.ASCII_ENCODE},n.decodeC40Segment=function(e,t){var r=!1,i=[],a=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var c=0;c<3;c++){var f=i[c];switch(a){case 0:if(f<3)a=f+1;else if(f<this.C40_BASIC_SET_CHARS.length){var d=this.C40_BASIC_SET_CHARS[f];r?(t.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):t.append(d)}else throw new pe;break;case 1:r?(t.append(String.fromCharCode(f+128)),r=!1):t.append(String.fromCharCode(f)),a=0;break;case 2:if(f<this.C40_SHIFT2_SET_CHARS.length){var d=this.C40_SHIFT2_SET_CHARS[f];r?(t.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):t.append(d)}else switch(f){case 27:t.append("");break;case 30:r=!0;break;default:throw new pe}a=0;break;case 3:r?(t.append(String.fromCharCode(f+224)),r=!1):t.append(String.fromCharCode(f+96)),a=0;break;default:throw new pe}}}while(e.available()>0)},n.decodeTextSegment=function(e,t){var r=!1,i=[],a=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var c=0;c<3;c++){var f=i[c];switch(a){case 0:if(f<3)a=f+1;else if(f<this.TEXT_BASIC_SET_CHARS.length){var d=this.TEXT_BASIC_SET_CHARS[f];r?(t.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):t.append(d)}else throw new pe;break;case 1:r?(t.append(String.fromCharCode(f+128)),r=!1):t.append(String.fromCharCode(f)),a=0;break;case 2:if(f<this.TEXT_SHIFT2_SET_CHARS.length){var d=this.TEXT_SHIFT2_SET_CHARS[f];r?(t.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):t.append(d)}else switch(f){case 27:t.append("");break;case 30:r=!0;break;default:throw new pe}a=0;break;case 3:if(f<this.TEXT_SHIFT3_SET_CHARS.length){var d=this.TEXT_SHIFT3_SET_CHARS[f];r?(t.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):t.append(d),a=0}else throw new pe;break;default:throw new pe}}}while(e.available()>0)},n.decodeAnsiX12Segment=function(e,t){var r=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),r);for(var a=0;a<3;a++){var s=r[a];switch(s){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(s<14)t.append(String.fromCharCode(s+44));else if(s<40)t.append(String.fromCharCode(s+51));else throw new pe;break}}}while(e.available()>0)},n.parseTwoBytes=function(e,t,r){var i=(e<<8)+t-1,a=Math.floor(i/1600);r[0]=a,i-=a*1600,a=Math.floor(i/40),r[1]=a,r[2]=i-a*40},n.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var r=0;r<4;r++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(i&32)===0&&(i|=64),t.append(String.fromCharCode(i))}}while(e.available()>0)},n.decodeBase256Segment=function(e,t,r){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),s;if(a===0?s=e.available()/8|0:a<250?s=a:s=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),s<0)throw new pe;for(var c=new Uint8Array(s),f=0;f<s;f++){if(e.available()<8)throw new pe;c[f]=this.unrandomize255State(e.readBits(8),i++)}r.push(c);try{t.append(dr.decode(c,Ke.ISO88591))}catch(d){throw new Nl("Platform does not support required encoding: "+d.message)}},n.unrandomize255State=function(e,t){var r=149*t%255+1,i=e-r;return i>=0?i:i+256},n.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],n.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n.TEXT_SHIFT2_SET_CHARS=n.C40_SHIFT2_SET_CHARS,n.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],n})(),N8=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},I8=(function(){function n(){this.rsDecoder=new Vu(zn.DATA_MATRIX_FIELD_256)}return n.prototype.decode=function(e){var t,r,i=new O8(e),a=i.getVersion(),s=i.readCodewords(),c=R8.getDataBlocks(s,a),f=0;try{for(var d=N8(c),p=d.next();!p.done;p=d.next()){var g=p.value;f+=g.getNumDataCodewords()}}catch(T){t={error:T}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(t)throw t.error}}for(var y=new Uint8Array(f),x=c.length,_=0;_<x;_++){var E=c[_],S=E.getCodewords(),b=E.getNumDataCodewords();this.correctErrors(S,b);for(var C=0;C<b;C++)y[C*x+_]=S[C]}return D8.decode(y)},n.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new qt}for(var i=0;i<t;i++)e[i]=r[i]},n})(),k8=(function(){function n(e){this.image=e,this.rectangleDetector=new f0(this.image)}return n.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new ne;t=this.shiftToModuleCenter(t);var r=t[0],i=t[1],a=t[2],s=t[3],c=this.transitionsBetween(r,s)+1,f=this.transitionsBetween(a,s)+1;(c&1)===1&&(c+=1),(f&1)===1&&(f+=1),4*c<7*f&&4*f<7*c&&(c=f=Math.max(c,f));var d=n.sampleGrid(this.image,r,i,a,s,c,f);return new K0(d,[r,i,a,s])},n.shiftPoint=function(e,t,r){var i=(t.getX()-e.getX())/(r+1),a=(t.getY()-e.getY())/(r+1);return new be(e.getX()+i,e.getY()+a)},n.moveAway=function(e,t,r){var i=e.getX(),a=e.getY();return i<t?i-=1:i+=1,a<r?a-=1:a+=1,new be(i,a)},n.prototype.detectSolid1=function(e){var t=e[0],r=e[1],i=e[3],a=e[2],s=this.transitionsBetween(t,r),c=this.transitionsBetween(r,i),f=this.transitionsBetween(i,a),d=this.transitionsBetween(a,t),p=s,g=[a,t,r,i];return p>c&&(p=c,g[0]=t,g[1]=r,g[2]=i,g[3]=a),p>f&&(p=f,g[0]=r,g[1]=i,g[2]=a,g[3]=t),p>d&&(g[0]=i,g[1]=a,g[2]=t,g[3]=r),g},n.prototype.detectSolid2=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],s=this.transitionsBetween(t,a),c=n.shiftPoint(r,i,(s+1)*4),f=n.shiftPoint(i,r,(s+1)*4),d=this.transitionsBetween(c,t),p=this.transitionsBetween(f,a);return d<p?(e[0]=t,e[1]=r,e[2]=i,e[3]=a):(e[0]=r,e[1]=i,e[2]=a,e[3]=t),e},n.prototype.correctTopRight=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],s=this.transitionsBetween(t,a),c=this.transitionsBetween(r,a),f=n.shiftPoint(t,r,(c+1)*4),d=n.shiftPoint(i,r,(s+1)*4);s=this.transitionsBetween(f,a),c=this.transitionsBetween(d,a);var p=new be(a.getX()+(i.getX()-r.getX())/(s+1),a.getY()+(i.getY()-r.getY())/(s+1)),g=new be(a.getX()+(t.getX()-r.getX())/(c+1),a.getY()+(t.getY()-r.getY())/(c+1));if(!this.isValid(p))return this.isValid(g)?g:null;if(!this.isValid(g))return p;var y=this.transitionsBetween(f,p)+this.transitionsBetween(d,p),x=this.transitionsBetween(f,g)+this.transitionsBetween(d,g);return y>x?p:g},n.prototype.shiftToModuleCenter=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],s=this.transitionsBetween(t,a)+1,c=this.transitionsBetween(i,a)+1,f=n.shiftPoint(t,r,c*4),d=n.shiftPoint(i,r,s*4);s=this.transitionsBetween(f,a)+1,c=this.transitionsBetween(d,a)+1,(s&1)===1&&(s+=1),(c&1)===1&&(c+=1);var p=(t.getX()+r.getX()+i.getX()+a.getX())/4,g=(t.getY()+r.getY()+i.getY()+a.getY())/4;t=n.moveAway(t,p,g),r=n.moveAway(r,p,g),i=n.moveAway(i,p,g),a=n.moveAway(a,p,g);var y,x;return f=n.shiftPoint(t,r,c*4),f=n.shiftPoint(f,a,s*4),y=n.shiftPoint(r,t,c*4),y=n.shiftPoint(y,i,s*4),d=n.shiftPoint(i,a,c*4),d=n.shiftPoint(d,r,s*4),x=n.shiftPoint(a,i,c*4),x=n.shiftPoint(x,t,s*4),[f,y,d,x]},n.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},n.sampleGrid=function(e,t,r,i,a,s,c){var f=Z0.getInstance();return f.sampleGrid(e,s,c,.5,.5,s-.5,.5,s-.5,c-.5,.5,c-.5,t.getX(),t.getY(),a.getX(),a.getY(),i.getX(),i.getY(),r.getX(),r.getY())},n.prototype.transitionsBetween=function(e,t){var r=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(t.getX()),s=Math.trunc(t.getY()),c=Math.abs(s-i)>Math.abs(a-r);if(c){var f=r;r=i,i=f,f=a,a=s,s=f}for(var d=Math.abs(a-r),p=Math.abs(s-i),g=-d/2,y=i<s?1:-1,x=r<a?1:-1,_=0,E=this.image.get(c?i:r,c?r:i),S=r,b=i;S!==a;S+=x){var C=this.image.get(c?b:S,c?S:b);if(C!==E&&(_++,E=C),g+=p,g>0){if(b===s)break;b+=y,g-=d}}return _},n})(),Cu=(function(){function n(){this.decoder=new I8}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r,i;if(t!=null&&t.has(Et.PURE_BARCODE)){var a=n.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(a),i=n.NO_POINTS}else{var s=new k8(e.getBlackMatrix()).detect();r=this.decoder.decode(s.getBits()),i=s.getPoints()}var c=r.getRawBytes(),f=new On(r.getText(),c,8*c.length,i,Te.DATA_MATRIX,bt.currentTimeMillis()),d=r.getByteSegments();d!=null&&f.putMetadata(wn.BYTE_SEGMENTS,d);var p=r.getECLevel();return p!=null&&f.putMetadata(wn.ERROR_CORRECTION_LEVEL,p),f},n.prototype.reset=function(){},n.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t==null||r==null)throw new ne;var i=this.moduleSize(t,e),a=t[1],s=r[1],c=t[0],f=r[0],d=(f-c+1)/i,p=(s-a+1)/i;if(d<=0||p<=0)throw new ne;var g=i/2;a+=g,c+=g;for(var y=new Ur(d,p),x=0;x<p;x++)for(var _=a+x*i,E=0;E<d;E++)e.get(c+E*i,_)&&y.set(E,x);return y},n.moduleSize=function(e,t){for(var r=t.getWidth(),i=e[0],a=e[1];i<r&&t.get(i,a);)i++;if(i===r)throw new ne;var s=i-e[0];if(s===0)throw new ne;return s},n.NO_POINTS=[],n})(),M8=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();(function(n){M8(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new Cu,t)||this}return e})(Yo);var Mo;(function(n){n[n.L=0]="L",n[n.M=1]="M",n[n.Q=2]="Q",n[n.H=3]="H"})(Mo||(Mo={}));var P8=(function(){function n(e,t,r){this.value=e,this.stringValue=t,this.bits=r,n.FOR_BITS.set(r,this),n.FOR_VALUE.set(e,this)}return n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.fromString=function(e){switch(e){case"L":return n.L;case"M":return n.M;case"Q":return n.Q;case"H":return n.H;default:throw new Vt(e+"not available")}},n.prototype.toString=function(){return this.stringValue},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.forBits=function(e){if(e<0||e>=n.FOR_BITS.size)throw new Oe;return n.FOR_BITS.get(e)},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.L=new n(Mo.L,"L",1),n.M=new n(Mo.M,"M",0),n.Q=new n(Mo.Q,"Q",3),n.H=new n(Mo.H,"H",2),n})(),j8=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nw=(function(){function n(e){this.errorCorrectionLevel=P8.forBits(e>>3&3),this.dataMask=e&7}return n.numBitsDiffering=function(e,t){return Ge.bitCount(e^t)},n.decodeFormatInformation=function(e,t){var r=n.doDecodeFormatInformation(e,t);return r!==null?r:n.doDecodeFormatInformation(e^n.FORMAT_INFO_MASK_QR,t^n.FORMAT_INFO_MASK_QR)},n.doDecodeFormatInformation=function(e,t){var r,i,a=Number.MAX_SAFE_INTEGER,s=0;try{for(var c=j8(n.FORMAT_INFO_DECODE_LOOKUP),f=c.next();!f.done;f=c.next()){var d=f.value,p=d[0];if(p===e||p===t)return new n(d[1]);var g=n.numBitsDiffering(e,p);g<a&&(s=d[1],a=g),e!==t&&(g=n.numBitsDiffering(t,p),g<a&&(s=d[1],a=g))}}catch(y){r={error:y}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return a<=3?new n(s):null},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getDataMask=function(){return this.dataMask},n.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask},n.FORMAT_INFO_MASK_QR=21522,n.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],n})(),B8=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Y=(function(){function n(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return n.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},n.prototype.getNumBlocks=function(){var e,t,r=0,i=this.ecBlocks;try{for(var a=B8(i),s=a.next();!s.done;s=a.next()){var c=s.value;r+=c.getCount()}}catch(f){e={error:f}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return r},n.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},n.prototype.getECBlocks=function(){return this.ecBlocks},n})(),M=(function(){function n(e,t){this.count=e,this.dataCodewords=t}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n})(),L8=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ta=(function(){function n(e,t){for(var r,i,a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=a;var c=0,f=a[0].getECCodewordsPerBlock(),d=a[0].getECBlocks();try{for(var p=L8(d),g=p.next();!g.done;g=p.next()){var y=g.value;c+=y.getCount()*(y.getDataCodewords()+f)}}catch(x){r={error:x}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}this.totalCodewords=c}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},n.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},n.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new pe;try{return this.getVersionForNumber((e-17)/4)}catch{throw new pe}},n.getVersionForNumber=function(e){if(e<1||e>40)throw new Oe;return n.VERSIONS[e-1]},n.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,r=0,i=0;i<n.VERSION_DECODE_INFO.length;i++){var a=n.VERSION_DECODE_INFO[i];if(a===e)return n.getVersionForNumber(i+7);var s=nw.numBitsDiffering(e,a);s<t&&(r=i+7,t=s)}return t<=3?n.getVersionForNumber(r):null},n.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new Ur(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,i=0;i<r;i++)for(var a=this.alignmentPatternCenters[i]-2,s=0;s<r;s++)i===0&&(s===0||s===r-1)||i===r-1&&s===0||t.setRegion(this.alignmentPatternCenters[s]-2,a,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},n.prototype.toString=function(){return""+this.versionNumber},n.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),n.VERSIONS=[new n(1,new Int32Array(0),new Y(7,new M(1,19)),new Y(10,new M(1,16)),new Y(13,new M(1,13)),new Y(17,new M(1,9))),new n(2,Int32Array.from([6,18]),new Y(10,new M(1,34)),new Y(16,new M(1,28)),new Y(22,new M(1,22)),new Y(28,new M(1,16))),new n(3,Int32Array.from([6,22]),new Y(15,new M(1,55)),new Y(26,new M(1,44)),new Y(18,new M(2,17)),new Y(22,new M(2,13))),new n(4,Int32Array.from([6,26]),new Y(20,new M(1,80)),new Y(18,new M(2,32)),new Y(26,new M(2,24)),new Y(16,new M(4,9))),new n(5,Int32Array.from([6,30]),new Y(26,new M(1,108)),new Y(24,new M(2,43)),new Y(18,new M(2,15),new M(2,16)),new Y(22,new M(2,11),new M(2,12))),new n(6,Int32Array.from([6,34]),new Y(18,new M(2,68)),new Y(16,new M(4,27)),new Y(24,new M(4,19)),new Y(28,new M(4,15))),new n(7,Int32Array.from([6,22,38]),new Y(20,new M(2,78)),new Y(18,new M(4,31)),new Y(18,new M(2,14),new M(4,15)),new Y(26,new M(4,13),new M(1,14))),new n(8,Int32Array.from([6,24,42]),new Y(24,new M(2,97)),new Y(22,new M(2,38),new M(2,39)),new Y(22,new M(4,18),new M(2,19)),new Y(26,new M(4,14),new M(2,15))),new n(9,Int32Array.from([6,26,46]),new Y(30,new M(2,116)),new Y(22,new M(3,36),new M(2,37)),new Y(20,new M(4,16),new M(4,17)),new Y(24,new M(4,12),new M(4,13))),new n(10,Int32Array.from([6,28,50]),new Y(18,new M(2,68),new M(2,69)),new Y(26,new M(4,43),new M(1,44)),new Y(24,new M(6,19),new M(2,20)),new Y(28,new M(6,15),new M(2,16))),new n(11,Int32Array.from([6,30,54]),new Y(20,new M(4,81)),new Y(30,new M(1,50),new M(4,51)),new Y(28,new M(4,22),new M(4,23)),new Y(24,new M(3,12),new M(8,13))),new n(12,Int32Array.from([6,32,58]),new Y(24,new M(2,92),new M(2,93)),new Y(22,new M(6,36),new M(2,37)),new Y(26,new M(4,20),new M(6,21)),new Y(28,new M(7,14),new M(4,15))),new n(13,Int32Array.from([6,34,62]),new Y(26,new M(4,107)),new Y(22,new M(8,37),new M(1,38)),new Y(24,new M(8,20),new M(4,21)),new Y(22,new M(12,11),new M(4,12))),new n(14,Int32Array.from([6,26,46,66]),new Y(30,new M(3,115),new M(1,116)),new Y(24,new M(4,40),new M(5,41)),new Y(20,new M(11,16),new M(5,17)),new Y(24,new M(11,12),new M(5,13))),new n(15,Int32Array.from([6,26,48,70]),new Y(22,new M(5,87),new M(1,88)),new Y(24,new M(5,41),new M(5,42)),new Y(30,new M(5,24),new M(7,25)),new Y(24,new M(11,12),new M(7,13))),new n(16,Int32Array.from([6,26,50,74]),new Y(24,new M(5,98),new M(1,99)),new Y(28,new M(7,45),new M(3,46)),new Y(24,new M(15,19),new M(2,20)),new Y(30,new M(3,15),new M(13,16))),new n(17,Int32Array.from([6,30,54,78]),new Y(28,new M(1,107),new M(5,108)),new Y(28,new M(10,46),new M(1,47)),new Y(28,new M(1,22),new M(15,23)),new Y(28,new M(2,14),new M(17,15))),new n(18,Int32Array.from([6,30,56,82]),new Y(30,new M(5,120),new M(1,121)),new Y(26,new M(9,43),new M(4,44)),new Y(28,new M(17,22),new M(1,23)),new Y(28,new M(2,14),new M(19,15))),new n(19,Int32Array.from([6,30,58,86]),new Y(28,new M(3,113),new M(4,114)),new Y(26,new M(3,44),new M(11,45)),new Y(26,new M(17,21),new M(4,22)),new Y(26,new M(9,13),new M(16,14))),new n(20,Int32Array.from([6,34,62,90]),new Y(28,new M(3,107),new M(5,108)),new Y(26,new M(3,41),new M(13,42)),new Y(30,new M(15,24),new M(5,25)),new Y(28,new M(15,15),new M(10,16))),new n(21,Int32Array.from([6,28,50,72,94]),new Y(28,new M(4,116),new M(4,117)),new Y(26,new M(17,42)),new Y(28,new M(17,22),new M(6,23)),new Y(30,new M(19,16),new M(6,17))),new n(22,Int32Array.from([6,26,50,74,98]),new Y(28,new M(2,111),new M(7,112)),new Y(28,new M(17,46)),new Y(30,new M(7,24),new M(16,25)),new Y(24,new M(34,13))),new n(23,Int32Array.from([6,30,54,78,102]),new Y(30,new M(4,121),new M(5,122)),new Y(28,new M(4,47),new M(14,48)),new Y(30,new M(11,24),new M(14,25)),new Y(30,new M(16,15),new M(14,16))),new n(24,Int32Array.from([6,28,54,80,106]),new Y(30,new M(6,117),new M(4,118)),new Y(28,new M(6,45),new M(14,46)),new Y(30,new M(11,24),new M(16,25)),new Y(30,new M(30,16),new M(2,17))),new n(25,Int32Array.from([6,32,58,84,110]),new Y(26,new M(8,106),new M(4,107)),new Y(28,new M(8,47),new M(13,48)),new Y(30,new M(7,24),new M(22,25)),new Y(30,new M(22,15),new M(13,16))),new n(26,Int32Array.from([6,30,58,86,114]),new Y(28,new M(10,114),new M(2,115)),new Y(28,new M(19,46),new M(4,47)),new Y(28,new M(28,22),new M(6,23)),new Y(30,new M(33,16),new M(4,17))),new n(27,Int32Array.from([6,34,62,90,118]),new Y(30,new M(8,122),new M(4,123)),new Y(28,new M(22,45),new M(3,46)),new Y(30,new M(8,23),new M(26,24)),new Y(30,new M(12,15),new M(28,16))),new n(28,Int32Array.from([6,26,50,74,98,122]),new Y(30,new M(3,117),new M(10,118)),new Y(28,new M(3,45),new M(23,46)),new Y(30,new M(4,24),new M(31,25)),new Y(30,new M(11,15),new M(31,16))),new n(29,Int32Array.from([6,30,54,78,102,126]),new Y(30,new M(7,116),new M(7,117)),new Y(28,new M(21,45),new M(7,46)),new Y(30,new M(1,23),new M(37,24)),new Y(30,new M(19,15),new M(26,16))),new n(30,Int32Array.from([6,26,52,78,104,130]),new Y(30,new M(5,115),new M(10,116)),new Y(28,new M(19,47),new M(10,48)),new Y(30,new M(15,24),new M(25,25)),new Y(30,new M(23,15),new M(25,16))),new n(31,Int32Array.from([6,30,56,82,108,134]),new Y(30,new M(13,115),new M(3,116)),new Y(28,new M(2,46),new M(29,47)),new Y(30,new M(42,24),new M(1,25)),new Y(30,new M(23,15),new M(28,16))),new n(32,Int32Array.from([6,34,60,86,112,138]),new Y(30,new M(17,115)),new Y(28,new M(10,46),new M(23,47)),new Y(30,new M(10,24),new M(35,25)),new Y(30,new M(19,15),new M(35,16))),new n(33,Int32Array.from([6,30,58,86,114,142]),new Y(30,new M(17,115),new M(1,116)),new Y(28,new M(14,46),new M(21,47)),new Y(30,new M(29,24),new M(19,25)),new Y(30,new M(11,15),new M(46,16))),new n(34,Int32Array.from([6,34,62,90,118,146]),new Y(30,new M(13,115),new M(6,116)),new Y(28,new M(14,46),new M(23,47)),new Y(30,new M(44,24),new M(7,25)),new Y(30,new M(59,16),new M(1,17))),new n(35,Int32Array.from([6,30,54,78,102,126,150]),new Y(30,new M(12,121),new M(7,122)),new Y(28,new M(12,47),new M(26,48)),new Y(30,new M(39,24),new M(14,25)),new Y(30,new M(22,15),new M(41,16))),new n(36,Int32Array.from([6,24,50,76,102,128,154]),new Y(30,new M(6,121),new M(14,122)),new Y(28,new M(6,47),new M(34,48)),new Y(30,new M(46,24),new M(10,25)),new Y(30,new M(2,15),new M(64,16))),new n(37,Int32Array.from([6,28,54,80,106,132,158]),new Y(30,new M(17,122),new M(4,123)),new Y(28,new M(29,46),new M(14,47)),new Y(30,new M(49,24),new M(10,25)),new Y(30,new M(24,15),new M(46,16))),new n(38,Int32Array.from([6,32,58,84,110,136,162]),new Y(30,new M(4,122),new M(18,123)),new Y(28,new M(13,46),new M(32,47)),new Y(30,new M(48,24),new M(14,25)),new Y(30,new M(42,15),new M(32,16))),new n(39,Int32Array.from([6,26,54,82,110,138,166]),new Y(30,new M(20,117),new M(4,118)),new Y(28,new M(40,47),new M(7,48)),new Y(30,new M(43,24),new M(22,25)),new Y(30,new M(10,15),new M(67,16))),new n(40,Int32Array.from([6,30,58,86,114,142,170]),new Y(30,new M(19,118),new M(6,119)),new Y(28,new M(18,47),new M(31,48)),new Y(30,new M(34,24),new M(34,25)),new Y(30,new M(20,15),new M(61,16)))],n})(),fn;(function(n){n[n.DATA_MASK_000=0]="DATA_MASK_000",n[n.DATA_MASK_001=1]="DATA_MASK_001",n[n.DATA_MASK_010=2]="DATA_MASK_010",n[n.DATA_MASK_011=3]="DATA_MASK_011",n[n.DATA_MASK_100=4]="DATA_MASK_100",n[n.DATA_MASK_101=5]="DATA_MASK_101",n[n.DATA_MASK_110=6]="DATA_MASK_110",n[n.DATA_MASK_111=7]="DATA_MASK_111"})(fn||(fn={}));var Oy=(function(){function n(e,t){this.value=e,this.isMasked=t}return n.prototype.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var i=0;i<t;i++)this.isMasked(r,i)&&e.flip(i,r)},n.values=new Map([[fn.DATA_MASK_000,new n(fn.DATA_MASK_000,function(e,t){return(e+t&1)===0})],[fn.DATA_MASK_001,new n(fn.DATA_MASK_001,function(e,t){return(e&1)===0})],[fn.DATA_MASK_010,new n(fn.DATA_MASK_010,function(e,t){return t%3===0})],[fn.DATA_MASK_011,new n(fn.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[fn.DATA_MASK_100,new n(fn.DATA_MASK_100,function(e,t){return(Math.floor(e/2)+Math.floor(t/3)&1)===0})],[fn.DATA_MASK_101,new n(fn.DATA_MASK_101,function(e,t){return e*t%6===0})],[fn.DATA_MASK_110,new n(fn.DATA_MASK_110,function(e,t){return e*t%6<3})],[fn.DATA_MASK_111,new n(fn.DATA_MASK_111,function(e,t){return(e+t+e*t%3&1)===0})]]),n})(),F8=(function(){function n(e){var t=e.getHeight();if(t<21||(t&3)!==1)throw new pe;this.bitMatrix=e}return n.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);for(var i=this.bitMatrix.getHeight(),a=0,s=i-7,r=i-1;r>=s;r--)a=this.copyBit(8,r,a);for(var t=i-8;t<i;t++)a=this.copyBit(t,8,a);if(this.parsedFormatInfo=nw.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new pe},n.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Ta.getVersionForNumber(t);for(var r=0,i=e-11,a=5;a>=0;a--)for(var s=e-9;s>=i;s--)r=this.copyBit(s,a,r);var c=Ta.decodeVersionInformation(r);if(c!==null&&c.getDimensionForVersion()===e)return this.parsedVersion=c,c;r=0;for(var s=5;s>=0;s--)for(var a=e-9;a>=i;a--)r=this.copyBit(s,a,r);if(c=Ta.decodeVersionInformation(r),c!==null&&c.getDimensionForVersion()===e)return this.parsedVersion=c,c;throw new pe},n.prototype.copyBit=function(e,t,r){var i=this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t);return i?r<<1|1:r<<1},n.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),r=Oy.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i);for(var a=t.buildFunctionPattern(),s=!0,c=new Uint8Array(t.getTotalCodewords()),f=0,d=0,p=0,g=i-1;g>0;g-=2){g===6&&g--;for(var y=0;y<i;y++)for(var x=s?i-1-y:y,_=0;_<2;_++)a.get(g-_,x)||(p++,d<<=1,this.bitMatrix.get(g-_,x)&&(d|=1),p===8&&(c[f++]=d,p=0,d=0));s=!s}if(f!==t.getTotalCodewords())throw new pe;return c},n.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=Oy.values.get(this.parsedFormatInfo.getDataMask()),t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},n.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},n.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,r=e.getWidth();t<r;t++)for(var i=t+1,a=e.getHeight();i<a;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))},n})(),Ry=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},U8=(function(){function n(e,t){this.numDataCodewords=e,this.codewords=t}return n.getDataBlocks=function(e,t,r){var i,a,s,c;if(e.length!==t.getTotalCodewords())throw new Oe;var f=t.getECBlocksForLevel(r),d=0,p=f.getECBlocks();try{for(var g=Ry(p),y=g.next();!y.done;y=g.next()){var x=y.value;d+=x.getCount()}}catch(se){i={error:se}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}var _=new Array(d),E=0;try{for(var S=Ry(p),b=S.next();!b.done;b=S.next())for(var x=b.value,C=0;C<x.getCount();C++){var T=x.getDataCodewords(),D=f.getECCodewordsPerBlock()+T;_[E++]=new n(T,new Uint8Array(D))}}catch(se){s={error:se}}finally{try{b&&!b.done&&(c=S.return)&&c.call(S)}finally{if(s)throw s.error}}for(var P=_[0].codewords.length,L=_.length-1;L>=0;){var U=_[L].codewords.length;if(U===P)break;L--}L++;for(var $=P-f.getECCodewordsPerBlock(),G=0,C=0;C<$;C++)for(var te=0;te<E;te++)_[te].codewords[C]=e[G++];for(var te=L;te<E;te++)_[te].codewords[$]=e[G++];for(var ae=_[0].codewords.length,C=$;C<ae;C++)for(var te=0;te<E;te++){var le=te<L?C:C+1;_[te].codewords[le]=e[G++]}return _},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n})(),cr;(function(n){n[n.TERMINATOR=0]="TERMINATOR",n[n.NUMERIC=1]="NUMERIC",n[n.ALPHANUMERIC=2]="ALPHANUMERIC",n[n.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",n[n.BYTE=4]="BYTE",n[n.ECI=5]="ECI",n[n.KANJI=6]="KANJI",n[n.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",n[n.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",n[n.HANZI=9]="HANZI"})(cr||(cr={}));var Tt=(function(){function n(e,t,r,i){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=i,n.FOR_BITS.set(i,this),n.FOR_VALUE.set(e,this)}return n.forBits=function(e){var t=n.FOR_BITS.get(e);if(t===void 0)throw new Oe;return t},n.prototype.getCharacterCountBits=function(e){var t=e.getVersionNumber(),r;return t<=9?r=0:t<=26?r=1:r=2,this.characterCountBitsForVersions[r]},n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.prototype.toString=function(){return this.stringValue},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.TERMINATOR=new n(cr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),n.NUMERIC=new n(cr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),n.ALPHANUMERIC=new n(cr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),n.STRUCTURED_APPEND=new n(cr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),n.BYTE=new n(cr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),n.ECI=new n(cr.ECI,"ECI",Int32Array.from([0,0,0]),7),n.KANJI=new n(cr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),n.FNC1_FIRST_POSITION=new n(cr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),n.FNC1_SECOND_POSITION=new n(cr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),n.HANZI=new n(cr.HANZI,"HANZI",Int32Array.from([8,10,12]),13),n})(),V8=(function(){function n(){}return n.decode=function(e,t,r,i){var a=new tw(e),s=new ze,c=new Array,f=-1,d=-1;try{var p=null,g=!1,y=void 0;do{if(a.available()<4)y=Tt.TERMINATOR;else{var x=a.readBits(4);y=Tt.forBits(x)}switch(y){case Tt.TERMINATOR:break;case Tt.FNC1_FIRST_POSITION:case Tt.FNC1_SECOND_POSITION:g=!0;break;case Tt.STRUCTURED_APPEND:if(a.available()<16)throw new pe;f=a.readBits(8),d=a.readBits(8);break;case Tt.ECI:var _=n.parseECIValue(a);if(p=nn.getCharacterSetECIByValue(_),p===null)throw new pe;break;case Tt.HANZI:var E=a.readBits(4),S=a.readBits(y.getCharacterCountBits(t));E===n.GB2312_SUBSET&&n.decodeHanziSegment(a,s,S);break;default:var b=a.readBits(y.getCharacterCountBits(t));switch(y){case Tt.NUMERIC:n.decodeNumericSegment(a,s,b);break;case Tt.ALPHANUMERIC:n.decodeAlphanumericSegment(a,s,b,g);break;case Tt.BYTE:n.decodeByteSegment(a,s,b,p,c,i);break;case Tt.KANJI:n.decodeKanjiSegment(a,s,b);break;default:throw new pe}break}}while(y!==Tt.TERMINATOR)}catch{throw new pe}return new Uu(e,s.toString(),c.length===0?null:c,r===null?null:r.toString(),f,d)},n.decodeHanziSegment=function(e,t,r){if(r*13>e.available())throw new pe;for(var i=new Uint8Array(2*r),a=0;r>0;){var s=e.readBits(13),c=s/96<<8&4294967295|s%96;c<959?c+=41377:c+=42657,i[a]=c>>8&255,i[a+1]=c&255,a+=2,r--}try{t.append(dr.decode(i,Ke.GB2312))}catch(f){throw new pe(f)}},n.decodeKanjiSegment=function(e,t,r){if(r*13>e.available())throw new pe;for(var i=new Uint8Array(2*r),a=0;r>0;){var s=e.readBits(13),c=s/192<<8&4294967295|s%192;c<7936?c+=33088:c+=49472,i[a]=c>>8,i[a+1]=c,a+=2,r--}try{t.append(dr.decode(i,Ke.SHIFT_JIS))}catch(f){throw new pe(f)}},n.decodeByteSegment=function(e,t,r,i,a,s){if(8*r>e.available())throw new pe;for(var c=new Uint8Array(r),f=0;f<r;f++)c[f]=e.readBits(8);var d;i===null?d=Ke.guessEncoding(c,s):d=i.getName();try{t.append(dr.decode(c,d))}catch(p){throw new pe(p)}a.push(c)},n.toAlphaNumericChar=function(e){if(e>=n.ALPHANUMERIC_CHARS.length)throw new pe;return n.ALPHANUMERIC_CHARS[e]},n.decodeAlphanumericSegment=function(e,t,r,i){for(var a=t.length();r>1;){if(e.available()<11)throw new pe;var s=e.readBits(11);t.append(n.toAlphaNumericChar(Math.floor(s/45))),t.append(n.toAlphaNumericChar(s%45)),r-=2}if(r===1){if(e.available()<6)throw new pe;t.append(n.toAlphaNumericChar(e.readBits(6)))}if(i)for(var c=a;c<t.length();c++)t.charAt(c)==="%"&&(c<t.length()-1&&t.charAt(c+1)==="%"?t.deleteCharAt(c+1):t.setCharAt(c,""))},n.decodeNumericSegment=function(e,t,r){for(;r>=3;){if(e.available()<10)throw new pe;var i=e.readBits(10);if(i>=1e3)throw new pe;t.append(n.toAlphaNumericChar(Math.floor(i/100))),t.append(n.toAlphaNumericChar(Math.floor(i/10)%10)),t.append(n.toAlphaNumericChar(i%10)),r-=3}if(r===2){if(e.available()<7)throw new pe;var a=e.readBits(7);if(a>=100)throw new pe;t.append(n.toAlphaNumericChar(Math.floor(a/10))),t.append(n.toAlphaNumericChar(a%10))}else if(r===1){if(e.available()<4)throw new pe;var s=e.readBits(4);if(s>=10)throw new pe;t.append(n.toAlphaNumericChar(s))}},n.parseECIValue=function(e){var t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){var r=e.readBits(8);return(t&63)<<8&4294967295|r}if((t&224)===192){var i=e.readBits(16);return(t&31)<<16&4294967295|i}throw new pe},n.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",n.GB2312_SUBSET=1,n})(),rw=(function(){function n(e){this.mirrored=e}return n.prototype.isMirrored=function(){return this.mirrored},n.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},n})(),Dy=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},z8=(function(){function n(){this.rsDecoder=new Vu(zn.QR_CODE_FIELD_256)}return n.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(Ur.parseFromBooleanArray(e),t)},n.prototype.decodeBitMatrix=function(e,t){var r=new F8(e),i=null;try{return this.decodeBitMatrixParser(r,t)}catch(s){i=s}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var a=this.decodeBitMatrixParser(r,t);return a.setOther(new rw(!0)),a}catch(s){throw i!==null?i:s}},n.prototype.decodeBitMatrixParser=function(e,t){var r,i,a,s,c=e.readVersion(),f=e.readFormatInformation().getErrorCorrectionLevel(),d=e.readCodewords(),p=U8.getDataBlocks(d,c,f),g=0;try{for(var y=Dy(p),x=y.next();!x.done;x=y.next()){var _=x.value;g+=_.getNumDataCodewords()}}catch(L){r={error:L}}finally{try{x&&!x.done&&(i=y.return)&&i.call(y)}finally{if(r)throw r.error}}var E=new Uint8Array(g),S=0;try{for(var b=Dy(p),C=b.next();!C.done;C=b.next()){var _=C.value,T=_.getCodewords(),D=_.getNumDataCodewords();this.correctErrors(T,D);for(var P=0;P<D;P++)E[S++]=T[P]}}catch(L){a={error:L}}finally{try{C&&!C.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}return V8.decode(E,c,f,t)},n.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new qt}for(var i=0;i<t;i++)e[i]=r[i]},n})(),H8=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),G8=(function(n){H8(e,n);function e(t,r,i){var a=n.call(this,t,r)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,i){var a=(this.getX()+r)/2,s=(this.getY()+t)/2,c=(this.estimatedModuleSize+i)/2;return new e(a,s,c)},e})(be),$8=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},q8=(function(){function n(e,t,r,i,a,s,c){this.image=e,this.startX=t,this.startY=r,this.width=i,this.height=a,this.moduleSize=s,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return n.prototype.find=function(){for(var e=this.startX,t=this.height,r=this.width,i=e+r,a=this.startY+t/2,s=new Int32Array(3),c=this.image,f=0;f<t;f++){var d=a+((f&1)===0?Math.floor((f+1)/2):-Math.floor((f+1)/2));s[0]=0,s[1]=0,s[2]=0;for(var p=e;p<i&&!c.get(p,d);)p++;for(var g=0;p<i;){if(c.get(p,d))if(g===1)s[1]++;else if(g===2){if(this.foundPatternCross(s)){var y=this.handlePossibleCenter(s,d,p);if(y!==null)return y}s[0]=s[2],s[1]=1,s[2]=0,g=1}else s[++g]++;else g===1&&g++,s[g]++;p++}if(this.foundPatternCross(s)){var y=this.handlePossibleCenter(s,d,i);if(y!==null)return y}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ne},n.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},n.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,r=t/2,i=0;i<3;i++)if(Math.abs(t-e[i])>=r)return!1;return!0},n.prototype.crossCheckVertical=function(e,t,r,i){var a=this.image,s=a.getHeight(),c=this.crossCheckStateCount;c[0]=0,c[1]=0,c[2]=0;for(var f=e;f>=0&&a.get(t,f)&&c[1]<=r;)c[1]++,f--;if(f<0||c[1]>r)return NaN;for(;f>=0&&!a.get(t,f)&&c[0]<=r;)c[0]++,f--;if(c[0]>r)return NaN;for(f=e+1;f<s&&a.get(t,f)&&c[1]<=r;)c[1]++,f++;if(f===s||c[1]>r)return NaN;for(;f<s&&!a.get(t,f)&&c[2]<=r;)c[2]++,f++;if(c[2]>r)return NaN;var d=c[0]+c[1]+c[2];return 5*Math.abs(d-i)>=2*i?NaN:this.foundPatternCross(c)?n.centerFromEnd(c,f):NaN},n.prototype.handlePossibleCenter=function(e,t,r){var i,a,s=e[0]+e[1]+e[2],c=n.centerFromEnd(e,r),f=this.crossCheckVertical(t,c,2*e[1],s);if(!isNaN(f)){var d=(e[0]+e[1]+e[2])/3;try{for(var p=$8(this.possibleCenters),g=p.next();!g.done;g=p.next()){var y=g.value;if(y.aboutEquals(d,f,c))return y.combineEstimate(f,c,d)}}catch(_){i={error:_}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}var x=new G8(c,f,d);this.possibleCenters.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return null},n})(),X8=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),W8=(function(n){X8(e,n);function e(t,r,i,a){var s=n.call(this,t,r)||this;return s.estimatedModuleSize=i,s.count=a,a===void 0&&(s.count=1),s}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,i){var a=this.count+1,s=(this.count*this.getX()+r)/a,c=(this.count*this.getY()+t)/a,f=(this.count*this.estimatedModuleSize+i)/a;return new e(s,c,f,a)},e})(be),Y8=(function(){function n(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n})(),el=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},K8=(function(){function n(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return n.prototype.getImage=function(){return this.image},n.prototype.getPossibleCenters=function(){return this.possibleCenters},n.prototype.find=function(e){var t=e!=null&&e.get(Et.TRY_HARDER)!==void 0,r=e!=null&&e.get(Et.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),s=i.getWidth(),c=Math.floor(3*a/(4*n.MAX_MODULES));(c<n.MIN_SKIP||t)&&(c=n.MIN_SKIP);for(var f=!1,d=new Int32Array(5),p=c-1;p<a&&!f;p+=c){d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0;for(var g=0,y=0;y<s;y++)if(i.get(y,p))(g&1)===1&&g++,d[g]++;else if((g&1)===0)if(g===4)if(n.foundPatternCross(d)){var x=this.handlePossibleCenter(d,p,y,r);if(x===!0)if(c=2,this.hasSkipped===!0)f=this.haveMultiplyConfirmedCenters();else{var _=this.findRowSkip();_>d[2]&&(p+=_-d[2]-c,y=s-1)}else{d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,g=3;continue}g=0,d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0}else d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,g=3;else d[++g]++;else d[g]++;if(n.foundPatternCross(d)){var x=this.handlePossibleCenter(d,p,s,r);x===!0&&(c=d[0],this.hasSkipped&&(f=this.haveMultiplyConfirmedCenters()))}}var E=this.selectBestPatterns();return be.orderBestPatterns(E),new Y8(E)},n.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},n.foundPatternCross=function(e){for(var t=0,r=0;r<5;r++){var i=e[r];if(i===0)return!1;t+=i}if(t<7)return!1;var a=t/7,s=a/2;return Math.abs(a-e[0])<s&&Math.abs(a-e[1])<s&&Math.abs(3*a-e[2])<3*s&&Math.abs(a-e[3])<s&&Math.abs(a-e[4])<s},n.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},n.prototype.crossCheckDiagonal=function(e,t,r,i){for(var a=this.getCrossCheckStateCount(),s=0,c=this.image;e>=s&&t>=s&&c.get(t-s,e-s);)a[2]++,s++;if(e<s||t<s)return!1;for(;e>=s&&t>=s&&!c.get(t-s,e-s)&&a[1]<=r;)a[1]++,s++;if(e<s||t<s||a[1]>r)return!1;for(;e>=s&&t>=s&&c.get(t-s,e-s)&&a[0]<=r;)a[0]++,s++;if(a[0]>r)return!1;var f=c.getHeight(),d=c.getWidth();for(s=1;e+s<f&&t+s<d&&c.get(t+s,e+s);)a[2]++,s++;if(e+s>=f||t+s>=d)return!1;for(;e+s<f&&t+s<d&&!c.get(t+s,e+s)&&a[3]<r;)a[3]++,s++;if(e+s>=f||t+s>=d||a[3]>=r)return!1;for(;e+s<f&&t+s<d&&c.get(t+s,e+s)&&a[4]<r;)a[4]++,s++;if(a[4]>=r)return!1;var p=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(p-i)<2*i&&n.foundPatternCross(a)},n.prototype.crossCheckVertical=function(e,t,r,i){for(var a=this.image,s=a.getHeight(),c=this.getCrossCheckStateCount(),f=e;f>=0&&a.get(t,f);)c[2]++,f--;if(f<0)return NaN;for(;f>=0&&!a.get(t,f)&&c[1]<=r;)c[1]++,f--;if(f<0||c[1]>r)return NaN;for(;f>=0&&a.get(t,f)&&c[0]<=r;)c[0]++,f--;if(c[0]>r)return NaN;for(f=e+1;f<s&&a.get(t,f);)c[2]++,f++;if(f===s)return NaN;for(;f<s&&!a.get(t,f)&&c[3]<r;)c[3]++,f++;if(f===s||c[3]>=r)return NaN;for(;f<s&&a.get(t,f)&&c[4]<r;)c[4]++,f++;if(c[4]>=r)return NaN;var d=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(d-i)>=2*i?NaN:n.foundPatternCross(c)?n.centerFromEnd(c,f):NaN},n.prototype.crossCheckHorizontal=function(e,t,r,i){for(var a=this.image,s=a.getWidth(),c=this.getCrossCheckStateCount(),f=e;f>=0&&a.get(f,t);)c[2]++,f--;if(f<0)return NaN;for(;f>=0&&!a.get(f,t)&&c[1]<=r;)c[1]++,f--;if(f<0||c[1]>r)return NaN;for(;f>=0&&a.get(f,t)&&c[0]<=r;)c[0]++,f--;if(c[0]>r)return NaN;for(f=e+1;f<s&&a.get(f,t);)c[2]++,f++;if(f===s)return NaN;for(;f<s&&!a.get(f,t)&&c[3]<r;)c[3]++,f++;if(f===s||c[3]>=r)return NaN;for(;f<s&&a.get(f,t)&&c[4]<r;)c[4]++,f++;if(c[4]>=r)return NaN;var d=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(d-i)>=i?NaN:n.foundPatternCross(c)?n.centerFromEnd(c,f):NaN},n.prototype.handlePossibleCenter=function(e,t,r,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],s=n.centerFromEnd(e,r),c=this.crossCheckVertical(t,Math.floor(s),e[2],a);if(!isNaN(c)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(c),e[2],a),!isNaN(s)&&(!i||this.crossCheckDiagonal(Math.floor(c),Math.floor(s),e[2],a)))){for(var f=a/7,d=!1,p=this.possibleCenters,g=0,y=p.length;g<y;g++){var x=p[g];if(x.aboutEquals(f,c,s)){p[g]=x.combineEstimate(c,s,f),d=!0;break}}if(!d){var _=new W8(s,c,f);p.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return!0}return!1},n.prototype.findRowSkip=function(){var e,t,r=this.possibleCenters.length;if(r<=1)return 0;var i=null;try{for(var a=el(this.possibleCenters),s=a.next();!s.done;s=a.next()){var c=s.value;if(c.getCount()>=n.CENTER_QUORUM)if(i==null)i=c;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-c.getX())-Math.abs(i.getY()-c.getY()))/2)}}catch(f){e={error:f}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return 0},n.prototype.haveMultiplyConfirmedCenters=function(){var e,t,r,i,a=0,s=0,c=this.possibleCenters.length;try{for(var f=el(this.possibleCenters),d=f.next();!d.done;d=f.next()){var p=d.value;p.getCount()>=n.CENTER_QUORUM&&(a++,s+=p.getEstimatedModuleSize())}}catch(E){e={error:E}}finally{try{d&&!d.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}if(a<3)return!1;var g=s/c,y=0;try{for(var x=el(this.possibleCenters),_=x.next();!_.done;_=x.next()){var p=_.value;y+=Math.abs(p.getEstimatedModuleSize()-g)}}catch(E){r={error:E}}finally{try{_&&!_.done&&(i=x.return)&&i.call(x)}finally{if(r)throw r.error}}return y<=.05*s},n.prototype.selectBestPatterns=function(){var e,t,r,i,a=this.possibleCenters.length;if(a<3)throw new ne;var s=this.possibleCenters,c;if(a>3){var f=0,d=0;try{for(var p=el(this.possibleCenters),g=p.next();!g.done;g=p.next()){var y=g.value,x=y.getEstimatedModuleSize();f+=x,d+=x*x}}catch(P){e={error:P}}finally{try{g&&!g.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}c=f/a;var _=Math.sqrt(d/a-c*c);s.sort(function(P,L){var U=Math.abs(L.getEstimatedModuleSize()-c),$=Math.abs(P.getEstimatedModuleSize()-c);return U<$?-1:U>$?1:0});for(var E=Math.max(.2*c,_),S=0;S<s.length&&s.length>3;S++){var b=s[S];Math.abs(b.getEstimatedModuleSize()-c)>E&&(s.splice(S,1),S--)}}if(s.length>3){var f=0;try{for(var C=el(s),T=C.next();!T.done;T=C.next()){var D=T.value;f+=D.getEstimatedModuleSize()}}catch(L){r={error:L}}finally{try{T&&!T.done&&(i=C.return)&&i.call(C)}finally{if(r)throw r.error}}c=f/s.length,s.sort(function(L,U){if(U.getCount()===L.getCount()){var $=Math.abs(U.getEstimatedModuleSize()-c),G=Math.abs(L.getEstimatedModuleSize()-c);return $<G?1:$>G?-1:0}else return U.getCount()-L.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]},n.CENTER_QUORUM=2,n.MIN_SKIP=3,n.MAX_MODULES=57,n})(),Z8=(function(){function n(e){this.image=e}return n.prototype.getImage=function(){return this.image},n.prototype.getResultPointCallback=function(){return this.resultPointCallback},n.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Et.NEED_RESULT_POINT_CALLBACK);var t=new K8(this.image,this.resultPointCallback),r=t.find(e);return this.processFinderPatternInfo(r)},n.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),r=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(t,r,i);if(a<1)throw new ne("No pattern found in proccess finder.");var s=n.computeDimension(t,r,i,a),c=Ta.getProvisionalVersionForDimension(s),f=c.getDimensionForVersion()-7,d=null;if(c.getAlignmentPatternCenters().length>0)for(var p=r.getX()-t.getX()+i.getX(),g=r.getY()-t.getY()+i.getY(),y=1-3/f,x=Math.floor(t.getX()+y*(p-t.getX())),_=Math.floor(t.getY()+y*(g-t.getY())),E=4;E<=16;E<<=1)try{d=this.findAlignmentInRegion(a,x,_,E);break}catch(T){if(!(T instanceof ne))throw T}var S=n.createTransform(t,r,i,d,s),b=n.sampleGrid(this.image,S,s),C;return d===null?C=[i,t,r]:C=[i,t,r,d],new K0(b,C)},n.createTransform=function(e,t,r,i,a){var s=a-3.5,c,f,d,p;return i!==null?(c=i.getX(),f=i.getY(),d=s-3,p=d):(c=t.getX()-e.getX()+r.getX(),f=t.getY()-e.getY()+r.getY(),d=s,p=s),Z2.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,d,p,3.5,s,e.getX(),e.getY(),t.getX(),t.getY(),c,f,r.getX(),r.getY())},n.sampleGrid=function(e,t,r){var i=Z0.getInstance();return i.sampleGridWithTransform(e,r,r,t)},n.computeDimension=function(e,t,r,i){var a=nt.round(be.distance(e,t)/i),s=nt.round(be.distance(e,r)/i),c=Math.floor((a+s)/2)+7;switch(c&3){case 0:c++;break;case 2:c--;break;case 3:throw new ne("Dimensions could be not found.")}return c},n.prototype.calculateModuleSize=function(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2},n.prototype.calculateModuleSizeOneWay=function(e,t){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?i/7:isNaN(i)?r/7:(r+i)/14},n.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,r,i){var a=this.sizeOfBlackWhiteBlackRun(e,t,r,i),s=1,c=e-(r-e);c<0?(s=e/(e-c),c=0):c>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(c-e),c=this.image.getWidth()-1);var f=Math.floor(t-(i-t)*s);return s=1,f<0?(s=t/(t-f),f=0):f>=this.image.getHeight()&&(s=(this.image.getHeight()-1-t)/(f-t),f=this.image.getHeight()-1),c=Math.floor(e+(c-e)*s),a+=this.sizeOfBlackWhiteBlackRun(e,t,c,f),a-1},n.prototype.sizeOfBlackWhiteBlackRun=function(e,t,r,i){var a=Math.abs(i-t)>Math.abs(r-e);if(a){var s=e;e=t,t=s,s=r,r=i,i=s}for(var c=Math.abs(r-e),f=Math.abs(i-t),d=-c/2,p=e<r?1:-1,g=t<i?1:-1,y=0,x=r+p,_=e,E=t;_!==x;_+=p){var S=a?E:_,b=a?_:E;if(y===1===this.image.get(S,b)){if(y===2)return nt.distance(_,E,e,t);y++}if(d+=f,d>0){if(E===i)break;E+=g,d-=c}}return y===2?nt.distance(r+p,i,e,t):NaN},n.prototype.findAlignmentInRegion=function(e,t,r,i){var a=Math.floor(i*e),s=Math.max(0,t-a),c=Math.min(this.image.getWidth()-1,t+a);if(c-s<e*3)throw new ne("Alignment top exceeds estimated module size.");var f=Math.max(0,r-a),d=Math.min(this.image.getHeight()-1,r+a);if(d-f<e*3)throw new ne("Alignment bottom exceeds estimated module size.");var p=new q8(this.image,s,f,c-s,d-f,e,this.resultPointCallback);return p.find()},n})(),Tu=(function(){function n(){this.decoder=new z8}return n.prototype.getDecoder=function(){return this.decoder},n.prototype.decode=function(e,t){var r,i;if(t!=null&&t.get(Et.PURE_BARCODE)!==void 0){var a=n.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(a,t),i=n.NO_POINTS}else{var s=new Z8(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(s.getBits(),t),i=s.getPoints()}r.getOther()instanceof rw&&r.getOther().applyMirroredCorrection(i);var c=new On(r.getText(),r.getRawBytes(),void 0,i,Te.QR_CODE,void 0),f=r.getByteSegments();f!==null&&c.putMetadata(wn.BYTE_SEGMENTS,f);var d=r.getECLevel();return d!==null&&c.putMetadata(wn.ERROR_CORRECTION_LEVEL,d),r.hasStructuredAppend()&&(c.putMetadata(wn.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),c.putMetadata(wn.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),c},n.prototype.reset=function(){},n.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t===null||r===null)throw new ne;var i=this.moduleSize(t,e),a=t[1],s=r[1],c=t[0],f=r[0];if(c>=f||a>=s)throw new ne;if(s-a!==f-c&&(f=c+(s-a),f>=e.getWidth()))throw new ne;var d=Math.round((f-c+1)/i),p=Math.round((s-a+1)/i);if(d<=0||p<=0)throw new ne;if(p!==d)throw new ne;var g=Math.floor(i/2);a+=g,c+=g;var y=c+Math.floor((d-1)*i)-f;if(y>0){if(y>g)throw new ne;c-=y}var x=a+Math.floor((p-1)*i)-s;if(x>0){if(x>g)throw new ne;a-=x}for(var _=new Ur(d,p),E=0;E<p;E++)for(var S=a+Math.floor(E*i),b=0;b<d;b++)e.get(c+Math.floor(b*i),S)&&_.set(b,E);return _},n.moduleSize=function(e,t){for(var r=t.getHeight(),i=t.getWidth(),a=e[0],s=e[1],c=!0,f=0;a<i&&s<r;){if(c!==t.get(a,s)){if(++f===5)break;c=!c}a++,s++}if(a===i||s===r)throw new ne;return(a-e[0])/7},n.NO_POINTS=new Array,n})(),Q8=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qe=(function(){function n(){}return n.prototype.PDF417Common=function(){},n.getBitCountSum=function(e){return nt.sum(e)},n.toIntArray=function(e){var t,r;if(e==null||!e.length)return n.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var s=Q8(e),c=s.next();!c.done;c=s.next()){var f=c.value;i[a++]=f}}catch(d){t={error:d}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return i},n.getCodeword=function(e){var t=rn.binarySearch(n.SYMBOL_TABLE,e&262143);return t<0?-1:(n.CODEWORD_TABLE[t]-1)%n.NUMBER_OF_CODEWORDS},n.NUMBER_OF_CODEWORDS=929,n.MAX_CODEWORDS_IN_BARCODE=n.NUMBER_OF_CODEWORDS-1,n.MIN_ROWS_IN_BARCODE=3,n.MAX_ROWS_IN_BARCODE=90,n.MODULES_IN_CODEWORD=17,n.MODULES_IN_STOP_PATTERN=18,n.BARS_IN_MODULE=8,n.EMPTY_INT_ARRAY=new Int32Array([]),n.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),n.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),n})(),J8=(function(){function n(e,t){this.bits=e,this.points=t}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n})(),e6=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},t6=(function(){function n(){}return n.detectMultiple=function(e,t,r){var i=e.getBlackMatrix(),a=n.detect(r,i);return a.length||(i=i.clone(),i.rotate180(),a=n.detect(r,i)),new J8(i,a)},n.detect=function(e,t){for(var r,i,a=new Array,s=0,c=0,f=!1;s<t.getHeight();){var d=n.findVertices(t,s,c);if(d[0]==null&&d[3]==null){if(!f)break;f=!1,c=0;try{for(var p=(r=void 0,e6(a)),g=p.next();!g.done;g=p.next()){var y=g.value;y[1]!=null&&(s=Math.trunc(Math.max(s,y[1].getY()))),y[3]!=null&&(s=Math.max(s,Math.trunc(y[3].getY())))}}catch(x){r={error:x}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}s+=n.ROW_STEP;continue}if(f=!0,a.push(d),!e)break;d[2]!=null?(c=Math.trunc(d[2].getX()),s=Math.trunc(d[2].getY())):(c=Math.trunc(d[4].getX()),s=Math.trunc(d[4].getY()))}return a},n.findVertices=function(e,t,r){var i=e.getHeight(),a=e.getWidth(),s=new Array(8);return n.copyToResult(s,n.findRowsWithPattern(e,i,a,t,r,n.START_PATTERN),n.INDEXES_START_PATTERN),s[4]!=null&&(r=Math.trunc(s[4].getX()),t=Math.trunc(s[4].getY())),n.copyToResult(s,n.findRowsWithPattern(e,i,a,t,r,n.STOP_PATTERN),n.INDEXES_STOP_PATTERN),s},n.copyToResult=function(e,t,r){for(var i=0;i<r.length;i++)e[r[i]]=t[i]},n.findRowsWithPattern=function(e,t,r,i,a,s){for(var c=new Array(4),f=!1,d=new Int32Array(s.length);i<t;i+=n.ROW_STEP){var p=n.findGuardPattern(e,a,i,r,!1,s,d);if(p!=null){for(;i>0;){var g=n.findGuardPattern(e,a,--i,r,!1,s,d);if(g!=null)p=g;else{i++;break}}c[0]=new be(p[0],i),c[1]=new be(p[1],i),f=!0;break}}var y=i+1;if(f){for(var x=0,g=Int32Array.from([Math.trunc(c[0].getX()),Math.trunc(c[1].getX())]);y<t;y++){var p=n.findGuardPattern(e,g[0],y,r,!1,s,d);if(p!=null&&Math.abs(g[0]-p[0])<n.MAX_PATTERN_DRIFT&&Math.abs(g[1]-p[1])<n.MAX_PATTERN_DRIFT)g=p,x=0;else{if(x>n.SKIPPED_ROW_COUNT_MAX)break;x++}}y-=x+1,c[2]=new be(g[0],y),c[3]=new be(g[1],y)}return y-i<n.BARCODE_MIN_HEIGHT&&rn.fill(c,null),c},n.findGuardPattern=function(e,t,r,i,a,s,c){rn.fillWithin(c,0,c.length,0);for(var f=t,d=0;e.get(f,r)&&f>0&&d++<n.MAX_PIXEL_DRIFT;)f--;for(var p=f,g=0,y=s.length,x=a;p<i;p++){var _=e.get(p,r);if(_!==x)c[g]++;else{if(g===y-1){if(n.patternMatchVariance(c,s,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE)return new Int32Array([f,p]);f+=c[0]+c[1],bt.arraycopy(c,2,c,0,g-1),c[g-1]=0,c[g]=0,g--}else g++;c[g]=1,x=!x}}return g===y-1&&n.patternMatchVariance(c,s,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE?new Int32Array([f,p-1]):null},n.patternMatchVariance=function(e,t,r){for(var i=e.length,a=0,s=0,c=0;c<i;c++)a+=e[c],s+=t[c];if(a<s)return 1/0;var f=a/s;r*=f;for(var d=0,p=0;p<i;p++){var g=e[p],y=t[p]*f,x=g>y?g-y:y-g;if(x>r)return 1/0;d+=x}return d/a},n.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),n.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),n.MAX_AVG_VARIANCE=.42,n.MAX_INDIVIDUAL_VARIANCE=.8,n.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),n.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),n.MAX_PIXEL_DRIFT=3,n.MAX_PATTERN_DRIFT=5,n.SKIPPED_ROW_COUNT_MAX=25,n.ROW_STEP=5,n.BARCODE_MIN_HEIGHT=10,n})(),n6=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sa=(function(){function n(e,t){if(t.length===0)throw new Oe;this.field=e;var r=t.length;if(r>1&&t[0]===0){for(var i=1;i<r&&t[i]===0;)i++;i===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-i),bt.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return this.coefficients[0]===0},n.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},n.prototype.evaluateAt=function(e){var t,r;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=n6(this.coefficients),s=a.next();!s.done;s=a.next()){var c=s.value;i=this.field.add(i,c)}}catch(g){t={error:g}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i}for(var f=this.coefficients[0],d=this.coefficients.length,p=1;p<d;p++)f=this.field.add(this.field.multiply(e,f),this.coefficients[p]);return f},n.prototype.add=function(e){if(!this.field.equals(e.field))throw new Oe("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var i=t;t=r,r=i}var a=new Int32Array(r.length),s=r.length-t.length;bt.arraycopy(r,0,a,0,s);for(var c=s;c<r.length;c++)a[c]=this.field.add(t[c-s],r[c]);return new n(this.field,a)},n.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Oe("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},n.prototype.multiply=function(e){return e instanceof n?this.multiplyOther(e):this.multiplyScalar(e)},n.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Oe("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new n(this.field,new Int32Array([0]));for(var t=this.coefficients,r=t.length,i=e.coefficients,a=i.length,s=new Int32Array(r+a-1),c=0;c<r;c++)for(var f=t[c],d=0;d<a;d++)s[c+d]=this.field.add(s[c+d],this.field.multiply(f,i[d]));return new n(this.field,s)},n.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new n(this.field,t)},n.prototype.multiplyScalar=function(e){if(e===0)return new n(this.field,new Int32Array([0]));if(e===1)return this;for(var t=this.coefficients.length,r=new Int32Array(t),i=0;i<t;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new n(this.field,r)},n.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new Oe;if(t===0)return new n(this.field,new Int32Array([0]));for(var r=this.coefficients.length,i=new Int32Array(r+e),a=0;a<r;a++)i[a]=this.field.multiply(this.coefficients[a],t);return new n(this.field,i)},n.prototype.toString=function(){for(var e=new ze,t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(t===0||r!==1)&&e.append(r),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},n})(),r6=(function(){function n(){}return n.prototype.add=function(e,t){return(e+t)%this.modulus},n.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},n.prototype.exp=function(e){return this.expTable[e]},n.prototype.log=function(e){if(e===0)throw new Oe;return this.logTable[e]},n.prototype.inverse=function(e){if(e===0)throw new K2;return this.expTable[this.modulus-this.logTable[e]-1]},n.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},n.prototype.getSize=function(){return this.modulus},n.prototype.equals=function(e){return e===this},n})(),i6=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),a6=(function(n){i6(e,n);function e(t,r){var i=n.call(this)||this;i.modulus=t,i.expTable=new Int32Array(t),i.logTable=new Int32Array(t);for(var a=1,s=0;s<t;s++)i.expTable[s]=a,a=a*r%t;for(var s=0;s<t-1;s++)i.logTable[i.expTable[s]]=s;return i.zero=new Sa(i,new Int32Array([0])),i.one=new Sa(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new Oe;if(r===0)return this.zero;var i=new Int32Array(t+1);return i[0]=r,new Sa(this,i)},e.PDF417_GF=new e(Qe.NUMBER_OF_CODEWORDS,3),e})(r6),o6=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s6=(function(){function n(){this.field=a6.PDF417_GF}return n.prototype.decode=function(e,t,r){for(var i,a,s=new Sa(this.field,e),c=new Int32Array(t),f=!1,d=t;d>0;d--){var p=s.evaluateAt(this.field.exp(d));c[t-d]=p,p!==0&&(f=!0)}if(!f)return 0;var g=this.field.getOne();if(r!=null)try{for(var y=o6(r),x=y.next();!x.done;x=y.next()){var _=x.value,E=this.field.exp(e.length-1-_),S=new Sa(this.field,new Int32Array([this.field.subtract(0,E),1]));g=g.multiply(S)}}catch($){i={error:$}}finally{try{x&&!x.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}for(var b=new Sa(this.field,c),C=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),b,t),T=C[0],D=C[1],P=this.findErrorLocations(T),L=this.findErrorMagnitudes(D,T,P),d=0;d<P.length;d++){var U=e.length-1-this.field.log(P[d]);if(U<0)throw qt.getChecksumInstance();e[U]=this.field.subtract(e[U],L[d])}return P.length},n.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=e,s=t,c=this.field.getZero(),f=this.field.getOne();s.getDegree()>=Math.round(r/2);){var d=a,p=c;if(a=s,c=f,a.isZero())throw qt.getChecksumInstance();s=d;for(var g=this.field.getZero(),y=a.getCoefficient(a.getDegree()),x=this.field.inverse(y);s.getDegree()>=a.getDegree()&&!s.isZero();){var _=s.getDegree()-a.getDegree(),E=this.field.multiply(s.getCoefficient(s.getDegree()),x);g=g.add(this.field.buildMonomial(_,E)),s=s.subtract(a.multiplyByMonomial(_,E))}f=g.multiply(c).subtract(p).negative()}var S=f.getCoefficient(0);if(S===0)throw qt.getChecksumInstance();var b=this.field.inverse(S),C=f.multiply(b),T=s.multiply(b);return[C,T]},n.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),r=new Int32Array(t),i=0,a=1;a<this.field.getSize()&&i<t;a++)e.evaluateAt(a)===0&&(r[i]=this.field.inverse(a),i++);if(i!==t)throw qt.getChecksumInstance();return r},n.prototype.findErrorMagnitudes=function(e,t,r){for(var i=t.getDegree(),a=new Int32Array(i),s=1;s<=i;s++)a[i-s]=this.field.multiply(s,t.getCoefficient(s));for(var c=new Sa(this.field,a),f=r.length,d=new Int32Array(f),s=0;s<f;s++){var p=this.field.inverse(r[s]),g=this.field.subtract(0,e.evaluateAt(p)),y=this.field.inverse(c.evaluateAt(p));d[s]=this.field.multiply(g,y)}return d},n})(),h0=(function(){function n(e,t,r,i,a){e instanceof n?this.constructor_2(e):this.constructor_1(e,t,r,i,a)}return n.prototype.constructor_1=function(e,t,r,i,a){var s=t==null||r==null,c=i==null||a==null;if(s&&c)throw new ne;s?(t=new be(0,i.getY()),r=new be(0,a.getY())):c&&(i=new be(e.getWidth()-1,t.getY()),a=new be(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(r.getY(),a.getY()))},n.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},n.merge=function(e,t){return e==null?t:t==null?e:new n(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},n.prototype.addMissingRows=function(e,t,r){var i=this.topLeft,a=this.bottomLeft,s=this.topRight,c=this.bottomRight;if(e>0){var f=r?this.topLeft:this.topRight,d=Math.trunc(f.getY()-e);d<0&&(d=0);var p=new be(f.getX(),d);r?i=p:s=p}if(t>0){var g=r?this.bottomLeft:this.bottomRight,y=Math.trunc(g.getY()+t);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);var x=new be(g.getX(),y);r?a=x:c=x}return new n(this.image,i,a,s,c)},n.prototype.getMinX=function(){return this.minX},n.prototype.getMaxX=function(){return this.maxX},n.prototype.getMinY=function(){return this.minY},n.prototype.getMaxY=function(){return this.maxY},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getBottomRight=function(){return this.bottomRight},n})(),l6=(function(){function n(e,t,r,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}return n.prototype.getColumnCount=function(){return this.columnCount},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getRowCount=function(){return this.rowCount},n.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},n.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},n})(),J0=(function(){function n(){this.buffer=""}return n.form=function(e,t){var r=-1;function i(s,c,f,d,p,g){if(s==="%%")return"%";if(t[++r]!==void 0){s=d?parseInt(d.substr(1)):void 0;var y=p?parseInt(p.substr(1)):void 0,x;switch(g){case"s":x=t[r];break;case"c":x=t[r][0];break;case"f":x=parseFloat(t[r]).toFixed(s);break;case"p":x=parseFloat(t[r]).toPrecision(s);break;case"e":x=parseFloat(t[r]).toExponential(s);break;case"x":x=parseInt(t[r]).toString(y||16);break;case"d":x=parseFloat(parseInt(t[r],y||10).toPrecision(s)).toFixed(0);break}x=typeof x=="object"?JSON.stringify(x):(+x).toString(y);for(var _=parseInt(f),E=f&&f[0]+""=="0"?"0":" ";x.length<_;)x=c!==void 0?x+E:E+x;return x}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},n.prototype.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.buffer+=n.form(e,t)},n.prototype.toString=function(){return this.buffer},n})(),c6=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iw=(function(){function n(e){this.boundingBox=new h0(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return n.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(t!=null)return t;for(var r=1;r<n.MAX_NEARBY_DISTANCE;r++){var i=this.imageRowToCodewordIndex(e)-r;if(i>=0&&(t=this.codewords[i],t!=null)||(i=this.imageRowToCodewordIndex(e)+r,i<this.codewords.length&&(t=this.codewords[i],t!=null)))return t}return null},n.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},n.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},n.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.getCodewords=function(){return this.codewords},n.prototype.toString=function(){var e,t,r=new J0,i=0;try{for(var a=c6(this.codewords),s=a.next();!s.done;s=a.next()){var c=s.value;if(c==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,c.getRowNumber(),c.getValue())}}catch(f){e={error:f}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return r.toString()},n.MAX_NEARBY_DISTANCE=5,n})(),u6=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},f6=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return a},ol=(function(){function n(){this.values=new Map}return n.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)},n.prototype.getValue=function(){var e,t,r=-1,i=new Array,a=function(g,y){var x={getKey:function(){return g},getValue:function(){return y}};x.getValue()>r?(r=x.getValue(),i=[],i.push(x.getKey())):x.getValue()===r&&i.push(x.getKey())};try{for(var s=u6(this.values.entries()),c=s.next();!c.done;c=s.next()){var f=f6(c.value,2),d=f[0],p=f[1];a(d,p)}}catch(g){e={error:g}}finally{try{c&&!c.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return Qe.toIntArray(i)},n.prototype.getConfidence=function(e){return this.values.get(e)},n})(),d6=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Ah=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ny=(function(n){d6(e,n);function e(t,r){var i=n.call(this,t)||this;return i._isLeft=r,i}return e.prototype.setRowNumbers=function(){var t,r;try{for(var i=Ah(this.getCodewords()),a=i.next();!a.done;a=i.next()){var s=a.value;s?.setRowNumberAsRowIndicatorColumn()}}catch(c){t={error:c}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),s=this._isLeft?i.getBottomLeft():i.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.imageRowToCodewordIndex(Math.trunc(s.getY())),d=-1,p=1,g=0,y=c;y<f;y++)if(r[y]!=null){var x=r[y],_=x.getRowNumber()-d;if(_===0)g++;else if(_===1)p=Math.max(p,g),g=1,d=x.getRowNumber();else if(_<0||x.getRowNumber()>=t.getRowCount()||_>y)r[y]=null;else{var E=void 0;p>2?E=(p-2)*_:E=_;for(var S=E>=y,b=1;b<=E&&!S;b++)S=r[y-b]!=null;S?r[y]=null:(d=x.getRowNumber(),g=1)}}},e.prototype.getRowHeights=function(){var t,r,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var s=Ah(this.getCodewords()),c=s.next();!c.done;c=s.next()){var f=c.value;if(f!=null){var d=f.getRowNumber();if(d>=a.length)continue;a[d]++}}}catch(p){t={error:p}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),a=this._isLeft?r.getBottomLeft():r.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.getCodewords(),d=-1,p=s;p<c;p++)if(f[p]!=null){var g=f[p];g.setRowNumberAsRowIndicatorColumn();var y=g.getRowNumber()-d;y===0||(y===1?d=g.getRowNumber():g.getRowNumber()>=t.getRowCount()?f[p]=null:d=g.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var t,r,i=this.getCodewords(),a=new ol,s=new ol,c=new ol,f=new ol;try{for(var d=Ah(i),p=d.next();!p.done;p=d.next()){var g=p.value;if(g!=null){g.setRowNumberAsRowIndicatorColumn();var y=g.getValue()%30,x=g.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:s.setValue(y*3+1);break;case 1:f.setValue(y/3),c.setValue(y%3);break;case 2:a.setValue(y+1);break}}}}catch(E){t={error:E}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(t)throw t.error}}if(a.getValue().length===0||s.getValue().length===0||c.getValue().length===0||f.getValue().length===0||a.getValue()[0]<1||s.getValue()[0]+c.getValue()[0]<Qe.MIN_ROWS_IN_BARCODE||s.getValue()[0]+c.getValue()[0]>Qe.MAX_ROWS_IN_BARCODE)return null;var _=new l6(a.getValue()[0],s.getValue()[0],c.getValue()[0],f.getValue()[0]);return this.removeIncorrectCodewords(i,_),_},e.prototype.removeIncorrectCodewords=function(t,r){for(var i=0;i<t.length;i++){var a=t[i];if(t[i]!=null){var s=a.getValue()%30,c=a.getRowNumber();if(c>r.getRowCount()){t[i]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:s*3+1!==r.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(s/3)!==r.getErrorCorrectionLevel()||s%3!==r.getRowCountLowerPart())&&(t[i]=null);break;case 2:s+1!==r.getColumnCount()&&(t[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+n.prototype.toString.call(this)},e})(iw),h6=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},p6=(function(){function n(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return n.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Qe.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns},n.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},n.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var r=this.detectionResultColumns[t].getCodewords(),i=0;i<r.length;i++)r[i]!=null&&(r[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,r));return e},n.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},n.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(e[r]!=null&&t[r]!=null&&e[r].getRowNumber()===t[r].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[r];a!=null&&(a.setRowNumber(e[r].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[r]=null))}}},n.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null)for(var i=t[r].getRowNumber(),a=0,s=this.barcodeColumnCount+1;s>0&&a<this.ADJUST_ROW_NUMBER_SKIP;s--){var c=this.detectionResultColumns[s].getCodewords()[r];c!=null&&(a=n.adjustRowNumberIfValid(i,a,c),c.hasValidRowNumber()||e++)}return e},n.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null)for(var i=t[r].getRowNumber(),a=0,s=1;s<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;s++){var c=this.detectionResultColumns[s].getCodewords()[r];c!=null&&(a=n.adjustRowNumberIfValid(i,a,c),c.hasValidRowNumber()||e++)}return e},n.adjustRowNumberIfValid=function(e,t,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t},n.prototype.adjustRowNumbers=function(e,t,r){var i,a;if(this.detectionResultColumns[e-1]!=null){var s=r[t],c=this.detectionResultColumns[e-1].getCodewords(),f=c;this.detectionResultColumns[e+1]!=null&&(f=this.detectionResultColumns[e+1].getCodewords());var d=new Array(14);d[2]=c[t],d[3]=f[t],t>0&&(d[0]=r[t-1],d[4]=c[t-1],d[5]=f[t-1]),t>1&&(d[8]=r[t-2],d[10]=c[t-2],d[11]=f[t-2]),t<r.length-1&&(d[1]=r[t+1],d[6]=c[t+1],d[7]=f[t+1]),t<r.length-2&&(d[9]=r[t+2],d[12]=c[t+2],d[13]=f[t+2]);try{for(var p=h6(d),g=p.next();!g.done;g=p.next()){var y=g.value;if(n.adjustRowNumber(s,y))return}}catch(x){i={error:x}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}}},n.adjustRowNumber=function(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1},n.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},n.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},n.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},n.prototype.setBoundingBox=function(e){this.boundingBox=e},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},n.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},n.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new J0,r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){t.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[r];if(a==null){t.format("    |   ");continue}t.format(" %3d|%3d",a.getRowNumber(),a.getValue())}t.format("%n")}return t.toString()},n})(),g6=(function(){function n(e,t,r,i){this.rowNumber=n.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}return n.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},n.prototype.isValidRowNumber=function(e){return e!==n.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},n.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},n.prototype.getWidth=function(){return this.endX-this.startX},n.prototype.getStartX=function(){return this.startX},n.prototype.getEndX=function(){return this.endX},n.prototype.getBucket=function(){return this.bucket},n.prototype.getValue=function(){return this.value},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.setRowNumber=function(e){this.rowNumber=e},n.prototype.toString=function(){return this.rowNumber+"|"+this.value},n.BARCODE_ROW_UNKNOWN=-1,n})(),v6=(function(){function n(){}return n.initialize=function(){for(var e=0;e<Qe.SYMBOL_TABLE.length;e++)for(var t=Qe.SYMBOL_TABLE[e],r=t&1,i=0;i<Qe.BARS_IN_MODULE;i++){for(var a=0;(t&1)===r;)a+=1,t>>=1;r=t&1,n.RATIOS_TABLE[e]||(n.RATIOS_TABLE[e]=new Array(Qe.BARS_IN_MODULE)),n.RATIOS_TABLE[e][Qe.BARS_IN_MODULE-i-1]=Math.fround(a/Qe.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},n.getDecodedValue=function(e){var t=n.getDecodedCodewordValue(n.sampleBitCounts(e));return t!==-1?t:n.getClosestDecodedValue(e)},n.sampleBitCounts=function(e){for(var t=nt.sum(e),r=new Int32Array(Qe.BARS_IN_MODULE),i=0,a=0,s=0;s<Qe.MODULES_IN_CODEWORD;s++){var c=t/(2*Qe.MODULES_IN_CODEWORD)+s*t/Qe.MODULES_IN_CODEWORD;a+e[i]<=c&&(a+=e[i],i++),r[i]++}return r},n.getDecodedCodewordValue=function(e){var t=n.getBitValue(e);return Qe.getCodeword(t)===-1?-1:t},n.getBitValue=function(e){for(var t=0,r=0;r<e.length;r++)for(var i=0;i<e[r];i++)t=t<<1|(r%2===0?1:0);return Math.trunc(t)},n.getClosestDecodedValue=function(e){var t=nt.sum(e),r=new Array(Qe.BARS_IN_MODULE);if(t>1)for(var i=0;i<r.length;i++)r[i]=Math.fround(e[i]/t);var a=u0.MAX_VALUE,s=-1;this.bSymbolTableReady||n.initialize();for(var c=0;c<n.RATIOS_TABLE.length;c++){for(var f=0,d=n.RATIOS_TABLE[c],p=0;p<Qe.BARS_IN_MODULE;p++){var g=Math.fround(d[p]-r[p]);if(f+=Math.fround(g*g),f>=a)break}f<a&&(a=f,s=Qe.SYMBOL_TABLE[c])}return s},n.bSymbolTableReady=!1,n.RATIOS_TABLE=new Array(Qe.SYMBOL_TABLE.length).map(function(e){return new Array(Qe.BARS_IN_MODULE)}),n})(),m6=(function(){function n(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return n.prototype.getSegmentIndex=function(){return this.segmentIndex},n.prototype.setSegmentIndex=function(e){this.segmentIndex=e},n.prototype.getFileId=function(){return this.fileId},n.prototype.setFileId=function(e){this.fileId=e},n.prototype.getOptionalData=function(){return this.optionalData},n.prototype.setOptionalData=function(e){this.optionalData=e},n.prototype.isLastSegment=function(){return this.lastSegment},n.prototype.setLastSegment=function(e){this.lastSegment=e},n.prototype.getSegmentCount=function(){return this.segmentCount},n.prototype.setSegmentCount=function(e){this.segmentCount=e},n.prototype.getSender=function(){return this.sender||null},n.prototype.setSender=function(e){this.sender=e},n.prototype.getAddressee=function(){return this.addressee||null},n.prototype.setAddressee=function(e){this.addressee=e},n.prototype.getFileName=function(){return this.fileName},n.prototype.setFileName=function(e){this.fileName=e},n.prototype.getFileSize=function(){return this.fileSize},n.prototype.setFileSize=function(e){this.fileSize=e},n.prototype.getChecksum=function(){return this.checksum},n.prototype.setChecksum=function(e){this.checksum=e},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.setTimestamp=function(e){this.timestamp=e},n})(),Iy=(function(){function n(){}return n.parseLong=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},n})(),y6=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),x6=(function(n){y6(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="NullPointerException",e})(Gn),w6=(function(){function n(){}return n.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},n.prototype.writeBytesOffset=function(e,t,r){if(e==null)throw new x6;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new Y0;if(r===0)return;for(var i=0;i<r;i++)this.write(e[t+i])},n.prototype.flush=function(){},n.prototype.close=function(){},n})(),_6=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),b6=(function(n){_6(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e})(Gn),E6=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),S6=(function(n){E6(e,n);function e(t){t===void 0&&(t=32);var r=n.call(this)||this;if(r.count=0,t<0)throw new Oe("Negative initial size: "+t);return r.buf=new Uint8Array(t),r}return e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var r=this.buf.length,i=r<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new b6;i=Ge.MAX_VALUE}this.buf=rn.copyOfUint8Array(this.buf,i)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,r,i){if(r<0||r>t.length||i<0||r+i-t.length>0)throw new Y0;this.ensureCapacity(this.count+i),bt.arraycopy(t,r,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return rn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e})(w6),mt;(function(n){n[n.ALPHA=0]="ALPHA",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.PUNCT=3]="PUNCT",n[n.ALPHA_SHIFT=4]="ALPHA_SHIFT",n[n.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(mt||(mt={}));function aw(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var ru;function Hi(n){if(typeof ru>"u"&&(ru=aw()),ru===null)throw new Error("BigInt is not supported!");return ru(n)}function A6(){var n=[];n[0]=Hi(1);var e=Hi(900);n[1]=e;for(var t=2;t<16;t++)n[t]=n[t-1]*e;return n}var C6=(function(){function n(){}return n.decode=function(e,t){var r=new ze(""),i=nn.ISO8859_1;r.enableDecoding(i);for(var a=1,s=e[a++],c=new m6;a<e[0];){switch(s){case n.TEXT_COMPACTION_MODE_LATCH:a=n.textCompaction(e,a,r);break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:a=n.byteCompaction(s,e,i,a,r);break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[a++]);break;case n.NUMERIC_COMPACTION_MODE_LATCH:a=n.numericCompaction(e,a,r);break;case n.ECI_CHARSET:nn.getCharacterSetECIByValue(e[a++]);break;case n.ECI_GENERAL_PURPOSE:a+=2;break;case n.ECI_USER_DEFINED:a++;break;case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=n.decodeMacroBlock(e,a,c);break;case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:throw new pe;default:a--,a=n.textCompaction(e,a,r);break}if(a<e.length)s=e[a++];else throw pe.getFormatInstance()}if(r.length()===0)throw pe.getFormatInstance();var f=new Uu(null,r.toString(),null,t);return f.setOther(c),f},n.decodeMacroBlock=function(e,t,r){if(t+n.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw pe.getFormatInstance();for(var i=new Int32Array(n.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<n.NUMBER_OF_SEQUENCE_CODEWORDS;a++,t++)i[a]=e[t];r.setSegmentIndex(Ge.parseInt(n.decodeBase900toBase10(i,n.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new ze;t=n.textCompaction(e,t,s),r.setFileId(s.toString());var c=-1;for(e[t]===n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=t+1);t<e[0];)switch(e[t]){case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var f=new ze;t=n.textCompaction(e,t+1,f),r.setFileName(f.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var d=new ze;t=n.textCompaction(e,t+1,d),r.setSender(d.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var p=new ze;t=n.textCompaction(e,t+1,p),r.setAddressee(p.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var g=new ze;t=n.numericCompaction(e,t+1,g),r.setSegmentCount(Ge.parseInt(g.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var y=new ze;t=n.numericCompaction(e,t+1,y),r.setTimestamp(Iy.parseLong(y.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var x=new ze;t=n.numericCompaction(e,t+1,x),r.setChecksum(Ge.parseInt(x.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var _=new ze;t=n.numericCompaction(e,t+1,_),r.setFileSize(Iy.parseLong(_.toString()));break;default:throw pe.getFormatInstance()}break;case n.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw pe.getFormatInstance()}if(c!==-1){var E=t-c;r.isLastSegment()&&E--,r.setOptionalData(rn.copyOfRange(e,c,c+E))}return t},n.textCompaction=function(e,t,r){for(var i=new Int32Array((e[0]-t)*2),a=new Int32Array((e[0]-t)*2),s=0,c=!1;t<e[0]&&!c;){var f=e[t++];if(f<n.TEXT_COMPACTION_MODE_LATCH)i[s]=f/30,i[s+1]=f%30,s+=2;else switch(f){case n.TEXT_COMPACTION_MODE_LATCH:i[s++]=n.TEXT_COMPACTION_MODE_LATCH;break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:t--,c=!0;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[s]=n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,f=e[t++],a[s]=f,s++;break}}return n.decodeTextCompaction(i,a,s,r),t},n.decodeTextCompaction=function(e,t,r,i){for(var a=mt.ALPHA,s=mt.ALPHA,c=0;c<r;){var f=e[c],d="";switch(a){case mt.ALPHA:if(f<26)d=String.fromCharCode(65+f);else switch(f){case 26:d=" ";break;case n.LL:a=mt.LOWER;break;case n.ML:a=mt.MIXED;break;case n.PS:s=a,a=mt.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[c]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=mt.ALPHA;break}break;case mt.LOWER:if(f<26)d=String.fromCharCode(97+f);else switch(f){case 26:d=" ";break;case n.AS:s=a,a=mt.ALPHA_SHIFT;break;case n.ML:a=mt.MIXED;break;case n.PS:s=a,a=mt.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[c]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=mt.ALPHA;break}break;case mt.MIXED:if(f<n.PL)d=n.MIXED_CHARS[f];else switch(f){case n.PL:a=mt.PUNCT;break;case 26:d=" ";break;case n.LL:a=mt.LOWER;break;case n.AL:a=mt.ALPHA;break;case n.PS:s=a,a=mt.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[c]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=mt.ALPHA;break}break;case mt.PUNCT:if(f<n.PAL)d=n.PUNCT_CHARS[f];else switch(f){case n.PAL:a=mt.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[c]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=mt.ALPHA;break}break;case mt.ALPHA_SHIFT:if(a=s,f<26)d=String.fromCharCode(65+f);else switch(f){case 26:d=" ";break;case n.TEXT_COMPACTION_MODE_LATCH:a=mt.ALPHA;break}break;case mt.PUNCT_SHIFT:if(a=s,f<n.PAL)d=n.PUNCT_CHARS[f];else switch(f){case n.PAL:a=mt.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[c]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=mt.ALPHA;break}break}d!==""&&i.append(d),c++}},n.byteCompaction=function(e,t,r,i,a){var s=new S6,c=0,f=0,d=!1;switch(e){case n.BYTE_COMPACTION_MODE_LATCH:for(var p=new Int32Array(6),g=t[i++];i<t[0]&&!d;)switch(p[c++]=g,f=900*f+g,g=t[i++],g){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,d=!0;break;default:if(c%5===0&&c>0){for(var y=0;y<6;++y)s.write(Number(Hi(f)>>Hi(8*(5-y))));f=0,c=0}break}i===t[0]&&g<n.TEXT_COMPACTION_MODE_LATCH&&(p[c++]=g);for(var x=0;x<c;x++)s.write(p[x]);break;case n.BYTE_COMPACTION_MODE_LATCH_6:for(;i<t[0]&&!d;){var _=t[i++];if(_<n.TEXT_COMPACTION_MODE_LATCH)c++,f=900*f+_;else switch(_){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,d=!0;break}if(c%5===0&&c>0){for(var y=0;y<6;++y)s.write(Number(Hi(f)>>Hi(8*(5-y))));f=0,c=0}}break}return a.append(dr.decode(s.toByteArray(),r)),i},n.numericCompaction=function(e,t,r){for(var i=0,a=!1,s=new Int32Array(n.MAX_NUMERIC_CODEWORDS);t<e[0]&&!a;){var c=e[t++];if(t===e[0]&&(a=!0),c<n.TEXT_COMPACTION_MODE_LATCH)s[i]=c,i++;else switch(c){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:t--,a=!0;break}(i%n.MAX_NUMERIC_CODEWORDS===0||c===n.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(r.append(n.decodeBase900toBase10(s,i)),i=0)}return t},n.decodeBase900toBase10=function(e,t){for(var r=Hi(0),i=0;i<t;i++)r+=n.EXP900[t-i-1]*Hi(e[i]);var a=r.toString();if(a.charAt(0)!=="1")throw new pe;return a.substring(1)},n.TEXT_COMPACTION_MODE_LATCH=900,n.BYTE_COMPACTION_MODE_LATCH=901,n.NUMERIC_COMPACTION_MODE_LATCH=902,n.BYTE_COMPACTION_MODE_LATCH_6=924,n.ECI_USER_DEFINED=925,n.ECI_GENERAL_PURPOSE=926,n.ECI_CHARSET=927,n.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,n.MACRO_PDF417_TERMINATOR=922,n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,n.MAX_NUMERIC_CODEWORDS=15,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,n.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,n.PL=25,n.LL=27,n.AS=27,n.ML=28,n.AL=28,n.PS=29,n.PAL=29,n.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,n.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",n.EXP900=aw()?A6():[],n.NUMBER_OF_SEQUENCE_CODEWORDS=2,n})(),tl=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},T6=(function(){function n(){}return n.decode=function(e,t,r,i,a,s,c){for(var f=new h0(e,t,r,i,a),d=null,p=null,g,y=!0;;y=!1){if(t!=null&&(d=n.getRowIndicatorColumn(e,f,t,!0,s,c)),i!=null&&(p=n.getRowIndicatorColumn(e,f,i,!1,s,c)),g=n.merge(d,p),g==null)throw ne.getNotFoundInstance();var x=g.getBoundingBox();if(y&&x!=null&&(x.getMinY()<f.getMinY()||x.getMaxY()>f.getMaxY()))f=x;else break}g.setBoundingBox(f);var _=g.getBarcodeColumnCount()+1;g.setDetectionResultColumn(0,d),g.setDetectionResultColumn(_,p);for(var E=d!=null,S=1;S<=_;S++){var b=E?S:_-S;if(g.getDetectionResultColumn(b)===void 0){var C=void 0;b===0||b===_?C=new Ny(f,b===0):C=new iw(f),g.setDetectionResultColumn(b,C);for(var T=-1,D=T,P=f.getMinY();P<=f.getMaxY();P++){if(T=n.getStartColumn(g,b,P,E),T<0||T>f.getMaxX()){if(D===-1)continue;T=D}var L=n.detectCodeword(e,f.getMinX(),f.getMaxX(),E,T,P,s,c);L!=null&&(C.setCodeword(P,L),D=T,s=Math.min(s,L.getWidth()),c=Math.max(c,L.getWidth()))}}}return n.createDecoderResult(g)},n.merge=function(e,t){if(e==null&&t==null)return null;var r=n.getBarcodeMetadata(e,t);if(r==null)return null;var i=h0.merge(n.adjustBoundingBox(e),n.adjustBoundingBox(t));return new p6(r,i)},n.adjustBoundingBox=function(e){var t,r;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=n.getMax(i),s=0;try{for(var c=tl(i),f=c.next();!f.done;f=c.next()){var d=f.value;if(s+=a-d,d>0)break}}catch(x){t={error:x}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}for(var p=e.getCodewords(),g=0;s>0&&p[g]==null;g++)s--;for(var y=0,g=i.length-1;g>=0&&(y+=a-i[g],!(i[g]>0));g--);for(var g=p.length-1;y>0&&p[g]==null;g--)y--;return e.getBoundingBox().addMissingRows(s,y,e.isLeft())},n.getMax=function(e){var t,r,i=-1;try{for(var a=tl(e),s=a.next();!s.done;s=a.next()){var c=s.value;i=Math.max(i,c)}}catch(f){t={error:f}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},n.getBarcodeMetadata=function(e,t){var r;if(e==null||(r=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();var i;return t==null||(i=t.getBarcodeMetadata())==null?r:r.getColumnCount()!==i.getColumnCount()&&r.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&r.getRowCount()!==i.getRowCount()?null:r},n.getRowIndicatorColumn=function(e,t,r,i,a,s){for(var c=new Ny(t,i),f=0;f<2;f++)for(var d=f===0?1:-1,p=Math.trunc(Math.trunc(r.getX())),g=Math.trunc(Math.trunc(r.getY()));g<=t.getMaxY()&&g>=t.getMinY();g+=d){var y=n.detectCodeword(e,0,e.getWidth(),i,p,g,a,s);y!=null&&(c.setCodeword(g,y),i?p=y.getStartX():p=y.getEndX())}return c},n.adjustCodewordCount=function(e,t){var r=t[0][1],i=r.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-n.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>Qe.MAX_CODEWORDS_IN_BARCODE)throw ne.getNotFoundInstance();r.setValue(a)}else i[0]!==a&&r.setValue(a)},n.createDecoderResult=function(e){var t=n.createBarcodeMatrix(e);n.adjustCodewordCount(e,t);for(var r=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],s=new Array,c=0;c<e.getBarcodeRowCount();c++)for(var f=0;f<e.getBarcodeColumnCount();f++){var d=t[c][f+1].getValue(),p=c*e.getBarcodeColumnCount()+f;d.length===0?r.push(p):d.length===1?i[p]=d[0]:(s.push(p),a.push(d))}for(var g=new Array(a.length),y=0;y<g.length;y++)g[y]=a[y];return n.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,Qe.toIntArray(r),Qe.toIntArray(s),g)},n.createDecoderResultFromAmbiguousValues=function(e,t,r,i,a){for(var s=new Int32Array(i.length),c=100;c-- >0;){for(var f=0;f<s.length;f++)t[i[f]]=a[f][s[f]];try{return n.decodeCodewords(t,e,r)}catch(p){var d=p instanceof qt;if(!d)throw p}if(s.length===0)throw qt.getChecksumInstance();for(var f=0;f<s.length;f++)if(s[f]<a[f].length-1){s[f]++;break}else if(s[f]=0,f===s.length-1)throw qt.getChecksumInstance()}throw qt.getChecksumInstance()},n.createBarcodeMatrix=function(e){for(var t,r,i,a,s=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),c=0;c<s.length;c++)for(var f=0;f<s[c].length;f++)s[c][f]=new ol;var d=0;try{for(var p=tl(e.getDetectionResultColumns()),g=p.next();!g.done;g=p.next()){var y=g.value;if(y!=null)try{for(var x=(i=void 0,tl(y.getCodewords())),_=x.next();!_.done;_=x.next()){var E=_.value;if(E!=null){var S=E.getRowNumber();if(S>=0){if(S>=s.length)continue;s[S][d].setValue(E.getValue())}}}}catch(b){i={error:b}}finally{try{_&&!_.done&&(a=x.return)&&a.call(x)}finally{if(i)throw i.error}}d++}}catch(b){t={error:b}}finally{try{g&&!g.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}return s},n.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},n.getStartColumn=function(e,t,r,i){var a,s,c=i?1:-1,f=null;if(n.isValidBarcodeColumn(e,t-c)&&(f=e.getDetectionResultColumn(t-c).getCodeword(r)),f!=null)return i?f.getEndX():f.getStartX();if(f=e.getDetectionResultColumn(t).getCodewordNearby(r),f!=null)return i?f.getStartX():f.getEndX();if(n.isValidBarcodeColumn(e,t-c)&&(f=e.getDetectionResultColumn(t-c).getCodewordNearby(r)),f!=null)return i?f.getEndX():f.getStartX();for(var d=0;n.isValidBarcodeColumn(e,t-c);){t-=c;try{for(var p=(a=void 0,tl(e.getDetectionResultColumn(t).getCodewords())),g=p.next();!g.done;g=p.next()){var y=g.value;if(y!=null)return(i?y.getEndX():y.getStartX())+c*d*(y.getEndX()-y.getStartX())}}catch(x){a={error:x}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}d++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},n.detectCodeword=function(e,t,r,i,a,s,c,f){a=n.adjustCodewordStartColumn(e,t,r,i,a,s);var d=n.getModuleBitCount(e,t,r,i,a,s);if(d==null)return null;var p,g=nt.sum(d);if(i)p=a+g;else{for(var y=0;y<d.length/2;y++){var x=d[y];d[y]=d[d.length-1-y],d[d.length-1-y]=x}p=a,a=p-g}if(!n.checkCodewordSkew(g,c,f))return null;var _=v6.getDecodedValue(d),E=Qe.getCodeword(_);return E===-1?null:new g6(a,p,n.getCodewordBucketNumber(_),E)},n.getModuleBitCount=function(e,t,r,i,a,s){for(var c=a,f=new Int32Array(8),d=0,p=i?1:-1,g=i;(i?c<r:c>=t)&&d<f.length;)e.get(c,s)===g?(f[d]++,c+=p):(d++,g=!g);return d===f.length||c===(i?r:t)&&d===f.length-1?f:null},n.getNumberOfECCodeWords=function(e){return 2<<e},n.adjustCodewordStartColumn=function(e,t,r,i,a,s){for(var c=a,f=i?-1:1,d=0;d<2;d++){for(;(i?c>=t:c<r)&&i===e.get(c,s);){if(Math.abs(a-c)>n.CODEWORD_SKEW_SIZE)return a;c+=f}f=-f,i=!i}return c},n.checkCodewordSkew=function(e,t,r){return t-n.CODEWORD_SKEW_SIZE<=e&&e<=r+n.CODEWORD_SKEW_SIZE},n.decodeCodewords=function(e,t,r){if(e.length===0)throw pe.getFormatInstance();var i=1<<t+1,a=n.correctErrors(e,r,i);n.verifyCodewordCount(e,i);var s=C6.decode(e,""+t);return s.setErrorsCorrected(a),s.setErasures(r.length),s},n.correctErrors=function(e,t,r){if(t!=null&&t.length>r/2+n.MAX_ERRORS||r<0||r>n.MAX_EC_CODEWORDS)throw qt.getChecksumInstance();return n.errorCorrection.decode(e,r,t)},n.verifyCodewordCount=function(e,t){if(e.length<4)throw pe.getFormatInstance();var r=e[0];if(r>e.length)throw pe.getFormatInstance();if(r===0)if(t<e.length)e[0]=e.length-t;else throw pe.getFormatInstance()},n.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),r=0,i=t.length-1;!((e&1)!==r&&(r=e&1,i--,i<0));)t[i]++,e>>=1;return t},n.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},n.getCodewordBucketNumber_number=function(e){return n.getCodewordBucketNumber(n.getBitCountForCodeword(e))},n.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},n.toString=function(e){for(var t=new J0,r=0;r<e.length;r++){t.format("Row %2d: ",r);for(var i=0;i<e[r].length;i++){var a=e[r][i];a.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}t.format("%n")}return t.toString()},n.CODEWORD_SKEW_SIZE=2,n.MAX_ERRORS=3,n.MAX_EC_CODEWORDS=512,n.errorCorrection=new s6,n})(),O6=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ou=(function(){function n(){}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r=n.decode(e,t,!1);if(r==null||r.length===0||r[0]==null)throw ne.getNotFoundInstance();return r[0]},n.prototype.decodeMultiple=function(e,t){t===void 0&&(t=null);try{return n.decode(e,t,!0)}catch(r){throw r instanceof pe||r instanceof qt?ne.getNotFoundInstance():r}},n.decode=function(e,t,r){var i,a,s=new Array,c=t6.detectMultiple(e,t,r);try{for(var f=O6(c.getPoints()),d=f.next();!d.done;d=f.next()){var p=d.value,g=T6.decode(c.getBits(),p[4],p[5],p[6],p[7],n.getMinCodewordWidth(p),n.getMaxCodewordWidth(p)),y=new On(g.getText(),g.getRawBytes(),void 0,p,Te.PDF_417);y.putMetadata(wn.ERROR_CORRECTION_LEVEL,g.getECLevel());var x=g.getOther();x!=null&&y.putMetadata(wn.PDF417_EXTRA_METADATA,x),s.push(y)}}catch(_){i={error:_}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}return s.map(function(_){return _})},n.getMaxWidth=function(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))},n.getMinWidth=function(e,t){return e==null||t==null?Ge.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},n.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(n.getMaxWidth(e[0],e[4]),n.getMaxWidth(e[6],e[2])*Qe.MODULES_IN_CODEWORD/Qe.MODULES_IN_STOP_PATTERN),Math.max(n.getMaxWidth(e[1],e[5]),n.getMaxWidth(e[7],e[3])*Qe.MODULES_IN_CODEWORD/Qe.MODULES_IN_STOP_PATTERN)))},n.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(n.getMinWidth(e[0],e[4]),n.getMinWidth(e[6],e[2])*Qe.MODULES_IN_CODEWORD/Qe.MODULES_IN_STOP_PATTERN),Math.min(n.getMinWidth(e[1],e[5]),n.getMinWidth(e[7],e[3])*Qe.MODULES_IN_CODEWORD/Qe.MODULES_IN_STOP_PATTERN)))},n.prototype.reset=function(){},n})(),R6=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),ky=(function(n){R6(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ReaderException",e})(Gn),My=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ow=(function(){function n(){}return n.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},n.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},n.prototype.setHints=function(e){this.hints=e;var t=e!=null&&e.get(Et.TRY_HARDER)!==void 0,r=e==null?null:e.get(Et.POSSIBLE_FORMATS),i=new Array;if(r!=null){var a=r.some(function(s){return s===Te.UPC_A||s===Te.UPC_E||s===Te.EAN_13||s===Te.EAN_8||s===Te.CODABAR||s===Te.CODE_39||s===Te.CODE_93||s===Te.CODE_128||s===Te.ITF||s===Te.RSS_14||s===Te.RSS_EXPANDED});a&&!t&&i.push(new ko(e)),r.includes(Te.QR_CODE)&&i.push(new Tu),r.includes(Te.DATA_MATRIX)&&i.push(new Cu),r.includes(Te.AZTEC)&&i.push(new Su),r.includes(Te.PDF_417)&&i.push(new Ou),a&&t&&i.push(new ko(e))}i.length===0&&(t||i.push(new ko(e)),i.push(new Tu),i.push(new Cu),i.push(new Su),i.push(new Ou),t&&i.push(new ko(e))),this.readers=i},n.prototype.reset=function(){var e,t;if(this.readers!==null)try{for(var r=My(this.readers),i=r.next();!i.done;i=r.next()){var a=i.value;a.reset()}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},n.prototype.decodeInternal=function(e){var t,r;if(this.readers===null)throw new ky("No readers where selected, nothing can be read.");try{for(var i=My(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;try{return s.decode(e,this.hints)}catch(c){if(c instanceof ky)continue}}}catch(c){t={error:c}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}throw new ne("No MultiFormat Readers were able to detect the code.")},n})(),D6=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();(function(n){D6(e,n);function e(t,r){t===void 0&&(t=null),r===void 0&&(r=500);var i=this,a=new ow;return a.setHints(t),i=n.call(this,a,r)||this,i}return e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e})(Yo);var N6=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();(function(n){N6(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new Ou,t)||this}return e})(Yo);var I6=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();(function(n){I6(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new Tu,t)||this}return e})(Yo);var p0;(function(n){n[n.ERROR_CORRECTION=0]="ERROR_CORRECTION",n[n.CHARACTER_SET=1]="CHARACTER_SET",n[n.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",n[n.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",n[n.MIN_SIZE=4]="MIN_SIZE",n[n.MAX_SIZE=5]="MAX_SIZE",n[n.MARGIN=6]="MARGIN",n[n.PDF417_COMPACT=7]="PDF417_COMPACT",n[n.PDF417_COMPACTION=8]="PDF417_COMPACTION",n[n.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",n[n.AZTEC_LAYERS=10]="AZTEC_LAYERS",n[n.QR_VERSION=11]="QR_VERSION",n[n.GS1_FORMAT=12]="GS1_FORMAT",n[n.FORCE_C40=13]="FORCE_C40"})(p0||(p0={}));const iu=p0;var sw=(function(){function n(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new $i(e,Int32Array.from([1])))}return n.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var r=t[t.length-1],i=this.field,a=t.length;a<=e;a++){var s=r.multiply(new $i(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));t.push(s),r=s}return t[e]},n.prototype.encode=function(e,t){if(t===0)throw new Oe("No error correction bytes");var r=e.length-t;if(r<=0)throw new Oe("No data bytes provided");var i=this.buildGenerator(t),a=new Int32Array(r);bt.arraycopy(e,0,a,0,r);var s=new $i(this.field,a);s=s.multiplyByMonomial(t,1);for(var c=s.divide(i)[1],f=c.getCoefficients(),d=t-f.length,p=0;p<d;p++)e[r+p]=0;bt.arraycopy(f,0,e,r+d,f.length)},n})(),sl=(function(){function n(){}return n.applyMaskPenaltyRule1=function(e){return n.applyMaskPenaltyRule1Internal(e,!0)+n.applyMaskPenaltyRule1Internal(e,!1)},n.applyMaskPenaltyRule2=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a-1;s++)for(var c=r[s],f=0;f<i-1;f++){var d=c[f];d===c[f+1]&&d===r[s+1][f]&&d===r[s+1][f+1]&&t++}return n.N2*t},n.applyMaskPenaltyRule3=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a;s++)for(var c=0;c<i;c++){var f=r[s];c+6<i&&f[c]===1&&f[c+1]===0&&f[c+2]===1&&f[c+3]===1&&f[c+4]===1&&f[c+5]===0&&f[c+6]===1&&(n.isWhiteHorizontal(f,c-4,c)||n.isWhiteHorizontal(f,c+7,c+11))&&t++,s+6<a&&r[s][c]===1&&r[s+1][c]===0&&r[s+2][c]===1&&r[s+3][c]===1&&r[s+4][c]===1&&r[s+5][c]===0&&r[s+6][c]===1&&(n.isWhiteVertical(r,c,s-4,s)||n.isWhiteVertical(r,c,s+7,s+11))&&t++}return t*n.N3},n.isWhiteHorizontal=function(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(var i=t;i<r;i++)if(e[i]===1)return!1;return!0},n.isWhiteVertical=function(e,t,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(var a=r;a<i;a++)if(e[a][t]===1)return!1;return!0},n.applyMaskPenaltyRule4=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a;s++)for(var c=r[s],f=0;f<i;f++)c[f]===1&&t++;var d=e.getHeight()*e.getWidth(),p=Math.floor(Math.abs(t*2-d)*10/d);return p*n.N4},n.getDataMaskBit=function(e,t,r){var i,a;switch(e){case 0:i=r+t&1;break;case 1:i=r&1;break;case 2:i=t%3;break;case 3:i=(r+t)%3;break;case 4:i=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:a=r*t,i=(a&1)+a%3;break;case 6:a=r*t,i=(a&1)+a%3&1;break;case 7:a=r*t,i=a%3+(r+t&1)&1;break;default:throw new Oe("Invalid mask pattern: "+e)}return i===0},n.applyMaskPenaltyRule1Internal=function(e,t){for(var r=0,i=t?e.getHeight():e.getWidth(),a=t?e.getWidth():e.getHeight(),s=e.getArray(),c=0;c<i;c++){for(var f=0,d=-1,p=0;p<a;p++){var g=t?s[c][p]:s[p][c];g===d?f++:(f>=5&&(r+=n.N1+(f-5)),f=1,d=g)}f>=5&&(r+=n.N1+(f-5))}return r},n.N1=3,n.N2=3,n.N3=40,n.N4=10,n})(),k6=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},M6=(function(){function n(e,t){this.width=e,this.height=t;for(var r=new Array(t),i=0;i!==t;i++)r[i]=new Uint8Array(e);this.bytes=r}return n.prototype.getHeight=function(){return this.height},n.prototype.getWidth=function(){return this.width},n.prototype.get=function(e,t){return this.bytes[t][e]},n.prototype.getArray=function(){return this.bytes},n.prototype.setNumber=function(e,t,r){this.bytes[t][e]=r},n.prototype.setBoolean=function(e,t,r){this.bytes[t][e]=r?1:0},n.prototype.clear=function(e){var t,r;try{for(var i=k6(this.bytes),a=i.next();!a.done;a=i.next()){var s=a.value;rn.fill(s,e)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(var r=0,i=this.height;r<i;++r)for(var a=this.bytes[r],s=t.bytes[r],c=0,f=this.width;c<f;++c)if(a[c]!==s[c])return!1;return!0},n.prototype.toString=function(){for(var e=new ze,t=0,r=this.height;t<r;++t){for(var i=this.bytes[t],a=0,s=this.width;a<s;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},n})(),g0=(function(){function n(){this.maskPattern=-1}return n.prototype.getMode=function(){return this.mode},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getVersion=function(){return this.version},n.prototype.getMaskPattern=function(){return this.maskPattern},n.prototype.getMatrix=function(){return this.matrix},n.prototype.toString=function(){var e=new ze;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},n.prototype.setMode=function(e){this.mode=e},n.prototype.setECLevel=function(e){this.ecLevel=e},n.prototype.setVersion=function(e){this.version=e},n.prototype.setMaskPattern=function(e){this.maskPattern=e},n.prototype.setMatrix=function(e){this.matrix=e},n.isValidMaskPattern=function(e){return e>=0&&e<n.NUM_MASK_PATTERNS},n.NUM_MASK_PATTERNS=8,n})(),P6=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Ct=(function(n){P6(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="WriterException",e})(Gn),Py=(function(){function n(){}return n.clearMatrix=function(e){e.clear(255)},n.buildMatrix=function(e,t,r,i,a){n.clearMatrix(a),n.embedBasicPatterns(r,a),n.embedTypeInfo(t,i,a),n.maybeEmbedVersionInfo(r,a),n.embedDataBits(e,i,a)},n.embedBasicPatterns=function(e,t){n.embedPositionDetectionPatternsAndSeparators(t),n.embedDarkDotAtLeftBottomCorner(t),n.maybeEmbedPositionAdjustmentPatterns(e,t),n.embedTimingPatterns(t)},n.embedTypeInfo=function(e,t,r){var i=new hn;n.makeTypeInfoBits(e,t,i);for(var a=0,s=i.getSize();a<s;++a){var c=i.get(i.getSize()-1-a),f=n.TYPE_INFO_COORDINATES[a],d=f[0],p=f[1];if(r.setBoolean(d,p,c),a<8){var g=r.getWidth()-a-1,y=8;r.setBoolean(g,y,c)}else{var g=8,y=r.getHeight()-7+(a-8);r.setBoolean(g,y,c)}}},n.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var r=new hn;n.makeVersionInfoBits(e,r);for(var i=17,a=0;a<6;++a)for(var s=0;s<3;++s){var c=r.get(i);i--,t.setBoolean(a,t.getHeight()-11+s,c),t.setBoolean(t.getHeight()-11+s,a,c)}}},n.embedDataBits=function(e,t,r){for(var i=0,a=-1,s=r.getWidth()-1,c=r.getHeight()-1;s>0;){for(s===6&&(s-=1);c>=0&&c<r.getHeight();){for(var f=0;f<2;++f){var d=s-f;if(n.isEmpty(r.get(d,c))){var p=void 0;i<e.getSize()?(p=e.get(i),++i):p=!1,t!==255&&sl.getDataMaskBit(t,d,c)&&(p=!p),r.setBoolean(d,c,p)}}c+=a}a=-a,c+=a,s-=2}if(i!==e.getSize())throw new Ct("Not all bits consumed: "+i+"/"+e.getSize())},n.findMSBSet=function(e){return 32-Ge.numberOfLeadingZeros(e)},n.calculateBCHCode=function(e,t){if(t===0)throw new Oe("0 polynomial");var r=n.findMSBSet(t);for(e<<=r-1;n.findMSBSet(e)>=r;)e^=t<<n.findMSBSet(e)-r;return e},n.makeTypeInfoBits=function(e,t,r){if(!g0.isValidMaskPattern(t))throw new Ct("Invalid mask pattern");var i=e.getBits()<<3|t;r.appendBits(i,5);var a=n.calculateBCHCode(i,n.TYPE_INFO_POLY);r.appendBits(a,10);var s=new hn;if(s.appendBits(n.TYPE_INFO_MASK_PATTERN,15),r.xor(s),r.getSize()!==15)throw new Ct("should not happen but we got: "+r.getSize())},n.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var r=n.calculateBCHCode(e.getVersionNumber(),n.VERSION_INFO_POLY);if(t.appendBits(r,12),t.getSize()!==18)throw new Ct("should not happen but we got: "+t.getSize())},n.isEmpty=function(e){return e===255},n.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var r=(t+1)%2;n.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),n.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}},n.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Ct;e.setNumber(8,e.getHeight()-8,1)},n.embedHorizontalSeparationPattern=function(e,t,r){for(var i=0;i<8;++i){if(!n.isEmpty(r.get(e+i,t)))throw new Ct;r.setNumber(e+i,t,0)}},n.embedVerticalSeparationPattern=function(e,t,r){for(var i=0;i<7;++i){if(!n.isEmpty(r.get(e,t+i)))throw new Ct;r.setNumber(e,t+i,0)}},n.embedPositionAdjustmentPattern=function(e,t,r){for(var i=0;i<5;++i)for(var a=n.POSITION_ADJUSTMENT_PATTERN[i],s=0;s<5;++s)r.setNumber(e+s,t+i,a[s])},n.embedPositionDetectionPattern=function(e,t,r){for(var i=0;i<7;++i)for(var a=n.POSITION_DETECTION_PATTERN[i],s=0;s<7;++s)r.setNumber(e+s,t+i,a[s])},n.embedPositionDetectionPatternsAndSeparators=function(e){var t=n.POSITION_DETECTION_PATTERN[0].length;n.embedPositionDetectionPattern(0,0,e),n.embedPositionDetectionPattern(e.getWidth()-t,0,e),n.embedPositionDetectionPattern(0,e.getWidth()-t,e);var r=8;n.embedHorizontalSeparationPattern(0,r-1,e),n.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),n.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);var i=7;n.embedVerticalSeparationPattern(i,0,e),n.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),n.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},n.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,i=n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],a=0,s=i.length;a!==s;a++){var c=i[a];if(c>=0)for(var f=0;f!==s;f++){var d=i[f];d>=0&&n.isEmpty(t.get(d,c))&&n.embedPositionAdjustmentPattern(d-2,c-2,t)}}},n.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),n.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),n.VERSION_INFO_POLY=7973,n.TYPE_INFO_POLY=1335,n.TYPE_INFO_MASK_PATTERN=21522,n})(),j6=(function(){function n(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return n.prototype.getDataBytes=function(){return this.dataBytes},n.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},n})(),jy=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function n(){}return n.calculateMaskPenalty=function(e){return sl.applyMaskPenaltyRule1(e)+sl.applyMaskPenaltyRule2(e)+sl.applyMaskPenaltyRule3(e)+sl.applyMaskPenaltyRule4(e)},n.encode=function(e,t,r){r===void 0&&(r=null);var i=n.DEFAULT_BYTE_MODE_ENCODING,a=r!==null&&r.get(iu.CHARACTER_SET)!==void 0;a&&(i=r.get(iu.CHARACTER_SET).toString());var s=this.chooseMode(e,i),c=new hn;if(s===Tt.BYTE&&(a||n.DEFAULT_BYTE_MODE_ENCODING!==i)){var f=nn.getCharacterSetECIByName(i);f!==void 0&&this.appendECI(f,c)}this.appendModeInfo(s,c);var d=new hn;this.appendBytes(e,s,d,i);var p;if(r!==null&&r.get(iu.QR_VERSION)!==void 0){var g=Number.parseInt(r.get(iu.QR_VERSION).toString(),10);p=Ta.getVersionForNumber(g);var y=this.calculateBitsNeeded(s,c,d,p);if(!this.willFit(y,p,t))throw new Ct("Data too big for requested version")}else p=this.recommendVersion(t,s,c,d);var x=new hn;x.appendBitArray(c);var _=s===Tt.BYTE?d.getSizeInBytes():e.length;this.appendLengthInfo(_,p,s,x),x.appendBitArray(d);var E=p.getECBlocksForLevel(t),S=p.getTotalCodewords()-E.getTotalECCodewords();this.terminateBits(S,x);var b=this.interleaveWithECBytes(x,p.getTotalCodewords(),S,E.getNumBlocks()),C=new g0;C.setECLevel(t),C.setMode(s),C.setVersion(p);var T=p.getDimensionForVersion(),D=new M6(T,T),P=this.chooseMaskPattern(b,t,p,D);return C.setMaskPattern(P),Py.buildMatrix(b,t,p,P,D),C.setMatrix(D),C},n.recommendVersion=function(e,t,r,i){var a=this.calculateBitsNeeded(t,r,i,Ta.getVersionForNumber(1)),s=this.chooseVersion(a,e),c=this.calculateBitsNeeded(t,r,i,s);return this.chooseVersion(c,e)},n.calculateBitsNeeded=function(e,t,r,i){return t.getSize()+e.getCharacterCountBits(i)+r.getSize()},n.getAlphanumericCode=function(e){return e<n.ALPHANUMERIC_TABLE.length?n.ALPHANUMERIC_TABLE[e]:-1},n.chooseMode=function(e,t){if(t===void 0&&(t=null),nn.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return Tt.KANJI;for(var r=!1,i=!1,a=0,s=e.length;a<s;++a){var c=e.charAt(a);if(n.isDigit(c))r=!0;else if(this.getAlphanumericCode(c.charCodeAt(0))!==-1)i=!0;else return Tt.BYTE}return i?Tt.ALPHANUMERIC:r?Tt.NUMERIC:Tt.BYTE},n.isOnlyDoubleByteKanji=function(e){var t;try{t=dr.encode(e,nn.SJIS)}catch{return!1}var r=t.length;if(r%2!==0)return!1;for(var i=0;i<r;i+=2){var a=t[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},n.chooseMaskPattern=function(e,t,r,i){for(var a=Number.MAX_SAFE_INTEGER,s=-1,c=0;c<g0.NUM_MASK_PATTERNS;c++){Py.buildMatrix(e,t,r,c,i);var f=this.calculateMaskPenalty(i);f<a&&(a=f,s=c)}return s},n.chooseVersion=function(e,t){for(var r=1;r<=40;r++){var i=Ta.getVersionForNumber(r);if(n.willFit(e,i,t))return i}throw new Ct("Data too big")},n.willFit=function(e,t,r){var i=t.getTotalCodewords(),a=t.getECBlocksForLevel(r),s=a.getTotalECCodewords(),c=i-s,f=(e+7)/8;return c>=f},n.terminateBits=function(e,t){var r=e*8;if(t.getSize()>r)throw new Ct("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(var i=0;i<4&&t.getSize()<r;++i)t.appendBit(!1);var a=t.getSize()&7;if(a>0)for(var i=a;i<8;i++)t.appendBit(!1);for(var s=e-t.getSizeInBytes(),i=0;i<s;++i)t.appendBits((i&1)===0?236:17,8);if(t.getSize()!==r)throw new Ct("Bits size does not equal capacity")},n.getNumDataBytesAndNumECBytesForBlockID=function(e,t,r,i,a,s){if(i>=r)throw new Ct("Block ID too large");var c=e%r,f=r-c,d=Math.floor(e/r),p=d+1,g=Math.floor(t/r),y=g+1,x=d-g,_=p-y;if(x!==_)throw new Ct("EC bytes mismatch");if(r!==f+c)throw new Ct("RS blocks mismatch");if(e!==(g+x)*f+(y+_)*c)throw new Ct("Total bytes mismatch");i<f?(a[0]=g,s[0]=x):(a[0]=y,s[0]=_)},n.interleaveWithECBytes=function(e,t,r,i){var a,s,c,f;if(e.getSizeInBytes()!==r)throw new Ct("Number of bits and data bytes does not match");for(var d=0,p=0,g=0,y=new Array,x=0;x<i;++x){var _=new Int32Array(1),E=new Int32Array(1);n.getNumDataBytesAndNumECBytesForBlockID(t,r,i,x,_,E);var S=_[0],b=new Uint8Array(S);e.toBytes(8*d,b,0,S);var C=n.generateECBytes(b,E[0]);y.push(new j6(b,C)),p=Math.max(p,S),g=Math.max(g,C.length),d+=_[0]}if(r!==d)throw new Ct("Data bytes does not match offset");for(var T=new hn,x=0;x<p;++x)try{for(var D=(a=void 0,jy(y)),P=D.next();!P.done;P=D.next()){var L=P.value,b=L.getDataBytes();x<b.length&&T.appendBits(b[x],8)}}catch(te){a={error:te}}finally{try{P&&!P.done&&(s=D.return)&&s.call(D)}finally{if(a)throw a.error}}for(var x=0;x<g;++x)try{for(var U=(c=void 0,jy(y)),$=U.next();!$.done;$=U.next()){var L=$.value,C=L.getErrorCorrectionBytes();x<C.length&&T.appendBits(C[x],8)}}catch(te){c={error:te}}finally{try{$&&!$.done&&(f=U.return)&&f.call(U)}finally{if(c)throw c.error}}if(t!==T.getSizeInBytes())throw new Ct("Interleaving error: "+t+" and "+T.getSizeInBytes()+" differ.");return T},n.generateECBytes=function(e,t){for(var r=e.length,i=new Int32Array(r+t),a=0;a<r;a++)i[a]=e[a]&255;new sw(zn.QR_CODE_FIELD_256).encode(i,t);for(var s=new Uint8Array(t),a=0;a<t;a++)s[a]=i[r+a];return s},n.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},n.appendLengthInfo=function(e,t,r,i){var a=r.getCharacterCountBits(t);if(e>=1<<a)throw new Ct(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},n.appendBytes=function(e,t,r,i){switch(t){case Tt.NUMERIC:n.appendNumericBytes(e,r);break;case Tt.ALPHANUMERIC:n.appendAlphanumericBytes(e,r);break;case Tt.BYTE:n.append8BitBytes(e,r,i);break;case Tt.KANJI:n.appendKanjiBytes(e,r);break;default:throw new Ct("Invalid mode: "+t)}},n.getDigit=function(e){return e.charCodeAt(0)-48},n.isDigit=function(e){var t=n.getDigit(e);return t>=0&&t<=9},n.appendNumericBytes=function(e,t){for(var r=e.length,i=0;i<r;){var a=n.getDigit(e.charAt(i));if(i+2<r){var s=n.getDigit(e.charAt(i+1)),c=n.getDigit(e.charAt(i+2));t.appendBits(a*100+s*10+c,10),i+=3}else if(i+1<r){var s=n.getDigit(e.charAt(i+1));t.appendBits(a*10+s,7),i+=2}else t.appendBits(a,4),i++}},n.appendAlphanumericBytes=function(e,t){for(var r=e.length,i=0;i<r;){var a=n.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new Ct;if(i+1<r){var s=n.getAlphanumericCode(e.charCodeAt(i+1));if(s===-1)throw new Ct;t.appendBits(a*45+s,11),i+=2}else t.appendBits(a,6),i++}},n.append8BitBytes=function(e,t,r){var i;try{i=dr.encode(e,r)}catch(f){throw new Ct(f)}for(var a=0,s=i.length;a!==s;a++){var c=i[a];t.appendBits(c,8)}},n.appendKanjiBytes=function(e,t){var r;try{r=dr.encode(e,nn.SJIS)}catch(g){throw new Ct(g)}for(var i=r.length,a=0;a<i;a+=2){var s=r[a]&255,c=r[a+1]&255,f=s<<8&4294967295|c,d=-1;if(f>=33088&&f<=40956?d=f-33088:f>=57408&&f<=60351&&(d=f-49472),d===-1)throw new Ct("Invalid byte sequence");var p=(d>>8)*192+(d&255);t.appendBits(p,13)}},n.appendECI=function(e,t){t.appendBits(Tt.ECI.getBits(),4),t.appendBits(e.getValue(),8)},n.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),n.DEFAULT_BYTE_MODE_ENCODING=nn.UTF8.getName(),n})();var B6=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();(function(n){B6(e,n);function e(t,r,i,a,s,c,f,d){var p=n.call(this,c,f)||this;if(p.yuvData=t,p.dataWidth=r,p.dataHeight=i,p.left=a,p.top=s,a+c>r||s+f>i)throw new Oe("Crop rectangle does not fit within image data.");return d&&p.reverseHorizontal(c,f),p}return e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Oe("Requested row is outside the image: "+t);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return bt.arraycopy(this.yuvData,a,r,0,i),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;var i=t*r,a=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return bt.arraycopy(this.yuvData,s,a,0,i),a;for(var c=0;c<r;c++){var f=c*t;bt.arraycopy(this.yuvData,s,a,f,t),s+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,i,a,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*r),a=this.yuvData,s=this.top*this.dataWidth+this.left,c=0;c<r;c++){for(var f=c*t,d=0;d<t;d++){var p=a[s+d*e.THUMBNAIL_SCALE_FACTOR]&255;i[f+d]=4278190080|p*65793}s+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,r){for(var i=this.yuvData,a=0,s=this.top*this.dataWidth+this.left;a<r;a++,s+=this.dataWidth)for(var c=s+t/2,f=s,d=s+t-1;f<c;f++,d--){var p=i[f];i[f]=i[d],i[d]=p}},e.prototype.invert=function(){return new Fu(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Dl);var L6=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();(function(n){L6(e,n);function e(t,r,i,a,s,c,f){var d=n.call(this,r,i)||this;if(d.dataWidth=a,d.dataHeight=s,d.left=c,d.top=f,t.BYTES_PER_ELEMENT===4){for(var p=r*i,g=new Uint8ClampedArray(p),y=0;y<p;y++){var x=t[y],_=x>>16&255,E=x>>7&510,S=x&255;g[y]=(_+E+S)/4&255}d.luminances=g}else d.luminances=t;if(a===void 0&&(d.dataWidth=r),s===void 0&&(d.dataHeight=i),c===void 0&&(d.left=0),f===void 0&&(d.top=0),d.left+r>d.dataWidth||d.top+i>d.dataHeight)throw new Oe("Crop rectangle does not fit within image data.");return d}return e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Oe("Requested row is outside the image: "+t);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return bt.arraycopy(this.luminances,a,r,0,i),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;var i=t*r,a=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return bt.arraycopy(this.luminances,s,a,0,i),a;for(var c=0;c<r;c++){var f=c*t;bt.arraycopy(this.luminances,s,a,f,t),s+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+t,this.top+r)},e.prototype.invert=function(){return new Fu(this)},e})(Dl);var F6=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),U6=(function(n){F6(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.forName=function(t){return this.getCharacterSetECIByName(t)},e})(nn),V6=(function(){function n(){}return n.ISO_8859_1=nn.ISO8859_1,n})(),v0,z6=301,H6=function(n,e){for(var t=1,r=0;r<255;r++)e[r]=t,n[t]=r,t*=2,t>=256&&(t^=z6);return{LOG:n,ALOG:e}};v0=H6([],[]),v0.LOG;v0.ALOG;var By;(function(n){n[n.FORCE_NONE=0]="FORCE_NONE",n[n.FORCE_SQUARE=1]="FORCE_SQUARE",n[n.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(By||(By={}));var Ly=129,lw=230,G6=231,$6=235,q6=236,X6=237,W6=238,Y6=239,K6=240,Ch=254,Z6=254,Fy="[)>05",Uy="[)>06",Vy="",ht=0,yn=1,kn=2,Qt=3,dn=4,An=5,Q6=(function(){function n(){}return n.prototype.getEncodingMode=function(){return ht},n.prototype.encode=function(e){var t=Sr.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(t>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var r=e.getCurrentChar(),i=Sr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case An:e.writeCodeword(G6),e.signalEncoderChange(An);return;case yn:e.writeCodeword(lw),e.signalEncoderChange(yn);return;case Qt:e.writeCodeword(W6),e.signalEncoderChange(Qt);break;case kn:e.writeCodeword(Y6),e.signalEncoderChange(kn);break;case dn:e.writeCodeword(K6),e.signalEncoderChange(dn);break;default:throw new Error("Illegal mode: "+i)}else Sr.isExtendedASCII(r)?(e.writeCodeword($6),e.writeCodeword(r-128+1),e.pos++):(e.writeCodeword(r+1),e.pos++)}},n.prototype.encodeASCIIDigits=function(e,t){if(Sr.isDigit(e)&&Sr.isDigit(t)){var r=(e-48)*10+(t-48);return r+130}throw new Error("not digits: "+e+t)},n})(),J6=(function(){function n(){}return n.prototype.getEncodingMode=function(){return An},n.prototype.encode=function(e){var t=new ze;for(t.append(0);e.hasMoreCharacters();){var r=e.getCurrentChar();t.append(r),e.pos++;var i=Sr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(ht);break}}var a=t.length()-1,s=1,c=e.getCodewordCount()+a+s;e.updateSymbolInfo(c);var f=e.getSymbolInfo().getDataCapacity()-c>0;if(e.hasMoreCharacters()||f)if(a<=249)t.setCharAt(0,Ke.getCharAt(a));else if(a<=1555)t.setCharAt(0,Ke.getCharAt(Math.floor(a/250)+249)),t.insert(1,Ke.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var d=0,r=t.length();d<r;d++)e.writeCodeword(this.randomize255State(t.charAt(d).charCodeAt(0),e.getCodewordCount()+1))},n.prototype.randomize255State=function(e,t){var r=149*t%255+1,i=e+r;return i<=255?i:i-256},n})(),e1=(function(){function n(){}return n.prototype.getEncodingMode=function(){return yn},n.prototype.encodeMaximal=function(e){for(var t=new ze,r=0,i=e.pos,a=0;e.hasMoreCharacters();){var s=e.getCurrentChar();e.pos++,r=this.encodeChar(s,t),t.length()%3===0&&(i=e.pos,a=t.length())}if(a!==t.length()){var c=Math.floor(t.length()/3*2),f=Math.floor(e.getCodewordCount()+c+1);e.updateSymbolInfo(f);var d=e.getSymbolInfo().getDataCapacity()-f,p=Math.floor(t.length()%3);(p===2&&d!==2||p===1&&(r>3||d!==1))&&(e.pos=i)}t.length()>0&&e.writeCodeword(lw),this.handleEOD(e,t)},n.prototype.encode=function(e){for(var t=new ze;e.hasMoreCharacters();){var r=e.getCurrentChar();e.pos++;var i=this.encodeChar(r,t),a=Math.floor(t.length()/3)*2,s=e.getCodewordCount()+a;e.updateSymbolInfo(s);var c=e.getSymbolInfo().getDataCapacity()-s;if(!e.hasMoreCharacters()){var f=new ze;for(t.length()%3===2&&c!==2&&(i=this.backtrackOneCharacter(e,t,f,i));t.length()%3===1&&(i>3||c!==1);)i=this.backtrackOneCharacter(e,t,f,i);break}var d=t.length();if(d%3===0){var p=Sr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(p!==this.getEncodingMode()){e.signalEncoderChange(ht);break}}}this.handleEOD(e,t)},n.prototype.backtrackOneCharacter=function(e,t,r,i){var a=t.length(),s=t.toString().substring(0,a-i);t.setLengthToZero(),t.append(s),e.pos--;var c=e.getCurrentChar();return i=this.encodeChar(c,r),e.resetSymbolInfo(),i},n.prototype.writeNextTriplet=function(e,t){e.writeCodewords(this.encodeToCodewords(t.toString()));var r=t.toString().substring(3);t.setLengthToZero(),t.append(r)},n.prototype.handleEOD=function(e,t){var r=Math.floor(t.length()/3*2),i=t.length()%3,a=e.getCodewordCount()+r;e.updateSymbolInfo(a);var s=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(t.append("\0");t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(Ch)}else if(s===1&&i===1){for(;t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(Ch),e.pos--}else if(i===0){for(;t.length()>=3;)this.writeNextTriplet(e,t);(s>0||e.hasMoreCharacters())&&e.writeCodeword(Ch)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(ht)},n.prototype.encodeChar=function(e,t){if(e===32)return t.append(3),1;if(e>=48&&e<=57)return t.append(e-48+4),1;if(e>=65&&e<=90)return t.append(e-65+14),1;if(e<32)return t.append(0),t.append(e),2;if(e<=47)return t.append(1),t.append(e-33),2;if(e<=64)return t.append(1),t.append(e-58+15),2;if(e<=95)return t.append(1),t.append(e-91+22),2;if(e<=127)return t.append(2),t.append(e-96),2;t.append("1");var r=2;return r+=this.encodeChar(e-128,t),r},n.prototype.encodeToCodewords=function(e){var t=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,r=t/256,i=t%256,a=new ze;return a.append(r),a.append(i),a.toString()},n})(),eT=(function(){function n(){}return n.prototype.getEncodingMode=function(){return dn},n.prototype.encode=function(e){for(var t=new ze;e.hasMoreCharacters();){var r=e.getCurrentChar();this.encodeChar(r,t),e.pos++;var i=t.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(t.toString()));var a=t.toString().substring(4);t.setLengthToZero(),t.append(a);var s=Sr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){e.signalEncoderChange(ht);break}}}t.append(Ke.getCharAt(31)),this.handleEOD(e,t)},n.prototype.handleEOD=function(e,t){try{var r=t.length();if(r===0)return;if(r===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(r>4)throw new Error("Count must not exceed 4");var s=r-1,c=this.encodeToCodewords(t.toString()),f=!e.hasMoreCharacters(),d=f&&s<=2;if(s<=2){e.updateSymbolInfo(e.getCodewordCount()+s);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(d=!1,e.updateSymbolInfo(e.getCodewordCount()+c.length))}d?(e.resetSymbolInfo(),e.pos-=s):e.writeCodewords(c)}finally{e.signalEncoderChange(ht)}},n.prototype.encodeChar=function(e,t){e>=32&&e<=63?t.append(e):e>=64&&e<=94?t.append(Ke.getCharAt(e-64)):Sr.illegalCharacter(Ke.getCharAt(e))},n.prototype.encodeToCodewords=function(e){var t=e.length;if(t===0)throw new Error("StringBuilder must not be empty");var r=e.charAt(0).charCodeAt(0),i=t>=2?e.charAt(1).charCodeAt(0):0,a=t>=3?e.charAt(2).charCodeAt(0):0,s=t>=4?e.charAt(3).charCodeAt(0):0,c=(r<<18)+(i<<12)+(a<<6)+s,f=c>>16&255,d=c>>8&255,p=c&255,g=new ze;return g.append(f),t>=2&&g.append(d),t>=3&&g.append(p),g.toString()},n})(),tT=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),nT=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},at=(function(){function n(e,t,r,i,a,s,c,f){c===void 0&&(c=0),f===void 0&&(f=0),this.rectangular=e,this.dataCapacity=t,this.errorCodewords=r,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=s,this.rsBlockData=c,this.rsBlockError=f}return n.lookup=function(e,t,r,i,a){var s,c;t===void 0&&(t=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var f=nT(iT),d=f.next();!d.done;d=f.next()){var p=d.value;if(!(t===1&&p.rectangular)&&!(t===2&&!p.rectangular)&&!(r!=null&&(p.getSymbolWidth()<r.getWidth()||p.getSymbolHeight()<r.getHeight()))&&!(i!=null&&(p.getSymbolWidth()>i.getWidth()||p.getSymbolHeight()>i.getHeight()))&&e<=p.dataCapacity)return p}}catch(g){s={error:g}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},n.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},n.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},n.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},n.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},n.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},n.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},n.prototype.getDataCapacity=function(){return this.dataCapacity},n.prototype.getErrorCodewords=function(){return this.errorCodewords},n.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},n.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},n})(),rT=(function(n){tT(e,n);function e(){return n.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(t){return t<=8?156:155},e})(at),iT=[new at(!1,3,5,8,8,1),new at(!1,5,7,10,10,1),new at(!0,5,7,16,6,1),new at(!1,8,10,12,12,1),new at(!0,10,11,14,6,2),new at(!1,12,12,14,14,1),new at(!0,16,14,24,10,1),new at(!1,18,14,16,16,1),new at(!1,22,18,18,18,1),new at(!0,22,18,16,10,2),new at(!1,30,20,20,20,1),new at(!0,32,24,16,14,2),new at(!1,36,24,22,22,1),new at(!1,44,28,24,24,1),new at(!0,49,28,22,14,2),new at(!1,62,36,14,14,4),new at(!1,86,42,16,16,4),new at(!1,114,48,18,18,4),new at(!1,144,56,20,20,4),new at(!1,174,68,22,22,4),new at(!1,204,84,24,24,4,102,42),new at(!1,280,112,14,14,16,140,56),new at(!1,368,144,16,16,16,92,36),new at(!1,456,192,18,18,16,114,48),new at(!1,576,224,20,20,16,144,56),new at(!1,696,272,22,22,16,174,68),new at(!1,816,336,24,24,16,136,56),new at(!1,1050,408,18,18,36,175,68),new at(!1,1304,496,20,20,36,163,62),new rT],aT=(function(){function n(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var t=e.split("").map(function(c){return c.charCodeAt(0)}),r=new ze,i=0,a=t.length;i<a;i++){var s=String.fromCharCode(t[i]&255);if(s==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(s)}this.msg=r.toString(),this.shape=0,this.codewords=new ze,this.newEncoding=-1}return n.prototype.setSymbolShape=function(e){this.shape=e},n.prototype.setSizeConstraints=function(e,t){this.minSize=e,this.maxSize=t},n.prototype.getMessage=function(){return this.msg},n.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},n.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCodewords=function(){return this.codewords},n.prototype.writeCodewords=function(e){this.codewords.append(e)},n.prototype.writeCodeword=function(e){this.codewords.append(e)},n.prototype.getCodewordCount=function(){return this.codewords.length()},n.prototype.getNewEncoding=function(){return this.newEncoding},n.prototype.signalEncoderChange=function(e){this.newEncoding=e},n.prototype.resetEncoderSignal=function(){this.newEncoding=-1},n.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},n.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},n.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},n.prototype.getSymbolInfo=function(){return this.symbolInfo},n.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=at.lookup(e,this.shape,this.minSize,this.maxSize,!0))},n.prototype.resetSymbolInfo=function(){this.symbolInfo=null},n})(),oT=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),sT=(function(n){oT(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Qt},e.prototype.encode=function(t){for(var r=new ze;t.hasMoreCharacters();){var i=t.getCurrentChar();t.pos++,this.encodeChar(i,r);var a=r.length();if(a%3===0){this.writeNextTriplet(t,r);var s=Sr.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){t.signalEncoderChange(ht);break}}}this.handleEOD(t,r)},e.prototype.encodeChar=function(t,r){switch(t){case 13:r.append(0);break;case 42:r.append(1);break;case 62:r.append(2);break;case 32:r.append(3);break;default:t>=48&&t<=57?r.append(t-48+4):t>=65&&t<=90?r.append(t-65+14):Sr.illegalCharacter(Ke.getCharAt(t));break}return 1},e.prototype.handleEOD=function(t,r){t.updateSymbolInfo();var i=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),a=r.length();t.pos-=a,(t.getRemainingCharacters()>1||i>1||t.getRemainingCharacters()!==i)&&t.writeCodeword(Z6),t.getNewEncoding()<0&&t.signalEncoderChange(ht)},e})(e1),lT=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),cT=(function(n){lT(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return kn},e.prototype.encodeChar=function(t,r){if(t===32)return r.append(3),1;if(t>=48&&t<=57)return r.append(t-48+4),1;if(t>=97&&t<=122)return r.append(t-97+14),1;if(t<32)return r.append(0),r.append(t),2;if(t<=47)return r.append(1),r.append(t-33),2;if(t<=64)return r.append(1),r.append(t-58+15),2;if(t>=91&&t<=95)return r.append(1),r.append(t-91+22),2;if(t===96)return r.append(2),r.append(0),2;if(t<=90)return r.append(2),r.append(t-65+1),2;if(t<=127)return r.append(2),r.append(t-123+27),2;r.append("1");var i=2;return i+=this.encodeChar(t-128,r),i},e})(e1),Sr=(function(){function n(){}return n.randomize253State=function(e){var t=149*e%253+1,r=Ly+t;return r<=254?r:r-254},n.encodeHighLevel=function(e,t,r,i,a){t===void 0&&(t=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!1);var s=new e1,c=[new Q6,s,new cT,new sT,new eT,new J6],f=new aT(e);f.setSymbolShape(t),f.setSizeConstraints(r,i),e.startsWith(Fy)&&e.endsWith(Vy)?(f.writeCodeword(q6),f.setSkipAtEnd(2),f.pos+=Fy.length):e.startsWith(Uy)&&e.endsWith(Vy)&&(f.writeCodeword(X6),f.setSkipAtEnd(2),f.pos+=Uy.length);var d=ht;for(a&&(s.encodeMaximal(f),d=f.getNewEncoding(),f.resetEncoderSignal());f.hasMoreCharacters();)c[d].encode(f),f.getNewEncoding()>=0&&(d=f.getNewEncoding(),f.resetEncoderSignal());var p=f.getCodewordCount();f.updateSymbolInfo();var g=f.getSymbolInfo().getDataCapacity();p<g&&d!==ht&&d!==An&&d!==dn&&f.writeCodeword("þ");var y=f.getCodewords();for(y.length()<g&&y.append(Ly);y.length()<g;)y.append(this.randomize253State(y.length()+1));return f.getCodewords().toString()},n.lookAheadTest=function(e,t,r){var i=this.lookAheadTestIntern(e,t,r);if(r===Qt&&i===Qt){for(var a=Math.min(t+3,e.length),s=t;s<a;s++)if(!this.isNativeX12(e.charCodeAt(s)))return ht}else if(r===dn&&i===dn){for(var a=Math.min(t+4,e.length),s=t;s<a;s++)if(!this.isNativeEDIFACT(e.charCodeAt(s)))return ht}return i},n.lookAheadTestIntern=function(e,t,r){if(t>=e.length)return r;var i;r===ht?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[r]=0);for(var a=0,s=new Uint8Array(6),c=[];;){if(t+a===e.length){rn.fill(s,0),rn.fill(c,0);var f=this.findMinimums(i,c,Ge.MAX_VALUE,s),d=this.getMinimumCount(s);if(c[ht]===f)return ht;if(d===1){if(s[An]>0)return An;if(s[dn]>0)return dn;if(s[kn]>0)return kn;if(s[Qt]>0)return Qt}return yn}var p=e.charCodeAt(t+a);if(a++,this.isDigit(p)?i[ht]+=.5:this.isExtendedASCII(p)?(i[ht]=Math.ceil(i[ht]),i[ht]+=2):(i[ht]=Math.ceil(i[ht]),i[ht]++),this.isNativeC40(p)?i[yn]+=2/3:this.isExtendedASCII(p)?i[yn]+=8/3:i[yn]+=4/3,this.isNativeText(p)?i[kn]+=2/3:this.isExtendedASCII(p)?i[kn]+=8/3:i[kn]+=4/3,this.isNativeX12(p)?i[Qt]+=2/3:this.isExtendedASCII(p)?i[Qt]+=13/3:i[Qt]+=10/3,this.isNativeEDIFACT(p)?i[dn]+=3/4:this.isExtendedASCII(p)?i[dn]+=17/4:i[dn]+=13/4,this.isSpecialB256(p)?i[An]+=4:i[An]++,a>=4){if(rn.fill(s,0),rn.fill(c,0),this.findMinimums(i,c,Ge.MAX_VALUE,s),c[ht]<this.min(c[An],c[yn],c[kn],c[Qt],c[dn]))return ht;if(c[An]<c[ht]||c[An]+1<this.min(c[yn],c[kn],c[Qt],c[dn]))return An;if(c[dn]+1<this.min(c[An],c[yn],c[kn],c[Qt],c[ht]))return dn;if(c[kn]+1<this.min(c[An],c[yn],c[dn],c[Qt],c[ht]))return kn;if(c[Qt]+1<this.min(c[An],c[yn],c[dn],c[kn],c[ht]))return Qt;if(c[yn]+1<this.min(c[ht],c[An],c[dn],c[kn])){if(c[yn]<c[Qt])return yn;if(c[yn]===c[Qt]){for(var g=t+a+1;g<e.length;){var y=e.charCodeAt(g);if(this.isX12TermSep(y))return Qt;if(!this.isNativeX12(y))break;g++}return yn}}}}},n.min=function(e,t,r,i,a){var s=Math.min(e,Math.min(t,Math.min(r,i)));return a===void 0?s:Math.min(s,a)},n.findMinimums=function(e,t,r,i){for(var a=0;a<6;a++){var s=t[a]=Math.ceil(e[a]);r>s&&(r=s,rn.fill(i,0)),r===s&&(i[a]=i[a]+1)}return r},n.getMinimumCount=function(e){for(var t=0,r=0;r<6;r++)t+=e[r];return t||0},n.isDigit=function(e){return e>=48&&e<=57},n.isExtendedASCII=function(e){return e>=128&&e<=255},n.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},n.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},n.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},n.isX12TermSep=function(e){return e===13||e===42||e===62},n.isNativeEDIFACT=function(e){return e>=32&&e<=94},n.isSpecialB256=function(e){return!1},n.determineConsecutiveDigitCount=function(e,t){t===void 0&&(t=0);for(var r=e.length,i=t;i<r&&this.isDigit(e.charCodeAt(i));)i++;return i-t},n.illegalCharacter=function(e){var t=Ge.toHexString(e.charCodeAt(0));throw t="0000".substring(0,4-t.length)+t,new Error("Illegal character: "+e+" (0x"+t+")")},n})(),Th=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zy=(function(){function n(e){this.charset=e,this.name=e.name}return n.prototype.canEncode=function(e){try{return dr.encode(e,this.charset)!=null}catch{return!1}},n})(),uT=(function(){function n(e,t,r){var i,a,s,c,f,d;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(G){return new zy(U6.forName(G))}),this.encoders=[];var p=[];p.push(new zy(V6.ISO_8859_1));for(var g=t!=null&&t.name.startsWith("UTF"),y=0;y<e.length;y++){var x=!1;try{for(var _=(i=void 0,Th(p)),E=_.next();!E.done;E=_.next()){var S=E.value,b=e.charAt(y),C=b.charCodeAt(0);if(C===r||S.canEncode(b)){x=!0;break}}}catch(G){i={error:G}}finally{try{E&&!E.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}if(!x)try{for(var T=(s=void 0,Th(this.ENCODERS)),D=T.next();!D.done;D=T.next()){var S=D.value;if(S.canEncode(e.charAt(y))){p.push(S),x=!0;break}}}catch(G){s={error:G}}finally{try{D&&!D.done&&(c=T.return)&&c.call(T)}finally{if(s)throw s.error}}x||(g=!0)}if(p.length===1&&!g)this.encoders=[p[0]];else{this.encoders=[];var P=0;try{for(var L=Th(p),U=L.next();!U.done;U=L.next()){var S=U.value;this.encoders[P++]=S}}catch(G){f={error:G}}finally{try{U&&!U.done&&(d=L.return)&&d.call(L)}finally{if(f)throw f.error}}}var $=-1;if(t!=null){for(var y=0;y<this.encoders.length;y++)if(this.encoders[y]!=null&&t.name===this.encoders[y].name){$=y;break}}this.priorityEncoderIndex=$}return n.prototype.length=function(){return this.encoders.length},n.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},n.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},n.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},n.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},n.prototype.canEncode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return!0},n.prototype.encode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return dr.encode(Ke.getCharAt(e),this.encoders[t].name)},n})(),fT=3,dT=(function(){function n(e,t,r){this.fnc1=r;var i=new uT(e,t,r);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var s=e.charAt(a).charCodeAt(0);this.bytes[a]=s===r?1e3:s}else this.bytes=this.encodeMinimally(e,i,r)}return n.prototype.getFNC1Character=function(){return this.fnc1},n.prototype.length=function(){return this.bytes.length},n.prototype.haveNCharacters=function(e,t){if(e+t-1>=this.bytes.length)return!1;for(var r=0;r<t;r++)if(this.isECI(e+r))return!1;return!0},n.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},n.prototype.subSequence=function(e,t){if(e<0||e>t||t>this.length())throw new Error(""+e);for(var r=new ze,i=e;i<t;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");r.append(this.charAt(i))}return r.toString()},n.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},n.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},n.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},n.prototype.addEdge=function(e,t,r){(e[t][r.encoderIndex]==null||e[t][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(e[t][r.encoderIndex]=r)},n.prototype.addEdges=function(e,t,r,i,a,s){var c=e.charAt(i).charCodeAt(0),f=0,d=t.length();t.getPriorityEncoderIndex()>=0&&(c===s||t.canEncode(c,t.getPriorityEncoderIndex()))&&(f=t.getPriorityEncoderIndex(),d=f+1);for(var p=f;p<d;p++)(c===s||t.canEncode(c,p))&&this.addEdge(r,i+1,new Hy(c,t,p,a,s))},n.prototype.encodeMinimally=function(e,t,r){var i=e.length,a=new Hy[i+1][t.length()];this.addEdges(e,t,a,0,null,r);for(var s=1;s<=i;s++){for(var c=0;c<t.length();c++)a[s][c]!=null&&s<i&&this.addEdges(e,t,a,s,a[s][c],r);for(var c=0;c<t.length();c++)a[s-1][c]=null}for(var f=-1,d=Ge.MAX_VALUE,c=0;c<t.length();c++)if(a[i][c]!=null){var p=a[i][c];p.cachedTotalSize<d&&(d=p.cachedTotalSize,f=c)}if(f<0)throw new Error('Failed to encode "'+e+'"');for(var g=[],y=a[i][f];y!=null;){if(y.isFNC1())g.unshift(1e3);else for(var x=t.encode(y.c,y.encoderIndex),s=x.length-1;s>=0;s--)g.unshift(x[s]&255);var _=y.previous===null?0:y.previous.encoderIndex;_!==y.encoderIndex&&g.unshift(256+t.getECIValue(y.encoderIndex)),y=y.previous}for(var E=[],s=0;s<E.length;s++)E[s]=g[s];return E},n})(),Hy=(function(){function n(e,t,r,i,a){this.c=e,this.encoderSet=t,this.encoderIndex=r,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var s=this.isFNC1()?1:t.encode(e,r).length,c=i===null?0:i.encoderIndex;c!==r&&(s+=fT),i!=null&&(s+=i.cachedTotalSize),this.cachedTotalSize=s}return n.prototype.isFNC1=function(){return this.c===1e3},n})(),hT=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();var Gy;(function(n){n[n.ASCII=0]="ASCII",n[n.C40=1]="C40",n[n.TEXT=2]="TEXT",n[n.X12=3]="X12",n[n.EDF=4]="EDF",n[n.B256=5]="B256"})(Gy||(Gy={}));(function(n){hT(e,n);function e(t,r,i,a,s){var c=n.call(this,t,r,i)||this;return c.shape=a,c.macroId=s,c}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(dT);var pT=(function(){function n(){}return n.prototype.isCompact=function(){return this.compact},n.prototype.setCompact=function(e){this.compact=e},n.prototype.getSize=function(){return this.size},n.prototype.setSize=function(e){this.size=e},n.prototype.getLayers=function(){return this.layers},n.prototype.setLayers=function(e){this.layers=e},n.prototype.getCodeWords=function(){return this.codeWords},n.prototype.setCodeWords=function(e){this.codeWords=e},n.prototype.getMatrix=function(){return this.matrix},n.prototype.setMatrix=function(e){this.matrix=e},n})(),$y=(function(){function n(){}return n.singletonList=function(e){return[e]},n.min=function(e,t){return e.sort(t)[0]},n})(),gT=(function(){function n(e){this.previous=e}return n.prototype.getPrevious=function(){return this.previous},n})(),vT=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),t1=(function(n){vT(e,n);function e(t,r,i){var a=n.call(this,t)||this;return a.value=r,a.bitCount=i,a}return e.prototype.appendTo=function(t,r){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,r){return new e(this,t,r)},e.prototype.addBinaryShift=function(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,r)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+Ge.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e})(gT),mT=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),yT=(function(n){mT(e,n);function e(t,r,i){var a=n.call(this,t,0,0)||this;return a.binaryShiftStart=r,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(t,r){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(t,r){return new e(this,t,r)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(t1);function xT(n,e,t){return new yT(n,e,t)}function nl(n,e,t){return new t1(n,e,t)}var wT=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],qi=0,Ru=1,fr=2,cw=3,jr=4,_T=new t1(null,0,0),Oh=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],bT=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function ET(n){var e,t;try{for(var r=bT(n),i=r.next();!i.done;i=r.next()){var a=i.value;rn.fill(a,-1)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n[qi][jr]=0,n[Ru][jr]=0,n[Ru][qi]=28,n[cw][jr]=0,n[fr][jr]=0,n[fr][qi]=15,n}var uw=ET(rn.createInt32Array(6,6)),ST=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},AT=(function(){function n(e,t,r,i){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=i}return n.prototype.getMode=function(){return this.mode},n.prototype.getToken=function(){return this.token},n.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},n.prototype.getBitCount=function(){return this.bitCount},n.prototype.latchAndAppend=function(e,t){var r=this.bitCount,i=this.token;if(e!==this.mode){var a=Oh[this.mode][e];i=nl(i,a&65535,a>>16),r+=a>>16}var s=e===fr?4:5;return i=nl(i,t,s),new n(i,e,0,r+s)},n.prototype.shiftAndAppend=function(e,t){var r=this.token,i=this.mode===fr?4:5;return r=nl(r,uw[this.mode][e],i),r=nl(r,t,5),new n(r,this.mode,0,this.bitCount+i+5)},n.prototype.addBinaryShiftChar=function(e){var t=this.token,r=this.mode,i=this.bitCount;if(this.mode===jr||this.mode===fr){var a=Oh[r][qi];t=nl(t,a&65535,a>>16),i+=a>>16,r=qi}var s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new n(t,r,this.binaryShiftByteCount+1,i+s);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(e+1)),c},n.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var t=this.token;return t=xT(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new n(t,this.mode,0,this.bitCount)},n.prototype.isBetterThanOrEqualTo=function(e){var t=this.bitCount+(Oh[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=n.calculateBinaryShiftCost(e)-n.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount},n.prototype.toBitArray=function(e){for(var t,r,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var s=new hn;try{for(var c=ST(i),f=c.next();!f.done;f=c.next()){var d=f.value;d.appendTo(s,e)}}catch(p){t={error:p}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return s},n.prototype.toString=function(){return Ke.format("%s bits=%d bytes=%d",wT[this.mode],this.bitCount,this.binaryShiftByteCount)},n.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},n.INITIAL_STATE=new n(_T,qi,0,0),n})();function CT(n){var e=Ke.getCharCode(" "),t=Ke.getCharCode("."),r=Ke.getCharCode(",");n[qi][e]=1;for(var i=Ke.getCharCode("Z"),a=Ke.getCharCode("A"),s=a;s<=i;s++)n[qi][s]=s-a+2;n[Ru][e]=1;for(var c=Ke.getCharCode("z"),f=Ke.getCharCode("a"),s=f;s<=c;s++)n[Ru][s]=s-f+2;n[fr][e]=1;for(var d=Ke.getCharCode("9"),p=Ke.getCharCode("0"),s=p;s<=d;s++)n[fr][s]=s-p+2;n[fr][r]=12,n[fr][t]=13;for(var g=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],y=0;y<g.length;y++)n[cw][Ke.getCharCode(g[y])]=y;for(var x=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],y=0;y<x.length;y++)Ke.getCharCode(x[y])>0&&(n[jr][Ke.getCharCode(x[y])]=y);return n}var Rh=CT(rn.createInt32Array(5,256)),au=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TT=(function(){function n(e){this.text=e}return n.prototype.encode=function(){for(var e=Ke.getCharCode(" "),t=Ke.getCharCode(`
`),r=$y.singletonList(AT.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,s=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case Ke.getCharCode("\r"):a=s===t?2:0;break;case Ke.getCharCode("."):a=s===e?3:0;break;case Ke.getCharCode(","):a=s===e?4:0;break;case Ke.getCharCode(":"):a=s===e?5:0;break;default:a=0}a>0?(r=n.updateStateListForPair(r,i,a),i++):r=this.updateStateListForChar(r,i)}var c=$y.min(r,function(f,d){return f.getBitCount()-d.getBitCount()});return c.toBitArray(this.text)},n.prototype.updateStateListForChar=function(e,t){var r,i,a=[];try{for(var s=au(e),c=s.next();!c.done;c=s.next()){var f=c.value;this.updateStateForChar(f,t,a)}}catch(d){r={error:d}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return n.simplifyStates(a)},n.prototype.updateStateForChar=function(e,t,r){for(var i=this.text[t]&255,a=Rh[e.getMode()][i]>0,s=null,c=0;c<=jr;c++){var f=Rh[c][i];if(f>0){if(s==null&&(s=e.endBinaryShift(t)),!a||c===e.getMode()||c===fr){var d=s.latchAndAppend(c,f);r.push(d)}if(!a&&uw[e.getMode()][c]>=0){var p=s.shiftAndAppend(c,f);r.push(p)}}}if(e.getBinaryShiftByteCount()>0||Rh[e.getMode()][i]===0){var g=e.addBinaryShiftChar(t);r.push(g)}},n.updateStateListForPair=function(e,t,r){var i,a,s=[];try{for(var c=au(e),f=c.next();!f.done;f=c.next()){var d=f.value;this.updateStateForPair(d,t,r,s)}}catch(p){i={error:p}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return this.simplifyStates(s)},n.updateStateForPair=function(e,t,r,i){var a=e.endBinaryShift(t);if(i.push(a.latchAndAppend(jr,r)),e.getMode()!==jr&&i.push(a.shiftAndAppend(jr,r)),r===3||r===4){var s=a.latchAndAppend(fr,16-r).latchAndAppend(fr,1);i.push(s)}if(e.getBinaryShiftByteCount()>0){var c=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);i.push(c)}},n.simplifyStates=function(e){var t,r,i,a,s=[];try{for(var c=au(e),f=c.next();!f.done;f=c.next()){var d=f.value,p=!0,g=function(S){if(S.isBetterThanOrEqualTo(d))return p=!1,"break";d.isBetterThanOrEqualTo(S)&&(s=s.filter(function(b){return b!==S}))};try{for(var y=(i=void 0,au(s)),x=y.next();!x.done;x=y.next()){var _=x.value,E=g(_);if(E==="break")break}}catch(S){i={error:S}}finally{try{x&&!x.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}p&&s.push(d)}}catch(S){t={error:S}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return s},n})(),OT=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function n(){}return n.encodeBytes=function(e){return n.encode(e,n.DEFAULT_EC_PERCENT,n.DEFAULT_AZTEC_LAYERS)},n.encode=function(e,t,r){var i=new TT(e).encode(),a=Ge.truncDivision(i.getSize()*t,100)+11,s=i.getSize()+a,c,f,d,p,g;if(r!==n.DEFAULT_AZTEC_LAYERS){if(c=r<0,f=Math.abs(r),f>(c?n.MAX_NB_BITS_COMPACT:n.MAX_NB_BITS))throw new Oe(Ke.format("Illegal value %s for layers",r));d=n.totalBitsInLayer(f,c),p=n.WORD_SIZE[f];var y=d-d%p;if(g=n.stuffBits(i,p),g.getSize()+a>y)throw new Oe("Data to large for user specified layer");if(c&&g.getSize()>p*64)throw new Oe("Data to large for user specified layer")}else{p=0,g=null;for(var x=0;;x++){if(x>n.MAX_NB_BITS)throw new Oe("Data too large for an Aztec code");if(c=x<=3,f=c?x+1:x,d=n.totalBitsInLayer(f,c),!(s>d)){(g==null||p!==n.WORD_SIZE[f])&&(p=n.WORD_SIZE[f],g=n.stuffBits(i,p));var y=d-d%p;if(!(c&&g.getSize()>p*64)&&g.getSize()+a<=y)break}}}var _=n.generateCheckWords(g,d,p),E=g.getSize()/p,S=n.generateModeMessage(c,f,E),b=(c?11:14)+f*4,C=new Int32Array(b),T;if(c){T=b;for(var x=0;x<C.length;x++)C[x]=x}else{T=b+1+2*Ge.truncDivision(Ge.truncDivision(b,2)-1,15);for(var D=Ge.truncDivision(b,2),P=Ge.truncDivision(T,2),x=0;x<D;x++){var L=x+Ge.truncDivision(x,15);C[D-x-1]=P-L-1,C[D+x]=P+L+1}}for(var U=new Ur(T),x=0,$=0;x<f;x++){for(var G=(f-x)*4+(c?9:12),te=0;te<G;te++)for(var ae=te*2,le=0;le<2;le++)_.get($+ae+le)&&U.set(C[x*2+le],C[x*2+te]),_.get($+G*2+ae+le)&&U.set(C[x*2+te],C[b-1-x*2-le]),_.get($+G*4+ae+le)&&U.set(C[b-1-x*2-le],C[b-1-x*2-te]),_.get($+G*6+ae+le)&&U.set(C[b-1-x*2-te],C[x*2+le]);$+=G*8}if(n.drawModeMessage(U,c,T,S),c)n.drawBullsEye(U,Ge.truncDivision(T,2),5);else{n.drawBullsEye(U,Ge.truncDivision(T,2),7);for(var x=0,te=0;x<Ge.truncDivision(b,2)-1;x+=15,te+=16)for(var le=Ge.truncDivision(T,2)&1;le<T;le+=2)U.set(Ge.truncDivision(T,2)-te,le),U.set(Ge.truncDivision(T,2)+te,le),U.set(le,Ge.truncDivision(T,2)-te),U.set(le,Ge.truncDivision(T,2)+te)}var se=new pT;return se.setCompact(c),se.setSize(T),se.setLayers(f),se.setCodeWords(E),se.setMatrix(U),se},n.drawBullsEye=function(e,t,r){for(var i=0;i<r;i+=2)for(var a=t-i;a<=t+i;a++)e.set(a,t-i),e.set(a,t+i),e.set(t-i,a),e.set(t+i,a);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)},n.generateModeMessage=function(e,t,r){var i=new hn;return e?(i.appendBits(t-1,2),i.appendBits(r-1,6),i=n.generateCheckWords(i,28,4)):(i.appendBits(t-1,5),i.appendBits(r-1,11),i=n.generateCheckWords(i,40,4)),i},n.drawModeMessage=function(e,t,r,i){var a=Ge.truncDivision(r,2);if(t)for(var s=0;s<7;s++){var c=a-3+s;i.get(s)&&e.set(c,a-5),i.get(s+7)&&e.set(a+5,c),i.get(20-s)&&e.set(c,a+5),i.get(27-s)&&e.set(a-5,c)}else for(var s=0;s<10;s++){var c=a-5+s+Ge.truncDivision(s,5);i.get(s)&&e.set(c,a-7),i.get(s+10)&&e.set(a+7,c),i.get(29-s)&&e.set(c,a+7),i.get(39-s)&&e.set(a-7,c)}},n.generateCheckWords=function(e,t,r){var i,a,s=e.getSize()/r,c=new sw(n.getGF(r)),f=Ge.truncDivision(t,r),d=n.bitsToWords(e,r,f);c.encode(d,f-s);var p=t%r,g=new hn;g.appendBits(0,p);try{for(var y=OT(Array.from(d)),x=y.next();!x.done;x=y.next()){var _=x.value;g.appendBits(_,r)}}catch(E){i={error:E}}finally{try{x&&!x.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}return g},n.bitsToWords=function(e,t,r){var i=new Int32Array(r),a,s;for(a=0,s=e.getSize()/t;a<s;a++){for(var c=0,f=0;f<t;f++)c|=e.get(a*t+f)?1<<t-f-1:0;i[a]=c}return i},n.getGF=function(e){switch(e){case 4:return zn.AZTEC_PARAM;case 6:return zn.AZTEC_DATA_6;case 8:return zn.AZTEC_DATA_8;case 10:return zn.AZTEC_DATA_10;case 12:return zn.AZTEC_DATA_12;default:throw new Oe("Unsupported word size "+e)}},n.stuffBits=function(e,t){for(var r=new hn,i=e.getSize(),a=(1<<t)-2,s=0;s<i;s+=t){for(var c=0,f=0;f<t;f++)(s+f>=i||e.get(s+f))&&(c|=1<<t-1-f);(c&a)===a?(r.appendBits(c&a,t),s--):(c&a)===0?(r.appendBits(c|1,t),s--):r.appendBits(c,t)}return r},n.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},n.DEFAULT_EC_PERCENT=33,n.DEFAULT_AZTEC_LAYERS=0,n.MAX_NB_BITS=32,n.MAX_NB_BITS_COMPACT=4,n.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),n})();var RT=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),DT=(function(n){RT(e,n);function e(t){var r=n.call(this,t.width,t.height)||this;return r.canvas=t,r.tempCanvasElement=null,r.buffer=e.makeBufferFromCanvasImageData(t),r}return e.makeBufferFromCanvasImageData=function(t){var r;try{r=t.getContext("2d",{willReadFrequently:!0})}catch{r=t.getContext("2d")}if(!r)throw new Error("Couldn't get canvas context.");var i=r.getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(i.data,t.width,t.height)},e.toGrayscaleBuffer=function(t,r,i){for(var a=new Uint8ClampedArray(r*i),s=0,c=0,f=t.length;s<f;s+=4,c++){var d=void 0,p=t[s+3];if(p===0)d=255;else{var g=t[s],y=t[s+1],x=t[s+2];d=306*g+601*y+117*x+512>>10}a[c]=d}return a},e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Oe("Requested row is outside the image: "+t);var i=this.getWidth(),a=t*i;return r===null?r=this.buffer.slice(a,a+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(a,a+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return n.prototype.crop.call(this,t,r,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new Fu(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var r=this.getTempCanvasElement();if(!r)throw new Error("Could not create a Canvas element.");var i=t*e.DEGREE_TO_RADIANS,a=this.canvas.width,s=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(i))*a+Math.abs(Math.sin(i))*s),f=Math.ceil(Math.abs(Math.sin(i))*a+Math.abs(Math.cos(i))*s);r.width=c,r.height=f;var d=r.getContext("2d");if(!d)throw new Error("Could not create a Canvas Context element.");return d.translate(c/2,f/2),d.rotate(i),d.drawImage(this.canvas,a/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.DEGREE_TO_RADIANS=Math.PI/180,e})(Dl);function fw(){return typeof navigator<"u"}function NT(){return fw()&&!!navigator.mediaDevices}function IT(){return!!(NT()&&navigator.mediaDevices.enumerateDevices)}var Po=function(){return Po=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Po.apply(this,arguments)},Nt=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function c(p){try{d(r.next(p))}catch(g){s(g)}}function f(p){try{d(r.throw(p))}catch(g){s(g)}}function d(p){p.done?a(p.value):i(p.value).then(c,f)}d((r=r.apply(n,e||[])).next())})},It=function(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(d){return function(p){return f([d,p])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,i=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){t.label=d[1];break}if(d[0]===6&&t.label<a[1]){t.label=a[1],a=d;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(d);break}a[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(n,t)}catch(p){d=[6,p],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Dh=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kT={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},Ko=(function(){function n(e,t,r){t===void 0&&(t=new Map),r===void 0&&(r={}),this.reader=e,this.hints=t,this.options=Po(Po({},kT),r)}return Object.defineProperty(n.prototype,"possibleFormats",{set:function(e){this.hints.set(Et.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),n.addVideoSource=function(e,t){try{e.srcObject=t}catch{console.error("got interrupted by new loading request")}},n.mediaStreamSetTorch=function(e,t){return Nt(this,void 0,void 0,function(){return It(this,function(r){switch(r.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:t?"flash":"off",torch:!!t}]})];case 1:return r.sent(),[2]}})})},n.mediaStreamIsTorchCompatible=function(e){var t,r,i=e.getVideoTracks();try{for(var a=Dh(i),s=a.next();!s.done;s=a.next()){var c=s.value;if(n.mediaStreamIsTorchCompatibleTrack(c))return!0}}catch(f){t={error:f}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return!1},n.mediaStreamIsTorchCompatibleTrack=function(e){try{var t=e.getCapabilities();return"torch"in t}catch(r){return console.error(r),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},n.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},n.getMediaElement=function(e,t){var r=document.getElementById(e);if(!r)throw new Vt("element with id '".concat(e,"' not found"));if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new Vt("element with id '".concat(e,"' must be an ").concat(t," element"));return r},n.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return n.getMediaElement(e,"video");if(!e&&typeof document<"u"){var t=document.createElement("video");return t.width=200,t.height=200,t}throw new Error("Couldn't get videoElement from videoSource!")},n.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return n.getMediaElement(e,"img");if(typeof e>"u"){var t=document.createElement("img");return t.width=200,t.height=200,t}throw new Error("Couldn't get imageElement from imageSource!")},n.prepareVideoElement=function(e){var t=n.createVideoElement(e);return t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},n.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},n.createBinaryBitmapFromCanvas=function(e){var t=new DT(e),r=new Y2(t);return new W2(r)},n.drawImageOnCanvas=function(e,t){e.drawImage(t,0,0)},n.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},n.createCaptureCanvas=function(e){if(!e)throw new Vt("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var t=document.createElement("canvas"),r=n.getMediaElementDimensions(e),i=r.width,a=r.height;return t.style.width=i+"px",t.style.height=a+"px",t.width=i,t.height=a,t},n.tryPlayVideo=function(e){return Nt(this,void 0,void 0,function(){var t;return It(this,function(r){switch(r.label){case 0:if(e?.ended)return console.error("Trying to play video that has ended."),[2,!1];if(n.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[2,!0];case 3:return t=r.sent(),console.warn("It was not possible to play the video.",t),[2,!1];case 4:return[2]}})})},n.createCanvasFromMediaElement=function(e){var t=n.createCaptureCanvas(e),r=t.getContext("2d");if(!r)throw new Error("Couldn't find Canvas 2D Context.");return n.drawImageOnCanvas(r,e),t},n.createBinaryBitmapFromMediaElem=function(e){var t=n.createCanvasFromMediaElement(e);return n.createBinaryBitmapFromCanvas(t)},n.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},n.listVideoInputDevices=function(){return Nt(this,void 0,void 0,function(){var e,t,r,i,a,s,c,f,d,p,g,y;return It(this,function(x){switch(x.label){case 0:if(!fw())throw new Error("Can't enumerate devices, navigator is not present.");if(!IT())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=x.sent(),t=[];try{for(r=Dh(e),i=r.next();!i.done;i=r.next())a=i.value,s=a.kind==="video"?"videoinput":a.kind,s==="videoinput"&&(c=a.deviceId||a.id,f=a.label||"Video device ".concat(t.length+1),d=a.groupId,p={deviceId:c,label:f,kind:s,groupId:d},t.push(p))}catch(_){g={error:_}}finally{try{i&&!i.done&&(y=r.return)&&y.call(r)}finally{if(g)throw g.error}}return[2,t]}})})},n.findDeviceById=function(e){return Nt(this,void 0,void 0,function(){var t;return It(this,function(r){switch(r.label){case 0:return[4,n.listVideoInputDevices()];case 1:return t=r.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2]}})})},n.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},n.releaseAllStreams=function(){n.streamTracker.length!==0&&n.streamTracker.forEach(function(e){e.getTracks().forEach(function(t){return t.stop()})}),n.streamTracker=[]},n.playVideoOnLoadAsync=function(e,t){return Nt(this,void 0,void 0,function(){var r;return It(this,function(i){switch(i.label){case 0:return[4,n.tryPlayVideo(e)];case 1:return r=i.sent(),r?[2,!0]:[2,new Promise(function(a,s){var c=setTimeout(function(){n.isVideoPlaying(e)||(s(!1),e.removeEventListener("canplay",f))},t),f=function(){n.tryPlayVideo(e).then(function(d){clearTimeout(c),e.removeEventListener("canplay",f),a(d)})};e.addEventListener("canplay",f)})]}})})},n.attachStreamToVideo=function(e,t,r){return r===void 0&&(r=5e3),Nt(this,void 0,void 0,function(){var i;return It(this,function(a){switch(a.label){case 0:return i=n.prepareVideoElement(t),n.addVideoSource(i,e),[4,n.playVideoOnLoadAsync(i,r)];case 1:return a.sent(),[2,i]}})})},n._waitImageLoad=function(e){return new Promise(function(t,r){var i=1e4,a=setTimeout(function(){n.isImageLoaded(e)||(e.removeEventListener("load",s),r())},i),s=function(){clearTimeout(a),e.removeEventListener("load",s),t()};e.addEventListener("load",s)})},n.checkCallbackFnOrThrow=function(e){if(!e)throw new Vt("`callbackFn` is a required parameter, you cannot capture results without it.")},n.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(t){return t.stop()}),e=void 0},n.prototype.decode=function(e){var t=n.createCanvasFromMediaElement(e);return this.decodeFromCanvas(t)},n.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},n.prototype.decodeFromCanvas=function(e){var t=n.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(t)},n.prototype.decodeFromImageElement=function(e){return Nt(this,void 0,void 0,function(){var t;return It(this,function(r){switch(r.label){case 0:if(!e)throw new Vt("An image element must be provided.");return t=n.prepareImageElement(e),[4,this._decodeOnLoadImage(t)];case 1:return[2,r.sent()]}})})},n.prototype.decodeFromImageUrl=function(e){return Nt(this,void 0,void 0,function(){var t;return It(this,function(r){switch(r.label){case 0:if(!e)throw new Vt("An URL must be provided.");t=n.prepareImageElement(),t.src=e,r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.decodeFromImageElement(t)];case 2:return[2,r.sent()];case 3:return n.destroyImageElement(t),[7];case 4:return[2]}})})},n.prototype.decodeFromConstraints=function(e,t,r){return Nt(this,void 0,void 0,function(){var i,a;return It(this,function(s){switch(s.label){case 0:return n.checkCallbackFnOrThrow(r),[4,this.getUserMedia(e)];case 1:i=s.sent(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.decodeFromStream(i,t,r)];case 3:return[2,s.sent()];case 4:throw a=s.sent(),n.disposeMediaStream(i),a;case 5:return[2]}})})},n.prototype.decodeFromStream=function(e,t,r){return Nt(this,void 0,void 0,function(){var i,a,s,c,f,d,p,g,y,x=this;return It(this,function(_){switch(_.label){case 0:return n.checkCallbackFnOrThrow(r),i=this.options.tryPlayVideoTimeout,[4,n.attachStreamToVideo(e,t,i)];case 1:return a=_.sent(),s=function(){n.disposeMediaStream(e),n.cleanVideoSource(a)},c=this.scan(a,r,s),f=e.getVideoTracks(),d=Po(Po({},c),{stop:function(){c.stop()},streamVideoConstraintsApply:function(E,S){return Nt(this,void 0,void 0,function(){var b,C,T,D,P,L,U;return It(this,function($){switch($.label){case 0:b=S?f.filter(S):f,$.label=1;case 1:$.trys.push([1,6,7,8]),C=Dh(b),T=C.next(),$.label=2;case 2:return T.done?[3,5]:(D=T.value,[4,D.applyConstraints(E)]);case 3:$.sent(),$.label=4;case 4:return T=C.next(),[3,2];case 5:return[3,8];case 6:return P=$.sent(),L={error:P},[3,8];case 7:try{T&&!T.done&&(U=C.return)&&U.call(C)}finally{if(L)throw L.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(E){return f.find(E).getConstraints()},streamVideoSettingsGet:function(E){return f.find(E).getSettings()},streamVideoCapabilitiesGet:function(E){return f.find(E).getCapabilities()}}),p=n.mediaStreamIsTorchCompatible(e),p&&(g=f?.find(function(E){return n.mediaStreamIsTorchCompatibleTrack(E)}),y=function(E){return Nt(x,void 0,void 0,function(){return It(this,function(S){switch(S.label){case 0:return[4,n.mediaStreamSetTorch(g,E)];case 1:return S.sent(),[2]}})})},d.switchTorch=y,d.stop=function(){return Nt(x,void 0,void 0,function(){return It(this,function(E){switch(E.label){case 0:return c.stop(),[4,y(!1)];case 1:return E.sent(),[2]}})})}),[2,d]}})})},n.prototype.decodeFromVideoDevice=function(e,t,r){return Nt(this,void 0,void 0,function(){var i,a;return It(this,function(s){switch(s.label){case 0:return n.checkCallbackFnOrThrow(r),e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,t,r)];case 1:return[2,s.sent()]}})})},n.prototype.decodeFromVideoElement=function(e,t){return Nt(this,void 0,void 0,function(){var r,i;return It(this,function(a){switch(a.label){case 0:if(n.checkCallbackFnOrThrow(t),!e)throw new Vt("A video element must be provided.");return r=n.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,n.playVideoOnLoadAsync(r,i)];case 1:return a.sent(),[2,this.scan(r,t)]}})})},n.prototype.decodeFromVideoUrl=function(e,t){return Nt(this,void 0,void 0,function(){var r,i,a,s;return It(this,function(c){switch(c.label){case 0:if(n.checkCallbackFnOrThrow(t),!e)throw new Vt("An URL must be provided.");return r=n.prepareVideoElement(),r.src=e,i=function(){n.cleanVideoSource(r)},a=this.options.tryPlayVideoTimeout,[4,n.playVideoOnLoadAsync(r,a)];case 1:return c.sent(),s=this.scan(r,t,i),[2,s]}})})},n.prototype.decodeOnceFromConstraints=function(e,t){return Nt(this,void 0,void 0,function(){var r;return It(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromStream=function(e,t){return Nt(this,void 0,void 0,function(){var r,i,a;return It(this,function(s){switch(s.label){case 0:return r=!!t,[4,n.attachStreamToVideo(e,t)];case 1:i=s.sent(),s.label=2;case 2:return s.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return a=s.sent(),[2,a];case 4:return r||n.cleanVideoSource(i),[7];case 5:return[2]}})})},n.prototype.decodeOnceFromVideoDevice=function(e,t){return Nt(this,void 0,void 0,function(){var r,i;return It(this,function(a){switch(a.label){case 0:return e?r={deviceId:{exact:e}}:r={facingMode:"environment"},i={video:r},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,a.sent()]}})})},n.prototype.decodeOnceFromVideoElement=function(e){return Nt(this,void 0,void 0,function(){var t,r;return It(this,function(i){switch(i.label){case 0:if(!e)throw new Vt("A video element must be provided.");return t=n.prepareVideoElement(e),r=this.options.tryPlayVideoTimeout,[4,n.playVideoOnLoadAsync(t,r)];case 1:return i.sent(),[4,this.scanOneResult(t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromVideoUrl=function(e){return Nt(this,void 0,void 0,function(){var t,r;return It(this,function(i){switch(i.label){case 0:if(!e)throw new Vt("An URL must be provided.");t=n.prepareVideoElement(),t.src=e,r=this.decodeOnceFromVideoElement(t),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,r];case 2:return[2,i.sent()];case 3:return n.cleanVideoSource(t),[7];case 4:return[2]}})})},n.prototype.scanOneResult=function(e,t,r,i){var a=this;return t===void 0&&(t=!0),r===void 0&&(r=!0),i===void 0&&(i=!0),new Promise(function(s,c){a.scan(e,function(f,d,p){if(f){s(f),p.stop();return}if(d){if(d instanceof ne&&t||d instanceof qt&&r||d instanceof pe&&i)return;p.stop(),c(d)}})})},n.prototype.scan=function(e,t,r){var i=this;n.checkCallbackFnOrThrow(t);var a=n.createCaptureCanvas(e),s;try{s=a.getContext("2d",{willReadFrequently:!0})}catch{s=a.getContext("2d")}if(!s)throw new Error("Couldn't create canvas for visual element scan.");var c=function(){s=void 0,a=void 0},f=!1,d,p=function(){f=!0,clearTimeout(d),c(),r&&r()},g={stop:p},y=function(){if(!f)try{n.drawImageOnCanvas(s,e);var x=i.decodeFromCanvas(a);t(x,void 0,g),d=setTimeout(y,i.options.delayBetweenScanSuccess)}catch(b){t(void 0,b,g);var _=b instanceof qt,E=b instanceof pe,S=b instanceof ne;if(_||E||S){d=setTimeout(y,i.options.delayBetweenScanAttempts);return}c(),r&&r(b)}};return y(),g},n.prototype._decodeOnLoadImage=function(e){return Nt(this,void 0,void 0,function(){var t;return It(this,function(r){switch(r.label){case 0:return t=n.isImageLoaded(e),t?[3,2]:[4,n._waitImageLoad(e)];case 1:r.sent(),r.label=2;case 2:return[2,this.decode(e)]}})})},n.prototype.getUserMedia=function(e){return Nt(this,void 0,void 0,function(){var t;return It(this,function(r){switch(r.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return t=r.sent(),n.streamTracker.push(t),[2,t]}})})},n.streamTracker=[],n})(),MT=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();(function(n){MT(e,n);function e(t,r){return n.call(this,new Su,t,r)||this}return e})(Ko);var PT=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();(function(n){PT(e,n);function e(t,r){return n.call(this,new ko(t),t,r)||this}return e})(Ko);var jT=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();(function(n){jT(e,n);function e(t,r){return n.call(this,new Cu,t,r)||this}return e})(Ko);var BT=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();(function(n){BT(e,n);function e(t,r){var i=this,a=new ow;return a.setHints(t),i=n.call(this,a,t,r)||this,i.reader=a,i}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(t){this.hints.set(Et.POSSIBLE_FORMATS,t),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e.prototype.setHints=function(t){this.hints=t,this.reader.setHints(this.hints)},e})(Ko);var LT=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})();(function(n){LT(e,n);function e(t,r){return n.call(this,new Ou,t,r)||this}return e})(Ko);var FT=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),dw=(function(n){FT(e,n);function e(t,r){return n.call(this,new Tu,t,r)||this}return e})(Ko);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VT=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),qy=n=>{const e=VT(n);return e.charAt(0).toUpperCase()+e.slice(1)},hw=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),zT=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=R.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...c},f)=>R.createElement("svg",{ref:f,...HT,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:hw("lucide",i),...!a&&!zT(c)&&{"aria-hidden":"true"},...c},[...s.map(([d,p])=>R.createElement(d,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(n,e)=>{const t=R.forwardRef(({className:r,...i},a)=>R.createElement(GT,{ref:a,iconNode:e,className:hw(`lucide-${UT(qy(n))}`,`lucide-${n}`,r),...i}));return t.displayName=qy(n),t};/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],vu=Ze("bell",$T);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M14.564 14.558a3 3 0 1 1-4.122-4.121",key:"1rnrzw"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M20 20H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 .819-.175",key:"1x3arw"}],["path",{d:"M9.695 4.024A2 2 0 0 1 10.004 4h3.993a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v7.344",key:"1i84u0"}]],Xy=Ze("camera-off",qT);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Wy=Ze("camera",XT);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Da=Ze("circle-alert",WT);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Go=Ze("circle-check-big",YT);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v.832",key:"1ujtp2"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h2",key:"qvpao1"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}],["rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",key:"ublpy"}]],ZT=Ze("clipboard-clock",KT);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],JT=Ze("clipboard-list",QT);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tO=Ze("clock-4",eO);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["path",{d:"M12 6v6l1.56.78",key:"14ed3g"}],["path",{d:"M13.227 21.925a10 10 0 1 1 8.767-9.588",key:"jwkls1"}],["path",{d:"m14 18 4-4 4 4",key:"ftkppy"}],["path",{d:"M18 22v-8",key:"su0gjh"}]],rO=Ze("clock-arrow-up",nO);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],aO=Ze("clock",iO);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],sO=Ze("graduation-cap",oO);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]],cO=Ze("hand-coins",lO);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],pw=Ze("image",uO);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],dO=Ze("list",fO);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Xi=Ze("loader",hO);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=[["path",{d:"M5 12h14",key:"1ays0h"}]],gO=Ze("minus",pO);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],mO=Ze("moon",vO);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],xO=Ze("package",yO);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_O=Ze("plus",wO);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],EO=Ze("refresh-cw",bO);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Yy=Ze("rotate-ccw",SO);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],CO=Ze("save",AO);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ou=Ze("shopping-cart",TO);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],RO=Ze("sun",OO);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gw=Ze("trash-2",DO);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],IO=Ze("undo-2",NO);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],MO=Ze("upload",kO);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],jO=Ze("user-check",PO);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],vw=Ze("utensils-crossed",BO);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],FO=Ze("utensils",LO);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],VO=Ze("volume-2",UO);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],HO=Ze("volume-x",zO);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Tn=Ze("x",GO);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],qO=Ze("zap",$O),mw=R.createContext(),yw=()=>{const n=R.useContext(mw);if(!n)throw new Error("useCanteenStatus must be used within a CanteenStatusProvider");return n},XO=({children:n})=>{const[e,t]=R.useState("closed"),[r,i]=R.useState(!0),[a,s]=R.useState(!1),[c,f]=R.useState(null);R.useEffect(()=>{d()},[]);const d=async(S=!1)=>{if(!S&&c&&Date.now()-c<2e3){console.log("⏭️ Skipping fetch - recent update detected");return}console.log("🔍 Fetching canteen status from database...");try{const{data:b,error:C}=await ve.from("canteen_status").select("is_open, updated_at").eq("id",1).single();if(C)throw console.error("❌ Error fetching canteen status:",C),C;const T=b?.is_open?"open":"closed";console.log("📊 Fetched status from database:",T),console.log("📊 Raw data:",b),console.log("📊 is_open value:",b?.is_open,"type:",typeof b?.is_open),t(T)}catch(b){console.error("❌ Error fetching canteen status:",b),t("closed")}finally{i(!1)}},p=async S=>{console.log("🔄 updateStatus called! New status:",S),s(!0);const b=e;console.log("📝 Setting optimistic status to:",S),t(S),f(Date.now());try{console.log(`💾 Updating database: is_open = ${S==="open"}`),console.log("🔍 Checking current database state...");const{data:C,error:T}=await ve.from("canteen_status").select("*").eq("id",1).single();if(T)throw console.error("❌ Error fetching current data:",T),new Error(`Cannot fetch current data: ${T.message}`);console.log("📊 Current database data:",C),console.log(`🔄 Attempting to update is_open to: ${S==="open"}`);const{data:D,error:P}=await ve.from("canteen_status").update({is_open:S==="open",updated_at:new Date().toISOString()}).eq("id",1).select();if(P)throw console.error("❌ Database update error:",P),console.error("❌ Full error details:",JSON.stringify(P,null,2)),P;console.log("✅ Database update response:",D),console.log("✅ Database update response length:",D?.length),D&&D.length>0?(console.log("✅ Updated row data:",D[0]),console.log("✅ Updated is_open value:",D[0].is_open)):console.warn("⚠️ Update response is empty - this might indicate the update failed"),console.log(`✅ Database updated successfully! is_open = ${S==="open"}`);const{data:L,error:U}=await ve.from("canteen_status").select("is_open").eq("id",1).single();U?console.warn("Could not verify database update:",U):console.log(`🔍 Database verification: is_open = ${L.is_open}`),console.log("✅ Update completed successfully - UI should reflect the change")}catch(C){throw console.error("❌ Error updating canteen status:",C),console.log("🔄 Reverting to previous status:",b),t(b),C}finally{s(!1)}},E={status:e,loading:r,updating:a,isOpen:e==="open",isClosed:e==="closed",updateStatus:p,toggleStatus:async()=>{const S=e==="open"?"closed":"open";console.log("🔄 toggleStatus called! Current:",e,"New:",S),await p(S)},fetchCanteenStatus:d,refreshStatus:async()=>{console.log("🔄 Manual refresh requested"),i(!0),await d(!0)}};return m.jsx(mw.Provider,{value:E,children:n})},n1=R.createContext({});function r1(n){const e=R.useRef(null);return e.current===null&&(e.current=n()),e.current}const i1=typeof window<"u",xw=i1?R.useLayoutEffect:R.useEffect,zu=R.createContext(null);function a1(n,e){n.indexOf(e)===-1&&n.push(e)}function o1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ui=(n,e,t)=>t>e?e:t<n?n:t;let s1=()=>{};const fi={},ww=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function _w(n){return typeof n=="object"&&n!==null}const bw=n=>/^0[^.\s]+$/u.test(n);function l1(n){let e;return()=>(e===void 0&&(e=n()),e)}const hr=n=>n,WO=(n,e)=>t=>e(n(t)),Il=(...n)=>n.reduce(WO),xl=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class c1{constructor(){this.subscriptions=[]}add(e){return a1(this.subscriptions,e),()=>o1(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Br=n=>n*1e3,Lr=n=>n/1e3;function Ew(n,e){return e?n*(1e3/e):0}const Sw=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,YO=1e-7,KO=12;function ZO(n,e,t,r,i){let a,s,c=0;do s=e+(t-e)/2,a=Sw(s,r,i)-n,a>0?t=s:e=s;while(Math.abs(a)>YO&&++c<KO);return s}function kl(n,e,t,r){if(n===e&&t===r)return hr;const i=a=>ZO(a,0,1,n,t);return a=>a===0||a===1?a:Sw(i(a),e,r)}const Aw=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,Cw=n=>e=>1-n(1-e),Tw=kl(.33,1.53,.69,.99),u1=Cw(Tw),Ow=Aw(u1),Rw=n=>(n*=2)<1?.5*u1(n):.5*(2-Math.pow(2,-10*(n-1))),f1=n=>1-Math.sin(Math.acos(n)),Dw=Cw(f1),Nw=Aw(f1),QO=kl(.42,0,1,1),JO=kl(0,0,.58,1),Iw=kl(.42,0,.58,1),eR=n=>Array.isArray(n)&&typeof n[0]!="number",kw=n=>Array.isArray(n)&&typeof n[0]=="number",tR={linear:hr,easeIn:QO,easeInOut:Iw,easeOut:JO,circIn:f1,circInOut:Nw,circOut:Dw,backIn:u1,backInOut:Ow,backOut:Tw,anticipate:Rw},nR=n=>typeof n=="string",Ky=n=>{if(kw(n)){s1(n.length===4);const[e,t,r,i]=n;return kl(e,t,r,i)}else if(nR(n))return tR[n];return n},su=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function rR(n,e){let t=new Set,r=new Set,i=!1,a=!1;const s=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function f(p){s.has(p)&&(d.schedule(p),n()),p(c)}const d={schedule:(p,g=!1,y=!1)=>{const _=y&&i?t:r;return g&&s.add(p),_.has(p)||_.add(p),p},cancel:p=>{r.delete(p),s.delete(p)},process:p=>{if(c=p,i){a=!0;return}i=!0,[t,r]=[r,t],t.forEach(f),t.clear(),i=!1,a&&(a=!1,d.process(p))}};return d}const iR=40;function Mw(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,s=su.reduce((T,D)=>(T[D]=rR(a),T),{}),{setup:c,read:f,resolveKeyframes:d,preUpdate:p,update:g,preRender:y,render:x,postRender:_}=s,E=()=>{const T=fi.useManualTiming?i.timestamp:performance.now();t=!1,fi.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(T-i.timestamp,iR),1)),i.timestamp=T,i.isProcessing=!0,c.process(i),f.process(i),d.process(i),p.process(i),g.process(i),y.process(i),x.process(i),_.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(E))},S=()=>{t=!0,r=!0,i.isProcessing||n(E)};return{schedule:su.reduce((T,D)=>{const P=s[D];return T[D]=(L,U=!1,$=!1)=>(t||S(),P.schedule(L,U,$)),T},{}),cancel:T=>{for(let D=0;D<su.length;D++)s[su[D]].cancel(T)},state:i,steps:s}}const{schedule:Rt,cancel:Wi,state:xn,steps:Nh}=Mw(typeof requestAnimationFrame<"u"?requestAnimationFrame:hr,!0);let mu;function aR(){mu=void 0}const Hn={now:()=>(mu===void 0&&Hn.set(xn.isProcessing||fi.useManualTiming?xn.timestamp:performance.now()),mu),set:n=>{mu=n,queueMicrotask(aR)}},Pw=n=>e=>typeof e=="string"&&e.startsWith(n),d1=Pw("--"),oR=Pw("var(--"),h1=n=>oR(n)?sR.test(n.split("/*")[0].trim()):!1,sR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Zo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},wl={...Zo,transform:n=>ui(0,1,n)},lu={...Zo,default:1},dl=n=>Math.round(n*1e5)/1e5,p1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function lR(n){return n==null}const cR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,g1=(n,e)=>t=>!!(typeof t=="string"&&cR.test(t)&&t.startsWith(n)||e&&!lR(t)&&Object.prototype.hasOwnProperty.call(t,e)),jw=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,a,s,c]=r.match(p1);return{[n]:parseFloat(i),[e]:parseFloat(a),[t]:parseFloat(s),alpha:c!==void 0?parseFloat(c):1}},uR=n=>ui(0,255,n),Ih={...Zo,transform:n=>Math.round(uR(n))},Aa={test:g1("rgb","red"),parse:jw("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Ih.transform(n)+", "+Ih.transform(e)+", "+Ih.transform(t)+", "+dl(wl.transform(r))+")"};function fR(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const m0={test:g1("#"),parse:fR,transform:Aa.transform},Ml=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),zi=Ml("deg"),Fr=Ml("%"),Me=Ml("px"),dR=Ml("vh"),hR=Ml("vw"),Zy={...Fr,parse:n=>Fr.parse(n)/100,transform:n=>Fr.transform(n*100)},jo={test:g1("hsl","hue"),parse:jw("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Fr.transform(dl(e))+", "+Fr.transform(dl(t))+", "+dl(wl.transform(r))+")"},$t={test:n=>Aa.test(n)||m0.test(n)||jo.test(n),parse:n=>Aa.test(n)?Aa.parse(n):jo.test(n)?jo.parse(n):m0.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Aa.transform(n):jo.transform(n),getAnimatableNone:n=>{const e=$t.parse(n);return e.alpha=0,$t.transform(e)}},pR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function gR(n){return isNaN(n)&&typeof n=="string"&&(n.match(p1)?.length||0)+(n.match(pR)?.length||0)>0}const Bw="number",Lw="color",vR="var",mR="var(",Qy="${}",yR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function _l(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(yR,f=>($t.test(f)?(r.color.push(a),i.push(Lw),t.push($t.parse(f))):f.startsWith(mR)?(r.var.push(a),i.push(vR),t.push(f)):(r.number.push(a),i.push(Bw),t.push(parseFloat(f))),++a,Qy)).split(Qy);return{values:t,split:c,indexes:r,types:i}}function Fw(n){return _l(n).values}function Uw(n){const{split:e,types:t}=_l(n),r=e.length;return i=>{let a="";for(let s=0;s<r;s++)if(a+=e[s],i[s]!==void 0){const c=t[s];c===Bw?a+=dl(i[s]):c===Lw?a+=$t.transform(i[s]):a+=i[s]}return a}}const xR=n=>typeof n=="number"?0:$t.test(n)?$t.getAnimatableNone(n):n;function wR(n){const e=Fw(n);return Uw(n)(e.map(xR))}const Yi={test:gR,parse:Fw,createTransformer:Uw,getAnimatableNone:wR};function kh(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function _R({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,a=0,s=0;if(!e)i=a=s=t;else{const c=t<.5?t*(1+e):t+e-t*e,f=2*t-c;i=kh(f,c,n+1/3),a=kh(f,c,n),s=kh(f,c,n-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}function Du(n,e){return t=>t>0?e:n}const kt=(n,e,t)=>n+(e-n)*t,Mh=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},bR=[m0,Aa,jo],ER=n=>bR.find(e=>e.test(n));function Jy(n){const e=ER(n);if(!e)return!1;let t=e.parse(n);return e===jo&&(t=_R(t)),t}const ex=(n,e)=>{const t=Jy(n),r=Jy(e);if(!t||!r)return Du(n,e);const i={...t};return a=>(i.red=Mh(t.red,r.red,a),i.green=Mh(t.green,r.green,a),i.blue=Mh(t.blue,r.blue,a),i.alpha=kt(t.alpha,r.alpha,a),Aa.transform(i))},y0=new Set(["none","hidden"]);function SR(n,e){return y0.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function AR(n,e){return t=>kt(n,e,t)}function v1(n){return typeof n=="number"?AR:typeof n=="string"?h1(n)?Du:$t.test(n)?ex:OR:Array.isArray(n)?Vw:typeof n=="object"?$t.test(n)?ex:CR:Du}function Vw(n,e){const t=[...n],r=t.length,i=n.map((a,s)=>v1(a)(a,e[s]));return a=>{for(let s=0;s<r;s++)t[s]=i[s](a);return t}}function CR(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=v1(n[i])(n[i],e[i]));return i=>{for(const a in r)t[a]=r[a](i);return t}}function TR(n,e){const t=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],s=n.indexes[a][r[a]],c=n.values[s]??0;t[i]=c,r[a]++}return t}const OR=(n,e)=>{const t=Yi.createTransformer(e),r=_l(n),i=_l(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?y0.has(n)&&!i.values.length||y0.has(e)&&!r.values.length?SR(n,e):Il(Vw(TR(r,i),i.values),t):Du(n,e)};function zw(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?kt(n,e,t):v1(n)(n,e)}const RR=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>Rt.update(e,t),stop:()=>Wi(e),now:()=>xn.isProcessing?xn.timestamp:Hn.now()}},Hw=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let a=0;a<i;a++)r+=Math.round(n(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Nu=2e4;function m1(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Nu;)e+=t,r=n.next(e);return e>=Nu?1/0:e}function DR(n,e=100,t){const r=t({...n,keyframes:[0,e]}),i=Math.min(m1(r),Nu);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:Lr(i)}}const NR=5;function Gw(n,e,t){const r=Math.max(e-NR,0);return Ew(t-n(r),e-r)}const Bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ph=.001;function IR({duration:n=Bt.duration,bounce:e=Bt.bounce,velocity:t=Bt.velocity,mass:r=Bt.mass}){let i,a,s=1-e;s=ui(Bt.minDamping,Bt.maxDamping,s),n=ui(Bt.minDuration,Bt.maxDuration,Lr(n)),s<1?(i=d=>{const p=d*s,g=p*n,y=p-t,x=x0(d,s),_=Math.exp(-g);return Ph-y/x*_},a=d=>{const g=d*s*n,y=g*t+t,x=Math.pow(s,2)*Math.pow(d,2)*n,_=Math.exp(-g),E=x0(Math.pow(d,2),s);return(-i(d)+Ph>0?-1:1)*((y-x)*_)/E}):(i=d=>{const p=Math.exp(-d*n),g=(d-t)*n+1;return-Ph+p*g},a=d=>{const p=Math.exp(-d*n),g=(t-d)*(n*n);return p*g});const c=5/n,f=MR(i,a,c);if(n=Br(n),isNaN(f))return{stiffness:Bt.stiffness,damping:Bt.damping,duration:n};{const d=Math.pow(f,2)*r;return{stiffness:d,damping:s*2*Math.sqrt(r*d),duration:n}}}const kR=12;function MR(n,e,t){let r=t;for(let i=1;i<kR;i++)r=r-n(r)/e(r);return r}function x0(n,e){return n*Math.sqrt(1-e*e)}const PR=["duration","bounce"],jR=["stiffness","damping","mass"];function tx(n,e){return e.some(t=>n[t]!==void 0)}function BR(n){let e={velocity:Bt.velocity,stiffness:Bt.stiffness,damping:Bt.damping,mass:Bt.mass,isResolvedFromDuration:!1,...n};if(!tx(n,jR)&&tx(n,PR))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,a=2*ui(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:Bt.mass,stiffness:i,damping:a}}else{const t=IR(n);e={...e,...t,mass:Bt.mass},e.isResolvedFromDuration=!0}return e}function Iu(n=Bt.visualDuration,e=Bt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const a=t.keyframes[0],s=t.keyframes[t.keyframes.length-1],c={done:!1,value:a},{stiffness:f,damping:d,mass:p,duration:g,velocity:y,isResolvedFromDuration:x}=BR({...t,velocity:-Lr(t.velocity||0)}),_=y||0,E=d/(2*Math.sqrt(f*p)),S=s-a,b=Lr(Math.sqrt(f/p)),C=Math.abs(S)<5;r||(r=C?Bt.restSpeed.granular:Bt.restSpeed.default),i||(i=C?Bt.restDelta.granular:Bt.restDelta.default);let T;if(E<1){const P=x0(b,E);T=L=>{const U=Math.exp(-E*b*L);return s-U*((_+E*b*S)/P*Math.sin(P*L)+S*Math.cos(P*L))}}else if(E===1)T=P=>s-Math.exp(-b*P)*(S+(_+b*S)*P);else{const P=b*Math.sqrt(E*E-1);T=L=>{const U=Math.exp(-E*b*L),$=Math.min(P*L,300);return s-U*((_+E*b*S)*Math.sinh($)+P*S*Math.cosh($))/P}}const D={calculatedDuration:x&&g||null,next:P=>{const L=T(P);if(x)c.done=P>=g;else{let U=P===0?_:0;E<1&&(U=P===0?Br(_):Gw(T,P,L));const $=Math.abs(U)<=r,G=Math.abs(s-L)<=i;c.done=$&&G}return c.value=c.done?s:L,c},toString:()=>{const P=Math.min(m1(D),Nu),L=Hw(U=>D.next(P*U).value,P,30);return P+"ms "+L},toTransition:()=>{}};return D}Iu.applyToOptions=n=>{const e=DR(n,100,Iu);return n.ease=e.ease,n.duration=Br(e.duration),n.type="keyframes",n};function w0({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:c,max:f,restDelta:d=.5,restSpeed:p}){const g=n[0],y={done:!1,value:g},x=$=>c!==void 0&&$<c||f!==void 0&&$>f,_=$=>c===void 0?f:f===void 0||Math.abs(c-$)<Math.abs(f-$)?c:f;let E=t*e;const S=g+E,b=s===void 0?S:s(S);b!==S&&(E=b-g);const C=$=>-E*Math.exp(-$/r),T=$=>b+C($),D=$=>{const G=C($),te=T($);y.done=Math.abs(G)<=d,y.value=y.done?b:te};let P,L;const U=$=>{x(y.value)&&(P=$,L=Iu({keyframes:[y.value,_(y.value)],velocity:Gw(T,$,y.value),damping:i,stiffness:a,restDelta:d,restSpeed:p}))};return U(0),{calculatedDuration:null,next:$=>{let G=!1;return!L&&P===void 0&&(G=!0,D($),U($)),P!==void 0&&$>=P?L.next($-P):(!G&&D($),y)}}}function LR(n,e,t){const r=[],i=t||fi.mix||zw,a=n.length-1;for(let s=0;s<a;s++){let c=i(n[s],n[s+1]);if(e){const f=Array.isArray(e)?e[s]||hr:e;c=Il(f,c)}r.push(c)}return r}function FR(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const a=n.length;if(s1(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const c=LR(e,r,i),f=c.length,d=p=>{if(s&&p<n[0])return e[0];let g=0;if(f>1)for(;g<n.length-2&&!(p<n[g+1]);g++);const y=xl(n[g],n[g+1],p);return c[g](y)};return t?p=>d(ui(n[0],n[a-1],p)):d}function UR(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=xl(0,e,r);n.push(kt(t,1,i))}}function VR(n){const e=[0];return UR(e,n.length-1),e}function zR(n,e){return n.map(t=>t*e)}function HR(n,e){return n.map(()=>e||Iw).splice(0,n.length-1)}function hl({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=eR(r)?r.map(Ky):Ky(r),a={done:!1,value:e[0]},s=zR(t&&t.length===e.length?t:VR(e),n),c=FR(s,e,{ease:Array.isArray(i)?i:HR(e,i)});return{calculatedDuration:n,next:f=>(a.value=c(f),a.done=f>=n,a)}}const GR=n=>n!==null;function y1(n,{repeat:e,repeatType:t="loop"},r,i=1){const a=n.filter(GR),c=i<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const $R={decay:w0,inertia:w0,tween:hl,keyframes:hl,spring:Iu};function $w(n){typeof n.type=="string"&&(n.type=$R[n.type])}class x1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const qR=n=>n/100;class w1 extends x1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Hn.now()&&this.tick(Hn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;$w(e);const{type:t=hl,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=e;let{keyframes:c}=e;const f=t||hl;f!==hl&&typeof c[0]!="number"&&(this.mixKeyframes=Il(qR,zw(c[0],c[1])),c=[0,100]);const d=f({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...c].reverse(),velocity:-s})),d.calculatedDuration===null&&(d.calculatedDuration=m1(d));const{calculatedDuration:p}=d;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:c,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:p,repeat:g,repeatType:y,repeatDelay:x,type:_,onUpdate:E,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const b=this.currentTime-d*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?b<0:b>i;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let T=this.currentTime,D=r;if(g){const $=Math.min(this.currentTime,i)/c;let G=Math.floor($),te=$%1;!te&&$>=1&&(te=1),te===1&&G--,G=Math.min(G,g+1),!!(G%2)&&(y==="reverse"?(te=1-te,x&&(te-=x/c)):y==="mirror"&&(D=s)),T=ui(0,1,te)*c}const P=C?{done:!1,value:p[0]}:D.next(T);a&&(P.value=a(P.value));let{done:L}=P;!C&&f!==null&&(L=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return U&&_!==w0&&(P.value=y1(p,this.options,S,this.speed)),E&&E(P.value),U&&this.finish(),P}then(e,t){return this.finished.then(e,t)}get duration(){return Lr(this.calculatedDuration)}get time(){return Lr(this.currentTime)}set time(e){e=Br(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Hn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Lr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=RR,startTime:t}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Hn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function XR(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Ca=n=>n*180/Math.PI,_0=n=>{const e=Ca(Math.atan2(n[1],n[0]));return b0(e)},WR={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:_0,rotateZ:_0,skewX:n=>Ca(Math.atan(n[1])),skewY:n=>Ca(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},b0=n=>(n=n%360,n<0&&(n+=360),n),nx=_0,rx=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),ix=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),YR={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rx,scaleY:ix,scale:n=>(rx(n)+ix(n))/2,rotateX:n=>b0(Ca(Math.atan2(n[6],n[5]))),rotateY:n=>b0(Ca(Math.atan2(-n[2],n[0]))),rotateZ:nx,rotate:nx,skewX:n=>Ca(Math.atan(n[4])),skewY:n=>Ca(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function E0(n){return n.includes("scale")?1:0}function S0(n,e){if(!n||n==="none")return E0(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(t)r=YR,i=t;else{const c=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=WR,i=c}if(!i)return E0(e);const a=r[e],s=i[1].split(",").map(ZR);return typeof a=="function"?a(s):s[a]}const KR=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return S0(t,e)};function ZR(n){return parseFloat(n.trim())}const Qo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Jo=new Set(Qo),ax=n=>n===Zo||n===Me,QR=new Set(["x","y","z"]),JR=Qo.filter(n=>!QR.has(n));function eD(n){const e=[];return JR.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Oa={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>S0(e,"x"),y:(n,{transform:e})=>S0(e,"y")};Oa.translateX=Oa.x;Oa.translateY=Oa.y;const Ra=new Set;let A0=!1,C0=!1,T0=!1;function qw(){if(C0){const n=Array.from(Ra).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=eD(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([a,s])=>{r.getValue(a)?.set(s)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}C0=!1,A0=!1,Ra.forEach(n=>n.complete(T0)),Ra.clear()}function Xw(){Ra.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(C0=!0)})}function tD(){T0=!0,Xw(),qw(),T0=!1}class _1{constructor(e,t,r,i,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Ra.add(this),A0||(A0=!0,Rt.read(Xw),Rt.resolveKeyframes(qw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;if(e[0]===null){const a=i?.get(),s=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&t){const c=r.readValue(t,s);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=s),i&&a===void 0&&i.set(e[0])}XR(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ra.delete(this)}cancel(){this.state==="scheduled"&&(Ra.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const nD=n=>n.startsWith("--");function rD(n,e,t){nD(e)?n.style.setProperty(e,t):n.style[e]=t}const iD=l1(()=>window.ScrollTimeline!==void 0),aD={};function oD(n,e){const t=l1(n);return()=>aD[e]??t()}const Ww=oD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ll=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,ox={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ll([0,.65,.55,1]),circOut:ll([.55,0,1,.45]),backIn:ll([.31,.01,.66,-.59]),backOut:ll([.33,1.53,.69,.99])};function Yw(n,e){if(n)return typeof n=="function"?Ww()?Hw(n,e):"ease-out":kw(n)?ll(n):Array.isArray(n)?n.map(t=>Yw(t,e)||ox.easeOut):ox[n]}function sD(n,e,t,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:c="easeOut",times:f}={},d=void 0){const p={[e]:t};f&&(p.offset=f);const g=Yw(c,i);Array.isArray(g)&&(p.easing=g);const y={delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return d&&(y.pseudoElement=d),n.animate(p,y)}function Kw(n){return typeof n=="function"&&"applyToOptions"in n}function lD({type:n,...e}){return Kw(n)&&Ww()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class cD extends x1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:i,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:c,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=e,s1(typeof e.type!="string");const d=lD(e);this.animation=sD(t,r,i,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=y1(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):rD(t,r,p),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Lr(Number(e))}get time(){return Lr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Br(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&iD()?(this.animation.timeline=e,hr):t(this)}}const Zw={anticipate:Rw,backInOut:Ow,circInOut:Nw};function uD(n){return n in Zw}function fD(n){typeof n.ease=="string"&&uD(n.ease)&&(n.ease=Zw[n.ease])}const sx=10;class dD extends cD{constructor(e){fD(e),$w(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:i,element:a,...s}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const c=new w1({...s,autoplay:!1}),f=Br(this.finishedTime??this.time);t.setWithVelocity(c.sample(f-sx).value,c.sample(f).value,sx),c.stop()}}const lx=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Yi.test(n)||n==="0")&&!n.startsWith("url("));function hD(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function pD(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],s=lx(i,e),c=lx(a,e);return!s||!c?!1:hD(n)||(t==="spring"||Kw(t))&&r}function O0(n){n.duration=0,n.type}const gD=new Set(["opacity","clipPath","filter","transform"]),vD=l1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function mD(n){const{motionValue:e,name:t,repeatDelay:r,repeatType:i,damping:a,type:s}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:d}=e.owner.getProps();return vD()&&t&&gD.has(t)&&(t!=="transform"||!d)&&!f&&!r&&i!=="mirror"&&a!==0&&s!=="inertia"}const yD=40;class xD extends x1{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",keyframes:c,name:f,motionValue:d,element:p,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Hn.now();const y={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:a,repeatType:s,name:f,motionValue:d,element:p,...g},x=p?.KeyframeResolver||_1;this.keyframeResolver=new x(c,(_,E,S)=>this.onKeyframesResolved(_,E,y,!S),f,d,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,r,i){this.keyframeResolver=void 0;const{name:a,type:s,velocity:c,delay:f,isHandoff:d,onUpdate:p}=r;this.resolvedAt=Hn.now(),pD(e,a,s,c)||((fi.instantAnimations||!f)&&p?.(y1(e,r,t)),e[0]=e[e.length-1],O0(r),r.repeat=0);const y={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>yD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},x=!d&&mD(y)?new dD({...y,element:y.motionValue.owner.current}):new w1(y);x.finished.then(()=>this.notifyFinished()).catch(hr),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),tD()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const wD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _D(n){const e=wD.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function Qw(n,e,t=1){const[r,i]=_D(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const s=a.trim();return ww(s)?parseFloat(s):s}return h1(i)?Qw(i,e,t+1):i}function b1(n,e){return n?.[e]??n?.default??n}const Jw=new Set(["width","height","top","left","right","bottom",...Qo]),bD={test:n=>n==="auto",parse:n=>n},e_=n=>e=>e.test(n),t_=[Zo,Me,Fr,zi,hR,dR,bD],cx=n=>t_.find(e_(n));function ED(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||bw(n):!0}const SD=new Set(["brightness","contrast","saturate","opacity"]);function AD(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(p1)||[];if(!r)return n;const i=t.replace(r,"");let a=SD.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+i+")"}const CD=/\b([a-z-]*)\(.*?\)/gu,R0={...Yi,getAnimatableNone:n=>{const e=n.match(CD);return e?e.map(AD).join(" "):n}},ux={...Zo,transform:Math.round},TD={rotate:zi,rotateX:zi,rotateY:zi,rotateZ:zi,scale:lu,scaleX:lu,scaleY:lu,scaleZ:lu,skew:zi,skewX:zi,skewY:zi,distance:Me,translateX:Me,translateY:Me,translateZ:Me,x:Me,y:Me,z:Me,perspective:Me,transformPerspective:Me,opacity:wl,originX:Zy,originY:Zy,originZ:Me},E1={borderWidth:Me,borderTopWidth:Me,borderRightWidth:Me,borderBottomWidth:Me,borderLeftWidth:Me,borderRadius:Me,radius:Me,borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomRightRadius:Me,borderBottomLeftRadius:Me,width:Me,maxWidth:Me,height:Me,maxHeight:Me,top:Me,right:Me,bottom:Me,left:Me,padding:Me,paddingTop:Me,paddingRight:Me,paddingBottom:Me,paddingLeft:Me,margin:Me,marginTop:Me,marginRight:Me,marginBottom:Me,marginLeft:Me,backgroundPositionX:Me,backgroundPositionY:Me,...TD,zIndex:ux,fillOpacity:wl,strokeOpacity:wl,numOctaves:ux},OD={...E1,color:$t,backgroundColor:$t,outlineColor:$t,fill:$t,stroke:$t,borderColor:$t,borderTopColor:$t,borderRightColor:$t,borderBottomColor:$t,borderLeftColor:$t,filter:R0,WebkitFilter:R0},n_=n=>OD[n];function r_(n,e){let t=n_(n);return t!==R0&&(t=Yi),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const RD=new Set(["auto","none","0"]);function DD(n,e,t){let r=0,i;for(;r<n.length&&!i;){const a=n[r];typeof a=="string"&&!RD.has(a)&&_l(a).values.length&&(i=n[r]),r++}if(i&&t)for(const a of e)n[a]=r_(t,i)}class ND extends _1{constructor(e,t,r,i,a){super(e,t,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let d=e[f];if(typeof d=="string"&&(d=d.trim(),h1(d))){const p=Qw(d,t.current);p!==void 0&&(e[f]=p),f===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Jw.has(r)||e.length!==2)return;const[i,a]=e,s=cx(i),c=cx(a);if(s!==c)if(ax(s)&&ax(c))for(let f=0;f<e.length;f++){const d=e[f];typeof d=="string"&&(e[f]=parseFloat(d))}else Oa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||ED(e[i]))&&r.push(i);r.length&&DD(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,s=r[a];r[a]=Oa[t](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,f])=>{e.getValue(c).set(f)}),this.resolveNoneKeyframes()}}function ID(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const i=t?.[n]??r.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n)}const i_=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function a_(n){return _w(n)&&"offsetHeight"in n}const fx=30,kD=n=>!isNaN(parseFloat(n));class MD{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Hn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Hn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=kD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new c1);const r=this.events[e].add(t);return e==="change"?()=>{r(),Rt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>fx)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,fx);return Ew(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $o(n,e){return new MD(n,e)}const{schedule:S1}=Mw(queueMicrotask,!1),_r={x:!1,y:!1};function o_(){return _r.x||_r.y}function PD(n){return n==="x"||n==="y"?_r[n]?null:(_r[n]=!0,()=>{_r[n]=!1}):_r.x||_r.y?null:(_r.x=_r.y=!0,()=>{_r.x=_r.y=!1})}function s_(n,e){const t=ID(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function dx(n){return!(n.pointerType==="touch"||o_())}function jD(n,e,t={}){const[r,i,a]=s_(n,t),s=c=>{if(!dx(c))return;const{target:f}=c,d=e(f,c);if(typeof d!="function"||!f)return;const p=g=>{dx(g)&&(d(g),f.removeEventListener("pointerleave",p))};f.addEventListener("pointerleave",p,i)};return r.forEach(c=>{c.addEventListener("pointerenter",s,i)}),a}const l_=(n,e)=>e?n===e?!0:l_(n,e.parentElement):!1,A1=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,BD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function LD(n){return BD.has(n.tagName)||n.tabIndex!==-1}const yu=new WeakSet;function hx(n){return e=>{e.key==="Enter"&&n(e)}}function jh(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const FD=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=hx(()=>{if(yu.has(t))return;jh(t,"down");const i=hx(()=>{jh(t,"up")}),a=()=>jh(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function px(n){return A1(n)&&!o_()}function UD(n,e,t={}){const[r,i,a]=s_(n,t),s=c=>{const f=c.currentTarget;if(!px(c))return;yu.add(f);const d=e(f,c),p=(x,_)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),yu.has(f)&&yu.delete(f),px(x)&&typeof d=="function"&&d(x,{success:_})},g=x=>{p(x,f===window||f===document||t.useGlobalTarget||l_(f,x.target))},y=x=>{p(x,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",y,i)};return r.forEach(c=>{(t.useGlobalTarget?window:c).addEventListener("pointerdown",s,i),a_(c)&&(c.addEventListener("focus",d=>FD(d,i)),!LD(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function c_(n){return _w(n)&&"ownerSVGElement"in n}function VD(n){return c_(n)&&n.tagName==="svg"}const Cn=n=>!!(n&&n.getVelocity),zD=[...t_,$t,Yi],HD=n=>zD.find(e_(n)),C1=R.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class GD extends R.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,i=a_(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function $D({children:n,isPresent:e,anchorX:t,root:r}){const i=R.useId(),a=R.useRef(null),s=R.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=R.useContext(C1);return R.useInsertionEffect(()=>{const{width:f,height:d,top:p,left:g,right:y}=s.current;if(e||!a.current||!f||!d)return;const x=t==="left"?`left: ${g}`:`right: ${y}`;a.current.dataset.motionPopId=i;const _=document.createElement("style");c&&(_.nonce=c);const E=r??document.head;return E.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${d}px !important;
            ${x}px !important;
            top: ${p}px !important;
          }
        `),()=>{E.contains(_)&&E.removeChild(_)}},[e]),m.jsx(GD,{isPresent:e,childRef:a,sizeRef:s,children:R.cloneElement(n,{ref:a})})}const qD=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:s,anchorX:c,root:f})=>{const d=r1(XD),p=R.useId();let g=!0,y=R.useMemo(()=>(g=!1,{id:p,initial:e,isPresent:t,custom:i,onExitComplete:x=>{d.set(x,!0);for(const _ of d.values())if(!_)return;r&&r()},register:x=>(d.set(x,!1),()=>d.delete(x))}),[t,d,r]);return a&&g&&(y={...y}),R.useMemo(()=>{d.forEach((x,_)=>d.set(_,!1))},[t]),R.useEffect(()=>{!t&&!d.size&&r&&r()},[t]),s==="popLayout"&&(n=m.jsx($D,{isPresent:t,anchorX:c,root:f,children:n})),m.jsx(zu.Provider,{value:y,children:n})};function XD(){return new Map}function u_(n=!0){const e=R.useContext(zu);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,a=R.useId();R.useEffect(()=>{if(n)return i(a)},[n]);const s=R.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,s]:[!0]}const cu=n=>n.key||"";function gx(n){const e=[];return R.Children.forEach(n,t=>{R.isValidElement(t)&&e.push(t)}),e}const gr=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1,anchorX:c="left",root:f})=>{const[d,p]=u_(s),g=R.useMemo(()=>gx(n),[n]),y=s&&!d?[]:g.map(cu),x=R.useRef(!0),_=R.useRef(g),E=r1(()=>new Map),[S,b]=R.useState(g),[C,T]=R.useState(g);xw(()=>{x.current=!1,_.current=g;for(let L=0;L<C.length;L++){const U=cu(C[L]);y.includes(U)?E.delete(U):E.get(U)!==!0&&E.set(U,!1)}},[C,y.length,y.join("-")]);const D=[];if(g!==S){let L=[...g];for(let U=0;U<C.length;U++){const $=C[U],G=cu($);y.includes(G)||(L.splice(U,0,$),D.push($))}return a==="wait"&&D.length&&(L=D),T(gx(L)),b(g),null}const{forceRender:P}=R.useContext(n1);return m.jsx(m.Fragment,{children:C.map(L=>{const U=cu(L),$=s&&!d?!1:g===C||y.includes(U),G=()=>{if(E.has(U))E.set(U,!0);else return;let te=!0;E.forEach(ae=>{ae||(te=!1)}),te&&(P?.(),T(_.current),s&&p?.(),r&&r())};return m.jsx(qD,{isPresent:$,initial:!x.current||t?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:f,onExitComplete:$?void 0:G,anchorX:c,children:L},U)})})},f_=R.createContext({strict:!1}),vx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qo={};for(const n in vx)qo[n]={isEnabled:e=>vx[n].some(t=>!!e[t])};function WD(n){for(const e in n)qo[e]={...qo[e],...n[e]}}const YD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ku(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||YD.has(n)}let d_=n=>!ku(n);function KD(n){typeof n=="function"&&(d_=e=>e.startsWith("on")?!ku(e):n(e))}try{KD(require("@emotion/is-prop-valid").default)}catch{}function ZD(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(d_(i)||t===!0&&ku(i)||!e&&!ku(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}const Hu=R.createContext({});function Gu(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function bl(n){return typeof n=="string"||Array.isArray(n)}const T1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],O1=["initial",...T1];function $u(n){return Gu(n.animate)||O1.some(e=>bl(n[e]))}function h_(n){return!!($u(n)||n.variants)}function QD(n,e){if($u(n)){const{initial:t,animate:r}=n;return{initial:t===!1||bl(t)?t:void 0,animate:bl(r)?r:void 0}}return n.inherit!==!1?e:{}}function JD(n){const{initial:e,animate:t}=QD(n,R.useContext(Hu));return R.useMemo(()=>({initial:e,animate:t}),[mx(e),mx(t)])}function mx(n){return Array.isArray(n)?n.join(" "):n}const El={};function e5(n){for(const e in n)El[e]=n[e],d1(e)&&(El[e].isCSSVariable=!0)}function p_(n,{layout:e,layoutId:t}){return Jo.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!El[n]||n==="opacity")}const t5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},n5=Qo.length;function r5(n,e,t){let r="",i=!0;for(let a=0;a<n5;a++){const s=Qo[a],c=n[s];if(c===void 0)continue;let f=!0;if(typeof c=="number"?f=c===(s.startsWith("scale")?1:0):f=parseFloat(c)===0,!f||t){const d=i_(c,E1[s]);if(!f){i=!1;const p=t5[s]||s;r+=`${p}(${d}) `}t&&(e[s]=d)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function R1(n,e,t){const{style:r,vars:i,transformOrigin:a}=n;let s=!1,c=!1;for(const f in e){const d=e[f];if(Jo.has(f)){s=!0;continue}else if(d1(f)){i[f]=d;continue}else{const p=i_(d,E1[f]);f.startsWith("origin")?(c=!0,a[f]=p):r[f]=p}}if(e.transform||(s||t?r.transform=r5(e,n.transform,t):r.transform&&(r.transform="none")),c){const{originX:f="50%",originY:d="50%",originZ:p=0}=a;r.transformOrigin=`${f} ${d} ${p}`}}const D1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function g_(n,e,t){for(const r in e)!Cn(e[r])&&!p_(r,t)&&(n[r]=e[r])}function i5({transformTemplate:n},e){return R.useMemo(()=>{const t=D1();return R1(t,e,n),Object.assign({},t.vars,t.style)},[e])}function a5(n,e){const t=n.style||{},r={};return g_(r,t,n),Object.assign(r,i5(n,e)),r}function o5(n,e){const t={},r=a5(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const s5={offset:"stroke-dashoffset",array:"stroke-dasharray"},l5={offset:"strokeDashoffset",array:"strokeDasharray"};function c5(n,e,t=1,r=0,i=!0){n.pathLength=1;const a=i?s5:l5;n[a.offset]=Me.transform(-r);const s=Me.transform(e),c=Me.transform(t);n[a.array]=`${s} ${c}`}function v_(n,{attrX:e,attrY:t,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:s=0,...c},f,d,p){if(R1(n,c,d),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:g,style:y}=n;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=p?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),t!==void 0&&(g.y=t),r!==void 0&&(g.scale=r),i!==void 0&&c5(g,i,a,s,!1)}const m_=()=>({...D1(),attrs:{}}),y_=n=>typeof n=="string"&&n.toLowerCase()==="svg";function u5(n,e,t,r){const i=R.useMemo(()=>{const a=m_();return v_(a,e,y_(r),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};g_(a,n.style,n),i.style={...a,...i.style}}return i}const f5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function N1(n){return typeof n!="string"||n.includes("-")?!1:!!(f5.indexOf(n)>-1||/[A-Z]/u.test(n))}function d5(n,e,t,{latestValues:r},i,a=!1){const c=(N1(n)?u5:o5)(e,r,i,n),f=ZD(e,typeof n=="string",a),d=n!==R.Fragment?{...f,...c,ref:t}:{},{children:p}=e,g=R.useMemo(()=>Cn(p)?p.get():p,[p]);return R.createElement(n,{...d,children:g})}function yx(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function I1(n,e,t,r){if(typeof e=="function"){const[i,a]=yx(r);e=e(t!==void 0?t:n.custom,i,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,a]=yx(r);e=e(t!==void 0?t:n.custom,i,a)}return e}function xu(n){return Cn(n)?n.get():n}function h5({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,i){return{latestValues:p5(t,r,i,n),renderState:e()}}function p5(n,e,t,r){const i={},a=r(n,{});for(const y in a)i[y]=xu(a[y]);let{initial:s,animate:c}=n;const f=$u(n),d=h_(n);e&&d&&!f&&n.inherit!==!1&&(s===void 0&&(s=e.initial),c===void 0&&(c=e.animate));let p=t?t.initial===!1:!1;p=p||s===!1;const g=p?c:s;if(g&&typeof g!="boolean"&&!Gu(g)){const y=Array.isArray(g)?g:[g];for(let x=0;x<y.length;x++){const _=I1(n,y[x]);if(_){const{transitionEnd:E,transition:S,...b}=_;for(const C in b){let T=b[C];if(Array.isArray(T)){const D=p?T.length-1:0;T=T[D]}T!==null&&(i[C]=T)}for(const C in E)i[C]=E[C]}}}return i}const x_=n=>(e,t)=>{const r=R.useContext(Hu),i=R.useContext(zu),a=()=>h5(n,e,r,i);return t?a():r1(a)};function k1(n,e,t){const{style:r}=n,i={};for(const a in r)(Cn(r[a])||e.style&&Cn(e.style[a])||p_(a,n)||t?.getValue(a)?.liveStyle!==void 0)&&(i[a]=r[a]);return i}const g5=x_({scrapeMotionValuesFromProps:k1,createRenderState:D1});function w_(n,e,t){const r=k1(n,e,t);for(const i in n)if(Cn(n[i])||Cn(e[i])){const a=Qo.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=n[i]}return r}const v5=x_({scrapeMotionValuesFromProps:w_,createRenderState:m_}),m5=Symbol.for("motionComponentSymbol");function Bo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function y5(n,e,t){return R.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Bo(t)&&(t.current=r))},[e])}const M1=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),x5="framerAppearId",__="data-"+M1(x5),b_=R.createContext({});function w5(n,e,t,r,i){const{visualElement:a}=R.useContext(Hu),s=R.useContext(f_),c=R.useContext(zu),f=R.useContext(C1).reducedMotion,d=R.useRef(null);r=r||s.renderer,!d.current&&r&&(d.current=r(n,{visualState:e,parent:a,props:t,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:f}));const p=d.current,g=R.useContext(b_);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&_5(d.current,t,i,g);const y=R.useRef(!1);R.useInsertionEffect(()=>{p&&y.current&&p.update(t,c)});const x=t[__],_=R.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return xw(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),_.current&&p.animationState&&p.animationState.animateChanges())}),R.useEffect(()=>{p&&(!_.current&&p.animationState&&p.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),_.current=!1),p.enteringChildren=void 0)}),p}function _5(n,e,t,r){const{layoutId:i,layout:a,drag:s,dragConstraints:c,layoutScroll:f,layoutRoot:d,layoutCrossfade:p}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:E_(n.parent)),n.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||c&&Bo(c),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:f,layoutRoot:d})}function E_(n){if(n)return n.options.allowProjection!==!1?n.projection:E_(n.parent)}function Bh(n,{forwardMotionProps:e=!1}={},t,r){t&&WD(t);const i=N1(n)?v5:g5;function a(c,f){let d;const p={...R.useContext(C1),...c,layoutId:b5(c)},{isStatic:g}=p,y=JD(c),x=i(c,g);if(!g&&i1){E5();const _=S5(p);d=_.MeasureLayout,y.visualElement=w5(n,x,p,r,_.ProjectionNode)}return m.jsxs(Hu.Provider,{value:y,children:[d&&y.visualElement?m.jsx(d,{visualElement:y.visualElement,...p}):null,d5(n,c,y5(x,y.visualElement,f),x,g,e)]})}a.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const s=R.forwardRef(a);return s[m5]=n,s}function b5({layoutId:n}){const e=R.useContext(n1).id;return e&&n!==void 0?e+"-"+n:n}function E5(n,e){R.useContext(f_).strict}function S5(n){const{drag:e,layout:t}=qo;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function A5(n,e){if(typeof Proxy>"u")return Bh;const t=new Map,r=(a,s)=>Bh(a,s,n,e),i=(a,s)=>r(a,s);return new Proxy(i,{get:(a,s)=>s==="create"?r:(t.has(s)||t.set(s,Bh(s,void 0,n,e)),t.get(s))})}function S_({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function C5({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function T5(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function Lh(n){return n===void 0||n===1}function D0({scale:n,scaleX:e,scaleY:t}){return!Lh(n)||!Lh(e)||!Lh(t)}function ba(n){return D0(n)||A_(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function A_(n){return xx(n.x)||xx(n.y)}function xx(n){return n&&n!=="0%"}function Mu(n,e,t){const r=n-t,i=e*r;return t+i}function wx(n,e,t,r,i){return i!==void 0&&(n=Mu(n,i,r)),Mu(n,t,r)+e}function N0(n,e=0,t=1,r,i){n.min=wx(n.min,e,t,r,i),n.max=wx(n.max,e,t,r,i)}function C_(n,{x:e,y:t}){N0(n.x,e.translate,e.scale,e.originPoint),N0(n.y,t.translate,t.scale,t.originPoint)}const _x=.999999999999,bx=1.0000000000001;function O5(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let a,s;for(let c=0;c<i;c++){a=t[c],s=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Fo(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,C_(n,s)),r&&ba(a.latestValues)&&Fo(n,a.latestValues))}e.x<bx&&e.x>_x&&(e.x=1),e.y<bx&&e.y>_x&&(e.y=1)}function Lo(n,e){n.min=n.min+e,n.max=n.max+e}function Ex(n,e,t,r,i=.5){const a=kt(n.min,n.max,i);N0(n,e,t,a,r)}function Fo(n,e){Ex(n.x,e.x,e.scaleX,e.scale,e.originX),Ex(n.y,e.y,e.scaleY,e.scale,e.originY)}function T_(n,e){return S_(T5(n.getBoundingClientRect(),e))}function R5(n,e,t){const r=T_(n,t),{scroll:i}=e;return i&&(Lo(r.x,i.offset.x),Lo(r.y,i.offset.y)),r}const Sx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Uo=()=>({x:Sx(),y:Sx()}),Ax=()=>({min:0,max:0}),Ut=()=>({x:Ax(),y:Ax()}),I0={current:null},O_={current:!1};function D5(){if(O_.current=!0,!!i1)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>I0.current=n.matches;n.addEventListener("change",e),e()}else I0.current=!1}const N5=new WeakMap;function I5(n,e,t){for(const r in e){const i=e[r],a=t[r];if(Cn(i))n.addValue(r,i);else if(Cn(a))n.addValue(r,$o(i,{owner:n}));else if(a!==i)if(n.hasValue(r)){const s=n.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=n.getStaticValue(r);n.addValue(r,$o(s!==void 0?s:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const Cx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class k5{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Hn.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Rt.render(this.render,!1,!0))};const{latestValues:f,renderState:d}=s;this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=$u(t),this.isVariantNode=h_(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(t,{},this);for(const y in g){const x=g[y];f[y]!==void 0&&Cn(x)&&x.set(f[y])}}mount(e){this.current=e,N5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),O_.current||D5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:I0.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Wi(this.notifyUpdate),Wi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Jo.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Rt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in qo){const t=qo[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<Cx.length;r++){const i=Cx[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=e[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=I5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=$o(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(ww(r)||bw(r))?r=parseFloat(r):!HD(r)&&Yi.test(t)&&(r=r_(e,t)),this.setBaseTarget(e,Cn(r)?r.get():r)),Cn(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const a=I1(this.props,t,this.presenceContext?.custom);a&&(r=a[e])}if(t&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Cn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new c1),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){S1.render(this.render)}}class R_ extends k5{constructor(){super(...arguments),this.KeyframeResolver=ND}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Cn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function D_(n,{style:e,vars:t},r,i){const a=n.style;let s;for(s in e)a[s]=e[s];i?.applyProjectionStyles(a,r);for(s in t)a.setProperty(s,t[s])}function M5(n){return window.getComputedStyle(n)}class P5 extends R_{constructor(){super(...arguments),this.type="html",this.renderInstance=D_}readValueFromInstance(e,t){if(Jo.has(t))return this.projection?.isProjecting?E0(t):KR(e,t);{const r=M5(e),i=(d1(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return T_(e,t)}build(e,t,r){R1(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return k1(e,t,r)}}const N_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function j5(n,e,t,r){D_(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(N_.has(i)?i:M1(i),e.attrs[i])}class B5 extends R_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ut}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Jo.has(t)){const r=n_(t);return r&&r.default||0}return t=N_.has(t)?t:M1(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return w_(e,t,r)}build(e,t,r){v_(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,i){j5(e,t,r,i)}mount(e){this.isSVGTag=y_(e.tagName),super.mount(e)}}const L5=(n,e)=>N1(n)?new B5(e):new P5(e,{allowProjection:n!==R.Fragment});function Vo(n,e,t){const r=n.getProps();return I1(r,e,t!==void 0?t:r.custom,n)}const k0=n=>Array.isArray(n);function F5(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,$o(t))}function U5(n){return k0(n)?n[n.length-1]||0:n}function V5(n,e){const t=Vo(n,e);let{transitionEnd:r={},transition:i={},...a}=t||{};a={...a,...r};for(const s in a){const c=U5(a[s]);F5(n,s,c)}}function z5(n){return!!(Cn(n)&&n.add)}function M0(n,e){const t=n.getValue("willChange");if(z5(t))return t.add(e);if(!t&&fi.WillChange){const r=new fi.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function I_(n){return n.props[__]}const H5=n=>n!==null;function G5(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(H5),a=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[a]}const $5={type:"spring",stiffness:500,damping:25,restSpeed:10},q5=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),X5={type:"keyframes",duration:.8},W5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Y5=(n,{keyframes:e})=>e.length>2?X5:Jo.has(n)?n.startsWith("scale")?q5(e[1]):$5:W5;function K5({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:c,from:f,elapsed:d,...p}){return!!Object.keys(p).length}const P1=(n,e,t,r={},i,a)=>s=>{const c=b1(r,n)||{},f=c.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Br(f);const p={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-d,onUpdate:y=>{e.set(y),c.onUpdate&&c.onUpdate(y)},onComplete:()=>{s(),c.onComplete&&c.onComplete()},name:n,motionValue:e,element:a?void 0:i};K5(c)||Object.assign(p,Y5(n,p)),p.duration&&(p.duration=Br(p.duration)),p.repeatDelay&&(p.repeatDelay=Br(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(O0(p),p.delay===0&&(g=!0)),(fi.instantAnimations||fi.skipAnimations)&&(g=!0,O0(p),p.delay=0),p.allowFlatten=!c.type&&!c.ease,g&&!a&&e.get()!==void 0){const y=G5(p.keyframes,c);if(y!==void 0){Rt.update(()=>{p.onUpdate(y),p.onComplete()});return}}return c.isSync?new w1(p):new xD(p)};function Z5({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function k_(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:s,...c}=e;r&&(a=r);const f=[],d=i&&n.animationState&&n.animationState.getState()[i];for(const p in c){const g=n.getValue(p,n.latestValues[p]??null),y=c[p];if(y===void 0||d&&Z5(d,p))continue;const x={delay:t,...b1(a||{},p)},_=g.get();if(_!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===_&&!x.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const b=I_(n);if(b){const C=window.MotionHandoffAnimation(b,p,Rt);C!==null&&(x.startTime=C,E=!0)}}M0(n,p),g.start(P1(p,g,y,n.shouldReduceMotion&&Jw.has(p)?{type:!1}:x,n,E));const S=g.animation;S&&f.push(S)}return s&&Promise.all(f).then(()=>{Rt.update(()=>{s&&V5(n,s)})}),f}function M_(n,e,t,r=0,i=1){const a=Array.from(n).sort((d,p)=>d.sortNodePosition(p)).indexOf(e),s=n.size,c=(s-1)*r;return typeof t=="function"?t(a,s):i===1?a*r:c-a*r}function P0(n,e,t={}){const r=Vo(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const a=r?()=>Promise.all(k_(n,r,t)):()=>Promise.resolve(),s=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:g}=i;return Q5(n,e,f,d,p,g,t)}:()=>Promise.resolve(),{when:c}=i;if(c){const[f,d]=c==="beforeChildren"?[a,s]:[s,a];return f().then(()=>d())}else return Promise.all([a(),s(t.delay)])}function Q5(n,e,t=0,r=0,i=0,a=1,s){const c=[];for(const f of n.variantChildren)f.notify("AnimationStart",e),c.push(P0(f,e,{...s,delay:t+(typeof r=="function"?0:r)+M_(n.variantChildren,f,r,i,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(c)}function J5(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>P0(n,a,t));r=Promise.all(i)}else if(typeof e=="string")r=P0(n,e,t);else{const i=typeof e=="function"?Vo(n,e,t.custom):e;r=Promise.all(k_(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function P_(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const eN=O1.length;function j_(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?j_(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<eN;t++){const r=O1[t],i=n.props[r];(bl(i)||i===!1)&&(e[r]=i)}return e}const tN=[...T1].reverse(),nN=T1.length;function rN(n){return e=>Promise.all(e.map(({animation:t,options:r})=>J5(n,t,r)))}function iN(n){let e=rN(n),t=Tx(),r=!0;const i=f=>(d,p)=>{const g=Vo(n,p,f==="exit"?n.presenceContext?.custom:void 0);if(g){const{transition:y,transitionEnd:x,..._}=g;d={...d,..._,...x}}return d};function a(f){e=f(n)}function s(f){const{props:d}=n,p=j_(n.parent)||{},g=[],y=new Set;let x={},_=1/0;for(let S=0;S<nN;S++){const b=tN[S],C=t[b],T=d[b]!==void 0?d[b]:p[b],D=bl(T),P=b===f?C.isActive:null;P===!1&&(_=S);let L=T===p[b]&&T!==d[b]&&D;if(L&&r&&n.manuallyAnimateOnMount&&(L=!1),C.protectedKeys={...x},!C.isActive&&P===null||!T&&!C.prevProp||Gu(T)||typeof T=="boolean")continue;const U=aN(C.prevProp,T);let $=U||b===f&&C.isActive&&!L&&D||S>_&&D,G=!1;const te=Array.isArray(T)?T:[T];let ae=te.reduce(i(b),{});P===!1&&(ae={});const{prevResolvedValues:le={}}=C,se={...le,...ae},de=I=>{$=!0,y.has(I)&&(G=!0,y.delete(I)),C.needsAnimating[I]=!0;const B=n.getValue(I);B&&(B.liveStyle=!1)};for(const I in se){const B=ae[I],ee=le[I];if(x.hasOwnProperty(I))continue;let N=!1;k0(B)&&k0(ee)?N=!P_(B,ee):N=B!==ee,N?B!=null?de(I):y.add(I):B!==void 0&&y.has(I)?de(I):C.protectedKeys[I]=!0}C.prevProp=T,C.prevResolvedValues=ae,C.isActive&&(x={...x,...ae}),r&&n.blockInitialAnimation&&($=!1);const Ee=L&&U;$&&(!Ee||G)&&g.push(...te.map(I=>{const B={type:b};if(typeof I=="string"&&r&&!Ee&&n.manuallyAnimateOnMount&&n.parent){const{parent:ee}=n,N=Vo(ee,I);if(ee.enteringChildren&&N){const{delayChildren:F}=N.transition||{};B.delay=M_(ee.enteringChildren,n,F)}}return{animation:I,options:B}}))}if(y.size){const S={};if(typeof d.initial!="boolean"){const b=Vo(n,Array.isArray(d.initial)?d.initial[0]:d.initial);b&&b.transition&&(S.transition=b.transition)}y.forEach(b=>{const C=n.getBaseTarget(b),T=n.getValue(b);T&&(T.liveStyle=!0),S[b]=C??null}),g.push({animation:S})}let E=!!g.length;return r&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(g):Promise.resolve()}function c(f,d){if(t[f].isActive===d)return Promise.resolve();n.variantChildren?.forEach(g=>g.animationState?.setActive(f,d)),t[f].isActive=d;const p=s(f);for(const g in t)t[g].protectedKeys={};return p}return{animateChanges:s,setActive:c,setAnimateFunction:a,getState:()=>t,reset:()=>{t=Tx(),r=!0}}}function aN(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!P_(e,n):!1}function xa(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Tx(){return{animate:xa(!0),whileInView:xa(),whileHover:xa(),whileTap:xa(),whileDrag:xa(),whileFocus:xa(),exit:xa()}}class Zi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class oN extends Zi{constructor(e){super(e),e.animationState||(e.animationState=iN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Gu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let sN=0;class lN extends Zi{constructor(){super(...arguments),this.id=sN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const cN={animation:{Feature:oN},exit:{Feature:lN}};function Sl(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function Pl(n){return{point:{x:n.pageX,y:n.pageY}}}const uN=n=>e=>A1(e)&&n(e,Pl(e));function pl(n,e,t,r){return Sl(n,e,uN(t),r)}const B_=1e-4,fN=1-B_,dN=1+B_,L_=.01,hN=0-L_,pN=0+L_;function Mn(n){return n.max-n.min}function gN(n,e,t){return Math.abs(n-e)<=t}function Ox(n,e,t,r=.5){n.origin=r,n.originPoint=kt(e.min,e.max,n.origin),n.scale=Mn(t)/Mn(e),n.translate=kt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=fN&&n.scale<=dN||isNaN(n.scale))&&(n.scale=1),(n.translate>=hN&&n.translate<=pN||isNaN(n.translate))&&(n.translate=0)}function gl(n,e,t,r){Ox(n.x,e.x,t.x,r?r.originX:void 0),Ox(n.y,e.y,t.y,r?r.originY:void 0)}function Rx(n,e,t){n.min=t.min+e.min,n.max=n.min+Mn(e)}function vN(n,e,t){Rx(n.x,e.x,t.x),Rx(n.y,e.y,t.y)}function Dx(n,e,t){n.min=e.min-t.min,n.max=n.min+Mn(e)}function vl(n,e,t){Dx(n.x,e.x,t.x),Dx(n.y,e.y,t.y)}function ur(n){return[n("x"),n("y")]}const F_=({current:n})=>n?n.ownerDocument.defaultView:null,Nx=(n,e)=>Math.abs(n-e);function mN(n,e){const t=Nx(n.x,e.x),r=Nx(n.y,e.y);return Math.sqrt(t**2+r**2)}class U_{constructor(e,t,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Uh(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,_=mN(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!_)return;const{point:E}=y,{timestamp:S}=xn;this.history.push({...E,timestamp:S});const{onStart:b,onMove:C}=this.handlers;x||(b&&b(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,y)},this.handlePointerMove=(y,x)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Fh(x,this.transformPagePoint),Rt.update(this.updatePoint,!0)},this.handlePointerUp=(y,x)=>{this.end();const{onEnd:_,onSessionEnd:E,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Uh(y.type==="pointercancel"?this.lastMoveEventInfo:Fh(x,this.transformPagePoint),this.history);this.startEvent&&_&&_(y,b),E&&E(y,b)},!A1(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=s,this.contextWindow=i||window;const c=Pl(e),f=Fh(c,this.transformPagePoint),{point:d}=f,{timestamp:p}=xn;this.history=[{...d,timestamp:p}];const{onSessionStart:g}=t;g&&g(e,Uh(f,this.history)),this.removeListeners=Il(pl(this.contextWindow,"pointermove",this.handlePointerMove),pl(this.contextWindow,"pointerup",this.handlePointerUp),pl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Wi(this.updatePoint)}}function Fh(n,e){return e?{point:e(n.point)}:n}function Ix(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Uh({point:n},e){return{point:n,delta:Ix(n,V_(e)),offset:Ix(n,yN(e)),velocity:xN(e,.1)}}function yN(n){return n[0]}function V_(n){return n[n.length-1]}function xN(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=V_(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Br(e)));)t--;if(!r)return{x:0,y:0};const a=Lr(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function wN(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?kt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?kt(t,n,r.max):Math.min(n,t)),n}function kx(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function _N(n,{top:e,left:t,bottom:r,right:i}){return{x:kx(n.x,t,i),y:kx(n.y,e,r)}}function Mx(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function bN(n,e){return{x:Mx(n.x,e.x),y:Mx(n.y,e.y)}}function EN(n,e){let t=.5;const r=Mn(n),i=Mn(e);return i>r?t=xl(e.min,e.max-r,n.min):r>i&&(t=xl(n.min,n.max-i,e.min)),ui(0,1,t)}function SN(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const j0=.35;function AN(n=j0){return n===!1?n=0:n===!0&&(n=j0),{x:Px(n,"left","right"),y:Px(n,"top","bottom")}}function Px(n,e,t){return{min:jx(n,e),max:jx(n,t)}}function jx(n,e){return typeof n=="number"?n:n[e]||0}const CN=new WeakMap;class TN{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ut(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Pl(g).point)},s=(g,y)=>{const{drag:x,dragPropagation:_,onDragStart:E}=this.getProps();if(x&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=PD(x),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ur(b=>{let C=this.getAxisMotionValue(b).get()||0;if(Fr.test(C)){const{projection:T}=this.visualElement;if(T&&T.layout){const D=T.layout.layoutBox[b];D&&(C=Mn(D)*(parseFloat(C)/100))}}this.originPoint[b]=C}),E&&Rt.postRender(()=>E(g,y)),M0(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},c=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y;const{dragPropagation:x,dragDirectionLock:_,onDirectionLock:E,onDrag:S}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:b}=y;if(_&&this.currentDirection===null){this.currentDirection=ON(b),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",y.point,b),this.updateAxis("y",y.point,b),this.visualElement.render(),S&&S(g,y)},f=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y,this.stop(g,y),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>ur(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new U_(e,{onSessionStart:a,onStart:s,onMove:c,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:F_(this.visualElement)})}stop(e,t){const r=e||this.latestPointerEvent,i=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:c}=this.getProps();c&&Rt.postRender(()=>c(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!uu(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=wN(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Bo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=_N(r.layoutBox,e):this.constraints=!1,this.elastic=AN(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ur(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=SN(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Bo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=R5(r,i.root,this.visualElement.getTransformPagePoint());let s=bN(i.layout.layoutBox,a);if(t){const c=t(C5(s));this.hasMutatedConstraints=!!c,c&&(s=S_(c))}return s}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:c}=this.getProps(),f=this.constraints||{},d=ur(p=>{if(!uu(p,t,this.currentDirection))return;let g=f&&f[p]||{};s&&(g={min:0,max:0});const y=i?200:1e6,x=i?40:1e7,_={type:"inertia",velocity:r?e[p]:0,bounceStiffness:y,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(p,_)});return Promise.all(d).then(c)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return M0(this.visualElement,e),r.start(P1(e,r,0,t,this.visualElement,!1))}stopAnimation(){ur(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ur(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ur(t=>{const{drag:r}=this.getProps();if(!uu(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(t);if(i&&i.layout){const{min:s,max:c}=i.layout.layoutBox[t];a.set(e[t]-kt(s,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Bo(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ur(s=>{const c=this.getAxisMotionValue(s);if(c&&this.constraints!==!1){const f=c.get();i[s]=EN({min:f,max:f},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ur(s=>{if(!uu(s,e,null))return;const c=this.getAxisMotionValue(s),{min:f,max:d}=this.constraints[s];c.set(kt(f,d,i[s]))})}addListeners(){if(!this.visualElement.current)return;CN.set(this.visualElement,this);const e=this.visualElement.current,t=pl(e,"pointerdown",f=>{const{drag:d,dragListener:p=!0}=this.getProps();d&&p&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Bo(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Rt.read(r);const s=Sl(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:d})=>{this.isDragging&&d&&(ur(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=f[p].translate,g.set(g.get()+f[p].translate))}),this.visualElement.render())}));return()=>{s(),t(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=j0,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:c}}}function uu(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function ON(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class RN extends Zi{constructor(e){super(e),this.removeGroupControls=hr,this.removeListeners=hr,this.controls=new TN(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Bx=n=>(e,t)=>{n&&Rt.postRender(()=>n(e,t))};class DN extends Zi{constructor(){super(...arguments),this.removePointerDownListener=hr}onPointerDown(e){this.session=new U_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:F_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Bx(e),onStart:Bx(t),onMove:r,onEnd:(a,s)=>{delete this.session,i&&Rt.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=pl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Lx(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const rl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Me.test(n))n=parseFloat(n);else return n;const t=Lx(n,e.target.x),r=Lx(n,e.target.y);return`${t}% ${r}%`}},NN={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=Yi.parse(n);if(i.length>5)return r;const a=Yi.createTransformer(n),s=typeof i[0]!="number"?1:0,c=t.x.scale*e.x,f=t.y.scale*e.y;i[0+s]/=c,i[1+s]/=f;const d=kt(c,f,.5);return typeof i[2+s]=="number"&&(i[2+s]/=d),typeof i[3+s]=="number"&&(i[3+s]/=d),a(i)}};let Vh=!1;class IN extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;e5(kN),a&&(t.group&&t.group.add(a),r&&r.register&&i&&r.register(a),Vh&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),wu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:a}=this.props,{projection:s}=r;return s&&(s.isPresent=a,Vh=!0,i||e.layoutDependency!==t||t===void 0||e.isPresent!==a?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||Rt.postRender(()=>{const c=s.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),S1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;Vh=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function z_(n){const[e,t]=u_(),r=R.useContext(n1);return m.jsx(IN,{...n,layoutGroup:r,switchLayoutGroup:R.useContext(b_),isPresent:e,safeToRemove:t})}const kN={borderRadius:{...rl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rl,borderTopRightRadius:rl,borderBottomLeftRadius:rl,borderBottomRightRadius:rl,boxShadow:NN};function MN(n,e,t){const r=Cn(n)?n:$o(n);return r.start(P1("",r,e,t)),r.animation}const PN=(n,e)=>n.depth-e.depth;class jN{constructor(){this.children=[],this.isDirty=!1}add(e){a1(this.children,e),this.isDirty=!0}remove(e){o1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(PN),this.isDirty=!1,this.children.forEach(e)}}function BN(n,e){const t=Hn.now(),r=({timestamp:i})=>{const a=i-t;a>=e&&(Wi(r),n(a-e))};return Rt.setup(r,!0),()=>Wi(r)}const H_=["TopLeft","TopRight","BottomLeft","BottomRight"],LN=H_.length,Fx=n=>typeof n=="string"?parseFloat(n):n,Ux=n=>typeof n=="number"||Me.test(n);function FN(n,e,t,r,i,a){i?(n.opacity=kt(0,t.opacity??1,UN(r)),n.opacityExit=kt(e.opacity??1,0,VN(r))):a&&(n.opacity=kt(e.opacity??1,t.opacity??1,r));for(let s=0;s<LN;s++){const c=`border${H_[s]}Radius`;let f=Vx(e,c),d=Vx(t,c);if(f===void 0&&d===void 0)continue;f||(f=0),d||(d=0),f===0||d===0||Ux(f)===Ux(d)?(n[c]=Math.max(kt(Fx(f),Fx(d),r),0),(Fr.test(d)||Fr.test(f))&&(n[c]+="%")):n[c]=d}(e.rotate||t.rotate)&&(n.rotate=kt(e.rotate||0,t.rotate||0,r))}function Vx(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const UN=G_(0,.5,Dw),VN=G_(.5,.95,hr);function G_(n,e,t){return r=>r<n?0:r>e?1:t(xl(n,e,r))}function zx(n,e){n.min=e.min,n.max=e.max}function lr(n,e){zx(n.x,e.x),zx(n.y,e.y)}function Hx(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function Gx(n,e,t,r,i){return n-=e,n=Mu(n,1/t,r),i!==void 0&&(n=Mu(n,1/i,r)),n}function zN(n,e=0,t=1,r=.5,i,a=n,s=n){if(Fr.test(e)&&(e=parseFloat(e),e=kt(s.min,s.max,e/100)-s.min),typeof e!="number")return;let c=kt(a.min,a.max,r);n===a&&(c-=e),n.min=Gx(n.min,e,t,c,i),n.max=Gx(n.max,e,t,c,i)}function $x(n,e,[t,r,i],a,s){zN(n,e[t],e[r],e[i],e.scale,a,s)}const HN=["x","scaleX","originX"],GN=["y","scaleY","originY"];function qx(n,e,t,r){$x(n.x,e,HN,t?t.x:void 0,r?r.x:void 0),$x(n.y,e,GN,t?t.y:void 0,r?r.y:void 0)}function Xx(n){return n.translate===0&&n.scale===1}function $_(n){return Xx(n.x)&&Xx(n.y)}function Wx(n,e){return n.min===e.min&&n.max===e.max}function $N(n,e){return Wx(n.x,e.x)&&Wx(n.y,e.y)}function Yx(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function q_(n,e){return Yx(n.x,e.x)&&Yx(n.y,e.y)}function Kx(n){return Mn(n.x)/Mn(n.y)}function Zx(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class qN{constructor(){this.members=[]}add(e){a1(this.members,e),e.scheduleRender()}remove(e){if(o1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function XN(n,e,t){let r="";const i=n.x.translate/e.x,a=n.y.translate/e.y,s=t?.z||0;if((i||a||s)&&(r=`translate3d(${i}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:d,rotate:p,rotateX:g,rotateY:y,skewX:x,skewY:_}=t;d&&(r=`perspective(${d}px) ${r}`),p&&(r+=`rotate(${p}deg) `),g&&(r+=`rotateX(${g}deg) `),y&&(r+=`rotateY(${y}deg) `),x&&(r+=`skewX(${x}deg) `),_&&(r+=`skewY(${_}deg) `)}const c=n.x.scale*e.x,f=n.y.scale*e.y;return(c!==1||f!==1)&&(r+=`scale(${c}, ${f})`),r||"none"}const zh=["","X","Y","Z"],WN=1e3;let YN=0;function Hh(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function X_(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=I_(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Rt,!(i||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&X_(r)}function W_({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},c=e?.()){this.id=YN++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(QN),this.nodes.forEach(nI),this.nodes.forEach(rI),this.nodes.forEach(JN)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new jN)}addEventListener(s,c){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new c1),this.eventHandlers.get(s).add(c)}notifyListeners(s,...c){const f=this.eventHandlers.get(s);f&&f.notify(...c)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=c_(s)&&!VD(s),this.instance=s;const{layoutId:c,layout:f,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||c)&&(this.isLayoutDirty=!0),n){let p,g=0;const y=()=>this.root.updateBlockedByResize=!1;Rt.read(()=>{g=window.innerWidth}),n(s,()=>{const x=window.innerWidth;x!==g&&(g=x,this.root.updateBlockedByResize=!0,p&&p(),p=BN(y,250),wu.hasAnimatedSinceResize&&(wu.hasAnimatedSinceResize=!1,this.nodes.forEach(e2)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||f)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||d.getDefaultTransition()||lI,{onLayoutAnimationStart:E,onLayoutAnimationComplete:S}=d.getProps(),b=!this.targetLayout||!q_(this.targetLayout,x),C=!g&&y;if(this.options.layoutRoot||this.resumeFrom||C||g&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...b1(_,"layout"),onPlay:E,onComplete:S};(d.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(p,C)}else g||e2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Wi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iI),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&X_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:f}=this.options;if(c===void 0&&!f)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Qx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Jx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(tI),this.nodes.forEach(KN),this.nodes.forEach(ZN)):this.nodes.forEach(Jx),this.clearAllSnapshots();const c=Hn.now();xn.delta=ui(0,1e3/60,c-xn.timestamp),xn.timestamp=c,xn.isProcessing=!0,Nh.update.process(xn),Nh.preRender.process(xn),Nh.render.process(xn),xn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,S1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eI),this.sharedNodes.forEach(aI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Mn(this.snapshot.measuredBox.x)&&!Mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(c=!1),c&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!$_(this.projectionDelta),f=this.getTransformTemplate(),d=f?f(this.latestValues,""):void 0,p=d!==this.prevTransformTemplateValue;s&&this.instance&&(c||ba(this.latestValues)||p)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const c=this.measurePageBox();let f=this.removeElementScroll(c);return s&&(f=this.removeTransform(f)),cI(f),{animationId:this.root.animationId,measuredBox:c,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Ut();const c=s.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(uI))){const{scroll:d}=this.root;d&&(Lo(c.x,d.offset.x),Lo(c.y,d.offset.y))}return c}removeElementScroll(s){const c=Ut();if(lr(c,s),this.scroll?.wasRoot)return c;for(let f=0;f<this.path.length;f++){const d=this.path[f],{scroll:p,options:g}=d;d!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&lr(c,s),Lo(c.x,p.offset.x),Lo(c.y,p.offset.y))}return c}applyTransform(s,c=!1){const f=Ut();lr(f,s);for(let d=0;d<this.path.length;d++){const p=this.path[d];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Fo(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),ba(p.latestValues)&&Fo(f,p.latestValues)}return ba(this.latestValues)&&Fo(f,this.latestValues),f}removeTransform(s){const c=Ut();lr(c,s);for(let f=0;f<this.path.length;f++){const d=this.path[f];if(!d.instance||!ba(d.latestValues))continue;D0(d.latestValues)&&d.updateSnapshot();const p=Ut(),g=d.measurePageBox();lr(p,g),qx(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,p)}return ba(this.latestValues)&&qx(c,this.latestValues),c}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==c;if(!(s||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=xn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ut(),this.relativeTargetOrigin=Ut(),vl(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ut(),this.targetWithTransforms=Ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):lr(this.target,this.layout.layoutBox),C_(this.target,this.targetDelta)):lr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ut(),this.relativeTargetOrigin=Ut(),vl(this.relativeTargetOrigin,this.target,y.target),lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||D0(this.parent.latestValues)||A_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const s=this.getLead(),c=!!this.resumingFrom||this!==s;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===xn.timestamp&&(f=!1),f)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;lr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;O5(this.layoutCorrected,this.treeScale,this.path,c),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Ut());const{target:x}=s;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Hx(this.prevProjectionDelta.x,this.projectionDelta.x),Hx(this.prevProjectionDelta.y,this.projectionDelta.y)),gl(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!Zx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Zx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.visualElement?.scheduleRender(),s){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Uo(),this.projectionDelta=Uo(),this.projectionDeltaWithTransform=Uo()}setAnimationOrigin(s,c=!1){const f=this.snapshot,d=f?f.latestValues:{},p={...this.latestValues},g=Uo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const y=Ut(),x=f?f.source:void 0,_=this.layout?this.layout.source:void 0,E=x!==_,S=this.getStack(),b=!S||S.members.length<=1,C=!!(E&&!b&&this.options.crossfade===!0&&!this.path.some(sI));this.animationProgress=0;let T;this.mixTargetDelta=D=>{const P=D/1e3;t2(g.x,s.x,P),t2(g.y,s.y,P),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vl(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oI(this.relativeTarget,this.relativeTargetOrigin,y,P),T&&$N(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Ut()),lr(T,this.relativeTarget)),E&&(this.animationValues=p,FN(p,d,this.latestValues,P,C,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Wi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rt.update(()=>{wu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=$o(0)),this.currentAnimation=MN(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),s.onUpdate&&s.onUpdate(c)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(WN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:c,target:f,layout:d,latestValues:p}=s;if(!(!c||!f||!d)){if(this!==s&&this.layout&&d&&Y_(this.options.animationType,this.layout.layoutBox,d.layoutBox)){f=this.target||Ut();const g=Mn(this.layout.layoutBox.x);f.x.min=s.target.x.min,f.x.max=f.x.min+g;const y=Mn(this.layout.layoutBox.y);f.y.min=s.target.y.min,f.y.max=f.y.min+y}lr(c,f),Fo(c,p),gl(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(s,c){this.sharedNodes.has(s)||this.sharedNodes.set(s,new qN),this.sharedNodes.get(s).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){const{layoutId:s}=this.options;return s?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:s}=this.options;return s?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:c,preserveFollowOpacity:f}={}){const d=this.getStack();d&&d.promote(this,f),s&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let c=!1;const{latestValues:f}=s;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(c=!0),!c)return;const d={};f.z&&Hh("z",s,d,this.animationValues);for(let p=0;p<zh.length;p++)Hh(`rotate${zh[p]}`,s,d,this.animationValues),Hh(`skew${zh[p]}`,s,d,this.animationValues);s.render();for(const p in d)s.setStaticValue(p,d[p]),this.animationValues&&(this.animationValues[p]=d[p]);s.scheduleRender()}applyProjectionStyles(s,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=xu(c?.pointerEvents)||"",s.transform=f?f(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=xu(c?.pointerEvents)||""),this.hasProjected&&!ba(this.latestValues)&&(s.transform=f?f({},""):"none",this.hasProjected=!1);return}s.visibility="";const p=d.animationValues||d.latestValues;this.applyTransformsToTarget();let g=XN(this.projectionDeltaWithTransform,this.treeScale,p);f&&(g=f(p,g)),s.transform=g;const{x:y,y:x}=this.projectionDelta;s.transformOrigin=`${y.origin*100}% ${x.origin*100}% 0`,d.animationValues?s.opacity=d===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:s.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const _ in El){if(p[_]===void 0)continue;const{correct:E,applyTo:S,isCSSVariable:b}=El[_],C=g==="none"?p[_]:E(p[_],d);if(S){const T=S.length;for(let D=0;D<T;D++)s[S[D]]=C}else b?this.options.visualElement.renderState.vars[_]=C:s[_]=C}this.options.layoutId&&(s.pointerEvents=d===this?xu(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>s.currentAnimation?.stop()),this.root.nodes.forEach(Qx),this.root.sharedNodes.clear()}}}function KN(n){n.updateLayout()}function ZN(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=n.layout,{animationType:i}=n.options,a=e.source!==n.layout.source;i==="size"?ur(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],y=Mn(g);g.min=t[p].min,g.max=g.min+y}):Y_(i,e.layoutBox,t)&&ur(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],y=Mn(t[p]);g.max=g.min+y,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[p].max=n.relativeTarget[p].min+y)});const s=Uo();gl(s,t,e.layoutBox);const c=Uo();a?gl(c,n.applyTransform(r,!0),e.measuredBox):gl(c,t,e.layoutBox);const f=!$_(s);let d=!1;if(!n.resumeFrom){const p=n.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:y}=p;if(g&&y){const x=Ut();vl(x,e.layoutBox,g.layoutBox);const _=Ut();vl(_,t,y.layoutBox),q_(x,_)||(d=!0),p.options.layoutRoot&&(n.relativeTarget=_,n.relativeTargetOrigin=x,n.relativeParent=p)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:c,layoutDelta:s,hasLayoutChanged:f,hasRelativeLayoutChanged:d})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function QN(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function JN(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function eI(n){n.clearSnapshot()}function Qx(n){n.clearMeasurements()}function Jx(n){n.isLayoutDirty=!1}function tI(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function e2(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function nI(n){n.resolveTargetDelta()}function rI(n){n.calcProjection()}function iI(n){n.resetSkewAndRotation()}function aI(n){n.removeLeadSnapshot()}function t2(n,e,t){n.translate=kt(e.translate,0,t),n.scale=kt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function n2(n,e,t,r){n.min=kt(e.min,t.min,r),n.max=kt(e.max,t.max,r)}function oI(n,e,t,r){n2(n.x,e.x,t.x,r),n2(n.y,e.y,t.y,r)}function sI(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const lI={duration:.45,ease:[.4,0,.1,1]},r2=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),i2=r2("applewebkit/")&&!r2("chrome/")?Math.round:hr;function a2(n){n.min=i2(n.min),n.max=i2(n.max)}function cI(n){a2(n.x),a2(n.y)}function Y_(n,e,t){return n==="position"||n==="preserve-aspect"&&!gN(Kx(e),Kx(t),.2)}function uI(n){return n!==n.root&&n.scroll?.wasRoot}const fI=W_({attachResizeListener:(n,e)=>Sl(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gh={current:void 0},K_=W_({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Gh.current){const n=new fI({});n.mount(window),n.setOptions({layoutScroll:!0}),Gh.current=n}return Gh.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),dI={pan:{Feature:DN},drag:{Feature:RN,ProjectionNode:K_,MeasureLayout:z_}};function o2(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,a=r[i];a&&Rt.postRender(()=>a(e,Pl(e)))}class hI extends Zi{mount(){const{current:e}=this.node;e&&(this.unmount=jD(e,(t,r)=>(o2(this.node,r,"Start"),i=>o2(this.node,i,"End"))))}unmount(){}}class pI extends Zi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Il(Sl(this.node.current,"focus",()=>this.onFocus()),Sl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function s2(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),a=r[i];a&&Rt.postRender(()=>a(e,Pl(e)))}class gI extends Zi{mount(){const{current:e}=this.node;e&&(this.unmount=UD(e,(t,r)=>(s2(this.node,r,"Start"),(i,{success:a})=>s2(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const B0=new WeakMap,$h=new WeakMap,vI=n=>{const e=B0.get(n.target);e&&e(n)},mI=n=>{n.forEach(vI)};function yI({root:n,...e}){const t=n||document;$h.has(t)||$h.set(t,{});const r=$h.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(mI,{root:n,...e})),r[i]}function xI(n,e,t){const r=yI(e);return B0.set(n,t),r.observe(n),()=>{B0.delete(n),r.unobserve(n)}}const wI={some:0,all:1};class _I extends Zi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:a}=e,s={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:wI[i]},c=f=>{const{isIntersecting:d}=f;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),y=d?p:g;y&&y(f)};return xI(this.node.current,s,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(bI(e,t))&&this.startObserver()}unmount(){}}function bI({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const EI={inView:{Feature:_I},tap:{Feature:gI},focus:{Feature:pI},hover:{Feature:hI}},SI={layout:{ProjectionNode:K_,MeasureLayout:z_}},AI={...cN,...EI,...dI,...SI},ct=A5(AI,L5),CI=()=>{const{status:n,loading:e,updating:t,toggleStatus:r}=yw(),[i,a]=R.useState({show:!1,message:"",type:"success"}),s=(d,p="success")=>{a({show:!0,message:d,type:p}),setTimeout(()=>{a({show:!1,message:"",type:"success"})},3e3)},c=async()=>{try{const d=n==="open"?"closed":"open";await r(),s(`Canteen ${d==="open"?"opened":"closed"} successfully!`)}catch(d){console.error("Toggle failed:",d),s("Failed to update canteen status. Please try again.","error")}},f=n==="open";return e?m.jsxs("div",{style:Gt.container,children:[m.jsx("div",{style:Gt.loadingSpinner}),m.jsx("span",{style:Gt.loadingText,children:"Loading..."})]}):m.jsxs(m.Fragment,{children:[m.jsxs(ct.button,{onClick:c,disabled:t,style:{...Gt.toggleContainer,...f?Gt.containerOpen:Gt.containerClosed,...t&&Gt.containerDisabled},whileHover:t?{}:{scale:1.02},whileTap:t?{}:{scale:.98},transition:{duration:.2},children:[m.jsx(ct.div,{style:Gt.iconWrapper,animate:{rotate:f?0:180},transition:{type:"spring",stiffness:200,damping:20},children:f?m.jsx(FO,{style:Gt.icon,strokeWidth:2.5}):m.jsx(vw,{style:Gt.icon,strokeWidth:2.5})}),m.jsxs("div",{style:Gt.textContent,children:[m.jsx("span",{style:Gt.statusLabel,children:"Status"}),m.jsx("span",{style:Gt.statusText,children:f?"Open":"Closed"})]}),m.jsx(ct.div,{style:{...Gt.indicator,...f?Gt.indicatorOpen:Gt.indicatorClosed},animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}),m.jsx(gr,{children:i.show&&m.jsx(ct.div,{style:Gt.toastContainer,initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:50,scale:.9},transition:{duration:.3},children:m.jsx("div",{style:{...Gt.toast,...i.type==="success"?Gt.toastSuccess:Gt.toastError},children:i.message})})})]})},Gt={container:{display:"flex",alignItems:"center",gap:"12px",padding:"8px 16px",background:"white",border:"1px solid #e5e7eb",borderRadius:"12px"},loadingSpinner:{width:"16px",height:"16px",border:"2px solid #e5e7eb",borderTop:"2px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"},loadingText:{fontSize:"14px",fontWeight:"500",color:"#6b7280"},toggleContainer:{display:"flex",alignItems:"center",gap:"16px",padding:"12px 20px",border:"2px solid",borderRadius:"12px",background:"white",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)",position:"relative",overflow:"hidden"},containerOpen:{borderColor:"#10b981",background:"linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%)"},containerClosed:{borderColor:"#ef4444",background:"linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%)"},containerDisabled:{opacity:.6,cursor:"not-allowed"},iconWrapper:{display:"flex",alignItems:"center",justifyContent:"center",width:"40px",height:"40px",borderRadius:"10px",background:"white",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.1)"},icon:{width:"24px",height:"24px",color:"#1f2937"},textContent:{display:"flex",flexDirection:"column",gap:"2px",flex:1},statusLabel:{fontSize:"11px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px",color:"#6b7280"},statusText:{fontSize:"16px",fontWeight:"700",color:"#111827",lineHeight:"1"},indicator:{width:"10px",height:"10px",borderRadius:"50%",boxShadow:"0 0 10px"},indicatorOpen:{background:"#10b981",boxShadow:"0 0 10px rgba(16, 185, 129, 0.6)"},indicatorClosed:{background:"#ef4444",boxShadow:"0 0 10px rgba(239, 68, 68, 0.6)"},toastContainer:{position:"fixed",bottom:"20px",right:"20px",zIndex:9999},toast:{padding:"16px 24px",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)",color:"white",fontSize:"14px",fontWeight:"600"},toastSuccess:{background:"linear-gradient(135deg, #10b981, #059669)"},toastError:{background:"linear-gradient(135deg, #ef4444, #dc2626)"}},TI=()=>{const[n,e]=R.useState([]),[t,r]=R.useState(!0),[i,a]=R.useState(new Set),[s,c]=R.useState({}),[f,d]=R.useState({}),[p,g]=R.useState(null),y=b=>!b||typeof b!="string"?"":b.toLowerCase().replace(/[^a-z0-9]+/g," ").trim().replace(/\s+/g," "),x=async()=>{try{r(!0);const{data:b,error:C}=await ve.from("food_items").select("id, name, price, available_quantity, pending_deliver_count");if(C)throw console.error("Food items error:",C),C;const T=(b||[]).map(P=>({...P,pendingCount:P.pending_deliver_count||0}));T.sort((P,L)=>L.pendingCount!==P.pendingCount?L.pendingCount-P.pendingCount:P.name.localeCompare(L.name)),console.log("🍽️ Food items with counts (sorted by priority):",T.map(P=>({name:P.name,pendingCount:P.pendingCount}))),e(T);const D={};T.forEach(P=>{D[P.id]=""}),c(D)}catch(b){console.error("Error fetching food items:",b),S("Error loading food items","error")}finally{r(!1)}},_=(b,C)=>{const T=n.find(P=>P.id===b),D=parseInt(C)||0;d(P=>{const L={...P};return delete L[b],L}),C!==""&&(D<0||D>T.pendingCount)&&d(P=>({...P,[b]:`Must be between 0 and ${T.pendingCount}`})),c(P=>({...P,[b]:C}))},E=async b=>{const C=n.find(D=>D.id===b),T=parseInt(s[b])||0;if(T<=0||T>C.pendingCount){d(D=>({...D,[b]:`Must be between 1 and ${C.pendingCount}`}));return}try{a(de=>new Set([...de,b])),console.log(`
🔍 ===== MARKING ORDERS READY =====`),console.log(`📋 Food Item: ${C.name} (ID: ${b})`),console.log(`🔢 Ready Count: ${T}`);const{data:D,error:P}=await ve.from("order_items").select("order_id, quantity").eq("food_item_id",b);console.log("📦 Order Items Query Result:",{data:D,error:P});let L=[];!P&&D&&D.length>0?(L=[...new Set(D.map(de=>de.order_id).filter(Boolean))],console.log(`✅ Found ${L.length} unique order IDs from order_items:`,L)):console.log(`⚠️ No order_items found for food_item_id: ${b}`);const{data:U,error:$}=await ve.from("orders").select("id, order_id, item_name, status, created_at, token_number, order_token, food_item_id").or("status.eq.pending,status.eq.PENDING").order("created_at",{ascending:!0});if($)throw console.error("❌ Error fetching pending orders:",$),$;console.log(`📥 Total pending orders in database: ${U?.length||0}`),U&&U.length>0&&console.log("🔍 Sample of pending orders:",U.slice(0,3).map(de=>({id:de.id,order_id:de.order_id,item_name:de.item_name,food_item_id:de.food_item_id,token:de.token_number||de.order_token})));const G=(U||[]).filter(de=>{const Ee=[];if(L.includes(de.id))return Ee.push("order_items.order_id matches orders.id"),!0;if(de.order_id&&L.includes(de.order_id))return Ee.push("order_items.order_id matches orders.order_id"),!0;if(de.food_item_id===b)return Ee.push("orders.food_item_id matches"),!0;const k=y(de.item_name),I=y(C.name);return k&&k===I?(Ee.push("item_name matches (normalized)"),!0):!1});if(console.log(`✅ Matched ${G.length} orders for ${C.name}`),G.length>0&&console.log("📋 Matched orders:",G.map(de=>({id:de.id,order_id:de.order_id,item_name:de.item_name,token:de.token_number||de.order_token,created:de.created_at}))),G.length===0){console.error("❌ No matching orders found!"),console.log("🔍 Debug info:"),console.log(`   - Food item ID: ${b}`),console.log(`   - Food item name: ${C.name}`),console.log(`   - Order IDs from order_items: ${L.length}`),console.log(`   - Total pending orders: ${U?.length||0}`),S(`No pending orders found for ${C.name}`,"error");return}const te=G.slice(0,T),ae=te.map(de=>de.id).filter(Boolean);if(ae.length===0){console.error("❌ No valid order IDs extracted!"),S("No valid order IDs found","error");return}console.log(`🎯 Will mark ${ae.length} orders as ready:`),te.forEach((de,Ee)=>{console.log(`   ${Ee+1}. ID: ${de.id}, Token: ${de.token_number||de.order_token}, Item: ${de.item_name}`)}),console.log("🔄 Updating orders in database...");const{data:le,error:se}=await ve.from("orders").update({status:"ready",updated_at:new Date().toISOString()}).in("id",ae).select();if(se)throw console.error("❌ Update error:",se),console.error("❌ Error details:",JSON.stringify(se,null,2)),se;console.log("✅ Database update successful!"),console.log("✅ Updated orders:",le),console.log(`===== COMPLETE =====
`),S(`✅ Marked ${ae.length} orders as ready for ${C.name}`,"success"),c(de=>({...de,[b]:""})),await x()}catch(D){console.error("❌ FATAL ERROR in markOrdersReady:",D),console.error("❌ Error stack:",D.stack),S(`Error: ${D.message||"Failed to update orders"}`,"error")}finally{a(D=>{const P=new Set(D);return P.delete(b),P})}},S=(b,C="success")=>{g({message:b,type:C}),setTimeout(()=>g(null),3e3)};return R.useEffect(()=>{x()},[]),t?m.jsx("div",{className:"home-dashboard",children:m.jsxs("div",{className:"card",children:[m.jsx("div",{className:"card-title",children:"Manage Orders"}),m.jsxs("div",{className:"flex items-center justify-center py-12",children:[m.jsx(Xi,{className:"w-8 h-8 animate-spin text-primary-500"}),m.jsx("span",{className:"ml-3 text-muted",children:"Loading food items..."})]})]})}):m.jsxs("div",{className:"home-dashboard",children:[m.jsxs("div",{className:"card",children:[m.jsx("div",{className:"card-title",children:"Manage Orders"}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"muted",children:"Mark orders as ready for each food item"}),m.jsxs("button",{onClick:x,disabled:t,className:"btn btn-primary",children:[m.jsx(EO,{className:`w-4 h-4 mr-2 ${t?"animate-spin":""}`}),"Refresh"]})]})]}),m.jsx("div",{className:"food-items-grid",children:n.map(b=>m.jsxs(ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"card compact-card",children:[m.jsxs("div",{className:"card-header",children:[m.jsx("h3",{className:"food-item-name",children:b.name}),m.jsxs("span",{className:"pending-badge",children:[b.pendingCount," pending"]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-muted mb-2",children:"Orders Ready"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"number",min:"0",max:b.pendingCount,value:s[b.id]||"",onChange:C=>_(b.id,C.target.value),placeholder:"0",className:"flex-1 input",disabled:b.pendingCount===0||i.has(b.id)}),m.jsx("button",{onClick:()=>E(b.id),disabled:b.pendingCount===0||i.has(b.id)||!s[b.id]||f[b.id],className:"btn btn-success",children:i.has(b.id)?m.jsx(Xi,{className:"w-4 h-4 animate-spin"}):m.jsx(Go,{className:"w-4 h-4"})})]})]}),m.jsx(gr,{children:f[b.id]&&m.jsxs(ct.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center text-sm text-red-500",children:[m.jsx(Da,{className:"w-4 h-4 mr-1"}),f[b.id]]})})]})]},b.id))}),m.jsx(gr,{children:p&&m.jsx(ct.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:`fixed bottom-4 right-4 p-4 rounded-lg shadow-lg z-50 ${p.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:m.jsxs("div",{className:"flex items-center",children:[p.type==="success"?m.jsx(Go,{className:"w-5 h-5 mr-2"}):m.jsx(Da,{className:"w-5 h-5 mr-2"}),p.message]})})})]})},OI=()=>m.jsx("div",{className:"home-dashboard",children:m.jsx("div",{className:"dashboard-content",children:m.jsx(ct.div,{className:"card coming-soon-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:m.jsxs("div",{className:"coming-soon-content",children:[m.jsx(ct.div,{className:"coming-soon-icon",animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:"🚀"}),m.jsx("h2",{className:"coming-soon-title",children:"Pre-Order Feature"}),m.jsx("p",{className:"coming-soon-description",children:"We're working on an exciting pre-order system that will allow you to reserve your favorite meals in advance. Stay tuned for updates!"}),m.jsx("div",{className:"coming-soon-status",children:m.jsxs("div",{className:"status-indicator",children:[m.jsx(Xi,{className:"w-4 h-4 animate-spin"}),m.jsx("span",{children:"In Development"})]})}),m.jsxs("div",{className:"features-preview",children:[m.jsx("h3",{className:"features-title",children:"What to Expect:"}),m.jsxs("div",{className:"features-list",children:[m.jsxs("div",{className:"feature-item",children:[m.jsx(aO,{className:"w-5 h-5 text-primary"}),m.jsx("span",{children:"Schedule orders in advance"})]}),m.jsxs("div",{className:"feature-item",children:[m.jsx(xO,{className:"w-5 h-5 text-primary"}),m.jsx("span",{children:"Pickup time slots"})]})]})]})]})})})}),RI=({isOpen:n,onClose:e,onItemRestored:t})=>{const[r,i]=R.useState([]),[a,s]=R.useState(!1),[c,f]=R.useState(new Set),[d,p]=R.useState(null),g=async()=>{try{s(!0);const{data:E,error:S}=await ve.from("food_items").select("*").eq("is_active",!1).order("name");if(S){console.error("Error fetching removed items:",S),_("Failed to load removed items","error");return}i(E||[])}catch(E){console.error("Error fetching removed items:",E),_("Failed to load removed items","error")}finally{s(!1)}},y=async(E,S)=>{try{f(C=>new Set([...C,E]));const{error:b}=await ve.from("food_items").update({is_active:!0}).eq("id",E);if(b){console.error("Error restoring item:",b),_(`Failed to restore ${S}`,"error");return}_(`${S} has been restored successfully!`,"success"),await g(),t&&t()}catch(b){console.error("Error restoring item:",b),_(`Failed to restore ${S}`,"error")}finally{f(b=>{const C=new Set(b);return C.delete(E),C})}},x=async(E,S)=>{if(window.confirm(`Are you sure you want to permanently delete "${S}"? This action cannot be undone.`))try{f(C=>new Set([...C,E]));const{error:b}=await ve.from("food_items").delete().eq("id",E);if(b){console.error("Error permanently deleting item:",b),_(`Failed to delete ${S}`,"error");return}_(`${S} has been permanently deleted`,"success"),await g(),t&&t()}catch(b){console.error("Error permanently deleting item:",b),_(`Failed to delete ${S}`,"error")}finally{f(b=>{const C=new Set(b);return C.delete(E),C})}},_=(E,S="success")=>{p({message:E,type:S}),setTimeout(()=>p(null),3e3)};return R.useEffect(()=>{n&&g()},[n]),R.useEffect(()=>{const E=S=>{S.key==="Escape"&&e()};if(n)return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[n,e]),m.jsx(gr,{children:n&&m.jsxs(m.Fragment,{children:[m.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:999}}),m.jsxs(ct.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},style:{position:"fixed",right:0,top:0,height:"100vh",width:"400px",backgroundColor:"#ffffff",boxShadow:"-4px 0 20px rgba(0, 0, 0, 0.3)",zIndex:1e3,display:"flex",flexDirection:"column",opacity:1},className:"dark:!bg-gray-800",children:[m.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:!bg-gray-900",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"24px",backgroundColor:"#f9fafb"},children:[m.jsxs("div",{children:[m.jsx("h2",{className:"dark:!text-white",style:{fontSize:"20px",fontWeight:"600",margin:0,color:"#111827"},children:"Removed Items"}),m.jsxs("p",{className:"dark:!text-gray-300",style:{fontSize:"14px",marginTop:"4px",color:"#6b7280"},children:[r.length," item",r.length!==1?"s":""," removed"]})]}),m.jsx("button",{onClick:e,className:"hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",style:{padding:"8px",borderRadius:"8px",border:"none",cursor:"pointer",background:"transparent"},children:m.jsx(Tn,{size:20,className:"dark:!text-gray-300",style:{color:"#6b7280"}})})]}),m.jsx("div",{className:"bg-white dark:!bg-gray-800",style:{flex:1,overflowY:"auto",padding:"24px",backgroundColor:"#ffffff"},children:a?m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"48px 0"},children:[m.jsx(Xi,{style:{width:"32px",height:"32px",color:"#3b82f6"},className:"animate-spin"}),m.jsx("span",{className:"dark:!text-gray-300",style:{marginLeft:"12px",color:"#6b7280"},children:"Loading removed items..."})]}):r.length===0?m.jsxs("div",{style:{textAlign:"center",padding:"48px 0"},children:[m.jsx("div",{className:"dark:!text-gray-400",style:{marginBottom:"16px",color:"#9ca3af"},children:m.jsx(Da,{size:48,style:{margin:"0 auto"}})}),m.jsx("h3",{className:"dark:!text-white",style:{fontSize:"18px",fontWeight:"500",marginBottom:"8px",color:"#111827"},children:"No Removed Items"}),m.jsx("p",{className:"dark:!text-gray-300",style:{color:"#6b7280"},children:"All items are currently active in your inventory."})]}):m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:r.map(E=>m.jsx(ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-gray-50 dark:!bg-gray-700 border border-gray-200 dark:border-gray-600",style:{borderRadius:"12px",padding:"16px",backgroundColor:"#f9fafb"},children:m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[m.jsxs("div",{style:{flex:1},children:[m.jsx("h4",{className:"dark:!text-white",style:{fontWeight:"500",marginBottom:"4px",color:"#111827"},children:E.name}),m.jsxs("p",{className:"dark:!text-gray-300",style:{fontSize:"14px",marginTop:"4px",color:"#6b7280"},children:["Price: ₹",E.price||E.cost||"N/A"]}),E.description&&m.jsx("p",{className:"dark:!text-gray-400",style:{fontSize:"12px",marginTop:"4px",color:"#9ca3af"},children:E.description})]}),m.jsxs("div",{style:{display:"flex",gap:"8px"},children:[m.jsxs("button",{onClick:()=>y(E.id,E.name),disabled:c.has(E.id),style:{flex:1,padding:"8px 12px",backgroundColor:c.has(E.id)?"#d1d5db":"#10b981",color:"#ffffff",fontSize:"14px",borderRadius:"8px",border:"none",cursor:c.has(E.id)?"not-allowed":"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontWeight:"500"},onMouseEnter:S=>{c.has(E.id)||(S.currentTarget.style.backgroundColor="#059669")},onMouseLeave:S=>{c.has(E.id)||(S.currentTarget.style.backgroundColor="#10b981")},children:[c.has(E.id)?m.jsx(Xi,{size:16,className:"animate-spin",style:{color:"#ffffff"}}):m.jsx(Yy,{size:16,style:{color:"#ffffff"}}),m.jsx("span",{style:{color:"#ffffff"},children:c.has(E.id)?"Restoring...":"Add Back"})]}),m.jsxs("button",{onClick:()=>x(E.id,E.name),disabled:c.has(E.id),style:{flex:1,padding:"8px 12px",backgroundColor:c.has(E.id)?"#d1d5db":"#ef4444",color:"#ffffff",fontSize:"14px",borderRadius:"8px",border:"none",cursor:c.has(E.id)?"not-allowed":"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontWeight:"500"},onMouseEnter:S=>{c.has(E.id)||(S.currentTarget.style.backgroundColor="#dc2626")},onMouseLeave:S=>{c.has(E.id)||(S.currentTarget.style.backgroundColor="#ef4444")},children:[m.jsx(Tn,{size:16,style:{color:"#ffffff"}}),m.jsx("span",{style:{color:"#ffffff"},children:"Delete"})]})]})]})},E.id))})}),m.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 bg-white dark:!bg-gray-800",style:{padding:"24px",backgroundColor:"#ffffff"},children:m.jsxs("button",{onClick:g,disabled:a,className:"bg-gray-100 hover:bg-gray-200 dark:!bg-gray-700 dark:hover:!bg-gray-600 dark:!text-gray-200 transition-colors",style:{width:"100%",padding:"10px 16px",borderRadius:"8px",border:"none",cursor:a?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"14px",fontWeight:"500",color:"#374151"},children:[m.jsx(Yy,{size:16,className:`${a?"animate-spin":""} dark:!text-gray-200`,style:{color:"#374151"}}),m.jsx("span",{style:{color:"#374151"},className:"dark:!text-gray-200",children:"Refresh List"})]})})]}),m.jsx(gr,{children:d&&m.jsx(ct.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},style:{position:"fixed",bottom:"20px",right:"20px",padding:"16px",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)",zIndex:9999,backgroundColor:d.type==="success"?"#10b981":"#ef4444",color:"white"},children:m.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[d.type==="success"?m.jsx(Go,{style:{width:"20px",height:"20px",marginRight:"8px"}}):m.jsx(Da,{style:{width:"20px",height:"20px",marginRight:"8px"}}),d.message]})})})]})})},l2=({value:n,onChange:e,disabled:t=!1,maxSize:r=10*1024*1024,acceptedTypes:i=["image/jpeg","image/jpg","image/png","image/gif","image/webp"],className:a=""})=>{const[s,c]=R.useState(!1),[f,d]=R.useState(""),p=R.useRef(null),g=b=>{b.preventDefault(),b.stopPropagation(),b.type==="dragenter"||b.type==="dragover"?c(!0):b.type==="dragleave"&&c(!1)},y=b=>{if(b.preventDefault(),b.stopPropagation(),c(!1),t)return;const C=b.dataTransfer.files;C&&C[0]&&_(C[0])},x=b=>{if(t)return;const C=b.target.files?.[0];C&&_(C)},_=b=>{if(d(""),!i.includes(b.type)){d(`Invalid file type. Allowed types: ${i.join(", ")}`);return}if(b.size>r){d(`File too large. Maximum size is ${(r/1024/1024).toFixed(1)}MB`);return}e(b)},E=()=>{e(null),d(""),p.current&&(p.current.value="")},S=b=>{if(b===0)return"0 Bytes";const C=1024,T=["Bytes","KB","MB","GB"],D=Math.floor(Math.log(b)/Math.log(C));return parseFloat((b/Math.pow(C,D)).toFixed(2))+" "+T[D]};return m.jsxs("div",{className:`image-upload-container ${a}`,children:[m.jsx("input",{ref:p,type:"file",accept:i.join(","),onChange:x,style:{display:"none"},disabled:t}),m.jsx("div",{className:`upload-area ${s?"drag-active":""} ${t?"disabled":""}`,onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:y,onClick:()=>!t&&p.current?.click(),children:n?m.jsxs("div",{className:"file-selected",children:[m.jsx("div",{className:"file-preview",children:m.jsx("img",{src:URL.createObjectURL(n),alt:"Preview",className:"preview-image"})}),m.jsxs("div",{className:"file-info",children:[m.jsx("div",{className:"file-name",children:n.name}),m.jsx("div",{className:"file-size",children:S(n.size)})]}),m.jsx("button",{type:"button",onClick:b=>{b.stopPropagation(),E()},className:"remove-file-btn",disabled:t,children:m.jsx(Tn,{size:16})})]}):m.jsxs("div",{className:"upload-empty",children:[m.jsx("div",{className:"upload-icon",children:m.jsx(pw,{size:32})}),m.jsxs("div",{className:"upload-text",children:[m.jsx("div",{className:"upload-title",children:s?"Drop image here":"Click or drag to upload"}),m.jsxs("div",{className:"upload-subtitle",children:["Supports: JPG, PNG, GIF, WebP (max ",S(r),")"]})]}),m.jsx(MO,{size:20,className:"upload-arrow"})]})}),f&&m.jsxs(ct.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"upload-error",children:[m.jsx(Da,{size:16}),m.jsx("span",{children:f})]})]})};let Qn=!1;const DI=(n=800,e=200,t=.3)=>{if(Qn){console.log("🔇 Beep skipped (already playing)");return}try{Qn=!0;const r=window.AudioContext||window.webkitAudioContext;if(!r){console.warn("⚠️ Web Audio API not supported");return}const i=new r,a=i.createOscillator(),s=i.createGain();a.connect(s),s.connect(i.destination),a.frequency.setValueAtTime(n,i.currentTime),a.type="sine",s.gain.setValueAtTime(0,i.currentTime),s.gain.linearRampToValueAtTime(t,i.currentTime+.01),s.gain.exponentialRampToValueAtTime(.01,i.currentTime+e/1e3),a.start(i.currentTime),a.stop(i.currentTime+e/1e3),setTimeout(()=>{Qn=!1},e+100),console.log("🔊 Notification beep played")}catch(r){console.warn("⚠️ Failed to generate notification beep:",r),Qn=!1}},NI=(n=.3)=>{if(Qn){console.log("🔇 Double beep skipped (already playing)");return}try{Qn=!0;const e=window.AudioContext||window.webkitAudioContext,t=new e,r=t.createOscillator(),i=t.createGain();r.connect(i),i.connect(t.destination),r.frequency.setValueAtTime(800,t.currentTime),r.type="sine",i.gain.setValueAtTime(0,t.currentTime),i.gain.linearRampToValueAtTime(n,t.currentTime+.01),i.gain.exponentialRampToValueAtTime(.01,t.currentTime+.1),r.start(t.currentTime),r.stop(t.currentTime+.1),setTimeout(()=>{const a=t.createOscillator(),s=t.createGain();a.connect(s),s.connect(t.destination),a.frequency.setValueAtTime(1e3,t.currentTime),a.type="sine",s.gain.setValueAtTime(0,t.currentTime),s.gain.linearRampToValueAtTime(n,t.currentTime+.01),s.gain.exponentialRampToValueAtTime(.01,t.currentTime+.15),a.start(t.currentTime),a.stop(t.currentTime+.15)},150),setTimeout(()=>{Qn=!1},400),console.log("🔊 Double notification beep played")}catch(e){console.warn("⚠️ Failed to generate double beep:",e),Qn=!1}},II=(n=.3,e=null)=>{if(Qn){console.log("🔇 Notification skipped (already playing)");return}try{if(Qn=!0,!e){const a=window.AudioContext||window.webkitAudioContext;if(!a){console.warn("⚠️ Web Audio API not supported"),Qn=!1;return}e=new a}const t=[523,659,784],r=[],i=[];t.forEach((a,s)=>{const c=e.createOscillator(),f=e.createGain();c.connect(f),f.connect(e.destination),c.frequency.setValueAtTime(a,e.currentTime),c.type="sine";const d=e.currentTime+s*.02,p=d+.3;f.gain.setValueAtTime(0,d),f.gain.linearRampToValueAtTime(n*.3,d+.01),f.gain.exponentialRampToValueAtTime(.01,p),c.start(d),c.stop(p),r.push(c),i.push(f)}),setTimeout(()=>{Qn=!1},400),console.log("🔊 Pleasant notification sound played")}catch(t){console.warn("⚠️ Failed to generate pleasant notification:",t),Qn=!1}};let qh=null,c2=!1;const jl=()=>{const n=R.useRef(null),e=R.useRef(!1),t=R.useCallback(async()=>{if(e.current||c2){n.current=qh,e.current=!0;return}try{const c=window.AudioContext||window.webkitAudioContext;n.current=new c,qh=n.current,n.current.state==="suspended"&&await n.current.resume(),e.current=!0,c2=!0,console.log("🔊 Sound notification system initialized")}catch(c){console.warn("⚠️ Failed to initialize audio:",c)}},[]),r=R.useCallback(async()=>{try{e.current||await t();const c=qh||n.current;if(!c){console.warn("⚠️ Audio context not available");return}c.state==="suspended"&&await c.resume(),console.log("🔊 Calling generatePleasantNotification with audio context:",c),II(.3,c)}catch(c){console.warn("⚠️ Failed to play notification sound:",c)}},[t]),i=R.useCallback(async()=>{try{e.current||await t(),await r()}catch(c){console.warn("⚠️ Failed to play notification with interaction:",c)}},[t,r]),a=R.useCallback(()=>{NI(.3)},[]),s=R.useCallback(()=>{DI(800,200,.3)},[]);return R.useEffect(()=>()=>{n.current&&(n.current.close(),n.current=null)},[]),{playNotification:r,playNotificationWithInteraction:i,playDoubleBeep:a,playSimpleBeep:s,initializeAudio:t}},Xh="dd856fdc-905b-4de3-a7e3-771ad81df52c",Z_=R.createContext(),qu=()=>{const n=R.useContext(Z_);if(!n)throw new Error("useNotification must be used within a NotificationProvider");return n},kI=({children:n})=>{const{playNotification:e,initializeAudio:t}=jl(),[r,i]=R.useState(!0),[a,s]=R.useState(0),[c,f]=R.useState(!1),[d,p]=R.useState(0),[g,y]=R.useState(null),x=R.useRef(null),_=R.useRef(null),E=R.useRef(3e3),S=R.useRef(null),b=R.useRef(null),C=R.useRef(new Set);R.useEffect(()=>{const G=async()=>{if(!c){console.log("🔊 Initializing audio on first user interaction...");try{await t(),f(!0),console.log("✅ Audio initialization successful")}catch(te){console.error("❌ Audio initialization failed:",te)}document.removeEventListener("click",G),document.removeEventListener("keydown",G)}};return document.addEventListener("click",G),document.addEventListener("keydown",G),document.addEventListener("touchstart",G),()=>{document.removeEventListener("click",G),document.removeEventListener("keydown",G),document.removeEventListener("touchstart",G)}},[t,c,e]);const T=R.useCallback(G=>{S.current&&clearTimeout(S.current);const te=G.isCancellation||G.order_type==="cancelled",ae=G.isAvailabilityChange,le=G.isError;let se={id:Date.now(),timestamp:new Date().toISOString(),orderData:G};le?(se.type="error",se.title="Error!",se.message=G.item_name||"An error occurred"):ae?(se.type="availability_change",se.title="Item Availability Updated!",se.message=G.item_name||"Item availability has been changed"):te?(se.type="order_cancelled",se.title="Order Cancelled!",se.message=`${G.item_name||"Order"} has been cancelled`):(se.type="new_order",se.title="New Order Received!",se.message=`Order #${G.order_token||G.token_no||"N/A"} - ${G.item_name||"Unknown Item"}`),y(se),S.current=setTimeout(()=>{y(null)},5e3)},[]),D=R.useCallback(async G=>{if(console.log("🔔 showOrderNotification called with:",G),console.log("🔔 Current state:",{isEnabled:r,isInitialized:c,timeSinceLastNotification:Date.now()-d,cooldown:E.current}),!r){console.log("🔇 Notifications disabled");return}if(!c){console.log("🔇 Audio not initialized yet");return}const te=Date.now(),ae=te-d,le=[G?.id,G?.order_id,G?.token_no,G?.order_token].filter(Boolean);for(const de of le)if(C.current.has(de)){console.log("🔇 Notification suppressed for local order:",de),C.current.delete(de);return}const se=G.id||G.order_id||G.token_no;if(b.current===se){console.log("🔇 Notification skipped (duplicate order ID):",se);return}if(ae<E.current){console.log("🔇 Notification skipped (cooldown active):",ae,"ms <",E.current,"ms");return}console.log("🔔 Showing order notification...",G),p(te),b.current=se,console.log("📱 Showing popup notification..."),T(G),console.log("🔊 Attempting to play notification sound...");try{await e(),console.log("✅ Sound notification played successfully")}catch(de){console.error("❌ Failed to play sound notification:",de)}},[e,d,T,r,c]),P=R.useCallback(()=>{y(null),S.current&&clearTimeout(S.current)},[]);R.useEffect(()=>{if(!r||!c)return;const G=async()=>{try{const{data:te,error:ae}=await ve.from("orders").select("id, status, user_id").in("status",["pending","PENDING"]).neq("user_id",Xh).gte("created_at",new Date(Date.now()-6e4).toISOString());if(ae){console.warn("⚠️ Failed to check for new orders:",ae);return}const le=te?.length||0;if(le>a&&a>0){console.log("🔔 New order detected via polling!");try{const{data:se}=await ve.from("orders").select("*").in("status",["pending","PENDING"]).neq("user_id",Xh).order("created_at",{ascending:!1}).limit(1).single();se?await D(se):await D({item_name:"New Order",order_token:"N/A"})}catch(se){console.warn("⚠️ Failed to get latest order details:",se),await D({item_name:"New Order",order_token:"N/A"})}}s(le)}catch(te){console.warn("⚠️ Error checking for new orders:",te)}};return x.current=setInterval(G,5e3),()=>{x.current&&clearInterval(x.current)}},[r,c,a,D]),R.useEffect(()=>{if(!(!r||!c))return _.current&&_.current.unsubscribe(),_.current=ve.channel("orders-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders"},async G=>{console.log("🔔 NotificationContext: New order inserted via real-time:",G.new),console.log("🔍 Order details:",{status:G.new.status,user_id:G.new.user_id,item_name:G.new.item_name,created_at:G.new.created_at,id:G.new.id});const te=G.new.status==="pending"||G.new.status==="PENDING",ae=G.new.user_id!==Xh;if(console.log("🔍 Filter check:",{isPending:te,isNotAppOrder:ae,willNotify:te&&ae,statusValue:G.new.status,userIdValue:G.new.user_id}),te&&ae){console.log("✅ NotificationContext: Showing notification for counter order!");try{await D(G.new),console.log("✅ NotificationContext: Notification triggered successfully")}catch(le){console.error("❌ NotificationContext: Error showing notification:",le)}}else console.log("❌ NotificationContext: Notification filtered out:",{reason:te?"App order":"Not pending status",status:G.new.status,user_id:G.new.user_id})}).subscribe(),()=>{_.current&&(_.current.unsubscribe(),_.current=null)}},[r,c,D]),R.useEffect(()=>{if(!r||!c)return;const G=async te=>{console.log("🔔 NotificationContext: Received orderInserted event from Orders Panel:",te.detail),console.log("🔍 Event details:",{orderData:te.detail,isEnabled:r,isInitialized:c});try{const ae=te.detail;console.log("✅ NotificationContext: Triggering notification from Orders Panel event!"),await D(ae),console.log("✅ NotificationContext: Orders Panel notification triggered successfully")}catch(ae){console.warn("⚠️ NotificationContext: Error handling orderInserted event:",ae)}};return window.addEventListener("orderInserted",G),()=>{window.removeEventListener("orderInserted",G)}},[r,c,D]);const $={isEnabled:r,toggleNotifications:()=>{i(!r)},playTestSound:async()=>{await e()},isInitialized:c,popupNotification:g,closePopupNotification:P,showOrderNotification:D,suppressNotificationForOrder:G=>{if(G)try{C.current.add(G),setTimeout(()=>C.current.delete(G),6e4)}catch{}}};return m.jsx(Z_.Provider,{value:$,children:n})};function MI(){const[n,e]=R.useState(null),[t,r]=R.useState(!1),[i,a]=R.useState(""),{playNotification:s}=jl();R.useRef(""),R.useRef(null);const c=R.useRef({code:"",time:0}),f=R.useCallback(x=>{if(!x)return null;const _=String(x).trim();if(_.startsWith("IARE_"))return _;try{const S=new URL(_).searchParams,b=S.get("order_qr_code")||S.get("encrypted_code")||S.get("code");if(b&&b.startsWith("IARE_"))return b}catch{}return null},[]),d=R.useCallback(async x=>{try{console.log("🔍 Fetching order for code:",x);const{data:_,error:E}=await ve.from("orders").select("id,item_name,encrypted_code,order_token,created_at,status,total_amount,user_id,order_type").eq("encrypted_code",x).limit(1).maybeSingle();if(E)throw console.error("Error fetching order:",E),E;return _&&_.encrypted_code===x?(console.log("✅ Order found:",_),_):(console.log("❌ No order found for code:",x),null)}catch(_){return console.error("Failed to fetch order:",_),null}},[]),p=R.useCallback(async x=>{const _=Date.now();if(c.current.code===x&&_-c.current.time<2e3){console.log("⏭️ Duplicate scan ignored");return}c.current={code:x,time:_};const E=f(x);if(!E){console.log("❌ Invalid QR code format"),a("Invalid QR code"),setTimeout(()=>a(""),2e3);return}if(t||n){console.log("📋 Already processing an order, ignoring new scan"),a("Please complete current order first"),setTimeout(()=>a(""),2e3);return}r(!0);const S=await d(E);if(S){e(S),a("✅ Order scanned successfully");try{await s()}catch(b){console.log("Sound failed:",b)}setTimeout(()=>a(""),2e3)}else a("❌ Order not found"),setTimeout(()=>a(""),2e3);r(!1)},[n,t,f,d,s]),g=R.useCallback(()=>{e(null),a("")},[]),y=R.useCallback(x=>{p(x)},[p]);return{scannedOrder:n,isProcessing:t,scanMessage:i,closeModal:g,scanQRCode:y,processQRCode:p}}const PI="dd856fdc-905b-4de3-a7e3-771ad81df52c";function jI(n){const e=String(n||"").toLowerCase();return e==="pending"?"PENDING":e==="preparing"?"PREPARING":e==="ready"?"READY":e==="delivered"?"DELIVERED":e==="cancelled"?"CANCELLED":e.toUpperCase()}function BI({order:n,onClose:e}){const{playNotification:t}=jl(),[r,i]=R.useState(!1),[a,s]=R.useState(""),c=async()=>{if(n){i(!0),s("");try{const{error:d}=await ve.rpc("update_order_status_flexible",{p_order_id:n.id,p_new_status:"delivered"});if(d)throw d;try{await t()}catch(p){console.log("Sound failed:",p)}s("✅ Order marked as delivered"),setTimeout(()=>{e(),s("")},1e3)}catch(d){console.error("Failed to update order:",d),s(`❌ Failed: ${d.message||"Unknown error"}`),setTimeout(()=>s(""),3e3)}finally{i(!1)}}},f=async()=>{if(n&&window.confirm("Are you sure you want to cancel this order?")){i(!0),s("");try{const{error:d}=await ve.rpc("update_order_status_flexible",{p_order_id:n.id,p_new_status:"cancelled"});if(d)throw d;try{await t()}catch(p){console.log("Sound failed:",p)}s("✅ Order cancelled"),setTimeout(()=>{e(),s("")},1e3)}catch(d){console.error("Failed to cancel order:",d),s(`❌ Failed: ${d.message||"Unknown error"}`),setTimeout(()=>s(""),3e3)}finally{i(!1)}}};return n?m.jsxs(gr,{children:[m.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:1e4,backdropFilter:"blur(4px)"}}),m.jsxs(ct.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",stiffness:300,damping:25},onClick:d=>d.stopPropagation(),style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#ffffff",borderRadius:"16px",padding:"24px",zIndex:10001,maxWidth:"500px",width:"90%",maxHeight:"85vh",overflow:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",borderBottom:"2px solid #e5e7eb",paddingBottom:"16px"},children:[m.jsx("h3",{style:{margin:0,fontSize:"20px",fontWeight:"600",color:"#1f2937"},children:"📦 Order Scanned"}),m.jsx("button",{onClick:e,disabled:r,style:{background:"none",border:"none",cursor:r?"not-allowed":"pointer",padding:"4px",display:"flex",alignItems:"center",color:"#6b7280",opacity:r?.5:1},children:m.jsx(Tn,{size:24})})]}),m.jsxs("div",{style:{backgroundColor:"#f9fafb",borderRadius:"12px",padding:"16px",marginBottom:"20px"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px",paddingBottom:"16px",borderBottom:"1px solid #e5e7eb"},children:[m.jsx("span",{style:{color:"#6b7280",fontSize:"14px",fontWeight:"500"},children:"Token Number:"}),m.jsxs("span",{style:{fontSize:"32px",fontWeight:"700",color:"#1f2937",backgroundColor:"#fff",padding:"8px 16px",borderRadius:"10px",border:"3px solid #3b82f6",letterSpacing:"2px"},children:["#",n.order_token||"N/A"]})]}),m.jsxs("div",{style:{marginBottom:"12px"},children:[m.jsx("span",{style:{color:"#6b7280",fontSize:"14px",display:"block",marginBottom:"4px"},children:"Items:"}),m.jsx("div",{style:{fontWeight:"600",color:"#1f2937",fontSize:"16px"},children:n.item_name||"Order Items"})]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"12px"},children:[m.jsxs("div",{children:[m.jsx("span",{style:{color:"#6b7280",fontSize:"14px",display:"block",marginBottom:"4px"},children:"Total Amount:"}),m.jsxs("div",{style:{fontWeight:"600",color:"#1f2937",fontSize:"18px"},children:["₹",n.total_amount!=null?n.total_amount:"-"]})]}),m.jsxs("div",{children:[m.jsx("span",{style:{color:"#6b7280",fontSize:"14px",display:"block",marginBottom:"4px"},children:"Current Status:"}),m.jsx("div",{style:{fontWeight:"600",fontSize:"16px",color:n.status==="pending"?"#f59e0b":n.status==="preparing"?"#3b82f6":n.status==="ready"?"#10b981":n.status==="delivered"?"#6b7280":"#dc2626"},children:jI(n.status)})]})]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[m.jsxs("div",{children:[m.jsx("span",{style:{color:"#6b7280",fontSize:"14px",display:"block",marginBottom:"4px"},children:"Order Type:"}),m.jsx("div",{style:{fontWeight:"500",color:"#1f2937",fontSize:"14px"},children:n.order_type?"🥡 Takeaway":"🍽️ Dine In"})]}),m.jsxs("div",{children:[m.jsx("span",{style:{color:"#6b7280",fontSize:"14px",display:"block",marginBottom:"4px"},children:"Placed Via:"}),m.jsx("div",{style:{fontWeight:"500",color:"#1f2937",fontSize:"14px"},children:n.user_id===PI?"📱 App":"🏪 Counter"})]})]})]}),a&&m.jsx("div",{style:{marginBottom:"16px",padding:"12px",borderRadius:"8px",backgroundColor:a.includes("✅")?"#d1fae5":"#fee2e2",color:a.includes("✅")?"#065f46":"#991b1b",fontSize:"14px",fontWeight:"500",textAlign:"center"},children:a}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[n.status!=="delivered"&&n.status!=="cancelled"&&m.jsxs("button",{onClick:c,disabled:r,style:{width:"100%",padding:"16px 20px",fontSize:"16px",fontWeight:"600",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"10px",cursor:r?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s ease",opacity:r?.6:1},onMouseEnter:d=>{r||(d.target.style.backgroundColor="#059669")},onMouseLeave:d=>{r||(d.target.style.backgroundColor="#10b981")},children:[r?m.jsx(Xi,{size:18,className:"spin"}):m.jsx(Go,{size:18}),r?"Updating...":"Mark as Delivered"]}),n.status==="delivered"&&m.jsx("div",{style:{padding:"16px",backgroundColor:"#d1fae5",color:"#065f46",borderRadius:"10px",textAlign:"center",fontWeight:"600"},children:"✅ This order has already been delivered"}),m.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.status!=="delivered"&&n.status!=="cancelled"&&m.jsxs("button",{onClick:f,disabled:r,style:{flex:1,padding:"12px 16px",fontSize:"14px",fontWeight:"500",backgroundColor:"#ffffff",color:"#dc2626",border:"1px solid #dc2626",borderRadius:"8px",cursor:r?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"all 0.2s ease",opacity:r?.6:1},onMouseEnter:d=>{r||(d.target.style.backgroundColor="#fef2f2")},onMouseLeave:d=>{r||(d.target.style.backgroundColor="#ffffff")},children:[m.jsx(Tn,{size:16}),"Cancel Order"]}),m.jsx("button",{onClick:e,disabled:r,style:{flex:1,padding:"12px 16px",fontSize:"14px",fontWeight:"500",backgroundColor:"#f3f4f6",color:"#374151",border:"none",borderRadius:"8px",cursor:r?"not-allowed":"pointer",transition:"all 0.2s ease",opacity:r?.6:1},onMouseEnter:d=>{r||(d.target.style.backgroundColor="#e5e7eb")},onMouseLeave:d=>{r||(d.target.style.backgroundColor="#f3f4f6")},children:"Close"})]})]}),m.jsx("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:"1px solid #e5e7eb"},children:m.jsxs("details",{style:{cursor:"pointer"},children:[m.jsx("summary",{style:{fontSize:"12px",color:"#6b7280",userSelect:"none",cursor:"pointer"},children:"Order Code Reference"}),m.jsx("code",{style:{fontSize:"11px",backgroundColor:"#f3f4f6",padding:"6px 10px",borderRadius:"4px",display:"block",marginTop:"8px",wordBreak:"break-all",color:"#374151",fontFamily:"monospace"},children:n.encrypted_code||"Not available"})]})})]})]}):null}function LI({onScan:n,isEnabled:e=!1}){const t=R.useRef(""),r=R.useRef(null),i=R.useRef({code:"",time:0});return R.useEffect(()=>{if(!e)return;const a=s=>{if(!(s.target.tagName==="INPUT"||s.target.tagName==="TEXTAREA")){if(r.current&&clearTimeout(r.current),s.key==="Enter"&&t.current.length>0){const c=t.current;t.current="",console.log("📱 QR Scanned:",c);const f=Date.now();if(i.current.code===c&&f-i.current.time<2e3){console.log("⏭️ Duplicate scan ignored");return}i.current={code:c,time:f},n(c),s.preventDefault();return}s.key.length===1&&(t.current+=s.key),r.current=setTimeout(()=>{t.current=""},100)}};return window.addEventListener("keypress",a),()=>{window.removeEventListener("keypress",a),r.current&&clearTimeout(r.current)}},[e,n]),null}function FI({onScan:n,onClose:e,isOpen:t}){const r=R.useRef(null),i=R.useRef(null),a=R.useRef(null),[s,c]=R.useState(!1),[f,d]=R.useState(null),[p,g]=R.useState(!1),y=async()=>{try{d(null);const _=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});g(!0);const E=new dw;i.current=E,c(!0),await E.decodeFromVideoDevice(null,r.current,async(S,b,C)=>{try{C&&!a.current&&(a.current=C)}catch{}if(S){const T=String(S.getText()||"");T&&(console.log("📱 Camera scanned QR:",T),n(T),x())}b&&b.name})}catch(_){console.error("Camera error:",_),d(_.message||"Camera access denied"),g(!1)}},x=async()=>{try{c(!1),a.current&&(a.current.stop(),a.current=null),i.current&&(await i.current.reset(),i.current=null),r.current&&r.current.srcObject&&(r.current.srcObject.getTracks().forEach(E=>E.stop()),r.current.srcObject=null)}catch(_){console.error("Error stopping camera:",_)}};return R.useEffect(()=>(t?y():x(),()=>{x()}),[t]),t?m.jsx(gr,{children:m.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center"},children:m.jsxs(ct.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},onClick:_=>_.stopPropagation(),style:{backgroundColor:"#ffffff",borderRadius:"16px",padding:"20px",maxWidth:"500px",width:"90%",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[m.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600"},children:"📱 Scan Student's QR Code"}),m.jsx("button",{onClick:e,style:{background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",color:"#6b7280"},children:m.jsx(Tn,{size:24})})]}),m.jsxs("div",{style:{position:"relative",marginBottom:"20px"},children:[m.jsx("video",{ref:r,style:{width:"100%",maxHeight:300,background:"#000",borderRadius:"12px",display:s?"block":"none"},muted:!0,playsInline:!0}),!s&&!f&&m.jsxs("div",{style:{width:"100%",height:"300px",background:"#1f2937",borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"#9ca3af",gap:"12px"},children:[m.jsx(Wy,{size:48}),m.jsx("div",{children:"Starting camera..."})]}),f&&m.jsxs("div",{style:{width:"100%",height:"300px",background:"#fee2e2",borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"#991b1b",gap:"12px",padding:"20px"},children:[m.jsx(Xy,{size:48}),m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx("div",{style:{fontWeight:"600",marginBottom:"8px"},children:"Camera Error"}),m.jsx("div",{style:{fontSize:"14px"},children:f})]})]}),s&&m.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"200px",height:"200px",border:"3px solid #3b82f6",borderRadius:"12px",background:"rgba(59, 130, 246, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:m.jsx("div",{style:{color:"#ffffff",fontSize:"14px",fontWeight:"600",textAlign:"center",backgroundColor:"rgba(0, 0, 0, 0.7)",padding:"8px 16px",borderRadius:"8px"},children:"📱 Point at QR Code"})})]}),m.jsxs("div",{style:{backgroundColor:"#f3f4f6",borderRadius:"8px",padding:"16px",fontSize:"14px",color:"#374151"},children:[m.jsx("div",{style:{fontWeight:"600",marginBottom:"8px"},children:"Instructions:"}),m.jsx("div",{children:"1. Ask student to show their QR code on their phone"}),m.jsx("div",{children:"2. Point camera at the QR code"}),m.jsx("div",{children:"3. QR code will be scanned automatically"}),m.jsx("div",{children:"4. Order details will appear in a popup"})]}),m.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:[m.jsxs("button",{onClick:s?x:y,style:{flex:1,padding:"12px 16px",backgroundColor:s?"#dc2626":"#3b82f6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"14px",fontWeight:"500"},children:[s?m.jsx(Xy,{size:16}):m.jsx(Wy,{size:16}),s?"Stop Camera":"Start Camera"]}),m.jsx("button",{onClick:e,style:{padding:"12px 16px",backgroundColor:"#f3f4f6",color:"#374151",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Cancel"})]})]})})}):null}const UI={BASE_URL:"/IARE-Canteen-Web/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_BASE:"/IARE-Canteen-Web/",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpucWhvb2hqdWd5Ymxnd2Vwb3ZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ0OTk0OTAsImV4cCI6MjA3MDA3NTQ5MH0.dEWUpJtDbzLKRv9UtxpJLEmSMT6M_QChI3eu8EjO3dY",VITE_SUPABASE_URL:"https://znqhoohjugyblgwepovp.supabase.co"},je=n=>String(n||"").toUpperCase(),Vr="dd856fdc-905b-4de3-a7e3-771ad81df52c",u2=n=>{switch(String(n).toUpperCase()){case"PENDING":case"PREPARING":return"Preparing";case"READY":return"Ready for Pickup";case"DELIVERED":return"Delivered";case"CANCELLED":case"CANCELED":return"Cancelled";default:return"Preparing"}};let en=null;function VI(){return m.jsx(zI,{children:m.jsx(XO,{children:m.jsx(kI,{children:m.jsx(HI,{})})})})}class zI extends d2.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Unhandled error in App:",e,t)}render(){return this.state.hasError?m.jsxs("div",{style:{padding:24},children:[m.jsx("h2",{children:"Application error"}),m.jsx("pre",{style:{whiteSpace:"pre-wrap",color:"crimson"},children:String(this.state.error)})]}):this.props.children}}function HI(){const n=hi();ju();const[e,t]=R.useState("checking"),{showOrderNotification:r}=qu(),{scannedOrder:i,scanMessage:a,closeModal:s,processQRCode:c}=MI(),[f,d]=R.useState(!1),[p,g]=R.useState(()=>localStorage.getItem("theme")||"light");R.useEffect(()=>{document.documentElement.setAttribute("data-theme",p),document.documentElement.classList.toggle("dark",p==="dark"),localStorage.setItem("theme",p)},[p]);const x=["/","/orders","/place-order","/manage-orders"].includes(n.pathname),E={"/":"Dashboard","/place-order":"Place Order","/orders":"Orders","/inventory":"Inventory Management","/manage-orders":"Manage Orders","/pre-order":"Pre-Order","/scan":"Scan QR","/ai":"AI Predictions","/settings":"Settings"}[n.pathname]||"Dashboard",[S,b]=R.useState("live"),[C,T]=R.useState(!1),[D,P]=R.useState([]),[L,U]=R.useState([]),[$,G]=R.useState([]),[te,ae]=R.useState([]),[le,se]=R.useState({}),de=async(I,B)=>{const ee=[...L];U(N=>N.map(z=>z.id===I?{...z,status:B}:z).sort((z,Z)=>{const J=je(z.status),ce=je(Z.status),fe=Je=>{switch(Je){case"PENDING":return 1;case"READY":return 2;case"CANCELLED":return 3;default:return 4}},ye=fe(J),me=fe(ce);return ye!==me?ye-me:new Date(z.created_at)-new Date(Z.created_at)})),se(N=>({...N,[I]:!0}));try{const{data:N,error:F}=await ve.rpc("update_order_status_flexible",{p_order_id:I,p_new_status:String(B).toLowerCase()});if(F)throw F;try{const ce=u2(B);await ve.from("order_items").update({status:ce}).eq("order_id",I)}catch(ce){console.warn("⚠️ Failed to sync order_items.status:",ce)}const z=ee.find(ce=>ce.id===I)||L.find(ce=>ce.id===I);if(!z)return;const Z=z.status,J=new Date().toLocaleString();if(B==="READY"){U(ce=>ce.map(ye=>ye.id===I?{...ye,status:"READY"}:ye).sort((ye,me)=>{const Je=je(ye.status),Be=je(me.status),Pe=St=>{switch(St){case"PENDING":return 1;case"READY":return 2;case"CANCELLED":return 3;default:return 4}},Le=Pe(Je),ot=Pe(Be);return Le!==ot?Le-ot:new Date(ye.created_at)-new Date(me.created_at)})),P(ce=>{const fe=ce.filter(ye=>!(ye.orderId===I&&ye.to==="PREPARING"));return[{orderId:I,itemName:z.item_name,from:Z,to:"READY",ts:Date.now()},...fe]}),ae(ce=>[{orderId:I,itemName:z.item_name,from:Z,to:"READY",at:J,ts:Date.now(),prevLoc:"live",nextLoc:"live"},...ce.filter(fe=>!(fe.orderId===I&&fe.to==="PREPARING"))]);return}if(B==="DELIVERED"){U(ce=>ce.filter(fe=>fe.id!==I)),G(ce=>[{...z,status:"DELIVERED",deliveredAt:Date.now()},...ce]),P(ce=>{const fe=ce.filter(ye=>!(ye.orderId===I&&ye.to==="PREPARING"));return[{orderId:I,itemName:z.item_name,from:Z,to:"DELIVERED",ts:Date.now()},...fe]}),ae(ce=>[{orderId:I,itemName:z.item_name,from:Z,to:"DELIVERED",at:J,ts:Date.now(),prevLoc:"live",nextLoc:"delivered"},...ce.filter(fe=>!(fe.orderId===I&&fe.to==="PREPARING"))]),console.log("📦 Order delivered, reducing stock for:",z.item_name);try{const{data:ce,error:fe}=await ve.from("food_items").select("available_quantity").eq("name",z.item_name).single();if(fe){console.error("❌ Could not fetch current stock:",fe);return}const{error:ye}=await ve.from("food_items").update({available_quantity:Math.max(0,ce.available_quantity-1),updated_at:new Date().toISOString()}).eq("name",z.item_name);ye?(console.error("❌ Failed to reduce stock on delivery:",ye),console.warn("⚠️ Order marked as delivered but stock not reduced. Please update manually.")):(console.log("✅ Stock reduced on delivery"),en&&en())}catch(ce){console.error("❌ Stock reduction error:",ce)}return}U(ce=>ce.map(ye=>ye.id===I?{...ye,status:B}:ye).sort((ye,me)=>{const Je=je(ye.status),Be=je(me.status),Pe=St=>{switch(St){case"PENDING":return 1;case"READY":return 2;case"CANCELLED":return 3;default:return 4}},Le=Pe(Je),ot=Pe(Be);return Le!==ot?Le-ot:new Date(ye.created_at)-new Date(me.created_at)})),P(ce=>[{orderId:I,itemName:z.item_name,from:Z,to:B,ts:Date.now()},...ce]),ae(ce=>[{orderId:I,itemName:z.item_name,from:Z,to:B,at:J,ts:Date.now(),prevLoc:"live",nextLoc:"live"},...ce])}catch(N){console.error("Failed to update order status:",N);try{U(ee)}catch{}alert("Failed to update order status: "+(N.message||N))}finally{se(N=>{const F={...N};return delete F[I],F})}},Ee=async I=>{if(confirm("Are you sure you want to cancel this order? This will restore the stock."))try{console.log("🔄 Starting order cancellation for ID:",I);const{data:B,error:ee}=await ve.from("orders").select("item_name, status, id").eq("id",I).single();if(ee){console.error("❌ Could not fetch order details:",ee),alert(`Failed to fetch order details: ${ee.message}`);return}if(console.log("📋 Order data retrieved:",B),je(B.status)==="DELIVERED"){alert('Cannot cancel delivered orders. Use "Revert" instead.');return}const{error:F}=await ve.from("orders").update({status:"cancelled",updated_at:new Date().toISOString()}).eq("id",I);if(F){console.error("❌ Failed to update order status:",F),alert(`Failed to cancel order: ${F.message}`);return}console.log("✅ Order status updated to CANCELLED");try{await ve.from("order_items").update({status:u2("CANCELLED")}).eq("order_id",I)}catch(z){console.warn("⚠️ Failed to sync order_items.status on cancel:",z)}if(B.item_name){console.log("📦 Order canceled, restoring stock for:",B.item_name);try{const{data:z,error:Z}=await ve.from("food_items").select("available_quantity").eq("name",B.item_name).single();if(Z)console.error("❌ Could not fetch current stock for restore:",Z),console.warn("⚠️ Order canceled but stock not restored. Please update manually.");else{const{error:J}=await ve.from("food_items").update({available_quantity:z.available_quantity+1,updated_at:new Date().toISOString()}).eq("name",B.item_name);J?(console.error("❌ Failed to restore stock on cancel:",J),console.warn("⚠️ Order canceled but stock not restored. Please update manually.")):(console.log("✅ Stock restored on cancel"),en&&en())}}catch(z){console.error("❌ Stock restoration error:",z)}}U(z=>z.filter(Z=>Z.id!==I));try{await r({item_name:B.item_name||"Order",order_token:"CANCELLED",total_amount:0,order_type:"cancelled",user_id:Vr,isCancellation:!0})}catch(z){console.warn("⚠️ Failed to show notification:",z)}console.log("✅ Order cancellation completed successfully")}catch(B){console.error("❌ Error canceling order:",B),alert(`Failed to cancel order: ${B.message||"Unknown error"}`)}};R.useEffect(()=>{const I=async()=>{try{const F="https://znqhoohjugyblgwepovp.supabase.co",z="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpucWhvb2hqdWd5Ymxnd2Vwb3ZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ0OTk0OTAsImV4cCI6MjA3MDA3NTQ5MH0.dEWUpJtDbzLKRv9UtxpJLEmSMT6M_QChI3eu8EjO3dY";t("connecting");const Z=1e3;let J=0,ce=[];for(;;){const Be=J+Z-1,{data:Pe,error:Le}=await ve.from("orders").select("*").order("created_at",{ascending:!1}).range(J,Be);if(Le)throw Le;const ot=Pe||[];if(console.log("Fetched batch:",ot.length,"orders"),ce=ce.concat(ot),ot.length<Z)break;J+=Z}try{const Be=Array.from(new Set((ce||[]).map(Pe=>Pe.item_id||Pe.itemId||Pe.item).filter(Boolean)));if(Be.length>0){let Pe=Object.create(null);try{const{data:Le,error:ot}=await ve.from("order_items").select("*").in("id",Be);if(ot)throw ot;for(const We of Le||[]){const xt=We.id||We.item_id||We.code||We.slug,st=We.price??We.cost??We.rate??We.amount;xt&&typeof st=="number"&&(Pe[xt]=st)}const St=Be.filter(We=>Pe[We]==null);if(St.length>0){const{data:We}=await ve.from("order_items").select("*").in("item_id",St);for(const xt of We||[]){const st=xt.item_id||xt.id||xt.code||xt.slug,_n=xt.price??xt.cost??xt.rate??xt.amount;st&&typeof _n=="number"&&(Pe[st]=_n)}}}catch{const{data:ot,error:St}=await ve.from("food_items").select("*").in("id",Be);if(!St)for(const We of ot||[]){const xt=We.id||We.item_id||We.code||We.slug,st=We.price??We.cost??We.rate??We.amount;xt&&typeof st=="number"&&(Pe[xt]=st)}}ce=ce.map(Le=>{const ot=Le.item_id||Le.itemId||Le.item,St=Pe[ot];return St!=null&&(Le.total_amount==null||Number.isNaN(Le.total_amount))?{...Le,total_amount:St}:Le})}}catch(Be){console.warn("Price merge skipped:",Be?.message||Be)}const fe=(ce||[]).filter(Be=>{const Pe=je(Be.status);return Pe!=="DELIVERED"&&Pe!=="CANCELLED"}),me=(ce||[]).filter(Be=>{const Pe=je(Be.status);return Pe==="DELIVERED"||Pe==="CANCELLED"}).sort((Be,Pe)=>new Date(Pe.created_at)-new Date(Be.created_at)),Je=fe.sort((Be,Pe)=>{const Le=new Date(Be.created_at),St=new Date(Pe.created_at)-Le;if(Math.abs(St)>1e3)return St;const We=je(Be.status),xt=je(Pe.status),st=q=>{switch(q){case"PENDING":return 1;case"READY":return 2;case"CANCELLED":return 3;default:return 4}},_n=st(We),Hr=st(xt);return _n-Hr});console.log("Total orders fetched:",ce.length),console.log("Live orders:",Je.length),console.log("Past orders:",me.length),console.log("Sample order:",ce[0]),U(Je),G(me),t("connected")}catch(F){console.error("Supabase orders fetch failed:",F),t("error"),F.message?.includes("JWT")?console.error("Authentication error - check your Supabase anon key"):F.message?.includes('relation "orders" does not exist')&&console.error("Orders table does not exist - run the SQL script in Supabase")}};I();let B=setInterval(I,1e3),ee=!1;const N=ve.channel("public:orders").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders"},async F=>{console.log("🔄 Orders Panel: New order received via real-time:",F.new),ee||(ee=!0,B&&(clearInterval(B),B=null));let z=F.new;try{if(z&&(z.total==null||Number.isNaN(z.total))){const Z=z.item_id||z.itemId||z.item;if(Z){let J=null;try{const{data:ce,error:fe}=await ve.from("order_items").select("*").or(`id.eq.${Z},item_id.eq.${Z}`);if(!fe){const ye=(ce||[])[0];J=ye?ye.price??ye.cost??ye.rate??ye.amount??null:null}}catch{}if(J==null)try{const{data:ce,error:fe}=await ve.from("food_items").select("*").or(`id.eq.${Z},item_id.eq.${Z}`);if(!fe){const ye=(ce||[])[0];J=ye?ye.price??ye.cost??ye.rate??ye.amount??null:null}}catch{}typeof J=="number"&&(z={...z,total_amount:J})}}}catch{}U(Z=>[z,...Z].sort((ce,fe)=>{const ye=je(ce.status),me=je(fe.status),Je=Le=>{switch(Le){case"PENDING":return 1;case"READY":return 2;case"CANCELLED":return 3;default:return 4}},Be=Je(ye),Pe=Je(me);return Be!==Pe?Be-Pe:new Date(ce.created_at)-new Date(fe.created_at)}));try{console.log("🔔 Orders Panel: Checking if notification should be triggered for order:",z);const Z=z.status==="pending"||z.status==="PENDING",J=z.user_id!==Vr;if(console.log("🔍 Orders Panel: Filter check:",{status:z.status,user_id:z.user_id,isPending:Z,isNotAppOrder:J,willNotify:Z&&J}),Z&&J){console.log("✅ Orders Panel: Triggering notification for new order!");const ce=new CustomEvent("orderInserted",{detail:z});window.dispatchEvent(ce)}else console.log("❌ Orders Panel: Notification filtered out:",{reason:Z?"Admin/staff order":"Not pending status"})}catch(Z){console.warn("⚠️ Orders Panel: Error triggering notification:",Z)}}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders"},async F=>{ee||(ee=!0,B&&(clearInterval(B),B=null));let z=F.new;try{U(Z=>{const J=Z.find(me=>me.id===F.new.id),ce=J&&(J.order_token||J.token_no);let fe={...F.new};return ce&&(fe.token_no=ce,fe.order_token=ce),je(fe.status)==="DELIVERED"||je(fe.status)==="CANCELLED"?Z.filter(me=>me.id!==fe.id):Z.map(me=>me.id===fe.id?fe:me).sort((me,Je)=>{const Be=je(me.status),Pe=je(Je.status),Le=We=>{switch(We){case"PENDING":return 1;case"READY":return 2;case"CANCELLED":return 3;default:return 4}},ot=Le(Be),St=Le(Pe);return ot!==St?ot-St:new Date(me.created_at)-new Date(Je.created_at)})}),(je(F.new.status)==="DELIVERED"||je(F.new.status)==="CANCELLED")&&G(Z=>[{...z,deliveredAt:Date.now()},...Z.filter(J=>J.id!==z.id)]);return}catch{je(z.status)==="DELIVERED"||je(z.status)==="CANCELLED"?(U(J=>J.filter(ce=>ce.id!==z.id)),G(J=>[{...z,deliveredAt:Date.now()},...J.filter(ce=>ce.id!==z.id)])):U(J=>J.map(fe=>fe.id===z.id?z:fe).sort((fe,ye)=>{const me=je(fe.status),Je=je(ye.status),Be=ot=>{switch(ot){case"PENDING":return 1;case"READY":return 2;case"CANCELLED":return 3;default:return 4}},Pe=Be(me),Le=Be(Je);return Pe!==Le?Pe-Le:new Date(fe.created_at)-new Date(ye.created_at)}))}}).subscribe();return()=>{B&&clearInterval(B);try{N.unsubscribe()}catch{}}},[]);const k=async I=>{if(!I)return;const{orderId:B,from:ee,to:N,prevLoc:F,nextLoc:z}=I;if(F==="live"&&z==="delivered"){const Z=$.find(J=>J.id===B);if(!Z)return;G(J=>J.filter(ce=>ce.id!==B)),U(J=>[{...Z,status:ee},...J]),P(J=>[{orderId:B,itemName:Z.item_name,from:N,to:ee,ts:Date.now()},...J]);try{await ve.rpc("update_order_status_flexible",{p_order_id:B,p_new_status:String(ee).toLowerCase()})}catch{}}else if(F==="live"&&z==="live"){U(Z=>Z.map(J=>J.id===B?{...J,status:ee}:J));try{const J=L.find(ce=>ce.id===B)?.item_name||"Order Item";P(ce=>[{orderId:B,itemName:J,from:N,to:ee,ts:Date.now()},...ce])}catch{}try{await ve.rpc("update_order_status_flexible",{p_order_id:B,p_new_status:String(ee).toLowerCase()})}catch{}}ae(Z=>Z.filter(J=>J!==I))};return R.useEffect(()=>{const I=setInterval(()=>{P(B=>B.filter(ee=>Date.now()-ee.ts<25e3)),ae(B=>B.filter(ee=>ee.ts?Date.now()-ee.ts<25e3:!0))},1e3);return()=>clearInterval(I)},[]),R.useEffect(()=>{window.__IARE_ORDERS__=L,window.__IARE_DELIVERED__=$},[L,$]),m.jsxs("div",{className:"app",children:[m.jsxs("aside",{className:"sidebar",children:[m.jsx("h2",{className:"brand",children:"IARE Canteen"}),m.jsxs("nav",{className:"nav",children:[m.jsx(Mr,{to:"/",end:!0,children:"Home"}),m.jsx(Mr,{to:"/place-order",children:"Place Order"}),m.jsx(Mr,{to:"/orders",children:"Orders"}),m.jsx(Mr,{to:"/inventory",children:"Inventory Management"}),m.jsx(Mr,{to:"/manage-orders",children:"Manage Orders"}),m.jsx(Mr,{to:"/scan",children:"Scan QR"}),m.jsx(Mr,{to:"/ai",children:"AI Predictions"}),m.jsx(Mr,{to:"/pre-order",children:"Pre-Order"}),m.jsx(Mr,{to:"/settings",children:"Settings"})]})]}),m.jsxs("main",{className:"main",children:[m.jsxs("header",{className:"topbar",children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[m.jsx("h1",{style:{margin:0},children:E}),x&&m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",backgroundColor:"#dbeafe",color:"#1e40af",borderRadius:"20px",fontSize:"12px",fontWeight:"500",border:"1px solid #93c5fd"},children:[m.jsx("span",{style:{fontSize:"16px"},children:"📱"}),m.jsx("span",{children:"QR Scanner Active"})]}),m.jsx("button",{onClick:()=>d(!0),style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"8px",fontSize:"12px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:I=>I.target.style.backgroundColor="#2563eb",onMouseLeave:I=>I.target.style.backgroundColor="#3b82f6",children:"📷 Scan QR Code"})]}),a&&m.jsx("div",{style:{padding:"6px 12px",backgroundColor:a.includes("✅")?"#d1fae5":a.includes("📋")?"#fef3c7":"#fee2e2",color:a.includes("✅")?"#065f46":a.includes("📋")?"#92400e":"#991b1b",borderRadius:"20px",fontSize:"12px",fontWeight:"500",animation:"fadeIn 0.3s ease"},children:a})]}),m.jsxs("div",{className:"header-actions",children:[n.pathname==="/orders"&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{className:`btn orders-btn recent-btn ${S==="activity"?"active":""}`,onClick:()=>{b("activity"),console.log("📋 Recent orders view activated")},disabled:S==="activity",title:"View recent order activity",children:[m.jsx(tO,{className:"w-4 h-4"}),"Recent"]}),m.jsxs("button",{className:`btn orders-btn live-btn ${S==="live"?"active":""}`,onClick:()=>{b("live"),console.log("🔴 Live orders view activated")},disabled:S==="live",title:"View live orders in real-time",children:[m.jsx(qO,{className:"w-4 h-4"}),"Live"]}),m.jsxs("button",{className:`btn orders-btn past-btn ${S==="past"?"active":""}`,onClick:()=>{b("past"),console.log("📜 Past orders view activated")},disabled:S==="past",title:"View completed orders history",children:[m.jsx(ZT,{className:"w-4 h-4"}),"Past"]}),S==="live"&&m.jsxs("button",{className:`btn orders-btn picture-btn ${C?"active":""}`,onClick:()=>{T(I=>!I),console.log(`🖼 Switched to ${C?"List":"Picture"} mode`)},title:`Switch to ${C?"List":"Picture"} view`,children:[m.jsx(pw,{className:"w-4 h-4"}),C?"List Mode":"Picture Mode"]})]}),m.jsx(ct.button,{className:"theme-toggle-btn bg-white dark:bg-gray-800 text-black dark:text-white transition-colors duration-300",onClick:()=>g(p==="dark"?"light":"dark"),title:"Toggle Dark Mode",whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:17},children:m.jsx(ct.div,{animate:{rotate:p==="dark"?180:0,scale:p==="dark"?1.1:1},transition:{duration:.3,ease:"easeInOut"},className:"text-black dark:text-white",children:p==="dark"?m.jsx(mO,{size:20}):m.jsx(RO,{size:20})})}),n.pathname==="/"&&m.jsx(CI,{})]})]}),e==="not-configured"?m.jsx("div",{className:"home-dashboard",children:m.jsxs("div",{className:"card",children:[m.jsx("h2",{style:{marginTop:0,color:"#ef4444"},children:"⚠️ Supabase Not Configured"}),m.jsxs("div",{style:{marginBottom:"16px"},children:[m.jsx("p",{children:"The app needs Supabase credentials to work properly."}),m.jsx("p",{children:"Please follow these steps:"})]}),m.jsxs("div",{style:{marginBottom:"16px"},children:[m.jsx("h3",{children:"1. Get Your Supabase Credentials"}),m.jsxs("p",{children:["Go to ",m.jsx("a",{href:"https://supabase.com/dashboard",target:"_blank",rel:"noopener noreferrer",children:"Supabase Dashboard"})," → Your Project → Settings → API"]}),m.jsx("p",{children:"Copy your Project URL and anon public key"})]}),m.jsxs("div",{style:{marginBottom:"16px"},children:[m.jsx("h3",{children:"2. Create .env File"}),m.jsxs("p",{children:["Create a file named ",m.jsx("code",{children:".env"})," in the project root with:"]}),m.jsx("pre",{style:{backgroundColor:"#f3f4f6",padding:"12px",borderRadius:"4px",fontSize:"14px",overflow:"auto"},children:`VITE_SUPABASE_URL=https://your-project-id.supabase.co
VITE_SUPABASE_ANON_KEY=your_anon_key_here
VITE_DISABLE_AUTH=true`})]}),m.jsxs("div",{style:{marginBottom:"16px"},children:[m.jsx("h3",{children:"3. Restart Development Server"}),m.jsx("p",{children:"After creating the .env file, restart the server:"}),m.jsx("code",{children:"npm run dev"})]}),m.jsxs("div",{style:{marginBottom:"16px"},children:[m.jsx("h3",{children:"4. Check Console"}),m.jsx("p",{children:"Open browser console (F12) to see connection status and any errors."})]}),m.jsx("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),children:"🔄 Refresh Page"})]})}):e==="checking"?m.jsx("div",{className:"home-dashboard",children:m.jsxs("div",{className:"card",children:[m.jsx("h2",{style:{marginTop:0},children:"🔄 Connecting to Supabase..."}),m.jsx("p",{children:"Please wait while we connect to the database."}),m.jsx("div",{style:{textAlign:"center",marginTop:"20px"},children:m.jsx("div",{className:"spinner",style:{margin:"0 auto"}})})]})}):e==="error"?m.jsx("div",{className:"home-dashboard",children:m.jsxs("div",{className:"card",children:[m.jsx("h2",{style:{marginTop:0,color:"#ef4444"},children:"❌ Connection Error"}),m.jsx("p",{children:"Failed to connect to Supabase. Please check:"}),m.jsxs("ul",{style:{marginLeft:"20px"},children:[m.jsx("li",{children:"Your Supabase credentials in .env file"}),m.jsx("li",{children:"Internet connection"}),m.jsx("li",{children:"Supabase project status"})]}),m.jsx("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),children:"🔄 Try Again"})]})}):m.jsxs(uS,{children:[m.jsx(kr,{path:"/",element:m.jsx(GI,{recent:D,orders:L,onUpdateStatus:de,updatingIds:le})}),m.jsx(kr,{path:"/place-order",element:m.jsx(qI,{})}),m.jsx(kr,{path:"/orders",element:m.jsx(WI,{orders:L,deliveredOrders:$,activity:te,onUpdateStatus:de,onRevert:k,onCancel:Ee,view:S,pictureMode:C,updatingIds:le})}),m.jsx(kr,{path:"/inventory",element:m.jsx(YI,{})}),m.jsx(kr,{path:"/manage-orders",element:m.jsx(TI,{})}),m.jsx(kr,{path:"/pre-order",element:m.jsx(OI,{})}),m.jsx(kr,{path:"/scan",element:m.jsx(QI,{})}),m.jsx(kr,{path:"/ai",element:m.jsx(KI,{})}),m.jsx(kr,{path:"/settings",element:m.jsx(ZI,{})})]}),m.jsx(JI,{}),m.jsx(LI,{isEnabled:x,onScan:c}),m.jsx(BI,{order:i,onClose:s}),m.jsx(FI,{isOpen:f,onScan:c,onClose:()=>d(!1)})]})]})}function pr({title:n,children:e,titleAction:t}){return m.jsxs("section",{className:"card bg-white dark:bg-gray-800 transition-colors duration-300",children:[n?m.jsxs("div",{className:"card-header",children:[m.jsx("h2",{className:"text-black dark:text-white",children:n}),t&&m.jsx("div",{className:"card-title-action",children:t})]}):null,e]})}function GI({orders:n,recent:e=[],onUpdateStatus:t,updatingIds:r={}}){const i=ju();[...n].sort((k,I)=>(I.createdAt??0)-(k.createdAt??0)).slice(0,5);const a=window.__IARE_DELIVERED__||[],s=n.length+a.length,c=n.filter(k=>je(k.status)!=="READY").length,f=a.length,d=a.reduce((k,I)=>k+(I.total_amount||I.amount||0),0);d2.useMemo(()=>{const k=[...n,...a],I={};k.forEach(N=>{const F=N.item_name||N.item||N.name||"Unknown Item";I[F]=(I[F]||0)+1});const B=Object.entries(I).map(([N,F])=>({name:N,orders:F})).sort((N,F)=>F.orders-N.orders).slice(0,4),ee=B[0]?.orders||1;return B.map(N=>({...N,percentage:Math.round(N.orders/ee*100)}))},[n,a]);const[p,g]=R.useState([]),[y,x]=R.useState(!1),[_,E]=R.useState(!1),[S,b]=R.useState(!1),[C,T]=R.useState([]),[D,P]=R.useState([]),[L,U]=R.useState(!1),[$,G]=R.useState(!1),te=()=>{const k=["Order Token","Item","Total","Received At","Delivered At"],I=J=>'"'+String(J).replace(/"/g,'""')+'"',B=J=>J?new Date(J).toISOString().slice(0,19).replace("T"," "):"",ee=a.map(J=>{const ce=new Date(J.createdAt).getTime(),fe=new Date(J.deliveredAt).getTime(),ye=J.token||J.id?.slice(-4);return[I(ye?"#"+ye:""),I(J.item_name||"Food Item"),I(J.total_amount||J.amount||0),I(B(ce)),I(B(fe))].join(",")}),N=[k.join(","),...ee].join(`
`),F=new Blob([N],{type:"text/csv;charset=utf-8;"}),z=URL.createObjectURL(F),Z=document.createElement("a");Z.href=z,Z.download=`reports_${new Date().toISOString().slice(0,10)}.csv`,Z.click(),URL.revokeObjectURL(z)},ae=()=>{const k=`<!DOCTYPE html><html><head><meta charset="utf-8"></head><body>
      <table border="1">
        <tr><th>Order Token</th><th>Item</th><th>Total</th><th>Received At</th><th>Delivered At</th></tr>
        ${a.map(N=>{const F=N.token||N.id?.slice(-4);return`<tr>
            <td>${F?"#"+F:""}</td>
            <td>${N.item_name||"Food Item"}</td>
            <td>₹${N.total_amount||N.amount||0}</td>
            <td>${new Date(N.createdAt).toLocaleString()}</td>
            <td>${new Date(N.deliveredAt).toLocaleString()}</td>
          </tr>`}).join("")}
      </table></body></html>`,I=new Blob(["\uFEFF",k],{type:"application/vnd.ms-excel"}),B=URL.createObjectURL(I),ee=document.createElement("a");ee.href=B,ee.download=`reports_${new Date().toISOString().slice(0,10)}.xls`,ee.click(),URL.revokeObjectURL(B)};R.useEffect(()=>{(async()=>{try{let B=0,ee=[];for(;;){const F=B+1e3-1,{data:z,error:Z}=await ve.from("food_items").select("*").range(B,F);if(Z)throw Z;const J=z||[];if(ee=ee.concat(J),J.length<1e3)break;B+=1e3}const N=ee.map(F=>{const z=F.name??F.item_name??F.title??F.label??"Item",Z=(typeof F.available_quantity=="number"?F.available_quantity>0:void 0)??F.in_stock??F.available??F.is_available??(typeof F.stock=="number"?F.stock>0:void 0)??(typeof F.status=="string"?String(F.status).toLowerCase()==="in":void 0)??!0;return{name:z,inStock:!!Z}});g(N.filter(F=>!F.inStock))}catch{g([])}})()},[]),R.useEffect(()=>{y&&le()},[y]),R.useEffect(()=>{_&&se()},[_]);const le=async()=>{try{U(!0);const{data:k,error:I}=await ve.from("food_items").select("*").eq("is_active",!0).order("name");if(I)throw I;T(k||[])}catch(k){console.error("Error fetching menu items:",k),alert("Failed to load menu items")}finally{U(!1)}},se=async()=>{try{G(!0);const{data:k,error:I}=await ve.from("orders").select("*").eq("status","delivered").order("created_at",{ascending:!1}).limit(10);if(I)throw I;P(k||[])}catch(k){console.error("Error fetching delivered orders:",k),alert("Failed to load delivered orders")}finally{G(!1)}},de=async(k,I)=>{try{const B=!I,ee=C.find(Z=>Z.id===k),N={is_available:B,available_quantity:B?ee?.available_quantity||10:0},{error:F}=await ve.from("food_items").update(N).eq("id",k);if(F)throw F;T(Z=>Z.map(J=>J.id===k?{...J,is_available:B,available_quantity:N.available_quantity}:J));const z=`${ee?.name||"Item"} ${B?"enabled":"disabled"} successfully!`;await showAvailabilityNotification(z,!1)}catch(B){console.error("Error updating item availability:",B),await showAvailabilityNotification("Failed to update item availability",!0)}},Ee=async k=>{if(confirm("Are you sure you want to revert this order?"))try{const{data:I,error:B}=await ve.from("orders").select("item_name").eq("id",k).single();if(B)throw console.error("❌ Could not fetch order details:",B),B;const{error:ee}=await ve.from("orders").update({status:"pending"}).eq("id",k);if(ee)throw ee;console.log("📦 Order reverted, restoring stock for:",I.item_name);try{const{data:N,error:F}=await ve.from("food_items").select("available_quantity").eq("name",I.item_name).single();if(F){console.error("❌ Could not fetch current stock for restore:",F);return}const{error:z}=await ve.from("food_items").update({available_quantity:N.available_quantity+1,updated_at:new Date().toISOString()}).eq("name",I.item_name);z?(console.error("❌ Failed to restore stock on revert:",z),console.warn("⚠️ Order reverted but stock not restored. Please update manually.")):(console.log("✅ Stock restored on revert"),en&&en())}catch(N){console.error("❌ Stock restoration error:",N)}P(N=>N.filter(F=>F.id!==k)),alert("Order reverted successfully! Stock has been restored.")}catch(I){console.error("Error reverting order:",I),alert("Failed to revert order")}};return m.jsxs("div",{className:"home-dashboard",children:[m.jsxs("div",{className:"summary-cards",children:[m.jsxs("div",{className:"summary-card",children:[m.jsx("div",{className:"summary-icon",children:m.jsx(JT,{className:"w-6 h-6"})}),m.jsxs("div",{className:"summary-content",children:[m.jsx("div",{className:"summary-value",children:s}),m.jsx("div",{className:"summary-label",children:"Total Orders"})]})]}),m.jsxs("div",{className:"summary-card",children:[m.jsx("div",{className:"summary-icon",children:m.jsx(rO,{className:"w-6 h-6"})}),m.jsxs("div",{className:"summary-content",children:[m.jsx("div",{className:"summary-value",children:c}),m.jsx("div",{className:"summary-label",children:"Pending"})]})]}),m.jsxs("div",{className:"summary-card",children:[m.jsx("div",{className:"summary-icon",children:m.jsx(Go,{className:"w-6 h-6"})}),m.jsxs("div",{className:"summary-content",children:[m.jsx("div",{className:"summary-value",children:f}),m.jsx("div",{className:"summary-label",children:"Completed"})]})]}),m.jsxs("div",{className:"summary-card",children:[m.jsx("div",{className:"summary-icon",children:m.jsx(cO,{className:"w-6 h-6"})}),m.jsxs("div",{className:"summary-content",children:[m.jsxs("div",{className:"summary-value",children:["₹",d]}),m.jsx("div",{className:"summary-label",children:"Revenue"})]})]})]}),m.jsx("div",{className:"charts-section",children:m.jsx(pr,{title:"Quick Actions",children:m.jsxs("div",{className:"quick-actions-grid",children:[m.jsxs("button",{className:"quick-action-btn pending-orders-btn bg-gray-100 dark:bg-gray-700 text-black dark:text-white transition-colors duration-300",onClick:()=>{i("/orders?status=pending")},children:[m.jsx(dO,{className:"btn-icon text-black dark:text-white",size:24}),m.jsx("div",{className:"btn-text text-black dark:text-white",children:"View Pending Orders"})]}),m.jsxs("button",{className:"quick-action-btn toggle-availability-btn bg-gray-100 dark:bg-gray-700 text-black dark:text-white transition-colors duration-300",onClick:()=>x(!0),children:[m.jsx(vw,{className:"btn-icon text-black dark:text-white",size:24}),m.jsx("div",{className:"btn-text text-black dark:text-white",children:"Toggle Item Availability"})]}),m.jsxs("button",{className:"quick-action-btn revert-delivered-btn bg-gray-100 dark:bg-gray-700 text-black dark:text-white transition-colors duration-300",onClick:()=>E(!0),children:[m.jsx(IO,{className:"btn-icon text-black dark:text-white",size:24}),m.jsx("div",{className:"btn-text text-black dark:text-white",children:"Revert Delivered Order"})]})]})})}),m.jsx("div",{className:"reports-section",children:m.jsx(pr,{title:"Reports",titleAction:m.jsx("button",{className:"reports-shortcut-btn",onClick:()=>b(!0),children:"View Full Reports"}),children:m.jsx("div",{className:"reports-preview",children:m.jsxs("div",{className:"reports-buttons",children:[m.jsx("button",{className:"reports-btn export-csv-btn",onClick:te,children:"Export CSV"}),m.jsx("button",{className:"reports-btn export-excel-btn",onClick:ae,children:"Export Excel"})]})})})}),y&&m.jsx("div",{className:"modal-overlay",children:m.jsxs("div",{className:"modal-content",children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("h3",{children:"Toggle Item Availability"}),m.jsx("button",{className:"modal-close",onClick:()=>x(!1),children:m.jsx(Tn,{size:20})})]}),m.jsx("div",{className:"modal-body",children:L?m.jsx("div",{className:"loading",children:"Loading items..."}):m.jsx("div",{className:"items-list",children:C.map(k=>m.jsxs("div",{className:"item-row",children:[m.jsx("span",{className:"item-name",children:k.name}),m.jsxs("label",{className:"toggle-switch",children:[m.jsx("input",{type:"checkbox",checked:k.is_available||!1,onChange:()=>de(k.id,k.is_available||!1)}),m.jsx("span",{className:"slider"})]})]},k.id))})})]})}),_&&m.jsx("div",{className:"modal-overlay",children:m.jsxs("div",{className:"modal-content",children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("h3",{children:"Revert Delivered Orders"}),m.jsx("button",{className:"modal-close",onClick:()=>E(!1),children:m.jsx(Tn,{size:20})})]}),m.jsx("div",{className:"modal-body",children:$?m.jsx("div",{className:"loading",children:"Loading orders..."}):m.jsx("div",{className:"orders-list",children:D.length===0?m.jsx("div",{className:"no-orders",children:"No delivered orders found"}):D.map(k=>m.jsxs("div",{className:"order-row",children:[m.jsxs("div",{className:"order-info",children:[m.jsxs("div",{className:"order-id",children:["Order #",k.id?.slice(-4)]}),m.jsx("div",{className:"order-item",children:k.item_name||"Food Item"}),m.jsx("div",{className:"order-time",children:new Date(k.created_at).toLocaleString()})]}),m.jsx("button",{className:"revert-btn",onClick:()=>Ee(k.id),children:"Revert"})]},k.id))})})]})}),S&&m.jsx("div",{className:"modal-overlay",children:m.jsxs("div",{className:"modal-content reports-modal",children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("h3",{children:"Reports"}),m.jsx("button",{className:"modal-close",onClick:()=>b(!1),children:m.jsx(Tn,{size:20})})]}),m.jsx("div",{className:"modal-body",children:m.jsx($I,{})})]})})]})}function $I(){const[n,e]=R.useState(()=>new Date(Date.now()-864e5).toISOString().slice(0,10)),[t,r]=R.useState(()=>new Date().toISOString().slice(0,10)),[i,a]=R.useState([]);R.useEffect(()=>{(async()=>{try{if(window.__IARE_DELIVERED__&&window.__IARE_DELIVERED__.length>0)a(window.__IARE_DELIVERED__);else{const{data:y,error:x}=await ve.from("orders").select("*").eq("status","DELIVERED").order("created_at",{ascending:!1});if(x)throw x;a(y||[])}}catch(y){console.error("Failed to fetch delivered orders:",y),a([])}})()},[]);const s=g=>{const y=new Date(g);return isNaN(y)?null:y.getTime()},c=i.filter(g=>{const y=s(g.created_at||g.createdAt||g.received_at);s(g.delivered_at||g.deliveredAt||g.updated_at);const x=new Date(n).getTime(),_=new Date(t).getTime()+1440*60*1e3-1;return y&&y>=x&&y<=_}).map(g=>{const y=s(g.created_at||g.createdAt||g.received_at),x=s(g.delivered_at||g.deliveredAt||g.updated_at),_=g.token_no??g.order_token??g.token??g.token_number??g.id??null;return{id:g.id,token:_,item:g.item_name||g.item||"Food Item",total_amount:g.total_amount||g.total||g.price||0,receivedTs:y,deliveredTs:x}}),f=c.reduce((g,y)=>({orders:g.orders+1,revenue:g.revenue+(y.total_amount||0),items:g.items+1,PENDING:g.PENDING+(je(y.status)==="PENDING"?1:0),PREPARING:g.PREPARING+(je(y.status)==="PREPARING"?1:0),READY:g.READY+(je(y.status)==="READY"?1:0)}),{orders:0,revenue:0,items:0,PENDING:0,PREPARING:0,READY:0}),d=()=>{const g=["Order Token","Item","Total","Received At","Delivered At"],y=D=>'"'+String(D).replace(/"/g,'""')+'"',x=D=>D?new Date(D).toISOString().slice(0,19).replace("T"," "):"",_=c.map(D=>[y(D.token?"#"+D.token:""),y(D.item),y(D.total_amount||0),y(x(D.receivedTs)),y(x(D.deliveredTs))].join(",")),E=["",y("Total Revenue"),y(f.revenue)].join(","),S=[g.join(","),..._,"",E].join(`
`),b=new Blob([S],{type:"text/csv;charset=utf-8;"}),C=URL.createObjectURL(b),T=document.createElement("a");T.href=C,T.download=`reports_${n}_to_${t}.csv`,T.click(),URL.revokeObjectURL(C)},p=()=>{const g=`<!DOCTYPE html><html><head><meta charset="utf-8"></head><body>
      <table border="1">
        <tr><th>Order Token</th><th>Item</th><th>Total</th><th>Received At</th><th>Delivered At</th></tr>
        ${c.map(E=>`<tr>
          <td>${E.token?"#"+E.token:""}</td>
          <td>${E.item}</td>
          <td>₹${E.total_amount||0}</td>
          <td>${new Date(E.receivedTs).toLocaleString()}</td>
          <td>${new Date(E.deliveredTs).toLocaleString()}</td>
        </tr>`).join("")}
        <tr><td colspan="2"><strong>Total Revenue</strong></td><td><strong>₹${f.revenue}</strong></td><td colspan="2"></td></tr>
      </table></body></html>`,y=new Blob(["\uFEFF",g],{type:"application/vnd.ms-excel"}),x=URL.createObjectURL(y),_=document.createElement("a");_.href=x,_.download=`reports_${n}_to_${t}.xls`,_.click(),URL.revokeObjectURL(x)};return m.jsxs("div",{className:"reports-modal-content",children:[m.jsxs("div",{className:"reports-filters",children:[m.jsxs("div",{className:"field",style:{minWidth:220},children:[m.jsx("label",{className:"label",children:"From"}),m.jsx("input",{type:"date",className:"input",value:n,onChange:g=>e(g.target.value)})]}),m.jsxs("div",{className:"field",style:{minWidth:220},children:[m.jsx("label",{className:"label",children:"To"}),m.jsx("input",{type:"date",className:"input",value:t,onChange:g=>r(g.target.value)})]}),m.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:8},children:[m.jsx("button",{className:"btn",onClick:d,children:"Export CSV"}),m.jsx("button",{className:"btn",onClick:p,children:"Export Excel"})]})]}),m.jsxs("div",{className:"reports-table",children:[m.jsxs("table",{className:"table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Order Token"}),m.jsx("th",{children:"Item"}),m.jsx("th",{children:"Total"}),m.jsx("th",{children:"Received"}),m.jsx("th",{children:"Delivered"})]})}),m.jsx("tbody",{children:c.slice(0,10).map(g=>m.jsxs("tr",{children:[m.jsx("td",{children:g.token?"#"+g.token:""}),m.jsx("td",{children:g.item}),m.jsxs("td",{children:["₹",g.total_amount||0]}),m.jsx("td",{children:new Date(g.receivedTs).toLocaleString()}),m.jsx("td",{children:new Date(g.deliveredTs).toLocaleString()})]},g.id))})]}),c.length>10&&m.jsxs("div",{className:"table-note",children:["Showing first 10 of ",c.length," orders. Export to see all data."]})]})]})}function qI(){const[n,e]=R.useState(null),[t,r]=R.useState(null),[i,a]=R.useState([]),[s,c]=R.useState([]),[f,d]=R.useState(!1),[p,g]=R.useState(""),{status:y,updateStatus:x,refreshStatus:_}=yw(),[E,S]=R.useState([]),[b,C]=R.useState(!1),[T,D]=R.useState("dine_in");jl();const{suppressNotificationForOrder:P,showOrderNotification:L}=qu(),[U,$]=R.useState(null),G=(k,I=1)=>{S(B=>B.find(N=>N.id===k.id)?B.map(N=>N.id===k.id?{...N,quantity:N.quantity+I}:N):[...B,{...k,quantity:I}])},te=(k,I)=>{const B=Math.max(1,I||1);S(ee=>ee.map(N=>N.id===k?{...N,quantity:B}:N))},ae=k=>{S(I=>I.filter(B=>B.id!==k))},le=()=>E.reduce((k,I)=>k+I.price*I.quantity,0),se=()=>E.reduce((k,I)=>k+I.quantity,0);R.useEffect(()=>{const k=async()=>{try{let B=0,ee=[];for(;;){const F=B+1e3-1,{data:z,error:Z}=await ve.from("food_items").select("*").range(B,F);if(Z)throw Z;const J=z||[];if(ee=ee.concat(J),J.length<1e3)break;B+=1e3}const N=ee.map(F=>({id:F.id??F.item_id??F.slug??String(Math.random()).slice(2),name:F.name??F.item_name??"Item",price:F.price??F.cost??0,image:F.image_url??F.image??F.photo??"https://via.placeholder.com/300?text=Food",description:F.description??""}));N.length===0?(console.log("No food items found in database, using fallback items"),a([{id:"fallback_1",name:"Veg Biryani",price:180,image:"https://as1.ftcdn.net/v2/jpg/04/59/27/88/1000_F_459278894_92eSlejnR7NSwJRCbVyy9ZZibSmjbF8q.jpg",description:"Delicious vegetarian biryani"},{id:"fallback_2",name:"Masala Dosa",price:80,image:"https://as2.ftcdn.net/v2/jpg/14/45/94/59/1000_F_1445945944_eBUM7ot1AWezNkqknKsRImNvLvFbmr7z.jpg",description:"Crispy dosa with potato filling"},{id:"fallback_3",name:"Samosa",price:40,image:"https://as2.ftcdn.net/v2/jpg/15/85/73/65/1000_F_1585736532_NFMq8z0vAjbker6w9vuzoF8FmsxVRGPI.jpg",description:"Spicy potato and pea samosa"}])):a(N)}catch(I){console.error("Failed to load food_items:",I),a([{id:"fallback_1",name:"Veg Biryani",price:180,image:"https://as1.ftcdn.net/v2/jpg/04/59/27/88/1000_F_459278894_92eSlejnR7NSwJRCbVyy9ZZibSmjbF8q.jpg",description:"Delicious vegetarian biryani"},{id:"fallback_2",name:"Masala Dosa",price:80,image:"https://as2.ftcdn.net/v2/jpg/14/45/94/59/1000_F_1445945944_eBUM7ot1AWezNkqknKsRImNvLvFbmr7z.jpg",description:"Crispy dosa with potato filling"},{id:"fallback_3",name:"Samosa",price:40,image:"https://as2.ftcdn.net/v2/jpg/15/85/73/65/1000_F_1585736532_NFMq8z0vAjbker6w9vuzoF8FmsxVRGPI.jpg",description:"Spicy potato and pea samosa"}])}};en=k,k()},[]);const de=async()=>{d(!0);try{let I=0,B=[];for(;;){const ee=I+1e3-1,{data:N,error:F}=await ve.from("orders").select("id, item_name, status, user_id, created_at, order_token").neq("user_id",Vr).order("created_at",{ascending:!1}).range(I,ee);if(F)throw F;const z=N||[];if(B=B.concat(z),z.length<1e3)break;I+=1e3}c(B)}catch(k){console.error("Failed to fetch Counter tokens:",k)}finally{d(!1)}};R.useEffect(()=>{de()},[]);const Ee=async k=>{if(E.length===0){$({type:"error",message:"Your cart is empty!"}),setTimeout(()=>$(null),2e3);return}try{console.log("🛒 Starting checkout process for:",E.length,"items");const I=crypto.randomUUID(),B=Math.floor(1e3+Math.random()*9e3).toString();console.log("🆔 Generated order ID:",I),console.log("🎫 Generated token:",B);const{data:ee,error:N}=await ve.from("orders").insert({id:I,order_id:I,item_name:`Cart Order (${E.length} items)`,total_amount:le(),status:"pending",order_type:k==="takeaway",order_token:B,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();if(P(I),N)throw console.error("❌ Failed to create main order:",N),new Error(`Failed to create order: ${N.message}`);console.log("✅ Main order created:",ee);for(const z of E){console.log("📝 Adding item to order:",z.name,"Qty:",z.quantity);const{error:Z}=await ve.from("order_items").insert({order_id:I,food_item_id:z.id,quantity:z.quantity,price_per_unit:z.price,total_price:z.price*z.quantity,created_at:new Date().toISOString()});if(Z)throw console.error("❌ Failed to create order item:",Z),console.error("❌ Item details:",{order_id:I,food_item_id:z.id,quantity:z.quantity,price_per_unit:z.price,total_price:z.price*z.quantity}),new Error(`Failed to add item ${z.name} to order: ${Z.message}`)}S([]),C(!1),r(B),$({type:"success",message:`✅ Checkout successful! Token: #${B} • ${k==="dine_in"?"Dine In":"Takeaway"}`}),setTimeout(()=>$(null),3500),en&&en(),de(),console.log("🎉 Checkout completed successfully!")}catch(I){console.error("❌ Checkout failed:",I),$({type:"error",message:`❌ Checkout failed: ${I.message}`}),setTimeout(()=>$(null),3500)}};return m.jsxs("div",{className:"home-dashboard",children:[m.jsxs(pr,{title:"Menu - Place Order (Counter)",children:[m.jsx("div",{className:"search-section",children:m.jsx("div",{className:"form",children:m.jsx("div",{className:"field",children:m.jsx("input",{className:"input search-input",placeholder:"Search menu items...",value:p,onChange:k=>g(k.target.value)})})})}),m.jsxs("div",{className:`status-banner ${y==="closed"?"status-closed":"status-open"}`,children:[m.jsxs("div",{className:"status-content",children:[m.jsx("div",{className:"status-icon",children:y==="closed"?"🔴":"🟢"}),m.jsxs("div",{className:"status-text",children:[m.jsxs("h3",{className:"status-title",children:["Canteen ",y==="closed"?"Closed":"Open"]}),m.jsx("p",{className:"status-description",children:y==="closed"?"Orders cannot be placed while the canteen is closed. Please wait for the canteen to open.":"Orders can be placed normally. Canteen is currently open."})]})]}),m.jsx("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:m.jsx("button",{className:`status-toggle-btn ${y==="closed"?"toggle-closed":"toggle-open"}`,onClick:async()=>{try{await x(y==="open"?"closed":"open")}catch(k){console.error("Toggle failed:",k),alert("Failed to update canteen status. Please try again.")}},children:y==="open"?"🔴 Close Canteen":"🟢 Open Canteen"})})]}),m.jsx("div",{className:"menu-items-grid",children:i.filter(k=>{const I=p.trim().toLowerCase();return I?String(k.name||"").toLowerCase().includes(I):!0}).sort((k,I)=>{const B=p.trim().toLowerCase(),ee=String(k.name||"").toLowerCase(),N=String(I.name||"").toLowerCase();if(B){const F=ee.startsWith(B),z=N.startsWith(B);if(F&&!z)return-1;if(!F&&z)return 1}return ee.localeCompare(N)}).map(k=>m.jsxs("div",{className:"menu-item-card",children:[m.jsx("div",{className:"menu-item-image",style:{backgroundImage:`url(${k.image})`},children:m.jsxs("div",{className:"price-badge",children:["₹",k.price]})}),m.jsxs("div",{className:"menu-item-content",children:[m.jsx("h3",{className:"menu-item-title",children:k.name}),m.jsx("p",{className:"menu-item-description",children:k.description}),m.jsxs("div",{style:{marginTop:"12px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",justifyContent:"center"},children:[m.jsx("button",{onClick:()=>{const I=E.find(B=>B.id===k.id)?.quantity||0;I>1?te(k.id,I-1):I===1&&ae(k.id)},disabled:y==="closed",style:{width:"28px",height:"28px",borderRadius:"50%",border:"1px solid var(--border-color)",backgroundColor:"var(--card-bg)",color:"var(--text-primary)",cursor:y==="closed"?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",opacity:y==="closed"?.5:1},children:"-"}),m.jsx("span",{style:{minWidth:"40px",textAlign:"center",fontWeight:"500",color:"var(--text-primary)",fontSize:"16px"},children:E.find(I=>I.id===k.id)?.quantity||0}),m.jsx("button",{onClick:()=>{const I=E.find(B=>B.id===k.id)?.quantity||0;I===0?G(k,1):te(k.id,I+1)},disabled:y==="closed",style:{width:"28px",height:"28px",borderRadius:"50%",border:"1px solid var(--border-color)",backgroundColor:"var(--card-bg)",color:"var(--text-primary)",cursor:y==="closed"?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",opacity:y==="closed"?.5:1},children:"+"})]}),m.jsx("button",{className:`order-btn ${y==="closed"?"btn-disabled":"btn-primary"}`,onClick:()=>{const I=E.find(B=>B.id===k.id)?.quantity||0;I===0?G(k,1):te(k.id,I+1)},disabled:y==="closed",style:{width:"100%"},children:y==="closed"?"🔴 Canteen Closed":E.find(I=>I.id===k.id)?.quantity>0?"🛒 Add More":"🛒 Add to Cart"})]})]})]},k.id))}),t&&m.jsxs("div",{className:"success-message",children:[m.jsx("div",{className:"success-title",children:"🎉 Order Placed Successfully!"}),m.jsxs("div",{className:"token-number",children:["Token No: #",t]}),m.jsx("div",{className:"success-description",children:"Please note this token number for order tracking"})]}),m.jsxs("div",{className:"instructions-section",children:[m.jsx("strong",{children:"Instructions:"})," Click on any menu item to place an order for cash payment. Each order will be created with a unique token number and automatically appear in the Orders panel."]})]}),m.jsx(pr,{title:"Counter Tokens (Placed by Counter)",children:f?m.jsx("div",{className:"muted",children:"Loading..."}):s.length===0?m.jsx("div",{className:"muted",children:"No Counter orders yet."}):m.jsxs("table",{className:"table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Token"}),m.jsx("th",{children:"Item"}),m.jsx("th",{children:"Status"}),m.jsx("th",{children:"Time"})]})}),m.jsx("tbody",{children:s.slice(0,10).map(k=>m.jsxs("tr",{children:[m.jsx("td",{children:m.jsx("span",{style:{fontFamily:"monospace",fontWeight:"bold",color:"#10b981",fontSize:"16px",backgroundColor:"#f0fdf4",padding:"4px 8px",borderRadius:"4px",border:"1px solid #bbf7d0"},children:k.token_no||k.order_token?"#"+(k.token_no||k.order_token):"N/A"})}),m.jsx("td",{children:k.item_name}),m.jsxs("td",{children:[je(k.status)==="PENDING"&&m.jsx("span",{className:"badge pending",children:"PENDING"}),je(k.status)==="PREPARING"&&m.jsx("span",{className:"badge preparing",children:"PREPARING"}),je(k.status)==="READY"&&m.jsx("span",{className:"badge ready",children:"READY"}),je(k.status)==="DELIVERED"&&m.jsx("span",{className:"badge ready",children:"DELIVERED"})]}),m.jsx("td",{children:k.created_at?new Date(k.created_at).toLocaleTimeString():"-"})]},k.id))})]})}),t&&m.jsx(pr,{title:"Your Token",children:m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[m.jsxs("div",{style:{fontFamily:"monospace",fontWeight:"bold",color:"#666",fontSize:"1.1em"},children:["#",t]}),m.jsx("div",{className:"muted",children:"Please share this token at the counter."})]})}),m.jsx("div",{className:"floating-cart-icon",style:{position:"fixed",bottom:"20px",right:"40px",zIndex:9999},children:m.jsxs("button",{onClick:()=>C(!b),className:"cart-icon-button",style:{width:"70px",height:"70px",borderRadius:"50%",backgroundColor:"#3b82f6",border:"none",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",transition:"all 0.3s ease",position:"relative"},onMouseEnter:k=>{k.target.style.transform="scale(1.1)",k.target.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.25)",k.target.style.backgroundColor="#2563eb"},onMouseLeave:k=>{k.target.style.transform="scale(1)",k.target.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)",k.target.style.backgroundColor="#3b82f6"},children:[m.jsx(ou,{size:28}),se()>0&&m.jsx("div",{className:"cart-badge",style:{position:"absolute",top:"-8px",right:"-8px",backgroundColor:"#ef4444",color:"white",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",border:"2px solid white"},children:se()})]})}),m.jsx(gr,{children:b&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"cart-backdrop",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:9998},onClick:()=>C(!1)}),m.jsxs(ct.div,{className:"cart-side-panel",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},style:{position:"fixed",top:0,right:0,width:"400px",height:"100vh",backgroundColor:"#ffffff",borderLeft:"1px solid #e5e7eb",zIndex:9999,display:"flex",flexDirection:"column",boxShadow:"-4px 0 20px rgba(0, 0, 0, 0.15)"},children:[m.jsxs("div",{className:"cart-header",style:{padding:"20px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#f9fafb"},children:[m.jsxs("h3",{style:{margin:0,color:"#1f2937",display:"flex",alignItems:"center",gap:"8px",fontSize:"18px",fontWeight:"600"},children:[m.jsx(ou,{size:20}),"Your Cart"]}),m.jsx("button",{onClick:()=>C(!1),className:"cart-close-btn",style:{width:"32px",height:"32px",borderRadius:"50%",border:"1px solid #d1d5db",backgroundColor:"#ffffff",color:"#374151",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseEnter:k=>{k.target.style.backgroundColor="#f3f4f6",k.target.style.borderColor="#9ca3af"},onMouseLeave:k=>{k.target.style.backgroundColor="#ffffff",k.target.style.borderColor="#d1d5db"},children:m.jsx(Tn,{size:16})})]}),m.jsx("div",{className:"cart-content",style:{flex:1,padding:"20px",overflowY:"auto",display:"flex",flexDirection:"column",backgroundColor:"#ffffff"},children:E.length===0?m.jsxs("div",{className:"cart-empty-state",style:{textAlign:"center",color:"#6b7280",padding:"40px 20px",display:"flex",flexDirection:"column",alignItems:"center",gap:"16px"},children:[m.jsx(ou,{size:48,style:{opacity:.3,color:"#9ca3af"}}),m.jsx("div",{style:{fontSize:"16px",fontWeight:"500",color:"#374151"},children:"Your cart is empty"}),m.jsx("div",{style:{fontSize:"14px",color:"#6b7280"},children:"Add some items to get started!"})]}):m.jsxs(m.Fragment,{children:[m.jsx("div",{style:{flex:1},children:E.map(k=>m.jsxs("div",{className:"cart-item",style:{display:"flex",alignItems:"center",padding:"12px",backgroundColor:"#f9fafb",borderRadius:"12px",marginBottom:"12px",border:"1px solid #e5e7eb",gap:"12px"},children:[m.jsxs("div",{style:{flex:1,minWidth:0},children:[m.jsx("div",{style:{fontWeight:"500",color:"#1f2937",marginBottom:"4px",fontSize:"16px",wordWrap:"break-word",overflowWrap:"break-word"},children:k.name}),m.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:["₹",k.price," each"]})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexShrink:0},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("button",{onClick:()=>te(k.id,k.quantity-1),className:"quantity-btn",style:{width:"32px",height:"32px",borderRadius:"6px",border:"1px solid #d1d5db",backgroundColor:"#ffffff",color:"#374151",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",fontSize:"16px",fontWeight:"bold"},onMouseEnter:I=>{I.target.style.backgroundColor="#f3f4f6",I.target.style.borderColor="#9ca3af",I.target.style.color="#1f2937"},onMouseLeave:I=>{I.target.style.backgroundColor="#ffffff",I.target.style.borderColor="#d1d5db",I.target.style.color="#374151"},children:m.jsx(gO,{size:16})}),m.jsx("input",{type:"number",min:"0",value:k.quantity,onChange:I=>{const B=parseInt(I.target.value)||0;te(k.id,B)},onBlur:I=>{const B=I.target.value.trim(),ee=parseInt(B)||0;B==="0"||ee<=0&&B!==""?ae(k.id):(B===""||ee<1)&&te(k.id,1)},onKeyDown:I=>{I.key==="Backspace"&&I.target.value===""&&(I.preventDefault(),I.target.value="1",te(k.id,1)),I.key==="Enter"&&I.target.blur()},style:{width:"50px",height:"32px",textAlign:"center",fontWeight:"500",color:"#1f2937",fontSize:"16px",border:"1px solid #d1d5db",borderRadius:"6px",backgroundColor:"#ffffff",outline:"none",padding:"0 4px"},onFocus:I=>I.target.select()}),m.jsx("button",{onClick:()=>te(k.id,k.quantity+1),className:"quantity-btn",style:{width:"32px",height:"32px",borderRadius:"6px",border:"1px solid #d1d5db",backgroundColor:"#ffffff",color:"#374151",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",fontSize:"16px",fontWeight:"bold"},onMouseEnter:I=>{I.target.style.backgroundColor="#f3f4f6",I.target.style.borderColor="#9ca3af",I.target.style.color="#1f2937"},onMouseLeave:I=>{I.target.style.backgroundColor="#ffffff",I.target.style.borderColor="#d1d5db",I.target.style.color="#374151"},children:m.jsx(_O,{size:16})})]}),m.jsxs("div",{style:{fontWeight:"600",color:"#1f2937",minWidth:"60px",textAlign:"right",fontSize:"16px"},children:["₹",k.price*k.quantity]}),m.jsx("button",{onClick:()=>ae(k.id),className:"remove-btn",style:{width:"28px",height:"28px",borderRadius:"50%",backgroundColor:"#ef4444",color:"white",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",marginLeft:"8px"},onMouseEnter:I=>{I.target.style.backgroundColor="#dc2626"},onMouseLeave:I=>{I.target.style.backgroundColor="#ef4444"},children:m.jsx(gw,{size:14})})]})]},k.id))}),m.jsxs("div",{className:"cart-footer",style:{borderTop:"1px solid #e5e7eb",paddingTop:"20px",marginTop:"20px"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[m.jsxs("div",{style:{fontSize:"20px",fontWeight:"600",color:"#1f2937"},children:["Total: ₹",le()]}),m.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:[se()," items"]})]}),m.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"12px",alignItems:"center"},children:[m.jsx("span",{style:{fontSize:"14px",color:"#374151",fontWeight:500},children:"Order Type:"}),m.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"},children:[m.jsx("input",{type:"radio",name:"orderType",value:"dine_in",checked:T==="dine_in",onChange:()=>D("dine_in")}),m.jsx("span",{children:"🍽️ Dine In"})]}),m.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"},children:[m.jsx("input",{type:"radio",name:"orderType",value:"takeaway",checked:T==="takeaway",onChange:()=>D("takeaway")}),m.jsx("span",{children:"🥡 Takeaway"})]})]}),m.jsxs("div",{style:{display:"flex",gap:"10px",flexDirection:"column"},children:[m.jsxs("button",{onClick:()=>{window.confirm("Are you sure you want to clear the cart?")&&(S([]),$({type:"success",message:"Cart cleared!"}),setTimeout(()=>$(null),2e3))},className:"clear-cart-btn",style:{width:"100%",padding:"10px 16px",fontSize:"14px",fontWeight:"500",backgroundColor:"#ffffff",color:"#dc2626",border:"1px solid #dc2626",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s ease"},onMouseEnter:k=>{k.target.style.backgroundColor="#fef2f2"},onMouseLeave:k=>{k.target.style.backgroundColor="#ffffff"},children:[m.jsx(Tn,{size:16}),"Clear Cart"]}),m.jsxs("button",{onClick:()=>{Ee(T)},className:"checkout-btn",style:{width:"100%",padding:"12px 16px",fontSize:"16px",fontWeight:"600",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s ease"},onMouseEnter:k=>{k.target.style.backgroundColor="#2563eb"},onMouseLeave:k=>{k.target.style.backgroundColor="#3b82f6"},children:[m.jsx(ou,{size:18}),"Checkout"]})]})]})]})})]})]})}),m.jsx(gr,{children:U&&m.jsx(ct.div,{initial:{opacity:0,y:-40,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-40,scale:.98},transition:{type:"spring",stiffness:300,damping:24},style:{position:"fixed",top:16,left:0,right:0,margin:"0 auto",zIndex:1e4,background:U.type==="success"?"linear-gradient(135deg, #10b981, #059669)":"linear-gradient(135deg, #ef4444, #dc2626)",color:"white",padding:"12px 16px",borderRadius:10,boxShadow:"0 14px 30px rgba(0,0,0,0.22)",fontWeight:700,maxWidth:520,width:"calc(100% - 32px)",textAlign:"center",border:"1px solid rgba(255,255,255,0.15)",backdropFilter:"blur(6px)"},children:U.message})})]})}function XI({withTitle:n=!0,orders:e=[],orderItems:t=[],onUpdateStatus:r=()=>{},onCancel:i=()=>{},idHeader:a="Order ID",updatingIds:s={}}){const c=d=>t.filter(p=>p.order_id===d),f=d=>typeof d=="boolean"?d?"🥡 Takeaway":"🍽️ Dine In":d==="takeaway"?"🥡 Takeaway":"🍽️ Dine In";return m.jsx(pr,{title:n?"Orders":void 0,children:m.jsxs("table",{className:"table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:a}),m.jsx("th",{children:"Items"}),m.jsx("th",{children:"Total"}),m.jsx("th",{children:"Type"}),m.jsx("th",{children:"Status"}),m.jsx("th",{children:"Placed By"}),m.jsx("th",{children:"Actions"})]})}),m.jsx("tbody",{children:e.map(d=>{const p=c(d.id),g=p.length>0;return m.jsxs("tr",{children:[m.jsx("td",{children:m.jsx("span",{style:{fontFamily:"monospace",fontWeight:"bold",color:"#666"},children:d.token_no||d.order_token?"#"+(d.token_no||d.order_token):"Not available"})}),m.jsx("td",{style:{position:"relative"},children:g?m.jsxs("div",{className:"order-items-cell",children:[m.jsx("strong",{children:p.length===1?p[0].food_items?.name||"Unknown Item":`${p.length} Items`}),p.length>1&&m.jsx("div",{className:"order-items-popup",children:m.jsx("div",{className:"order-items-popup-content",children:p.map((y,x)=>{const _=y.food_items?.price||y.price||0;return m.jsxs("div",{className:"order-items-popup-item",children:[m.jsx("strong",{children:y.food_items?.name||"Unknown Item"}),m.jsxs("span",{style:{color:"#666",marginLeft:"8px"},children:["Qty: ",y.quantity," × ₹",_," = ₹",_*y.quantity]})]},x)})})})]}):m.jsx("div",{children:m.jsx("strong",{children:d.item_name||"Unknown Item"})})}),m.jsx("td",{children:d.total_amount!=null?`₹${d.total_amount}`:"-"}),m.jsx("td",{children:m.jsx("span",{style:{fontSize:"12px"},children:f(d.order_type)})}),m.jsxs("td",{children:[je(d.status)==="PENDING"&&m.jsx("span",{className:"badge pending",children:"PENDING"}),je(d.status)==="PREPARING"&&m.jsx("span",{className:"badge preparing",children:"PREPARING"}),je(d.status)==="READY"&&m.jsx("span",{className:"badge ready",children:"READY"})]}),m.jsxs("td",{className:"flex items-center gap-2 py-2 whitespace-nowrap",children:[d.user_id===Vr?m.jsx(sO,{className:"w-5 h-5 text-gray-700 dark:text-white"}):m.jsx(jO,{className:"w-5 h-5 text-gray-700 dark:text-white"}),d.user_id===Vr?m.jsx("span",{style:{backgroundColor:"#6b7280",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"500"},children:"App"}):m.jsx("span",{style:{backgroundColor:"#3b82f6",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"500"},children:"Counter"})]}),m.jsx("td",{className:"actions",children:s[d.id]?m.jsxs("button",{className:"btn",disabled:!0,children:[m.jsx("span",{className:"spinner",style:{marginRight:6}}),"Updating..."]}):m.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[je(d.status)==="PENDING"&&m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"btn",onClick:()=>r(d.id,"PREPARING"),children:"Mark Preparing"}),m.jsx("button",{className:"btn",onClick:()=>i(d.id),style:{backgroundColor:"#ef4444",color:"white",border:"none"},children:"Cancel Order"})]}),je(d.status)==="PREPARING"&&m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"btn",onClick:()=>r(d.id,"READY"),children:"Mark Ready"}),m.jsx("button",{className:"btn",onClick:()=>i(d.id),style:{backgroundColor:"#ef4444",color:"white",border:"none"},children:"Cancel Order"})]}),je(d.status)==="READY"&&m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"btn",onClick:()=>r(d.id,"DELIVERED"),children:"Mark Delivered"}),m.jsx("button",{className:"btn",onClick:()=>i(d.id),style:{backgroundColor:"#ef4444",color:"white",border:"none"},children:"Cancel Order"})]})]})})]},d.id)})})]})})}function WI({orders:n,deliveredOrders:e=[],activity:t=[],onUpdateStatus:r,onRevert:i,onCancel:a,view:s="live",pictureMode:c=!1,updatingIds:f={}}){const d=s==="live",[p,g]=R.useState([]),[y,x]=R.useState([]);R.useEffect(()=>{(async()=>{try{let T=0,D=[];for(;;){const U=T+1e3-1,{data:$,error:G}=await ve.from("food_items").select("*").range(T,U);if(G)throw G;const te=$||[];if(D=D.concat(te),te.length<1e3)break;T+=1e3}g(D);const{data:P,error:L}=await ve.from("order_items").select(`
            *,
            food_items (
              name,
              image_url,
              price
            )
          `);L?console.error("Failed to fetch order_items:",L):x(P||[])}catch(C){console.error("Failed to fetch data for orders:",C),g([]),x([])}})()},[]);const _=b=>{try{const C=n.find(D=>D.id===b)||e.find(D=>D.id===b),T=C&&(C.token_no||C.order_token);return T?"#"+T:"Not available"}catch{return"Not available"}},E=b=>y.filter(C=>C.order_id===b),S=b=>{const C=E(b.id);if(C.length>0){const P=C[0];if(P.food_items&&P.food_items.image_url)return P.food_items.image_url}const T=(b.item_name||"").toLowerCase(),D=p.find(P=>{const L=(P.name||P.item_name||"").toLowerCase();return L===T||L.includes(T)||T.includes(L)});return D&&D.image_url?D.image_url:T.includes("samosa")?"https://as2.ftcdn.net/v2/jpg/15/85/73/65/1000_F_1585736532_NFMq8z0vAjbker6w9vuzoF8FmsxVRGPI.jpg":T.includes("biryani")?"https://as1.ftcdn.net/v2/jpg/04/59/27/88/1000_F_459278894_92eSlejnR7NSwJRCbVyy9ZZibSmjbF8q.jpg":T.includes("dosa")?"https://as2.ftcdn.net/v2/jpg/14/45/94/59/1000_F_1445945944_eBUM7ot1AWezNkqknKsRImNvLvFbmr7z.jpg":"https://via.placeholder.com/300?text=Food"};return m.jsxs("div",{className:"home-dashboard",children:[s==="activity"?m.jsx(pr,{title:void 0,children:m.jsxs("table",{className:"table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{style:{width:"25%"},children:"Item Name"}),m.jsx("th",{style:{width:"15%",textAlign:"center"},children:"Token No"}),m.jsx("th",{style:{width:"20%",textAlign:"center"},children:"From → To"}),m.jsx("th",{style:{width:"20%",textAlign:"center"},children:"At"}),m.jsx("th",{style:{width:"20%",textAlign:"center"},children:"Actions"})]})}),m.jsx("tbody",{children:t.slice(0,20).map((b,C)=>{const D=b.ts&&Date.now()-b.ts<3e5;return m.jsxs("tr",{children:[m.jsx("td",{style:{verticalAlign:"middle"},children:m.jsx("strong",{children:b.itemName||"Order Item"})}),m.jsx("td",{style:{textAlign:"center",verticalAlign:"middle"},children:m.jsx("span",{style:{fontFamily:"monospace",fontWeight:"bold",color:"#666"},children:_(b.orderId)})}),m.jsx("td",{style:{textAlign:"center",verticalAlign:"middle"},children:m.jsxs("span",{style:{whiteSpace:"nowrap"},children:[b.from," → ",b.to]})}),m.jsx("td",{style:{textAlign:"center",verticalAlign:"middle",fontSize:"13px"},children:b.at}),m.jsx("td",{style:{textAlign:"center",verticalAlign:"middle"},children:D?m.jsx("button",{className:"btn btn-secondary",onClick:()=>i(b),style:{minWidth:"80px",margin:"0 auto"},children:"Revert"}):m.jsx("span",{style:{fontSize:"12px",color:"#9ca3af",fontStyle:"italic",whiteSpace:"nowrap"},children:"Expired"})})]},C)})})]})}):d?c?m.jsx(pr,{title:void 0,children:m.jsx("div",{className:"cards-grid",children:n.map(b=>m.jsxs("div",{className:"order-card",children:[m.jsx("div",{className:"avatar",children:m.jsx("img",{src:S(b),alt:b.item_name||"Order Item",loading:"lazy",style:{objectFit:"cover",width:"100%",height:"100%",transition:"opacity 0.2s ease-in-out",backgroundColor:"#f3f4f6"},onLoad:C=>{C.currentTarget.style.opacity="1"},onError:C=>{const T=C.currentTarget;T.src!=="https://via.placeholder.com/300?text=Food"&&(T.style.opacity="0.5",setTimeout(()=>{T.src="https://via.placeholder.com/300?text=Food",T.style.opacity="1"},100))}})}),m.jsx("div",{style:{fontFamily:"monospace",fontWeight:"bold",color:"#666",fontSize:"0.9em",marginBottom:4},children:b.token_no||b.order_token?"#"+(b.token_no||b.order_token):"Not available"}),m.jsx("div",{style:{fontWeight:600,fontSize:"1.1em"},children:b.item_name}),m.jsx("div",{style:{marginBottom:8},children:b.user_id===Vr?m.jsx("span",{style:{backgroundColor:"#6b7280",color:"white",padding:"2px 6px",borderRadius:"4px",fontSize:"10px",fontWeight:"500"},children:"📱 App"}):m.jsx("span",{style:{backgroundColor:"#3b82f6",color:"white",padding:"2px 6px",borderRadius:"4px",fontSize:"10px",fontWeight:"500"},children:"🧑‍💻 Counter"})}),m.jsxs("div",{style:{marginBottom:12},children:[je(b.status)==="PENDING"&&m.jsx("span",{className:"badge pending",children:"PENDING"}),je(b.status)==="PREPARING"&&m.jsx("span",{className:"badge preparing",children:"PREPARING"}),je(b.status)==="READY"&&m.jsx("span",{className:"badge ready",children:"READY"}),je(b.status)==="DELIVERED"&&m.jsx("span",{className:"badge ready",children:"DELIVERED"})]}),m.jsx("div",{className:"actions",style:{justifyContent:"center",display:"flex",flexDirection:"column",gap:"8px"},children:f&&f[b.id]?m.jsxs("button",{className:"btn",disabled:!0,children:[m.jsx("span",{className:"spinner",style:{marginRight:6}}),"Updating..."]}):m.jsxs(m.Fragment,{children:[je(b.status)==="PENDING"&&m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"btn btn-primary",onClick:()=>r(b.id,"PREPARING"),children:"Mark Preparing"}),m.jsx("button",{className:"btn btn-danger",onClick:()=>a(b.id),children:"Cancel Order"})]}),je(b.status)==="PREPARING"&&m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"btn btn-success",onClick:()=>r(b.id,"READY"),children:"Mark Ready"}),m.jsx("button",{className:"btn btn-primary",onClick:()=>r(b.id,"DELIVERED"),children:"Mark Delivered"}),m.jsx("button",{className:"btn btn-danger",onClick:()=>a(b.id),children:"Cancel Order"})]}),je(b.status)==="READY"&&m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"btn btn-primary",onClick:()=>r(b.id,"DELIVERED"),children:"Mark Delivered"}),m.jsx("button",{className:"btn btn-danger",onClick:()=>a(b.id),children:"Cancel Order"})]})]})})]},b.id))})}):m.jsx(XI,{withTitle:!1,idHeader:"Token No",orders:n,orderItems:y,onUpdateStatus:r,onCancel:a,updatingIds:f}):m.jsx(pr,{title:void 0,children:m.jsxs("table",{className:"table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{style:{width:"12%",textAlign:"center"},children:"Token No"}),m.jsx("th",{style:{width:"20%"},children:"Item Name"}),m.jsx("th",{style:{width:"10%",textAlign:"right"},children:"Price"}),m.jsx("th",{style:{width:"12%",textAlign:"center"},children:"Date"}),m.jsx("th",{style:{width:"12%",textAlign:"center"},children:"Time"}),m.jsx("th",{style:{width:"12%",textAlign:"center"},children:"Placed By"}),m.jsx("th",{style:{width:"12%",textAlign:"center"},children:"Status"})]})}),m.jsx("tbody",{children:e.map(b=>{const C=b.created_at?new Date(b.created_at):null,T=b.delivered_at?new Date(b.delivered_at):C,D=E(b.id),P=D.length>0;return m.jsxs("tr",{children:[m.jsx("td",{style:{textAlign:"center",verticalAlign:"middle"},children:m.jsx("span",{style:{fontFamily:"monospace",fontWeight:"bold",color:"#666"},children:b.token_no||b.order_token?"#"+(b.token_no||b.order_token):"N/A"})}),m.jsx("td",{style:{position:"relative",verticalAlign:"middle"},children:P?m.jsxs("div",{className:"order-items-cell",children:[m.jsx("strong",{children:D.length===1?D[0].food_items?.name||"Unknown Item":`${D.length} Items`}),D.length>1&&m.jsx("div",{className:"order-items-popup",children:m.jsx("div",{className:"order-items-popup-content",children:D.map((L,U)=>{const $=L.food_items?.price||L.price||0;return m.jsxs("div",{className:"order-items-popup-item",children:[m.jsx("strong",{children:L.food_items?.name||"Unknown Item"}),m.jsxs("span",{style:{color:"#666",marginLeft:"8px"},children:["Qty: ",L.quantity," × ₹",$," = ₹",$*L.quantity]})]},U)})})})]}):m.jsx("strong",{children:b.item_name||"Unknown Item"})}),m.jsx("td",{style:{textAlign:"right",verticalAlign:"middle"},children:b.total_amount!=null?`₹${b.total_amount}`:"-"}),m.jsx("td",{style:{textAlign:"center",verticalAlign:"middle",fontSize:"13px"},children:T?T.toLocaleDateString():"-"}),m.jsx("td",{style:{textAlign:"center",verticalAlign:"middle",fontSize:"13px"},children:T?T.toLocaleTimeString():"-"}),m.jsx("td",{style:{textAlign:"center",verticalAlign:"middle"},children:b.user_id===Vr?m.jsx("span",{style:{backgroundColor:"#6b7280",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"500",whiteSpace:"nowrap"},children:"App"}):m.jsx("span",{style:{backgroundColor:"#3b82f6",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"500",whiteSpace:"nowrap"},children:"Counter"})}),m.jsx("td",{style:{textAlign:"center",verticalAlign:"middle"},children:m.jsx("span",{className:"badge ready",children:"DELIVERED"})})]},b.id)})})]})}),null]})}function YI(){ju();const[n,e]=R.useState([]),[t,r]=R.useState({id:"",name:""}),[i,a]=R.useState(""),[s,c]=R.useState("all"),[f,d]=R.useState(!1),[p,g]=R.useState(!1),[y,x]=R.useState({name:"",cost:"",description:"",image:null}),[_,E]=R.useState(!1),[S,b]=R.useState(""),[C,T]=R.useState("id"),[D,P]=R.useState("available_quantity"),[L,U]=R.useState(null),[$,G]=R.useState(null),[te,ae]=R.useState({show:!1,message:"",type:"success"}),[le,se]=R.useState("all"),[de,Ee]=R.useState(!1),[k,I]=R.useState(null),[B,ee]=R.useState(!1),[N,F]=R.useState({name:"",cost:"",description:"",image:null}),z=async()=>{try{let ue=0,he=[];for(;;){const Ae=ue+1e3-1,{data:Pn,error:_e}=await ve.from("food_items").select("*").range(ue,Ae);if(_e)throw _e;const Ce=Pn||[];if(he=he.concat(Ce),Ce.length<1e3)break;ue+=1e3}he=he.filter(Ae=>Ae.is_active!==!1);const we=he[0]||{},ge=["id","item_id","slug","code"],Re=["available_quantity","in_stock","available","is_available","stock","status"],Ie=ge.find(Ae=>Object.prototype.hasOwnProperty.call(we,Ae))||"id",et=Re.find(Ae=>Object.prototype.hasOwnProperty.call(we,Ae))||"in_stock";T(Ie),P(et);const At=he.map(Ae=>{const Pn=Ae[Ie]??String(Math.random()).slice(2),_e=Ae.name??Ae.item_name??Ae.title??Ae.label??"Item",Ce=Ae.price??Ae.cost??0,Xt=Ae.available_quantity??Ae.quantity??Ae.stock??0,Gr=(typeof Xt=="number"?Xt>0:void 0)??Ae.in_stock??Ae.available??Ae.is_available??(typeof Ae.stock=="number"?Ae.stock>0:void 0)??(typeof Ae.status=="string"?String(Ae.status).toLowerCase()==="in":void 0)??!0;return{id:Pn,name:_e,price:Ce,availableQuantity:Xt,inStock:!!Gr,image_url:Ae.image_url,description:Ae.description,originalData:Ae}});e(At)}catch(q){console.error("Error fetching items:",q)}},Z=()=>{z()},J=q=>{if(!q)return null;const ue=n.find(he=>he.name.toLowerCase().trim()===q.toLowerCase().trim());return console.log("Searching for:",q,"Found:",ue,"Items:",n.map(he=>he.name)),ue},ce=()=>{const q=t.name.trim();if(!q)return;const ue=J(q);console.log("Button clicked for:",q,"Existing item:",ue),ue?(console.log("Removing item:",ue),_n(ue.id),r({id:"",name:""})):(console.log("Adding new item:",q),x({...y,name:q}),g(!0),d(!1))},fe=()=>le==="all"?n:n.filter(q=>{switch(le){case"in-stock":return q.inStock&&q.availableQuantity>20;case"low-stock":return q.inStock&&q.availableQuantity<=20&&q.availableQuantity>5;case"very-low":return q.inStock&&q.availableQuantity<=5&&q.availableQuantity>0;case"out-of-stock":return!q.inStock||q.availableQuantity===0;default:return!0}}),ye=async()=>{try{console.log("🔍 Checking if food_images bucket exists...");const{data:q,error:ue}=await ve.storage.listBuckets();if(ue)return console.error("❌ Error listing buckets:",ue),!1;if(q.find(we=>we.name==="food_images"))return console.log("✅ food_images bucket already exists"),!0;{console.log("📦 food_images bucket not found, attempting to create...");const{error:we}=await ve.rpc("create_food_images_bucket");if(we){console.log("⚠️ RPC method failed, trying direct SQL...");const{error:ge}=await ve.from("storage.buckets").insert([{id:"food_images",name:"food_images",public:!0,file_size_limit:52428800,allowed_mime_types:["image/jpeg","image/png","image/gif","image/webp"]}]);if(ge)return console.error("❌ Failed to create bucket:",ge),!1}return console.log("✅ food_images bucket created successfully!"),!0}}catch(q){return console.error("❌ Error creating bucket:",q),!1}};R.useEffect(()=>{(async()=>{try{if(console.log("🧪 Testing Supabase Storage connection..."),!await ye()){console.warn("⚠️ Could not ensure food_images bucket exists");return}const{data:he,error:we}=await ve.storage.listBuckets();if(we){console.error("❌ Error listing buckets:",we);return}if(console.log("📋 Available buckets:",he.map(Re=>Re.name)),he.find(Re=>Re.name==="food_images")){console.log("✅ food_images bucket ready for use!");const{data:Re,error:Ie}=await ve.storage.from("food_images").list();Ie?console.warn("⚠️ Could not list files in bucket:",Ie.message):console.log("📁 Files in food_images bucket:",Re.length)}}catch(ue){console.error("❌ Storage connection test failed:",ue)}})()},[]),R.useEffect(()=>{z()},[]);const me=async()=>{console.log("🔄 Using direct Supabase upload fallback...");let q=null,ue=!1;if(y.image)try{console.log("🚀 Uploading image to Supabase Storage..."),console.log("📎 Image file details:",{name:y.image.name,size:y.image.size,type:y.image.type});const Ie=Date.now(),et=y.image.name.split(".").pop().toLowerCase(),At=y.name.replace(/[^a-zA-Z0-9]/g,"_"),Ae=`items/${Ie}-${At}.${et}`;console.log("📁 Generated filename:",Ae);const{data:Pn,error:_e}=await ve.storage.from("images_food").upload(Ae,y.image,{cacheControl:"3600",upsert:!1,contentType:y.image.type});if(_e)throw console.error("❌ Upload error:",_e),console.error("❌ Upload error details:",{message:_e.message,statusCode:_e.statusCode,error:_e.error}),new Error(`Upload failed: ${_e.message}`);console.log("✅ Upload successful:",Pn);const{data:Ce}=ve.storage.from("images_food").getPublicUrl(Ae);q=Ce.publicUrl,ue=!0,console.log("🔗 Public URL generated:",q)}catch(Ie){console.error("❌ Image upload failed:",Ie),console.error("❌ Upload error details:",Ie)}else console.log("ℹ️ No image provided for upload");const he={name:y.name.trim(),price:parseFloat(y.cost),available_quantity:100,is_active:!0};y.description.trim()&&(he.description=y.description.trim()),q&&(he.image_url=q),console.log("📝 Inserting item data:",he);const{data:we,error:ge}=await ve.from("food_items").insert([he]).select();if(ge)throw console.error("❌ Database insert error:",ge),console.error("❌ Database error details:",{message:ge.message,details:ge.details,hint:ge.hint,code:ge.code}),new Error(`Database error: ${ge.message}`);console.log("✅ Item inserted successfully:",we);const Re=ue?`Item "${y.name}" added successfully with image!`:`Item "${y.name}" added successfully!`;ae({show:!0,message:Re,type:"success"}),x({name:"",cost:"",description:"",image:null}),g(!1),r({id:"",name:""}),b(""),z(),en&&en()},Je=async q=>{q.preventDefault(),E(!0),b("");try{if(!y.name.trim())throw new Error("Item name is required");if(!y.cost||parseFloat(y.cost)<=0)throw new Error("Valid cost is required");console.log("🚀 Creating FormData for API request...");const ue=new FormData;ue.append("name",y.name.trim()),ue.append("price",y.cost),ue.append("description",y.description.trim()),y.image&&(ue.append("image",y.image),console.log("📎 Added image file to FormData:",y.image.name)),console.log("📤 Sending request to /api/items...");let he,we;try{he=await fetch("/api/items",{method:"POST",body:ue}),console.log("📡 Response status:",he.status),console.log("📡 Response headers:",Object.fromEntries(he.headers.entries()));const ge=he.headers.get("content-type");if(!ge||!ge.includes("application/json")){const Re=await he.text();throw console.error("❌ Non-JSON response:",Re),new Error(`Server returned non-JSON response (${he.status}): ${Re.substring(0,200)}`)}try{we=await he.json()}catch(Re){console.error("❌ JSON parsing error:",Re);const Ie=await he.text();throw console.error("❌ Raw response:",Ie),new Error(`Invalid JSON response: ${Re.message}`)}if(console.log("📋 Parsed response:",we),!he.ok)throw new Error(we.error||`HTTP ${he.status}: ${he.statusText}`);if(!we.success)throw new Error(we.error||"API request failed");console.log("✅ API response:",we)}catch(ge){console.warn("⚠️ API server not available, using direct Supabase upload:",ge.message),await me();return}ae({show:!0,message:we.message,type:"success"}),x({name:"",cost:"",description:"",image:null}),g(!1),r({id:"",name:""}),b(""),z(),en&&en()}catch(ue){console.error("❌ Failed to add item:",ue);const he=ue.message||"Failed to add item";b(he),alert(`❌ Error: ${he}`)}finally{E(!1)}},Be=()=>{g(!1),x({name:"",cost:"",description:"",image:null}),b(""),E(!1)},Pe=q=>{I(q),F({name:q.name||"",cost:q.price||"",description:q.description||"",image:null}),ee(!0)},Le=()=>{ee(!1),I(null),F({name:"",cost:"",description:"",image:null}),b(""),E(!1)},ot=async q=>{q.preventDefault(),E(!0),b("");try{if(!N.name.trim())throw new Error("Item name is required");if(!N.cost||parseFloat(N.cost)<=0)throw new Error("Valid cost is required");console.log("🚀 Updating item:",k.name);const ue=new FormData;ue.append("name",N.name.trim()),ue.append("price",N.cost),ue.append("description",N.description.trim()),ue.append("id",k.id),N.image&&(ue.append("image",N.image),console.log("📎 Added new image file to FormData:",N.image.name)),console.log("📤 Sending update request to /api/items...");let he,we;try{he=await fetch("/api/items",{method:"PUT",body:ue}),console.log("📡 Response status:",he.status);const ge=he.headers.get("content-type");if(!ge||!ge.includes("application/json")){const Ie=await he.text();throw console.error("❌ Non-JSON response:",Ie),new Error(`Server returned non-JSON response (${he.status}): ${Ie.substring(0,200)}`)}try{we=await he.json()}catch(Ie){console.error("❌ JSON parsing error:",Ie);const et=await he.text();throw console.error("❌ Raw response:",et),new Error(`Invalid JSON response: ${Ie.message}`)}if(console.log("📋 Parsed response:",we),!we.success)throw new Error(we.error||"Update failed");console.log("✅ Item updated successfully via API:",we.data);const Re=N.image?`Item "${N.name}" updated successfully with new image!`:`Item "${N.name}" updated successfully!`;ae({show:!0,message:Re,type:"success"})}catch(ge){console.warn("⚠️ API update failed, trying direct Supabase update:",ge),await St()}Le(),z(),en&&en()}catch(ue){console.error("❌ Edit item failed:",ue),b(ue.message),ae({show:!0,message:`Update failed: ${ue.message}`,type:"error"})}finally{E(!1)}},St=async()=>{console.log("🔄 Using direct Supabase update fallback...");let q=k.image_url,ue=!1;if(N.image)try{console.log("🚀 Uploading new image to Supabase Storage..."),console.log("📎 Image file details:",{name:N.image.name,size:N.image.size,type:N.image.type});const Ie=Date.now(),et=N.image.name.split(".").pop().toLowerCase(),At=N.name.replace(/[^a-zA-Z0-9]/g,"_"),Ae=`items/${Ie}-${At}.${et}`;console.log("📁 Generated filename:",Ae);const{data:Pn,error:_e}=await ve.storage.from("images_food").upload(Ae,N.image,{cacheControl:"3600",upsert:!1,contentType:N.image.type});if(_e)throw console.error("❌ Upload error:",_e),console.error("❌ Upload error details:",{message:_e.message,statusCode:_e.statusCode,error:_e.error}),new Error(`Image upload failed: ${_e.message}`);console.log("✅ Image uploaded successfully:",Pn);const{data:Ce}=ve.storage.from("images_food").getPublicUrl(Ae);q=Ce.publicUrl,ue=!0,console.log("✅ Public URL generated:",q)}catch(Ie){throw console.error("❌ Image upload failed:",Ie),new Error(`Image upload failed: ${Ie.message}`)}const he={name:N.name.trim(),price:parseFloat(N.cost),description:N.description?.trim()||null,image_url:q,updated_at:new Date().toISOString()};console.log("📝 Updating item data in food_items:",he);const{data:we,error:ge}=await ve.from("food_items").update(he).eq("id",k.id).select();if(ge)throw console.error("❌ Database update error:",ge),console.error("❌ Database error details:",{message:ge.message,details:ge.details,hint:ge.hint,code:ge.code}),new Error(`Database error: ${ge.message}`);console.log("✅ Item updated successfully:",we);const Re=ue?`Item "${N.name}" updated successfully with new image!`:`Item "${N.name}" updated successfully!`;ae({show:!0,message:Re,type:"success"})};R.useEffect(()=>{const q=ue=>{ue.key==="Escape"&&p&&Be(),ue.key==="Escape"&&B&&Le()};if(p||B)return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[p,B]);const We=async(q,ue)=>{const he=n,we=n.find(Re=>Re.id===q);let ge=0;if(ue){const Re=prompt(`Enter the quantity for ${we?.name||"this item"}:`,"10");if(Re===null)return;const Ie=parseInt(Re);if(isNaN(Ie)||Ie<0){alert("Invalid quantity. Please enter a positive number.");return}ge=Ie}e(Re=>Re.map(Ie=>Ie.id===q?{...Ie,inStock:ue,availableQuantity:ge}:Ie));try{if(we&&we._local)return;let Re={};D==="stock"?Re[D]=ge:D==="status"?Re[D]=ue?"in":"out":D==="available_quantity"?Re[D]=ge:Re[D]=!!ue,console.log("📦 Updating stock status:",{id:q,inStock:ue,newQuantity:ge,update:Re,field:D});const{data:Ie,error:et}=await ve.from("food_items").update(Re).eq(C,q).select();if(et)throw et;console.log("✅ Stock status updated successfully:",Ie),ae({show:!0,message:`Item marked as ${ue?`In Stock (Qty: ${ge})`:"Out of Stock"}`,type:"success"}),setTimeout(()=>ae({show:!1,message:"",type:"success"}),3e3),en&&en()}catch(Re){console.error("❌ Failed to update stock in Supabase:",Re),e(he),ae({show:!0,message:`Failed to update stock: ${Re.message}`,type:"error"}),setTimeout(()=>ae({show:!1,message:"",type:"success"}),3e3)}},xt=async(q,ue)=>{if(ue<0||isNaN(ue)){ae({show:!0,message:"Quantity must be a positive number or zero",type:"error"}),setTimeout(()=>ae({show:!1,message:"",type:"success"}),3e3);return}const he=n;e(we=>we.map(ge=>ge.id===q?{...ge,availableQuantity:ue,inStock:ue>0}:ge));try{const we=n.find(Re=>Re.id===q);if(we&&we._local){ae({show:!0,message:"Quantity updated successfully",type:"success"}),setTimeout(()=>ae({show:!1,message:"",type:"success"}),3e3);return}const{error:ge}=await ve.from("food_items").update({available_quantity:ue}).eq(C,q);if(ge)throw ge;ae({show:!0,message:"Quantity updated successfully",type:"success"}),setTimeout(()=>ae({show:!1,message:"",type:"success"}),3e3)}catch(we){console.error("Failed to update quantity in Supabase:",we),e(he),ae({show:!0,message:"Error updating quantity",type:"error"}),setTimeout(()=>ae({show:!1,message:"",type:"success"}),3e3)}},st=async(q,ue)=>{if(ue<0||isNaN(ue)){ae({show:!0,message:"Price must be a positive number or zero",type:"error"}),setTimeout(()=>ae({show:!1,message:"",type:"success"}),3e3);return}const he=n;e(we=>we.map(ge=>ge.id===q?{...ge,price:ue}:ge));try{const we=n.find(Re=>Re.id===q);if(we&&we._local){ae({show:!0,message:"Price updated successfully",type:"success"}),setTimeout(()=>ae({show:!1,message:"",type:"success"}),3e3);return}const{error:ge}=await ve.from("food_items").update({price:ue}).eq(C,q);if(ge)throw ge;ae({show:!0,message:"Price updated successfully",type:"success"}),setTimeout(()=>ae({show:!1,message:"",type:"success"}),3e3)}catch(we){console.error("Failed to update price in Supabase:",we),e(he),ae({show:!0,message:"Error updating price",type:"error"}),setTimeout(()=>ae({show:!1,message:"",type:"success"}),3e3)}},_n=async q=>{const ue=n;e(he=>he.filter(we=>we.id!==q));try{const he=n.find(Re=>Re.id===q);if(he&&he._local)return;console.log("🗑️ Attempting to soft delete item:",{id:q,idField:C,target:he});const{data:we,error:ge}=await ve.from("food_items").update({is_active:!1}).eq(C,q).select();if(ge){console.error("❌ Error from Supabase:",ge),console.error("Error details:",{message:ge.message,details:ge.details,hint:ge.hint,code:ge.code}),e(ue),alert(`Failed to remove item.

Error: ${ge.message}

Details: ${ge.details||"Check console for more info"}`);return}console.log("✅ Item soft deleted successfully:",we),ae({show:!0,message:"Item moved to Removed Items",type:"success"}),setTimeout(()=>ae({show:!1,message:"",type:"success"}),3e3),en&&en()}catch(he){console.error("❌ Exception during soft delete:",he),e(ue),alert(`Failed to remove item.

Error: ${he.message||"Unknown error"}`)}},Hr=fe().filter(q=>{const ue=i.trim().toLowerCase(),he=ue?String(q.name||"").toLowerCase().includes(ue):!0,we=s==="all"||(s==="in"?q.inStock:!q.inStock);return he&&we}).sort((q,ue)=>{const he=i.trim().toLowerCase(),we=String(q.name||"").toLowerCase(),ge=String(ue.name||"").toLowerCase();if(he){const Re=we.startsWith(he),Ie=ge.startsWith(he);if(Re&&!Ie)return-1;if(!Re&&Ie)return 1;if(Re===Ie)return we.localeCompare(ge)}return we.localeCompare(ge)});return m.jsxs("div",{style:{display:"grid",gap:16},children:[m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"12px",marginBottom:"16px"},children:[m.jsxs("div",{style:{backgroundColor:le==="all"?"#e2e8f0":"#f8fafc",border:le==="all"?"2px solid #64748b":"1px solid #e2e8f0",borderRadius:"8px",padding:"12px",textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",transform:le==="all"?"scale(1.02)":"scale(1)",boxShadow:le==="all"?"0 4px 12px rgba(100, 116, 139, 0.3)":"none"},onClick:()=>se("all"),children:[m.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#1e293b"},children:n.length}),m.jsx("div",{style:{fontSize:"12px",color:"#64748b"},children:"Total"})]}),m.jsxs("div",{style:{backgroundColor:le==="in-stock"?"#bbf7d0":"#f0fdf4",border:le==="in-stock"?"2px solid #16a34a":"1px solid #bbf7d0",borderRadius:"8px",padding:"12px",textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",transform:le==="in-stock"?"scale(1.02)":"scale(1)",boxShadow:le==="in-stock"?"0 4px 12px rgba(22, 163, 74, 0.3)":"none"},onClick:()=>se(le==="in-stock"?"all":"in-stock"),children:[m.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#166534"},children:n.filter(q=>q.inStock&&q.availableQuantity>20).length}),m.jsx("div",{style:{fontSize:"12px",color:"#16a34a"},children:"In Stock"})]}),m.jsxs("div",{style:{backgroundColor:le==="low-stock"?"#fef3c7":"#fefce8",border:le==="low-stock"?"2px solid #ca8a04":"1px solid #fde047",borderRadius:"8px",padding:"12px",textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",transform:le==="low-stock"?"scale(1.02)":"scale(1)",boxShadow:le==="low-stock"?"0 4px 12px rgba(202, 138, 4, 0.3)":"none"},onClick:()=>se(le==="low-stock"?"all":"low-stock"),children:[m.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#a16207"},children:n.filter(q=>q.inStock&&q.availableQuantity<=20&&q.availableQuantity>5).length}),m.jsx("div",{style:{fontSize:"12px",color:"#ca8a04"},children:"Low Stock"})]}),m.jsxs("div",{style:{backgroundColor:le==="very-low"?"#fecaca":"#fef2f2",border:le==="very-low"?"2px solid #dc2626":"1px solid #fca5a5",borderRadius:"8px",padding:"12px",textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",transform:le==="very-low"?"scale(1.02)":"scale(1)",boxShadow:le==="very-low"?"0 4px 12px rgba(220, 38, 38, 0.3)":"none"},onClick:()=>se(le==="very-low"?"all":"very-low"),children:[m.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#991b1b"},children:n.filter(q=>q.inStock&&q.availableQuantity<=5&&q.availableQuantity>0).length}),m.jsx("div",{style:{fontSize:"12px",color:"#dc2626"},children:"Very Low"})]}),m.jsxs("div",{style:{backgroundColor:le==="out-of-stock"?"#e2e8f0":"#f1f5f9",border:le==="out-of-stock"?"2px solid #64748b":"1px solid #cbd5e1",borderRadius:"8px",padding:"12px",textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",transform:le==="out-of-stock"?"scale(1.02)":"scale(1)",boxShadow:le==="out-of-stock"?"0 4px 12px rgba(100, 116, 139, 0.3)":"none"},onClick:()=>se(le==="out-of-stock"?"all":"out-of-stock"),children:[m.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#475569"},children:n.filter(q=>!q.inStock||q.availableQuantity===0).length}),m.jsx("div",{style:{fontSize:"12px",color:"#64748b"},children:"Out of Stock"})]})]}),m.jsx(pr,{title:"Inventory Controls",titleAction:m.jsxs("button",{onClick:()=>Ee(!0),className:"btn btn-secondary",style:{padding:"8px 16px",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx(gw,{size:16}),"Removed Items"]}),children:m.jsxs("div",{className:"inventory-controls-vertical",children:[m.jsx("div",{className:"search-section",children:m.jsx("input",{className:"search-input",placeholder:"Search food items...",value:i,onChange:q=>a(q.target.value)})}),m.jsx("div",{className:"add-section",children:m.jsxs("div",{className:"add-item-container",children:[m.jsx("input",{className:"add-input",placeholder:"Add Item",value:t.name,onChange:q=>r({...t,name:q.target.value})}),m.jsx(ct.button,{className:`dynamic-btn ${J(t.name.trim())?"remove-btn":"add-btn"}`,onClick:ce,disabled:!t.name.trim(),whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300,damping:20},children:J(t.name.trim())?m.jsx("span",{children:"−"}):m.jsx("span",{children:"+"})})]})})]})}),m.jsxs(pr,{title:"Inventory Items",children:[le!=="all"&&m.jsxs("div",{style:{marginBottom:"12px",padding:"8px 12px",backgroundColor:"#f0f9ff",border:"1px solid #0ea5e9",borderRadius:"6px",fontSize:"14px",color:"#0369a1"},children:[m.jsx("strong",{children:"🔍 Filter Active:"})," Showing ",le==="in-stock"?"In Stock":le==="low-stock"?"Low Stock":le==="very-low"?"Very Low":"Out of Stock"," items only",m.jsx("button",{onClick:()=>se("all"),style:{marginLeft:"8px",padding:"2px 8px",fontSize:"12px",backgroundColor:"#0ea5e9",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Clear Filter"})]}),m.jsxs("table",{className:"table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{style:{width:"80px",textAlign:"center"},children:"Image"}),m.jsx("th",{style:{width:"25%"},children:"Item Name"}),m.jsx("th",{style:{width:"12%",textAlign:"right"},children:"Price"}),m.jsx("th",{style:{width:"12%",textAlign:"center"},children:"Quantity"}),m.jsx("th",{style:{width:"15%",textAlign:"center"},children:"Stock Status"}),m.jsx("th",{style:{width:"20%",textAlign:"center"},children:"Actions"})]})}),m.jsx("tbody",{children:Hr.map(q=>m.jsxs("tr",{children:[m.jsx("td",{style:{textAlign:"center",verticalAlign:"middle",padding:"8px"},children:m.jsxs("div",{style:{width:"50px",height:"50px",borderRadius:"8px",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6",border:"1px solid #e5e7eb",margin:"0 auto"},children:[q.image_url?m.jsx("img",{src:q.image_url,alt:q.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:ue=>{ue.target.style.display="none",ue.target.nextSibling.style.display="flex"}}):null,m.jsx("div",{style:{display:q.image_url?"none":"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",fontSize:"20px",color:"#6b7280"},children:"📷"})]})}),m.jsx("td",{style:{verticalAlign:"middle"},children:m.jsx("strong",{children:q.name})}),m.jsx("td",{style:{textAlign:"right",verticalAlign:"middle"},children:L===q.id?m.jsx("input",{type:"number",className:"price-input",value:q.price,onChange:ue=>e(n.map(he=>he.id===q.id?{...he,price:Number(ue.target.value)}:he)),onBlur:()=>{st(q.id,q.price),U(null)},onKeyDown:ue=>{ue.key==="Enter"?(st(q.id,q.price),U(null)):ue.key==="Escape"&&U(null)},min:"0",step:"0.01",autoFocus:!0,style:{MozAppearance:"textfield"}}):m.jsxs("span",{className:"price-cell",onClick:()=>U(q.id),children:["₹",q.price]})}),m.jsx("td",{style:{textAlign:"center",verticalAlign:"middle"},children:$===q.id?m.jsx("input",{type:"number",className:"quantity-input",value:q.availableQuantity,onChange:ue=>e(n.map(he=>he.id===q.id?{...he,availableQuantity:Number(ue.target.value)}:he)),onBlur:()=>{xt(q.id,q.availableQuantity),G(null)},onKeyDown:ue=>{ue.key==="Enter"?(xt(q.id,q.availableQuantity),G(null)):ue.key==="Escape"&&G(null)},min:"0",autoFocus:!0}):m.jsx("span",{className:"quantity-cell",onClick:()=>G(q.id),style:{cursor:"pointer",padding:"4px 8px",borderRadius:"4px",transition:"background-color 0.2s ease",display:"inline-block",minWidth:"40px",textAlign:"center",fontSize:"14px",fontWeight:"600",color:q.availableQuantity>20?"#10b981":q.availableQuantity>5?"#f59e0b":q.availableQuantity>0?"#ef4444":"#6b7280"},children:q.availableQuantity})}),m.jsx("td",{style:{textAlign:"center",verticalAlign:"middle"},children:m.jsx("span",{className:"stock-status-badge",style:{backgroundColor:q.availableQuantity>20?"#dcfce7":q.availableQuantity>5?"#fef3c7":q.availableQuantity>0?"#fee2e2":"#f3f4f6",color:q.availableQuantity>20?"#166534":q.availableQuantity>5?"#92400e":q.availableQuantity>0?"#991b1b":"#6b7280"},children:q.availableQuantity>20?"🟢 In Stock":q.availableQuantity>5?"🟡 Low Stock":q.availableQuantity>0?"🟠 Very Low":"🔴 Out of Stock"})}),m.jsx("td",{style:{textAlign:"center",verticalAlign:"middle"},children:m.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center",justifyContent:"center",flexWrap:"nowrap"},children:[m.jsx("button",{className:"btn btn-secondary",onClick:()=>Pe(q),style:{padding:"6px 10px",fontSize:"12px",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",minWidth:"50px",whiteSpace:"nowrap"},children:"Edit"}),q.inStock?m.jsx("button",{className:"btn",onClick:()=>We(q.id,!1),style:{padding:"6px 10px",fontSize:"12px",minWidth:"75px",whiteSpace:"nowrap"},children:"Mark Out"}):m.jsx("button",{className:"btn",onClick:()=>We(q.id,!0),style:{padding:"6px 10px",fontSize:"12px",minWidth:"75px",whiteSpace:"nowrap"},children:"Mark In"})]})})]},q.id))})]})]}),p&&m.jsx("div",{className:"add-item-panel-overlay",onClick:Be,children:m.jsxs(ct.div,{className:"add-item-panel",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},onClick:q=>q.stopPropagation(),children:[m.jsxs("div",{className:"add-item-panel-header",children:[m.jsx("h3",{children:"Add New Item"}),m.jsx("button",{className:"add-item-panel-close",onClick:Be,children:m.jsx(Tn,{size:20})})]}),m.jsxs("form",{onSubmit:Je,className:"add-item-form",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"item-name",children:"Item Name *"}),m.jsx("input",{id:"item-name",type:"text",className:"form-input",value:y.name,onChange:q=>x({...y,name:q.target.value}),placeholder:"Enter item name",required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"item-cost",children:"Cost (₹) *"}),m.jsx("input",{id:"item-cost",type:"number",className:"form-input",value:y.cost,onChange:q=>x({...y,cost:q.target.value}),placeholder:"0.00",min:"0",step:"0.01",required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"item-description",children:"Description"}),m.jsx("textarea",{id:"item-description",className:"form-textarea",value:y.description,onChange:q=>x({...y,description:q.target.value}),placeholder:"Enter item description (optional)",rows:"3"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Image Upload (Optional)"}),m.jsx(l2,{value:y.image,onChange:q=>x({...y,image:q}),disabled:_}),m.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"10px"},children:[m.jsx("button",{type:"button",className:"btn-secondary",onClick:async()=>{console.log("=== TESTING SUPABASE STORAGE CONNECTION ===");try{console.log("🔍 Step 1: Testing bucket access...");const{data:q,error:ue}=await ve.storage.listBuckets();if(ue){console.error("❌ Bucket list failed:",ue),alert(`❌ Bucket access failed: ${ue.message}`);return}console.log("✅ Available buckets:",q.map(At=>At.name));const he=q.find(At=>At.name==="food_images");if(!he){console.log("📦 food_images bucket not found, attempting to create...");try{const{data:At,error:Ae}=await ve.storage.createBucket("food_images",{public:!0,fileSizeLimit:52428800,allowedMimeTypes:["image/jpeg","image/png","image/gif","image/webp"]});if(Ae){console.error("❌ Failed to create bucket:",Ae),alert(`❌ Cannot create bucket automatically: ${Ae.message}

Please create it manually in Supabase Dashboard:
1. Go to Storage
2. Click "New bucket"
3. Name: food_images
4. Check "Public bucket"
5. Click "Create bucket"`);return}console.log("✅ Bucket created successfully:",At),alert(`✅ food_images bucket created successfully!

Now setting up permissions...`);try{alert(`✅ Bucket created! Now you need to set up permissions:

1. Go to Supabase Dashboard → SQL Editor
2. Run these commands:

`+[`CREATE POLICY "Public Access" ON storage.objects FOR SELECT USING (bucket_id = 'food_images')`,`CREATE POLICY "Public Upload" ON storage.objects FOR INSERT WITH CHECK (bucket_id = 'food_images')`,`CREATE POLICY "Public Update" ON storage.objects FOR UPDATE USING (bucket_id = 'food_images')`,`CREATE POLICY "Public Delete" ON storage.objects FOR DELETE USING (bucket_id = 'food_images')`].join(`

`)+`

3. Then test storage access again!`);return}catch(Pn){console.error("❌ Policy setup failed:",Pn),alert("✅ Bucket created but policy setup failed. Please set up permissions manually in Supabase Dashboard.");return}}catch(At){console.error("❌ Bucket creation failed:",At),alert(`❌ Failed to create bucket: ${At.message}

Please create it manually in Supabase Dashboard.`);return}}console.log("✅ food_images bucket found:",he),console.log("🔍 Step 2: Testing file listing...");const{data:we,error:ge}=await ve.storage.from("food_images").list();if(ge){console.error("❌ File listing failed:",ge),alert(`❌ Cannot access files in bucket: ${ge.message}

This is likely a permissions issue. Check bucket policies.`);return}console.log("✅ Files in bucket:",we.length),console.log("🔍 Step 3: Testing upload permissions...");const Re=new File(["test"],"test.txt",{type:"text/plain"}),{data:Ie,error:et}=await ve.storage.from("food_images").upload(`test_${Date.now()}.txt`,Re);if(et){console.error("❌ Upload test failed:",et),alert(`❌ Upload test failed: ${et.message}

Bucket exists but upload permissions are missing.`);return}console.log("✅ Upload test successful:",Ie),await ve.storage.from("food_images").remove([Ie.path]),alert(`✅ Storage test successful!

- Buckets: ${q.length} found
- food_images bucket: ✅ Accessible
- File listing: ✅ Working
- Upload: ✅ Working

Your storage is ready!`)}catch(q){console.error("❌ Storage test error:",q),alert(`❌ Storage test error: ${q.message}`)}},style:{fontSize:"12px",padding:"6px 12px"},children:"Test Storage Access"}),y.image&&m.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{x({...y,image:null}),document.getElementById("item-image").value=""},style:{fontSize:"12px",padding:"6px 12px",backgroundColor:"#ef4444",color:"white"},children:"Remove Image"}),m.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{const q=`
-- Copy and paste these SQL commands in your Supabase SQL Editor:

-- 1. Create storage policies for food_images bucket
CREATE POLICY "Public Access" ON storage.objects
FOR SELECT USING (bucket_id = 'food_images');

CREATE POLICY "Public Upload" ON storage.objects
FOR INSERT WITH CHECK (bucket_id = 'food_images');

CREATE POLICY "Public Update" ON storage.objects
FOR UPDATE USING (bucket_id = 'food_images');

CREATE POLICY "Public Delete" ON storage.objects
FOR DELETE USING (bucket_id = 'food_images');

-- 2. If the above fails, try this alternative:
INSERT INTO storage.policies (id, bucket_id, name, definition, check_expression)
VALUES 
  ('food_images_select', 'food_images', 'Public Access', 'bucket_id = ''food_images''', 'bucket_id = ''food_images'''),
  ('food_images_insert', 'food_images', 'Public Upload', 'bucket_id = ''food_images''', 'bucket_id = ''food_images'''),
  ('food_images_update', 'food_images', 'Public Update', 'bucket_id = ''food_images''', 'bucket_id = ''food_images'''),
  ('food_images_delete', 'food_images', 'Public Delete', 'bucket_id = ''food_images''', 'bucket_id = ''food_images''')
ON CONFLICT (id) DO NOTHING;
                      `;navigator.clipboard.writeText(q).then(()=>{alert(`📋 SQL commands copied to clipboard!

1. Go to Supabase Dashboard → SQL Editor
2. Paste and run the commands
3. Test storage access again`)}).catch(()=>{alert(`📋 SQL Commands:

`+q+`

Copy these and run in Supabase SQL Editor`)})},style:{fontSize:"12px",padding:"6px 12px",backgroundColor:"#3b82f6",color:"white"},children:"Fix Permissions"})]})]}),S&&m.jsxs("div",{className:"form-error",style:{backgroundColor:"#fef2f2",border:"2px solid #fecaca",borderRadius:"8px",padding:"12px",marginTop:"10px",display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx(Da,{size:20,style:{color:"#dc2626"}}),m.jsxs("div",{children:[m.jsx("div",{style:{fontWeight:"600",color:"#dc2626",marginBottom:"4px"},children:"❌ Upload Failed"}),m.jsx("div",{style:{color:"#991b1b",fontSize:"14px"},children:S}),m.jsx("div",{style:{color:"#6b7280",fontSize:"12px",marginTop:"4px"},children:"Check the browser console (F12) for more details"}),m.jsx("button",{type:"button",onClick:()=>b(""),style:{marginTop:"8px",padding:"4px 8px",fontSize:"12px",backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Clear Error & Try Again"})]})]}),m.jsxs("div",{className:"form-actions",children:[m.jsx("button",{type:"button",className:"btn btn-secondary",onClick:Be,disabled:_,children:"Cancel"}),m.jsx("button",{type:"submit",className:"btn btn-primary",disabled:_,children:_?m.jsxs(m.Fragment,{children:[m.jsx(Xi,{className:"w-4 h-4 animate-spin"}),"Adding..."]}):m.jsxs(m.Fragment,{children:[m.jsx(CO,{size:16}),"Add Item"]})})]})]})]})}),B&&m.jsx("div",{className:"add-item-panel-overlay",onClick:Le,children:m.jsxs(ct.div,{className:"add-item-panel",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},onClick:q=>q.stopPropagation(),children:[m.jsxs("div",{className:"add-item-panel-header",children:[m.jsx("h3",{children:"Edit Item"}),m.jsx("button",{className:"add-item-panel-close",onClick:Le,children:m.jsx(Tn,{size:20})})]}),m.jsxs("form",{onSubmit:ot,className:"add-item-form",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"edit-item-name",children:"Item Name *"}),m.jsx("input",{id:"edit-item-name",type:"text",className:"form-input",value:N.name,onChange:q=>F({...N,name:q.target.value}),placeholder:"Enter item name",required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"edit-item-cost",children:"Cost (₹) *"}),m.jsx("input",{id:"edit-item-cost",type:"number",className:"form-input",value:N.cost,onChange:q=>F({...N,cost:q.target.value}),placeholder:"0.00",min:"0",step:"0.01",required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"edit-item-description",children:"Description"}),m.jsx("textarea",{id:"edit-item-description",className:"form-textarea",value:N.description,onChange:q=>F({...N,description:q.target.value}),placeholder:"Enter item description (optional)",rows:"3"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Current Image"}),k?.image_url&&m.jsxs("div",{style:{marginBottom:"10px"},children:[m.jsx("img",{src:k.image_url,alt:k.name,style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"8px",border:"1px solid #e5e7eb"}}),m.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:"Current image"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"New Image Upload (Optional)"}),m.jsx(l2,{value:N.image,onChange:q=>F({...N,image:q}),disabled:_}),m.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:"Upload a new image to replace the current one, or leave empty to keep current image"})]}),S&&m.jsxs("div",{className:"form-error",style:{backgroundColor:"#fef2f2",border:"2px solid #fecaca",borderRadius:"8px",padding:"12px",marginTop:"10px",display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx(Da,{size:20,style:{color:"#dc2626"}}),m.jsxs("div",{children:[m.jsx("div",{style:{fontWeight:"600",color:"#dc2626",marginBottom:"4px"},children:"❌ Update Failed"}),m.jsx("div",{style:{color:"#991b1b",fontSize:"14px"},children:S}),m.jsx("div",{style:{color:"#6b7280",fontSize:"12px",marginTop:"4px"},children:"Check the browser console (F12) for more details"})]})]}),m.jsxs("div",{className:"form-actions",style:{display:"flex",gap:"12px",marginTop:"20px"},children:[m.jsx("button",{type:"button",className:"btn-secondary",onClick:Le,disabled:_,style:{flex:1},children:"Cancel"}),m.jsx("button",{type:"submit",className:"btn-primary",disabled:_,style:{flex:1},children:_?"Updating...":"Update Item"})]})]})]})}),m.jsx(gr,{children:te.show&&m.jsx(ct.div,{className:"fixed bottom-4 right-4 z-50",initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:50,scale:.9},transition:{duration:.3},children:m.jsx("div",{className:`px-6 py-3 rounded-lg shadow-lg text-white ${te.type==="success"?"bg-green-500":"bg-red-500"}`,children:te.message})})}),m.jsx(RI,{isOpen:de,onClose:()=>Ee(!1),onItemRestored:Z})]})}function KI(){const[n,e]=R.useState([]),[t,r]=R.useState([]),[i,a]=R.useState(null),[s,c]=R.useState(null),[f,d]=R.useState(!1),[p,g]=R.useState(!0),[y,x]=R.useState(new Date),[_,E]=R.useState("english"),[S,b]=R.useState("tomorrow"),[C,T]=R.useState(new Date),D=async()=>{d(!0);try{console.log("🤖 AI Predictions: Fetching orders data...");const se=new Date;se.setDate(se.getDate()-30);const{data:de,error:Ee}=await ve.from("orders").select("*").gte("created_at",se.toISOString()).order("created_at",{ascending:!1});if(Ee)throw Ee;const{data:k,error:I}=await ve.from("food_items").select("*");if(I)throw I;e(de||[]),r(k||[]),c(new Date),console.log("🤖 AI Predictions: Fetched",de?.length||0,"orders and",k?.length||0,"food items"),le(de||[],k||[])}catch(se){console.error("❌ AI Predictions: Failed to fetch data:",se),alert("Failed to fetch data for predictions: "+se.message)}finally{d(!1)}},P=["చైత్రం","వైశాఖం","జ్యేష్ఠం","ఆషాఢం","శ్రావణం","భాద్రపదం","ఆశ్వీజం","కార్తీకం","మార్గశిరం","పుష్యం","మాఘం","ఫాల్గుణం"],L=["ఆదివారం","సోమవారం","మంగళవారం","బుధవారం","గురువారం","శుక్రవారం","శనివారం"],U={seasonal:{summer:{"Curd Rice":1.4,Rasam:1.3,Pulihora:1.2,Biryani:.8},monsoon:{Haleem:1.6,Sambar:1.2,Rasam:1.3,Dosa:1.1},winter:{Biryani:1.3,Kebabs:1.2,Pongal:1.4,Haleem:1.2}}},$=se=>{const de=se.getMonth()+1;return de>=3&&de<=5?"summer":de>=6&&de<=9?"monsoon":"winter"},G=se=>{const de=se.getFullYear()-78,Ee=P[se.getMonth()],k=L[se.getDay()];return{year:de,month:Ee,day:k,date:se.getDate()}},te={"2025-03-30":{name:"Ugadi",reduction:.7,duration:1},"2026-03-20":{name:"Ugadi",reduction:.7,duration:1},"2025-04-06":{name:"Sri Rama Navami",reduction:.8,duration:1},"2025-05-22":{name:"Hanuman Jayanti",reduction:.8,duration:1},"2025-05-15":{name:"Saraswati Pushkaralu",reduction:.6,duration:12},"2025-08-08":{name:"Varalakshmi Vratam",reduction:.7,duration:1},"2025-08-16":{name:"Krishna Janmashtami",reduction:.8,duration:1},"2025-08-27":{name:"Ganesh Chaturthi",reduction:.6,duration:9},"2025-09-21":{name:"Indira Ekadashi",reduction:.8,duration:1},"2025-09-22":{name:"Navaratri / Dasara",reduction:.6,duration:11},"2025-10-20":{name:"Deepavali",reduction:.7,duration:1}},ae=se=>{const de=se.toISOString().split("T")[0];if(te[de])return te[de];for(const[Ee,k]of Object.entries(te)){const I=new Date(Ee),B=new Date(I);if(B.setDate(B.getDate()+k.duration),se>=I&&se<=B)return k}return null},le=(se,de)=>{console.log("🤖 AI Predictions: Generating predictions...");const Ee=new Date,k=new Date(Ee.getFullYear(),Ee.getMonth(),Ee.getDate()),I=new Date(k);I.setDate(I.getDate()-1);const B=new Date(k);B.setDate(B.getDate()-7);const ee=new Date(k);ee.setDate(ee.getDate()-30);const N=se.filter(_e=>new Date(_e.created_at)>=k),F=se.filter(_e=>{const Ce=new Date(_e.created_at);return Ce>=I&&Ce<k}),z=se.filter(_e=>new Date(_e.created_at)>=B),Z=se.filter(_e=>new Date(_e.created_at)>=ee),J=N.length,ce=F.length,fe=z.length/7,ye=Z.length/30,me={};se.forEach(_e=>{const Ce=_e.item_name;me[Ce]||(me[Ce]={totalOrders:0,totalRevenue:0,avgPrice:0,lastOrdered:null}),me[Ce].totalOrders++,me[Ce].totalRevenue+=_e.total_amount||_e.price||0,me[Ce].avgPrice=me[Ce].totalRevenue/me[Ce].totalOrders;const Xt=new Date(_e.created_at);(!me[Ce].lastOrdered||Xt>me[Ce].lastOrdered)&&(me[Ce].lastOrdered=Xt)});const Je=Object.entries(me).sort(([,_e],[,Ce])=>Ce.totalOrders-_e.totalOrders).slice(0,10),Be={};se.forEach(_e=>{const Ce=new Date(_e.created_at).getHours();Be[Ce]||(Be[Ce]=0),Be[Ce]++});const Pe=Object.entries(Be).sort(([,_e],[,Ce])=>Ce-_e).slice(0,3).map(([_e])=>`${_e}:00`),Le=$(k),ot=G(k),St=ae(k),We=new Date(k);We.setDate(We.getDate()+1);const xt=ae(We);$(We);const st=new Date(k);st.setDate(st.getDate()+2),ae(st),$(st);const _n=[];for(let _e=1;_e<=7;_e++){const Ce=new Date(k);Ce.setDate(k.getDate()+_e);const Xt=ae(Ce),Gr=$(Ce),Cr=Ce.getDay()===0||Ce.getDay()===6;let Tr=fe;Cr&&(Ce.getDay()===0?Tr=0:Tr*=.75),Xt&&(Tr*=1-Xt.reduction+.3);const pi=U.seasonal[Gr]||{},Xu=Object.values(pi).reduce((Bl,Ll)=>Bl+Ll,0)/Math.max(Object.keys(pi).length,1);Tr*=Xu||1,_n.push({date:Ce,day:L[Ce.getDay()],predicted:Math.round(Tr),festival:Xt,season:Gr,isWeekend:Cr,isHoliday:Ce.getDay()===0})}const Hr=_n[0].predicted,q=_n[1].predicted,ue=Math.round(_n.reduce((_e,Ce)=>_e+Ce.predicted,0)/7),he=[];de.forEach(_e=>{const Ce=_e.available_quantity||_e.stock||0,Xt=me[_e.name]?.totalOrders||0;Ce<=5&&Xt>0?he.push({type:"low_stock",priority:"high",message:`${_e.name} is running low (${Ce} left) but is popular (${Xt} orders)`,action:"Restock immediately"}):Ce<=10&&Xt>5&&he.push({type:"low_stock",priority:"medium",message:`${_e.name} has ${Ce} units left and moderate demand`,action:"Consider restocking soon"})}),Je.length>0&&he.push({type:"popular_item",priority:"medium",message:`${Je[0][0]} is your most popular item (${Je[0][1].totalOrders} orders)`,action:"Ensure adequate stock"}),Pe.length>0&&he.push({type:"peak_hours",priority:"low",message:`Peak ordering hours: ${Pe.join(", ")}`,action:"Prepare extra staff during these hours"}),xt&&he.push({type:"festival_nonveg_reduction",priority:"high",message:`Tomorrow is ${xt.name} - Non-veg consumption will be ${Math.round(xt.reduction*100)}% lower`,action:`Reduce non-veg items by ${Math.round(xt.reduction*100)}%. Focus on vegetarian options like Dosa, Idli, Sambar, Curd Rice`});const we=U.seasonal[Le]||{},ge=Object.entries(we).sort(([,_e],[,Ce])=>Ce-_e)[0];ge&&ge[1]>1.2&&he.push({type:"seasonal_boost",priority:"medium",message:`Current season (${Le}) favors ${ge[0]} - demand is ${Math.round(ge[1]*100)}% higher`,action:`Increase ${ge[0]} preparation for seasonal demand`});const Re=_n.find(_e=>_e.isHoliday),Ie=_n.find(_e=>_e.isWeekend&&!_e.isHoliday);Re&&he.push({type:"holiday_planning",priority:"medium",message:"Sunday is college holiday - no orders expected (0 orders)",action:"College closed on Sunday. Focus on maintenance and preparation for Monday"}),Ie&&he.push({type:"saturday_pattern",priority:"medium",message:"Saturday shows 25% lower demand due to Telangana college non-veg consumption patterns",action:"Reduce non-veg items by 20-30%. Focus on vegetarian options and lighter meals"});const et=se.reduce((_e,Ce)=>_e+(Ce.total_amount||Ce.price||0),0)/se.length,At=Hr*et,Ae=q*et,Pn=ue*7*et;a({summary:{todayOrders:J,yesterdayOrders:ce,weekAverage:Math.round(fe),monthAverage:Math.round(ye),predictedTomorrow:Hr,predictedDayAfter:q,weeklyAverage:ue,predictedRevenue:Math.round(At),predictedRevenueDayAfter:Math.round(Ae),predictedWeeklyRevenue:Math.round(Pn),totalItems:de.length,totalOrders:se.length},popularItems:Je.slice(0,5),peakHours:Pe,recommendations:he,itemStats:me,weeklyPredictions:_n,teluguDate:ot,currentSeason:Le,festival:St,lastUpdated:new Date}),console.log("🤖 AI Predictions: Generated predictions successfully")};return R.useEffect(()=>{if(p){D();const se=setInterval(()=>{console.log("🤖 AI Predictions: Auto-refreshing data..."),D()},3600*1e3);return()=>clearInterval(se)}},[p]),m.jsx("div",{className:"home-dashboard",children:m.jsx("div",{className:"card coming-soon-card",children:m.jsxs("div",{className:"coming-soon-content",children:[m.jsx("div",{className:"coming-soon-icon",children:"🤖"}),m.jsx("h1",{className:"coming-soon-title",children:"AI Predictions"}),m.jsx("p",{className:"coming-soon-description",children:"Get intelligent insights and predictions about your canteen operations powered by advanced AI algorithms."}),m.jsx("div",{className:"coming-soon-status",children:m.jsxs("div",{className:"status-indicator",children:[m.jsx("span",{style:{marginRight:"8px"},children:"🚧"}),"Coming Soon"]})}),m.jsxs("div",{className:"features-preview",children:[m.jsx("h3",{className:"features-title",children:"Planned Features:"}),m.jsxs("div",{className:"features-list",children:[m.jsxs("div",{className:"feature-item",children:[m.jsx("span",{children:"📈"}),m.jsx("span",{children:"Order volume predictions for tomorrow and next week"})]}),m.jsxs("div",{className:"feature-item",children:[m.jsx("span",{children:"💰"}),m.jsx("span",{children:"Revenue forecasting based on historical data"})]}),m.jsxs("div",{className:"feature-item",children:[m.jsx("span",{children:"🔥"}),m.jsx("span",{children:"Popular items analysis and recommendations"})]}),m.jsxs("div",{className:"feature-item",children:[m.jsx("span",{children:"⏰"}),m.jsx("span",{children:"Peak hours identification for better staffing"})]}),m.jsxs("div",{className:"feature-item",children:[m.jsx("span",{children:"📊"}),m.jsx("span",{children:"Trend analysis with seasonal adjustments"})]})]})]})]})})})}function ZI(){const{isEnabled:n,toggleNotifications:e,playTestSound:t,isInitialized:r,showOrderNotification:i}=qu();return m.jsxs("div",{className:"home-dashboard",children:[m.jsxs("div",{className:"card",children:[m.jsx("h2",{style:{marginTop:0},children:"Account"}),m.jsx("div",{className:"actions",style:{justifyContent:"flex-start"},children:m.jsx("button",{className:"btn btn-danger",onClick:()=>{try{localStorage.clear()}catch{}const a=import.meta&&UI&&"/IARE-Canteen-Web/"||"/";window.location.href=a},children:"Log out"})})]}),m.jsxs("div",{className:"card",children:[m.jsx("h2",{children:"Sound Notifications"}),m.jsx("div",{className:"form",children:m.jsxs("div",{className:"field",children:[m.jsx("label",{className:"label",children:"Order Notifications"}),m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsx("button",{className:`btn ${n?"btn-primary":"btn-secondary"}`,onClick:e,disabled:!r,children:n?m.jsxs(m.Fragment,{children:[m.jsx(VO,{className:"w-4 h-4"}),"Enabled"]}):m.jsxs(m.Fragment,{children:[m.jsx(HO,{className:"w-4 h-4"}),"Disabled"]})}),m.jsxs("button",{className:"btn btn-secondary",onClick:()=>{console.log("🔊 Test sound button clicked"),console.log("🔊 isInitialized:",r),console.log("🔊 isEnabled:",n),t()},disabled:!r||!n,children:[m.jsx(vu,{className:"w-4 h-4"}),"Test Sound"]}),m.jsxs("button",{className:"btn btn-secondary",onClick:()=>i({item_name:"Test Order - Chicken Biryani",order_token:"1234",total_amount:150,order_type:"dine_in",user_id:"test-user-id"}),disabled:!r||!n,children:[m.jsx(vu,{className:"w-4 h-4"}),"Test Popup"]}),m.jsxs("button",{className:"btn btn-secondary",onClick:async()=>{console.log("🔍 Checking recent orders from app...");try{const{data:a,error:s}=await ve.from("orders").select("*").order("created_at",{ascending:!1}).limit(5);if(s){console.error("❌ Error fetching recent orders:",s);return}console.log("📋 Recent orders:",a);const c=a.filter(f=>{const d=f.status==="pending"||f.status==="PENDING",p=f.user_id!==Vr;return d&&p});if(console.log("🔔 Orders that should trigger notifications:",c),c.length>0){const f=c[0];console.log("📢 Triggering notification for latest order:",f),await i(f)}else console.log("❌ No recent orders found that should trigger notifications")}catch(a){console.error("❌ Error in check recent orders:",a)}},disabled:!r||!n,children:[m.jsx(vu,{className:"w-4 h-4"}),"Check Recent"]})]}),m.jsxs("div",{className:"muted",style:{marginTop:"8px"},children:[m.jsxs("div",{style:{marginBottom:"8px",padding:"8px",backgroundColor:"#f3f4f6",borderRadius:"4px",fontSize:"12px"},children:[m.jsx("strong",{children:"Status:"})," ",r?"✅ Audio Initialized":"⏳ Waiting for user interaction",m.jsx("br",{}),m.jsx("strong",{children:"Notifications:"})," ",n?"🔊 Enabled":"🔇 Disabled",m.jsx("br",{}),m.jsx("strong",{children:"Real-time:"})," ✅ Connected (Dual subscription system)",m.jsx("br",{}),m.jsx("strong",{children:"Sources:"})," NotificationContext + Orders Panel subscriptions",m.jsx("br",{}),m.jsx("strong",{children:"Filter:"})," Shows notifications for PENDING orders from customers (not admin/staff)",m.jsx("br",{}),m.jsx("strong",{children:"Deduplication:"})," ✅ Prevents duplicate notifications"]}),r?n?"You will hear a notification sound and see popup alerts when new orders are placed.":"Notifications are disabled. Enable to hear sounds and see popup alerts for new orders.":"Click anywhere on the page to initialize audio permissions."]})]})})]})]})}function QI(){const n=R.useRef(null),e=R.useRef(null),t=R.useRef(null),[r,i]=R.useState(!1),[a,s]=R.useState(""),[c,f]=R.useState(null),[d,p]=R.useState(null),[g,y]=R.useState(!1),[x,_]=R.useState(!1),[E,S]=R.useState(""),[b,C]=R.useState(0),[T,D]=R.useState(""),[P,L]=R.useState(!1),[U,$]=R.useState(!1),{playNotification:G}=jl();R.useEffect(()=>{(async()=>{try{if(!P){console.log("📷 Requesting camera permission...");const B=navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),ee=new Promise((F,z)=>{setTimeout(()=>z(new Error("Permission request timeout - user may have dismissed popup")),1e4)});(await Promise.race([B,ee])).getTracks().forEach(F=>F.stop()),console.log("✅ Camera permission granted"),L(!0),$(!0)}}catch(B){console.log("❌ Camera permission denied, dismissed, or error:",B.message),L(!0),$(!1),B.message.includes("timeout")||f(new Error("Camera permission is required to scan QR codes. Please allow camera access and refresh the page."))}})()},[]),R.useEffect(()=>()=>{ae()},[]);const te=hi();R.useEffect(()=>{te.pathname!=="/scan"&&(ae(),L(!1))},[te.pathname]),R.useEffect(()=>{const I=()=>{document.hidden&&r&&(console.log("📱 Page hidden, stopping camera..."),ae())};return document.addEventListener("visibilitychange",I),()=>{document.removeEventListener("visibilitychange",I)}},[r]);const ae=async()=>{try{console.log("🛑 Stopping camera and QR scanner...");try{t.current&&typeof t.current.stop=="function"&&(t.current.stop(),console.log("✅ Scanner controls stopped"))}catch(B){console.warn("⚠️ Error stopping scanner controls:",B)}t.current=null;try{e.current&&typeof e.current.reset=="function"&&(await e.current.reset(),console.log("✅ QR code reader reset"))}catch(B){console.warn("⚠️ Error resetting QR code reader:",B)}e.current=null;const I=n.current;I&&I.srcObject&&(I.srcObject.getTracks().forEach(ee=>{ee.stop(),console.log("✅ Camera track stopped:",ee.kind)}),I.srcObject=null,console.log("✅ Camera stream cleared"));try{if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){const B=await navigator.mediaDevices.enumerateDevices();console.log("🔍 Found media devices:",B.length)}}catch(B){console.warn("⚠️ Error enumerating devices:",B)}try{const B=[];document.querySelectorAll("video, audio").forEach(ee=>{if(ee.srcObject){const N=ee.srcObject.getTracks();B.push(...N)}}),B.length>0&&(console.log("🛑 Found remaining tracks, stopping them:",B.length),B.forEach(ee=>{ee.readyState!=="ended"&&(ee.stop(),console.log("✅ Additional track stopped:",ee.kind))}))}catch(B){console.warn("⚠️ Error stopping additional tracks:",B)}I&&(I.pause(),I.currentTime=0,I.load(),console.log("✅ Video element reset")),i(!1),D("Camera stopped"),setScannedCode(null),f(null),setTimeout(()=>{console.log("🛑 Camera cleanup completed - final check"),I&&I.srcObject&&(console.log("🔧 Force clearing remaining video source"),I.srcObject=null)},100),console.log("🛑 Camera cleanup completed")}catch(I){console.error("❌ Error during camera cleanup:",I),i(!1),D("Camera stopped")}},le=async()=>{f(null),p(null),s(""),D("");try{if(r)return;await ae();try{(await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}})).getTracks().forEach(ee=>ee.stop()),$(!0)}catch{$(!1),f(new Error("Camera permission is required. Please allow camera access and try again."));return}const I=new dw;e.current=I,i(!0),await I.decodeFromVideoDevice(null,n.current,async(B,ee,N)=>{try{N&&!t.current&&(t.current=N)}catch{}if(B){const F=String(B.getText()||"");if(!F||x)return;const z=Date.now();if(E===F&&z-b<1500)return;_(!0),S(F),C(z);try{if(await de(F)){D("Successfully scanned");try{await G()}catch(J){console.log("Sound playback failed:",J)}}else D("")}finally{_(!1)}}ee&&ee.name})}catch(I){console.error("Camera start error:",I),f(I),i(!1)}},se=I=>{if(!I)return{};const B=String(I).trim();if(console.log("Parsing scanned text:",B),B.startsWith("IARE_"))return console.log("Found encrypted code:",B),{encryptedCode:B};try{const N=new URL(B).searchParams,F=N.get("order_qr_code")||N.get("encrypted_code")||N.get("code");if(F&&F.startsWith("IARE_"))return console.log("Found encrypted code in URL params:",F),{encryptedCode:F}}catch{}return console.log("No valid encrypted code found in:",B),{}},de=async I=>{f(null),p(null);const{encryptedCode:B}=se(I);console.log("Parsed encryptedCode:",B);try{if(!B){const z="Invalid QR. Please scan the order QR code.";return console.log(z),f(new Error(z)),null}console.log("Searching by encrypted code:",B);const{data:ee,error:N}=await ve.from("orders").select("id,item_name,encrypted_code,order_token,created_at,status,total_amount,user_id").eq("encrypted_code",B).limit(1).maybeSingle();if(N)throw console.error("Error searching by encrypted code:",N),N;if(ee&&ee.encrypted_code===B)return console.log("Setting order:",ee),p(ee),ee;const F="No order found for this QR code. Please verify and try again.";return console.log(F),f(new Error(F)),null}catch(ee){return console.error("Scan lookup failed:",ee),f(ee),null}},Ee=async I=>{if(d){y(!0);try{const{error:B}=await ve.rpc("update_order_status_flexible",{p_order_id:d.id,p_new_status:String(I).toLowerCase()});if(B)throw B;p(ee=>({...ee,status:I}));try{await G()}catch(ee){console.log("Sound playback failed:",ee)}D(`✅ Order updated to ${I}`),setTimeout(()=>D(""),2e3),I==="DELIVERED"&&setTimeout(()=>{p(null)},1500)}catch(B){D(`❌ Failed: ${B.message||B}`),setTimeout(()=>D(""),3e3)}finally{y(!1)}}},k=async()=>{if(d&&window.confirm("Are you sure you want to cancel this order?")){y(!0);try{const{error:I}=await ve.rpc("update_order_status_flexible",{p_order_id:d.id,p_new_status:"cancelled"});if(I)throw I;try{await G()}catch(B){console.log("Sound playback failed:",B)}D("✅ Order cancelled successfully"),setTimeout(()=>{D(""),p(null)},1500)}catch(I){D(`❌ Failed to cancel: ${I.message||I}`),setTimeout(()=>D(""),3e3)}finally{y(!1)}}};return R.useEffect(()=>(le(),()=>{ae()}),[]),m.jsxs("div",{style:{display:"grid",gap:16},children:[m.jsxs(pr,{title:"QR Scanner",children:[!P&&m.jsx("div",{style:{padding:"12px",backgroundColor:"#fef3c7",border:"1px solid #f59e0b",borderRadius:"8px",marginBottom:"16px",color:"#92400e"},children:m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("span",{children:"📷"}),m.jsx("span",{children:"Requesting camera permission..."})]})}),P&&!U&&m.jsx("div",{style:{padding:"12px",backgroundColor:"#fee2e2",border:"1px solid #ef4444",borderRadius:"8px",marginBottom:"16px",color:"#991b1b"},children:m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("span",{children:"⚠️"}),m.jsx("span",{children:'Camera permission not granted. Click "Start Camera" to request permission again.'})]})}),m.jsx("div",{className:"actions",style:{marginBottom:16,justifyContent:"flex-start"},children:m.jsxs("button",{className:"btn",onClick:r?ae:le,children:[r?"Stop":"Start"," Camera"]})}),m.jsxs("div",{style:{position:"relative"},children:[m.jsx("video",{ref:n,style:{width:"100%",maxWidth:"600px",maxHeight:400,background:"#000",borderRadius:8,display:r?"block":"none",opacity:r?1:0,visibility:r?"visible":"hidden",margin:"0 auto"},muted:!0,playsInline:!0}),!r&&m.jsxs("div",{style:{width:"100%",maxWidth:"600px",height:"400px",background:"#1f2937",borderRadius:8,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"#9ca3af",gap:"12px",margin:"0 auto"},children:[m.jsx("div",{style:{fontSize:"48px"},children:"📷"}),m.jsx("div",{style:{fontSize:"14px"},children:"Camera Stopped"}),m.jsx("div",{style:{fontSize:"12px",opacity:.7},children:'Click "Start Camera" to begin scanning'})]})]}),T&&m.jsx("div",{className:"muted",style:{marginTop:16,color:T.includes("✅")?"#10b981":"#ef4444",textAlign:"center",fontSize:"16px",fontWeight:"500"},children:T}),c&&m.jsx("div",{className:"muted",style:{color:"crimson",marginTop:16,textAlign:"center"},children:String(c.message||c)}),m.jsx("div",{className:"muted",style:{marginTop:16,textAlign:"center"},children:"💡 Scan a QR code - The order panel will open automatically"})]}),m.jsx(gr,{children:d&&m.jsxs(m.Fragment,{children:[m.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>p(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:9998,backdropFilter:"blur(4px)"}}),m.jsxs(ct.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",stiffness:300,damping:25},style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#ffffff",borderRadius:"16px",padding:"24px",zIndex:9999,maxWidth:"500px",width:"90%",maxHeight:"80vh",overflow:"auto",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},onClick:I=>I.stopPropagation(),children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",borderBottom:"2px solid #e5e7eb",paddingBottom:"16px"},children:[m.jsx("h3",{style:{margin:0,fontSize:"20px",fontWeight:"600",color:"#1f2937"},children:"📦 Order Details"}),m.jsx("button",{onClick:()=>p(null),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",color:"#6b7280"},children:m.jsx(Tn,{size:24})})]}),m.jsxs("div",{style:{backgroundColor:"#f9fafb",borderRadius:"12px",padding:"16px",marginBottom:"20px",display:"grid",gap:"12px"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsx("span",{style:{color:"#6b7280",fontSize:"14px"},children:"Token Number:"}),m.jsxs("span",{style:{fontSize:"24px",fontWeight:"700",color:"#1f2937",backgroundColor:"#fff",padding:"4px 12px",borderRadius:"8px",border:"2px solid #3b82f6"},children:["#",d.order_token||"N/A"]})]}),m.jsxs("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"12px"},children:[m.jsxs("div",{style:{marginBottom:"8px"},children:[m.jsx("span",{style:{color:"#6b7280",fontSize:"14px"},children:"Items:"}),m.jsx("div",{style:{fontWeight:"600",color:"#1f2937",fontSize:"16px",marginTop:"4px"},children:d.item_name||"Order Items"})]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginTop:"12px"},children:[m.jsxs("div",{children:[m.jsx("span",{style:{color:"#6b7280",fontSize:"14px"},children:"Total:"}),m.jsxs("div",{style:{fontWeight:"600",color:"#1f2937",fontSize:"16px"},children:["₹",d.total_amount!=null?d.total_amount:"-"]})]}),m.jsxs("div",{children:[m.jsx("span",{style:{color:"#6b7280",fontSize:"14px"},children:"Status:"}),m.jsx("div",{style:{fontWeight:"600",fontSize:"16px",color:d.status==="pending"?"#f59e0b":d.status==="preparing"?"#3b82f6":d.status==="ready"?"#10b981":"#6b7280"},children:je(d.status)})]})]}),m.jsxs("div",{style:{marginTop:"12px"},children:[m.jsx("span",{style:{color:"#6b7280",fontSize:"14px"},children:"Placed By:"}),m.jsx("div",{style:{fontWeight:"500",color:"#1f2937",fontSize:"14px",marginTop:"4px"},children:d.user_id===Vr?"📱 App":"🏪 Counter"})]})]})]}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[m.jsxs("button",{onClick:()=>Ee("DELIVERED"),disabled:g,style:{width:"100%",padding:"14px 20px",fontSize:"16px",fontWeight:"600",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"10px",cursor:g?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s ease",opacity:g?.6:1},onMouseEnter:I=>{g||(I.target.style.backgroundColor="#059669")},onMouseLeave:I=>{g||(I.target.style.backgroundColor="#10b981")},children:[g?m.jsx(Xi,{size:18,className:"spin"}):m.jsx(Go,{size:18}),g?"Updating...":"Mark as Delivered"]}),m.jsxs("div",{style:{display:"flex",gap:"10px"},children:[m.jsxs("button",{onClick:k,disabled:g,style:{flex:1,padding:"12px 16px",fontSize:"14px",fontWeight:"500",backgroundColor:"#ffffff",color:"#dc2626",border:"1px solid #dc2626",borderRadius:"8px",cursor:g?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"all 0.2s ease",opacity:g?.6:1},onMouseEnter:I=>{g||(I.target.style.backgroundColor="#fef2f2")},onMouseLeave:I=>{g||(I.target.style.backgroundColor="#ffffff")},children:[m.jsx(Tn,{size:16}),"Cancel Order"]}),m.jsx("button",{onClick:()=>p(null),disabled:g,style:{flex:1,padding:"12px 16px",fontSize:"14px",fontWeight:"500",backgroundColor:"#f3f4f6",color:"#374151",border:"none",borderRadius:"8px",cursor:g?"not-allowed":"pointer",transition:"all 0.2s ease",opacity:g?.6:1},onMouseEnter:I=>{g||(I.target.style.backgroundColor="#e5e7eb")},onMouseLeave:I=>{g||(I.target.style.backgroundColor="#f3f4f6")},children:"Close"})]})]}),m.jsx("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:"1px solid #e5e7eb"},children:m.jsxs("details",{style:{cursor:"pointer"},children:[m.jsx("summary",{style:{fontSize:"12px",color:"#6b7280",userSelect:"none"},children:"Order Code Reference"}),m.jsx("code",{style:{fontSize:"11px",backgroundColor:"#f3f4f6",padding:"4px 8px",borderRadius:"4px",display:"block",marginTop:"8px",wordBreak:"break-all",color:"#374151"},children:d.encrypted_code||"Not available"})]})})]})]})})]})}function JI(){const{popupNotification:n,closePopupNotification:e}=qu();if(!n)return null;const t=n.type==="order_cancelled",r=n.type==="availability_change",i=n.type==="error";let a;return i?a={border:"border-red-200 dark:border-red-700",borderLeft:"#ef4444",shadow:"rgba(239, 68, 68, 0.1)",bgHeader:"bg-red-50 dark:bg-red-900/20",bgIcon:"bg-red-500",textTitle:"text-red-800 dark:text-red-200",textTime:"text-red-600 dark:text-red-300",textBtn:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200",bgProgress:"bg-red-200 dark:bg-red-800",progress:"bg-red-500"}:r?a={border:"border-blue-200 dark:border-blue-700",borderLeft:"#3b82f6",shadow:"rgba(59, 130, 246, 0.1)",bgHeader:"bg-blue-50 dark:bg-blue-900/20",bgIcon:"bg-blue-500",textTitle:"text-blue-800 dark:text-blue-200",textTime:"text-blue-600 dark:text-blue-300",textBtn:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",bgProgress:"bg-blue-200 dark:bg-blue-800",progress:"bg-blue-500"}:t?a={border:"border-red-200 dark:border-red-700",borderLeft:"#ef4444",shadow:"rgba(239, 68, 68, 0.1)",bgHeader:"bg-red-50 dark:bg-red-900/20",bgIcon:"bg-red-500",textTitle:"text-red-800 dark:text-red-200",textTime:"text-red-600 dark:text-red-300",textBtn:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200",bgProgress:"bg-red-200 dark:bg-red-800",progress:"bg-red-500"}:a={border:"border-green-200 dark:border-green-700",borderLeft:"#10b981",shadow:"rgba(16, 185, 129, 0.1)",bgHeader:"bg-green-50 dark:bg-green-900/20",bgIcon:"bg-green-500",textTitle:"text-green-800 dark:text-green-200",textTime:"text-green-600 dark:text-green-300",textBtn:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-200",bgProgress:"bg-green-200 dark:bg-green-800",progress:"bg-green-500"},m.jsx(gr,{children:m.jsx(ct.div,{className:"fixed top-4 right-4 z-50 max-w-sm w-full",initial:{opacity:0,x:300,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:300,scale:.8},transition:{type:"spring",stiffness:300,damping:25,duration:.3},children:m.jsxs("div",{className:`bg-white dark:bg-gray-800 border ${a.border} rounded-lg shadow-lg overflow-hidden`,style:{borderLeft:`4px solid ${a.borderLeft}`,boxShadow:`0 10px 25px rgba(0, 0, 0, 0.1), 0 0 0 1px ${a.shadow}`},children:[m.jsxs("div",{className:`flex items-center justify-between p-4 ${a.bgHeader}`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-8 h-8 ${a.bgIcon} rounded-full flex items-center justify-center`,children:m.jsx(vu,{className:"w-4 h-4 text-white"})}),m.jsxs("div",{children:[m.jsx("h4",{className:`font-semibold ${a.textTitle} text-sm`,children:n.title}),m.jsx("p",{className:`text-xs ${a.textTime}`,children:new Date(n.timestamp).toLocaleTimeString()})]})]}),m.jsx("button",{onClick:e,className:`${a.textBtn} transition-colors`,children:m.jsx(Tn,{className:"w-4 h-4"})})]}),m.jsxs("div",{className:"p-4",children:[m.jsx("p",{className:"text-gray-800 dark:text-gray-200 text-sm leading-relaxed",children:n.message}),n.orderData&&!t&&m.jsx("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-md",children:m.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 space-y-1",children:[n.orderData.total_amount&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"Amount:"}),m.jsxs("span",{className:"font-medium",children:["₹",n.orderData.total_amount]})]}),n.orderData.order_type&&n.orderData.order_type!=="cancelled"&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"Type:"}),m.jsx("span",{className:"font-medium capitalize",children:n.orderData.order_type})]}),n.orderData.user_id&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"Placed by:"}),m.jsx("span",{className:"font-medium capitalize",children:n.orderData.user_id===Vr?"App":"Counter"})]})]})})]}),m.jsx("div",{className:`h-1 ${a.bgProgress}`,children:m.jsx(ct.div,{className:`h-full ${a.progress}`,initial:{width:"100%"},animate:{width:"0%"},transition:{duration:5,ease:"linear"}})})]})})})}wE.createRoot(document.getElementById("root")).render(m.jsx(R.StrictMode,{children:m.jsx(kS,{children:m.jsx(VI,{})})}));
