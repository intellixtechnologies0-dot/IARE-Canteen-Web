(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function Yp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function ox(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var a=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return r[n]}})}),t}var Cf={exports:{}},Zo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function sx(){if(Sv)return Zo;Sv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:r,type:n,key:l,ref:a!==void 0?a:null,props:o}}return Zo.Fragment=e,Zo.jsx=t,Zo.jsxs=t,Zo}var Cv;function lx(){return Cv||(Cv=1,Cf.exports=sx()),Cf.exports}var _=lx(),Tf={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function ux(){if(Tv)return be;Tv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.iterator;function x(B){return B===null||typeof B!="object"?null:(B=g&&B[g]||B["@@iterator"],typeof B=="function"?B:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function E(B,$,ae){this.props=B,this.context=$,this.refs=S,this.updater=ae||m}E.prototype.isReactComponent={},E.prototype.setState=function(B,$){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,$,"setState")},E.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function b(){}b.prototype=E.prototype;function T(B,$,ae){this.props=B,this.context=$,this.refs=S,this.updater=ae||m}var O=T.prototype=new b;O.constructor=T,w(O,E.prototype),O.isPureReactComponent=!0;var D=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function L(B,$,ae,ie,fe,Ae){return ae=Ae.ref,{$$typeof:r,type:B,key:$,ref:ae!==void 0?ae:null,props:Ae}}function Z(B,$){return L(B.type,$,void 0,void 0,void 0,B.props)}function J(B){return typeof B=="object"&&B!==null&&B.$$typeof===r}function Y(B){var $={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ae){return $[ae]})}var q=/\/+/g;function ee(B,$){return typeof B=="object"&&B!==null&&B.key!=null?Y(""+B.key):$.toString(36)}function ne(){}function oe(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(ne,ne):(B.status="pending",B.then(function($){B.status==="pending"&&(B.status="fulfilled",B.value=$)},function($){B.status==="pending"&&(B.status="rejected",B.reason=$)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function le(B,$,ae,ie,fe){var Ae=typeof B;(Ae==="undefined"||Ae==="boolean")&&(B=null);var ve=!1;if(B===null)ve=!0;else switch(Ae){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(B.$$typeof){case r:case e:ve=!0;break;case v:return ve=B._init,le(ve(B._payload),$,ae,ie,fe)}}if(ve)return fe=fe(B),ve=ie===""?"."+ee(B,0):ie,D(fe)?(ae="",ve!=null&&(ae=ve.replace(q,"$&/")+"/"),le(fe,$,ae,"",function(Kt){return Kt})):fe!=null&&(J(fe)&&(fe=Z(fe,ae+(fe.key==null||B&&B.key===fe.key?"":(""+fe.key).replace(q,"$&/")+"/")+ve)),$.push(fe)),1;ve=0;var _t=ie===""?".":ie+":";if(D(B))for(var Ne=0;Ne<B.length;Ne++)ie=B[Ne],Ae=_t+ee(ie,Ne),ve+=le(ie,$,ae,Ae,fe);else if(Ne=x(B),typeof Ne=="function")for(B=Ne.call(B),Ne=0;!(ie=B.next()).done;)ie=ie.value,Ae=_t+ee(ie,Ne++),ve+=le(ie,$,ae,Ae,fe);else if(Ae==="object"){if(typeof B.then=="function")return le(oe(B),$,ae,ie,fe);throw $=String(B),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ve}function I(B,$,ae){if(B==null)return B;var ie=[],fe=0;return le(B,ie,"","",function(Ae){return $.call(ae,Ae,fe++)}),ie}function z(B){if(B._status===-1){var $=B._result;$=$(),$.then(function(ae){(B._status===0||B._status===-1)&&(B._status=1,B._result=ae)},function(ae){(B._status===0||B._status===-1)&&(B._status=2,B._result=ae)}),B._status===-1&&(B._status=0,B._result=$)}if(B._status===1)return B._result.default;throw B._result}var K=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function ue(){}return be.Children={map:I,forEach:function(B,$,ae){I(B,function(){$.apply(this,arguments)},ae)},count:function(B){var $=0;return I(B,function(){$++}),$},toArray:function(B){return I(B,function($){return $})||[]},only:function(B){if(!J(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},be.Component=E,be.Fragment=t,be.Profiler=a,be.PureComponent=T,be.StrictMode=n,be.Suspense=f,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,be.__COMPILER_RUNTIME={__proto__:null,c:function(B){return N.H.useMemoCache(B)}},be.cache=function(B){return function(){return B.apply(null,arguments)}},be.cloneElement=function(B,$,ae){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ie=w({},B.props),fe=B.key,Ae=void 0;if($!=null)for(ve in $.ref!==void 0&&(Ae=void 0),$.key!==void 0&&(fe=""+$.key),$)!k.call($,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&$.ref===void 0||(ie[ve]=$[ve]);var ve=arguments.length-2;if(ve===1)ie.children=ae;else if(1<ve){for(var _t=Array(ve),Ne=0;Ne<ve;Ne++)_t[Ne]=arguments[Ne+2];ie.children=_t}return L(B.type,fe,void 0,void 0,Ae,ie)},be.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},be.createElement=function(B,$,ae){var ie,fe={},Ae=null;if($!=null)for(ie in $.key!==void 0&&(Ae=""+$.key),$)k.call($,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(fe[ie]=$[ie]);var ve=arguments.length-2;if(ve===1)fe.children=ae;else if(1<ve){for(var _t=Array(ve),Ne=0;Ne<ve;Ne++)_t[Ne]=arguments[Ne+2];fe.children=_t}if(B&&B.defaultProps)for(ie in ve=B.defaultProps,ve)fe[ie]===void 0&&(fe[ie]=ve[ie]);return L(B,Ae,void 0,void 0,null,fe)},be.createRef=function(){return{current:null}},be.forwardRef=function(B){return{$$typeof:c,render:B}},be.isValidElement=J,be.lazy=function(B){return{$$typeof:v,_payload:{_status:-1,_result:B},_init:z}},be.memo=function(B,$){return{$$typeof:h,type:B,compare:$===void 0?null:$}},be.startTransition=function(B){var $=N.T,ae={};N.T=ae;try{var ie=B(),fe=N.S;fe!==null&&fe(ae,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ue,K)}catch(Ae){K(Ae)}finally{N.T=$}},be.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},be.use=function(B){return N.H.use(B)},be.useActionState=function(B,$,ae){return N.H.useActionState(B,$,ae)},be.useCallback=function(B,$){return N.H.useCallback(B,$)},be.useContext=function(B){return N.H.useContext(B)},be.useDebugValue=function(){},be.useDeferredValue=function(B,$){return N.H.useDeferredValue(B,$)},be.useEffect=function(B,$,ae){var ie=N.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(B,$)},be.useId=function(){return N.H.useId()},be.useImperativeHandle=function(B,$,ae){return N.H.useImperativeHandle(B,$,ae)},be.useInsertionEffect=function(B,$){return N.H.useInsertionEffect(B,$)},be.useLayoutEffect=function(B,$){return N.H.useLayoutEffect(B,$)},be.useMemo=function(B,$){return N.H.useMemo(B,$)},be.useOptimistic=function(B,$){return N.H.useOptimistic(B,$)},be.useReducer=function(B,$,ae){return N.H.useReducer(B,$,ae)},be.useRef=function(B){return N.H.useRef(B)},be.useState=function(B){return N.H.useState(B)},be.useSyncExternalStore=function(B,$,ae){return N.H.useSyncExternalStore(B,$,ae)},be.useTransition=function(){return N.H.useTransition()},be.version="19.1.1",be}var Ov;function _d(){return Ov||(Ov=1,Tf.exports=ux()),Tf.exports}var U=_d();const cx=Yp(U);var Of={exports:{}},Ko={},Rf={exports:{}},Df={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function fx(){return Rv||(Rv=1,(function(r){function e(I,z){var K=I.length;I.push(z);e:for(;0<K;){var ue=K-1>>>1,B=I[ue];if(0<a(B,z))I[ue]=z,I[K]=B,K=ue;else break e}}function t(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var z=I[0],K=I.pop();if(K!==z){I[0]=K;e:for(var ue=0,B=I.length,$=B>>>1;ue<$;){var ae=2*(ue+1)-1,ie=I[ae],fe=ae+1,Ae=I[fe];if(0>a(ie,K))fe<B&&0>a(Ae,ie)?(I[ue]=Ae,I[fe]=K,ue=fe):(I[ue]=ie,I[ae]=K,ue=ae);else if(fe<B&&0>a(Ae,K))I[ue]=Ae,I[fe]=K,ue=fe;else break e}}return z}function a(I,z){var K=I.sortIndex-z.sortIndex;return K!==0?K:I.id-z.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();r.unstable_now=function(){return l.now()-c}}var f=[],h=[],v=1,g=null,x=3,m=!1,w=!1,S=!1,E=!1,b=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function D(I){for(var z=t(h);z!==null;){if(z.callback===null)n(h);else if(z.startTime<=I)n(h),z.sortIndex=z.expirationTime,e(f,z);else break;z=t(h)}}function N(I){if(S=!1,D(I),!w)if(t(f)!==null)w=!0,k||(k=!0,ee());else{var z=t(h);z!==null&&le(N,z.startTime-I)}}var k=!1,L=-1,Z=5,J=-1;function Y(){return E?!0:!(r.unstable_now()-J<Z)}function q(){if(E=!1,k){var I=r.unstable_now();J=I;var z=!0;try{e:{w=!1,S&&(S=!1,T(L),L=-1),m=!0;var K=x;try{t:{for(D(I),g=t(f);g!==null&&!(g.expirationTime>I&&Y());){var ue=g.callback;if(typeof ue=="function"){g.callback=null,x=g.priorityLevel;var B=ue(g.expirationTime<=I);if(I=r.unstable_now(),typeof B=="function"){g.callback=B,D(I),z=!0;break t}g===t(f)&&n(f),D(I)}else n(f);g=t(f)}if(g!==null)z=!0;else{var $=t(h);$!==null&&le(N,$.startTime-I),z=!1}}break e}finally{g=null,x=K,m=!1}z=void 0}}finally{z?ee():k=!1}}}var ee;if(typeof O=="function")ee=function(){O(q)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,oe=ne.port2;ne.port1.onmessage=q,ee=function(){oe.postMessage(null)}}else ee=function(){b(q,0)};function le(I,z){L=b(function(){I(r.unstable_now())},z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(I){I.callback=null},r.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<I?Math.floor(1e3/I):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(I){switch(x){case 1:case 2:case 3:var z=3;break;default:z=x}var K=x;x=z;try{return I()}finally{x=K}},r.unstable_requestPaint=function(){E=!0},r.unstable_runWithPriority=function(I,z){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var K=x;x=I;try{return z()}finally{x=K}},r.unstable_scheduleCallback=function(I,z,K){var ue=r.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ue+K:ue):K=ue,I){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=K+B,I={id:v++,callback:z,priorityLevel:I,startTime:K,expirationTime:B,sortIndex:-1},K>ue?(I.sortIndex=K,e(h,I),t(f)===null&&I===t(h)&&(S?(T(L),L=-1):S=!0,le(N,K-ue))):(I.sortIndex=B,e(f,I),w||m||(w=!0,k||(k=!0,ee()))),I},r.unstable_shouldYield=Y,r.unstable_wrapCallback=function(I){var z=x;return function(){var K=x;x=z;try{return I.apply(this,arguments)}finally{x=K}}}})(Df)),Df}var Dv;function dx(){return Dv||(Dv=1,Rf.exports=fx()),Rf.exports}var If={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function hx(){if(Iv)return Yt;Iv=1;var r=_d();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,h,v){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:v}}var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Yt.createPortal=function(f,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,v)},Yt.flushSync=function(f){var h=l.T,v=n.p;try{if(l.T=null,n.p=2,f)return f()}finally{l.T=h,n.p=v,n.d.f()}},Yt.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(f,h))},Yt.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},Yt.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var v=h.as,g=c(v,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,m=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?n.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:m}):v==="script"&&n.d.X(f,{crossOrigin:g,integrity:x,fetchPriority:m,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Yt.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=c(h.as,h.crossOrigin);n.d.M(f,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(f)},Yt.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,g=c(v,h.crossOrigin);n.d.L(f,v,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Yt.preloadModule=function(f,h){if(typeof f=="string")if(h){var v=c(h.as,h.crossOrigin);n.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(f)},Yt.requestFormReset=function(f){n.d.r(f)},Yt.unstable_batchedUpdates=function(f,h){return f(h)},Yt.useFormState=function(f,h,v){return l.H.useFormState(f,h,v)},Yt.useFormStatus=function(){return l.H.useHostTransitionStatus()},Yt.version="19.1.1",Yt}var Nv;function vx(){if(Nv)return If.exports;Nv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),If.exports=hx(),If.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function px(){if(Mv)return Ko;Mv=1;var r=dx(),e=_d(),t=vx();function n(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function l(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(n(188))}function f(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(n(188));return s!==i?null:i}for(var u=i,d=s;;){var p=u.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){u=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===u)return c(p),i;if(y===d)return c(p),s;y=y.sibling}throw Error(n(188))}if(u.return!==d.return)u=p,d=y;else{for(var A=!1,C=p.child;C;){if(C===u){A=!0,u=p,d=y;break}if(C===d){A=!0,d=p,u=y;break}C=C.sibling}if(!A){for(C=y.child;C;){if(C===u){A=!0,u=y,d=p;break}if(C===d){A=!0,d=y,u=p;break}C=C.sibling}if(!A)throw Error(n(189))}}if(u.alternate!==d)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:s}function h(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=h(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),O=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function ee(i){return i===null||typeof i!="object"?null:(i=q&&i[q]||i["@@iterator"],typeof i=="function"?i:null)}var ne=Symbol.for("react.client.reference");function oe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ne?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case E:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case k:return"SuspenseList";case J:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case m:return"Portal";case O:return(i.displayName||"Context")+".Provider";case T:return(i._context.displayName||"Context")+".Consumer";case D:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case L:return s=i.displayName||null,s!==null?s:oe(i.type)||"Memo";case Z:s=i._payload,i=i._init;try{return oe(i(s))}catch{}}return null}var le=Array.isArray,I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ue=[],B=-1;function $(i){return{current:i}}function ae(i){0>B||(i.current=ue[B],ue[B]=null,B--)}function ie(i,s){B++,ue[B]=i.current,i.current=s}var fe=$(null),Ae=$(null),ve=$(null),_t=$(null);function Ne(i,s){switch(ie(ve,s),ie(Ae,i),ie(fe,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?J1(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=J1(s),i=ev(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ae(fe),ie(fe,i)}function Kt(){ae(fe),ae(Ae),ae(ve)}function en(i){i.memoizedState!==null&&ie(_t,i);var s=fe.current,u=ev(s,i.type);s!==u&&(ie(Ae,i),ie(fe,u))}function gt(i){Ae.current===i&&(ae(fe),ae(Ae)),_t.current===i&&(ae(_t),Xo._currentValue=K)}var An=Object.prototype.hasOwnProperty,Sn=r.unstable_scheduleCallback,sa=r.unstable_cancelCallback,Zi=r.unstable_shouldYield,fu=r.unstable_requestPaint,_r=r.unstable_now,Fa=r.unstable_getCurrentPriorityLevel,la=r.unstable_ImmediatePriority,ua=r.unstable_UserBlockingPriority,wr=r.unstable_NormalPriority,_s=r.unstable_LowPriority,Ki=r.unstable_IdlePriority,ws=r.log,Br=r.unstable_setDisableYieldValue,ca=null,wt=null;function Gr(i){if(typeof ws=="function"&&Br(i),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(ca,i)}catch{}}var Qt=Math.clz32?Math.clz32:hu,Qi=Math.log,du=Math.LN2;function hu(i){return i>>>=0,i===0?32:31-(Qi(i)/du|0)|0}var za=256,we=4194304;function ye(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Jt(i,s,u){var d=i.pendingLanes;if(d===0)return 0;var p=0,y=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var C=d&134217727;return C!==0?(d=C&~y,d!==0?p=ye(d):(A&=C,A!==0?p=ye(A):u||(u=C&~i,u!==0&&(p=ye(u))))):(C=d&~y,C!==0?p=ye(C):A!==0?p=ye(A):u||(u=d&~i,u!==0&&(p=ye(u)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,u=s&-s,y>=u||y===32&&(u&4194048)!==0)?s:p}function Cn(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Es(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tn(){var i=za;return za<<=1,(za&4194048)===0&&(za=256),i}function Ji(){var i=we;return we<<=1,(we&62914560)===0&&(we=4194304),i}function eo(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function fa(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function vu(i,s,u,d,p,y){var A=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var C=i.entanglements,M=i.expirationTimes,H=i.hiddenUpdates;for(u=A&~u;0<u;){var Q=31-Qt(u),re=1<<Q;C[Q]=0,M[Q]=-1;var G=H[Q];if(G!==null)for(H[Q]=null,Q=0;Q<G.length;Q++){var X=G[Q];X!==null&&(X.lane&=-536870913)}u&=~re}d!==0&&jd(i,d,0),y!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=y&~(A&~s))}function jd(i,s,u){i.pendingLanes|=s,i.suspendedLanes&=~s;var d=31-Qt(s);i.entangledLanes|=s,i.entanglements[d]=i.entanglements[d]|1073741824|u&4194090}function Ud(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var d=31-Qt(u),p=1<<d;p&s|i[d]&s&&(i[d]|=s),u&=~p}}function pu(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function gu(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Fd(){var i=z.p;return i!==0?i:(i=window.event,i===void 0?32:mv(i.type))}function Wg(i,s){var u=z.p;try{return z.p=i,s()}finally{z.p=u}}var On=Math.random().toString(36).slice(2),qt="__reactFiber$"+On,ir="__reactProps$"+On,Ha="__reactContainer$"+On,yu="__reactEvents$"+On,Zg="__reactListeners$"+On,Kg="__reactHandles$"+On,zd="__reactResources$"+On,to="__reactMarker$"+On;function xu(i){delete i[qt],delete i[ir],delete i[yu],delete i[Zg],delete i[Kg]}function Va(i){var s=i[qt];if(s)return s;for(var u=i.parentNode;u;){if(s=u[Ha]||u[qt]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=av(i);i!==null;){if(u=i[qt])return u;i=av(i)}return s}i=u,u=i.parentNode}return null}function Ga(i){if(i=i[qt]||i[Ha]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function ro(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(n(33))}function Xa(i){var s=i[zd];return s||(s=i[zd]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Nt(i){i[to]=!0}var Hd=new Set,Vd={};function da(i,s){qa(i,s),qa(i+"Capture",s)}function qa(i,s){for(Vd[i]=s,i=0;i<s.length;i++)Hd.add(s[i])}var Qg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gd={},Xd={};function Jg(i){return An.call(Xd,i)?!0:An.call(Gd,i)?!1:Qg.test(i)?Xd[i]=!0:(Gd[i]=!0,!1)}function bs(i,s,u){if(Jg(s))if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+u)}}function As(i,s,u){if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+u)}}function tn(i,s,u,d){if(d===null)i.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(s,u,""+d)}}var mu,qd;function $a(i){if(mu===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);mu=s&&s[1]||"",qd=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mu+i+qd}var _u=!1;function wu(i,s){if(!i||_u)return"";_u=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(X){var G=X}Reflect.construct(i,[],re)}else{try{re.call()}catch(X){G=X}i.call(re.prototype)}}else{try{throw Error()}catch(X){G=X}(re=i())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(X){if(X&&G&&typeof X.stack=="string")return[X.stack,G.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),A=y[0],C=y[1];if(A&&C){var M=A.split(`
`),H=C.split(`
`);for(p=d=0;d<M.length&&!M[d].includes("DetermineComponentFrameRoot");)d++;for(;p<H.length&&!H[p].includes("DetermineComponentFrameRoot");)p++;if(d===M.length||p===H.length)for(d=M.length-1,p=H.length-1;1<=d&&0<=p&&M[d]!==H[p];)p--;for(;1<=d&&0<=p;d--,p--)if(M[d]!==H[p]){if(d!==1||p!==1)do if(d--,p--,0>p||M[d]!==H[p]){var Q=`
`+M[d].replace(" at new "," at ");return i.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",i.displayName)),Q}while(1<=d&&0<=p);break}}}finally{_u=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?$a(u):""}function ey(i){switch(i.tag){case 26:case 27:case 5:return $a(i.type);case 16:return $a("Lazy");case 13:return $a("Suspense");case 19:return $a("SuspenseList");case 0:case 15:return wu(i.type,!1);case 11:return wu(i.type.render,!1);case 1:return wu(i.type,!0);case 31:return $a("Activity");default:return""}}function $d(i){try{var s="";do s+=ey(i),i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Er(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Yd(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ty(i){var s=Yd(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),d=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(A){d=""+A,y.call(this,A)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(A){d=""+A},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ss(i){i._valueTracker||(i._valueTracker=ty(i))}function Wd(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),d="";return i&&(d=Yd(i)?i.checked?"true":"false":i.value),i=d,i!==u?(s.setValue(i),!0):!1}function Cs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ry=/[\n"\\]/g;function br(i){return i.replace(ry,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Eu(i,s,u,d,p,y,A,C){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),s!=null?A==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Er(s)):i.value!==""+Er(s)&&(i.value=""+Er(s)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),s!=null?bu(i,A,Er(s)):u!=null?bu(i,A,Er(u)):d!=null&&i.removeAttribute("value"),p==null&&y!=null&&(i.defaultChecked=!!y),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.name=""+Er(C):i.removeAttribute("name")}function Zd(i,s,u,d,p,y,A,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;u=u!=null?""+Er(u):"",s=s!=null?""+Er(s):u,C||s===i.value||(i.value=s),i.defaultValue=s}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=C?i.checked:!!d,i.defaultChecked=!!d,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A)}function bu(i,s,u){s==="number"&&Cs(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Ya(i,s,u,d){if(i=i.options,s){s={};for(var p=0;p<u.length;p++)s["$"+u[p]]=!0;for(u=0;u<i.length;u++)p=s.hasOwnProperty("$"+i[u].value),i[u].selected!==p&&(i[u].selected=p),p&&d&&(i[u].defaultSelected=!0)}else{for(u=""+Er(u),s=null,p=0;p<i.length;p++){if(i[p].value===u){i[p].selected=!0,d&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function Kd(i,s,u){if(s!=null&&(s=""+Er(s),s!==i.value&&(i.value=s),u==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=u!=null?""+Er(u):""}function Qd(i,s,u,d){if(s==null){if(d!=null){if(u!=null)throw Error(n(92));if(le(d)){if(1<d.length)throw Error(n(93));d=d[0]}u=d}u==null&&(u=""),s=u}u=Er(s),i.defaultValue=u,d=i.textContent,d===u&&d!==""&&d!==null&&(i.value=d)}function Wa(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var ny=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jd(i,s,u){var d=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":d?i.setProperty(s,u):typeof u!="number"||u===0||ny.has(s)?s==="float"?i.cssFloat=u:i[s]=(""+u).trim():i[s]=u+"px"}function eh(i,s,u){if(s!=null&&typeof s!="object")throw Error(n(62));if(i=i.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var p in s)d=s[p],s.hasOwnProperty(p)&&u[p]!==d&&Jd(i,p,d)}else for(var y in s)s.hasOwnProperty(y)&&Jd(i,y,s[y])}function Au(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ay=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),iy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ts(i){return iy.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Su=null;function Cu(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Za=null,Ka=null;function th(i){var s=Ga(i);if(s&&(i=s.stateNode)){var u=i[ir]||null;e:switch(i=s.stateNode,s.type){case"input":if(Eu(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+br(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var d=u[s];if(d!==i&&d.form===i.form){var p=d[ir]||null;if(!p)throw Error(n(90));Eu(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<u.length;s++)d=u[s],d.form===i.form&&Wd(d)}break e;case"textarea":Kd(i,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&Ya(i,!!u.multiple,s,!1)}}}var Tu=!1;function rh(i,s,u){if(Tu)return i(s,u);Tu=!0;try{var d=i(s);return d}finally{if(Tu=!1,(Za!==null||Ka!==null)&&(dl(),Za&&(s=Za,i=Ka,Ka=Za=null,th(s),i)))for(s=0;s<i.length;s++)th(i[s])}}function no(i,s){var u=i.stateNode;if(u===null)return null;var d=u[ir]||null;if(d===null)return null;u=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,s,typeof u));return u}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ou=!1;if(rn)try{var ao={};Object.defineProperty(ao,"passive",{get:function(){Ou=!0}}),window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{Ou=!1}var Rn=null,Ru=null,Os=null;function nh(){if(Os)return Os;var i,s=Ru,u=s.length,d,p="value"in Rn?Rn.value:Rn.textContent,y=p.length;for(i=0;i<u&&s[i]===p[i];i++);var A=u-i;for(d=1;d<=A&&s[u-d]===p[y-d];d++);return Os=p.slice(i,1<d?1-d:void 0)}function Rs(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ds(){return!0}function ah(){return!1}function or(i){function s(u,d,p,y,A){this._reactName=u,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(u=i[C],this[C]=u?u(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ds:ah,this.isPropagationStopped=ah,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),s}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Is=or(ha),io=v({},ha,{view:0,detail:0}),oy=or(io),Du,Iu,oo,Ns=v({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==oo&&(oo&&i.type==="mousemove"?(Du=i.screenX-oo.screenX,Iu=i.screenY-oo.screenY):Iu=Du=0,oo=i),Du)},movementY:function(i){return"movementY"in i?i.movementY:Iu}}),ih=or(Ns),sy=v({},Ns,{dataTransfer:0}),ly=or(sy),uy=v({},io,{relatedTarget:0}),Nu=or(uy),cy=v({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),fy=or(cy),dy=v({},ha,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),hy=or(dy),vy=v({},ha,{data:0}),oh=or(vy),py={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xy(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=yy[i])?!!s[i]:!1}function Mu(){return xy}var my=v({},io,{key:function(i){if(i.key){var s=py[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Rs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?gy[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mu,charCode:function(i){return i.type==="keypress"?Rs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Rs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),_y=or(my),wy=v({},Ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sh=or(wy),Ey=v({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mu}),by=or(Ey),Ay=v({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sy=or(Ay),Cy=v({},Ns,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ty=or(Cy),Oy=v({},ha,{newState:0,oldState:0}),Ry=or(Oy),Dy=[9,13,27,32],Bu=rn&&"CompositionEvent"in window,so=null;rn&&"documentMode"in document&&(so=document.documentMode);var Iy=rn&&"TextEvent"in window&&!so,lh=rn&&(!Bu||so&&8<so&&11>=so),uh=" ",ch=!1;function fh(i,s){switch(i){case"keyup":return Dy.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dh(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Qa=!1;function Ny(i,s){switch(i){case"compositionend":return dh(s);case"keypress":return s.which!==32?null:(ch=!0,uh);case"textInput":return i=s.data,i===uh&&ch?null:i;default:return null}}function My(i,s){if(Qa)return i==="compositionend"||!Bu&&fh(i,s)?(i=nh(),Os=Ru=Rn=null,Qa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return lh&&s.locale!=="ko"?null:s.data;default:return null}}var By={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!By[i.type]:s==="textarea"}function vh(i,s,u,d){Za?Ka?Ka.push(d):Ka=[d]:Za=d,s=xl(s,"onChange"),0<s.length&&(u=new Is("onChange","change",null,u,d),i.push({event:u,listeners:s}))}var lo=null,uo=null;function ky(i){Y1(i,0)}function Ms(i){var s=ro(i);if(Wd(s))return i}function ph(i,s){if(i==="change")return s}var gh=!1;if(rn){var ku;if(rn){var Pu="oninput"in document;if(!Pu){var yh=document.createElement("div");yh.setAttribute("oninput","return;"),Pu=typeof yh.oninput=="function"}ku=Pu}else ku=!1;gh=ku&&(!document.documentMode||9<document.documentMode)}function xh(){lo&&(lo.detachEvent("onpropertychange",mh),uo=lo=null)}function mh(i){if(i.propertyName==="value"&&Ms(uo)){var s=[];vh(s,uo,i,Cu(i)),rh(ky,s)}}function Py(i,s,u){i==="focusin"?(xh(),lo=s,uo=u,lo.attachEvent("onpropertychange",mh)):i==="focusout"&&xh()}function Ly(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ms(uo)}function jy(i,s){if(i==="click")return Ms(s)}function Uy(i,s){if(i==="input"||i==="change")return Ms(s)}function Fy(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var hr=typeof Object.is=="function"?Object.is:Fy;function co(i,s){if(hr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),d=Object.keys(s);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var p=u[d];if(!An.call(s,p)||!hr(i[p],s[p]))return!1}return!0}function _h(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function wh(i,s){var u=_h(i);i=0;for(var d;u;){if(u.nodeType===3){if(d=i+u.textContent.length,i<=s&&d>=s)return{node:u,offset:s-i};i=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=_h(u)}}function Eh(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Eh(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function bh(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Cs(i.document);s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=Cs(i.document)}return s}function Lu(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var zy=rn&&"documentMode"in document&&11>=document.documentMode,Ja=null,ju=null,fo=null,Uu=!1;function Ah(i,s,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Uu||Ja==null||Ja!==Cs(d)||(d=Ja,"selectionStart"in d&&Lu(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),fo&&co(fo,d)||(fo=d,d=xl(ju,"onSelect"),0<d.length&&(s=new Is("onSelect","select",null,s,u),i.push({event:s,listeners:d}),s.target=Ja)))}function va(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var ei={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},Fu={},Sh={};rn&&(Sh=document.createElement("div").style,"AnimationEvent"in window||(delete ei.animationend.animation,delete ei.animationiteration.animation,delete ei.animationstart.animation),"TransitionEvent"in window||delete ei.transitionend.transition);function pa(i){if(Fu[i])return Fu[i];if(!ei[i])return i;var s=ei[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in Sh)return Fu[i]=s[u];return i}var Ch=pa("animationend"),Th=pa("animationiteration"),Oh=pa("animationstart"),Hy=pa("transitionrun"),Vy=pa("transitionstart"),Gy=pa("transitioncancel"),Rh=pa("transitionend"),Dh=new Map,zu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zu.push("scrollEnd");function kr(i,s){Dh.set(i,s),da(s,[i])}var Ih=new WeakMap;function Ar(i,s){if(typeof i=="object"&&i!==null){var u=Ih.get(i);return u!==void 0?u:(s={value:i,source:s,stack:$d(s)},Ih.set(i,s),s)}return{value:i,source:s,stack:$d(s)}}var Sr=[],ti=0,Hu=0;function Bs(){for(var i=ti,s=Hu=ti=0;s<i;){var u=Sr[s];Sr[s++]=null;var d=Sr[s];Sr[s++]=null;var p=Sr[s];Sr[s++]=null;var y=Sr[s];if(Sr[s++]=null,d!==null&&p!==null){var A=d.pending;A===null?p.next=p:(p.next=A.next,A.next=p),d.pending=p}y!==0&&Nh(u,p,y)}}function ks(i,s,u,d){Sr[ti++]=i,Sr[ti++]=s,Sr[ti++]=u,Sr[ti++]=d,Hu|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function Vu(i,s,u,d){return ks(i,s,u,d),Ps(i)}function ri(i,s){return ks(i,null,null,s),Ps(i)}function Nh(i,s,u){i.lanes|=u;var d=i.alternate;d!==null&&(d.lanes|=u);for(var p=!1,y=i.return;y!==null;)y.childLanes|=u,d=y.alternate,d!==null&&(d.childLanes|=u),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(p=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,p&&s!==null&&(p=31-Qt(u),i=y.hiddenUpdates,d=i[p],d===null?i[p]=[s]:d.push(s),s.lane=u|536870912),y):null}function Ps(i){if(50<Lo)throw Lo=0,Wc=null,Error(n(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var ni={};function Xy(i,s,u,d){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(i,s,u,d){return new Xy(i,s,u,d)}function Gu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function nn(i,s){var u=i.alternate;return u===null?(u=vr(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function Mh(i,s){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,s=u.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Ls(i,s,u,d,p,y){var A=0;if(d=i,typeof i=="function")Gu(i)&&(A=1);else if(typeof i=="string")A=$2(i,u,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case J:return i=vr(31,u,s,p),i.elementType=J,i.lanes=y,i;case w:return ga(u.children,p,y,s);case S:A=8,p|=24;break;case E:return i=vr(12,u,s,p|2),i.elementType=E,i.lanes=y,i;case N:return i=vr(13,u,s,p),i.elementType=N,i.lanes=y,i;case k:return i=vr(19,u,s,p),i.elementType=k,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case b:case O:A=10;break e;case T:A=9;break e;case D:A=11;break e;case L:A=14;break e;case Z:A=16,d=null;break e}A=29,u=Error(n(130,i===null?"null":typeof i,"")),d=null}return s=vr(A,u,s,p),s.elementType=i,s.type=d,s.lanes=y,s}function ga(i,s,u,d){return i=vr(7,i,d,s),i.lanes=u,i}function Xu(i,s,u){return i=vr(6,i,null,s),i.lanes=u,i}function qu(i,s,u){return s=vr(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var ai=[],ii=0,js=null,Us=0,Cr=[],Tr=0,ya=null,an=1,on="";function xa(i,s){ai[ii++]=Us,ai[ii++]=js,js=i,Us=s}function Bh(i,s,u){Cr[Tr++]=an,Cr[Tr++]=on,Cr[Tr++]=ya,ya=i;var d=an;i=on;var p=32-Qt(d)-1;d&=~(1<<p),u+=1;var y=32-Qt(s)+p;if(30<y){var A=p-p%5;y=(d&(1<<A)-1).toString(32),d>>=A,p-=A,an=1<<32-Qt(s)+p|u<<p|d,on=y+i}else an=1<<y|u<<p|d,on=i}function $u(i){i.return!==null&&(xa(i,1),Bh(i,1,0))}function Yu(i){for(;i===js;)js=ai[--ii],ai[ii]=null,Us=ai[--ii],ai[ii]=null;for(;i===ya;)ya=Cr[--Tr],Cr[Tr]=null,on=Cr[--Tr],Cr[Tr]=null,an=Cr[--Tr],Cr[Tr]=null}var er=null,ft=null,je=!1,ma=null,Xr=!1,Wu=Error(n(519));function _a(i){var s=Error(n(418,""));throw po(Ar(s,i)),Wu}function kh(i){var s=i.stateNode,u=i.type,d=i.memoizedProps;switch(s[qt]=i,s[ir]=d,u){case"dialog":De("cancel",s),De("close",s);break;case"iframe":case"object":case"embed":De("load",s);break;case"video":case"audio":for(u=0;u<Uo.length;u++)De(Uo[u],s);break;case"source":De("error",s);break;case"img":case"image":case"link":De("error",s),De("load",s);break;case"details":De("toggle",s);break;case"input":De("invalid",s),Zd(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Ss(s);break;case"select":De("invalid",s);break;case"textarea":De("invalid",s),Qd(s,d.value,d.defaultValue,d.children),Ss(s)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||d.suppressHydrationWarning===!0||Q1(s.textContent,u)?(d.popover!=null&&(De("beforetoggle",s),De("toggle",s)),d.onScroll!=null&&De("scroll",s),d.onScrollEnd!=null&&De("scrollend",s),d.onClick!=null&&(s.onclick=ml),s=!0):s=!1,s||_a(i)}function Ph(i){for(er=i.return;er;)switch(er.tag){case 5:case 13:Xr=!1;return;case 27:case 3:Xr=!0;return;default:er=er.return}}function ho(i){if(i!==er)return!1;if(!je)return Ph(i),je=!0,!1;var s=i.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||df(i.type,i.memoizedProps)),u=!u),u&&ft&&_a(i),Ph(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(s===0){ft=Lr(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++;i=i.nextSibling}ft=null}}else s===27?(s=ft,Xn(i.type)?(i=gf,gf=null,ft=i):ft=s):ft=er?Lr(i.stateNode.nextSibling):null;return!0}function vo(){ft=er=null,je=!1}function Lh(){var i=ma;return i!==null&&(ur===null?ur=i:ur.push.apply(ur,i),ma=null),i}function po(i){ma===null?ma=[i]:ma.push(i)}var Zu=$(null),wa=null,sn=null;function Dn(i,s,u){ie(Zu,s._currentValue),s._currentValue=u}function ln(i){i._currentValue=Zu.current,ae(Zu)}function Ku(i,s,u){for(;i!==null;){var d=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),i===u)break;i=i.return}}function Qu(i,s,u,d){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var y=p.dependencies;if(y!==null){var A=p.child;y=y.firstContext;e:for(;y!==null;){var C=y;y=p;for(var M=0;M<s.length;M++)if(C.context===s[M]){y.lanes|=u,C=y.alternate,C!==null&&(C.lanes|=u),Ku(y.return,u,i),d||(A=null);break e}y=C.next}}else if(p.tag===18){if(A=p.return,A===null)throw Error(n(341));A.lanes|=u,y=A.alternate,y!==null&&(y.lanes|=u),Ku(A,u,i),A=null}else A=p.child;if(A!==null)A.return=p;else for(A=p;A!==null;){if(A===i){A=null;break}if(p=A.sibling,p!==null){p.return=A.return,A=p;break}A=A.return}p=A}}function go(i,s,u,d){i=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var A=p.alternate;if(A===null)throw Error(n(387));if(A=A.memoizedProps,A!==null){var C=p.type;hr(p.pendingProps.value,A.value)||(i!==null?i.push(C):i=[C])}}else if(p===_t.current){if(A=p.alternate,A===null)throw Error(n(387));A.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Xo):i=[Xo])}p=p.return}i!==null&&Qu(s,i,u,d),s.flags|=262144}function Fs(i){for(i=i.firstContext;i!==null;){if(!hr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ea(i){wa=i,sn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function $t(i){return jh(wa,i)}function zs(i,s){return wa===null&&Ea(i),jh(i,s)}function jh(i,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},sn===null){if(i===null)throw Error(n(308));sn=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else sn=sn.next=s;return u}var qy=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(u,d){i.push(d)}};this.abort=function(){s.aborted=!0,i.forEach(function(u){return u()})}},$y=r.unstable_scheduleCallback,Yy=r.unstable_NormalPriority,Et={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ju(){return{controller:new qy,data:new Map,refCount:0}}function yo(i){i.refCount--,i.refCount===0&&$y(Yy,function(){i.controller.abort()})}var xo=null,ec=0,oi=0,si=null;function Wy(i,s){if(xo===null){var u=xo=[];ec=0,oi=rf(),si={status:"pending",value:void 0,then:function(d){u.push(d)}}}return ec++,s.then(Uh,Uh),s}function Uh(){if(--ec===0&&xo!==null){si!==null&&(si.status="fulfilled");var i=xo;xo=null,oi=0,si=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Zy(i,s){var u=[],d={status:"pending",value:null,reason:null,then:function(p){u.push(p)}};return i.then(function(){d.status="fulfilled",d.value=s;for(var p=0;p<u.length;p++)(0,u[p])(s)},function(p){for(d.status="rejected",d.reason=p,p=0;p<u.length;p++)(0,u[p])(void 0)}),d}var Fh=I.S;I.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Wy(i,s),Fh!==null&&Fh(i,s)};var ba=$(null);function tc(){var i=ba.current;return i!==null?i:et.pooledCache}function Hs(i,s){s===null?ie(ba,ba.current):ie(ba,s.pool)}function zh(){var i=tc();return i===null?null:{parent:Et._currentValue,pool:i}}var mo=Error(n(460)),Hh=Error(n(474)),Vs=Error(n(542)),rc={then:function(){}};function Vh(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Gs(){}function Gh(i,s,u){switch(u=i[u],u===void 0?i.push(s):u!==s&&(s.then(Gs,Gs),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,qh(i),i;default:if(typeof s.status=="string")s.then(Gs,Gs);else{if(i=et,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=s,i.status="pending",i.then(function(d){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=d}},function(d){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,qh(i),i}throw _o=s,mo}}var _o=null;function Xh(){if(_o===null)throw Error(n(459));var i=_o;return _o=null,i}function qh(i){if(i===mo||i===Vs)throw Error(n(483))}var In=!1;function nc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ac(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Nn(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Mn(i,s,u){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Ve&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,s=Ps(i),Nh(i,null,u),s}return ks(i,d,s,u),Ps(i)}function wo(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var d=s.lanes;d&=i.pendingLanes,u|=d,s.lanes=u,Ud(i,u)}}function ic(i,s){var u=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var p=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?p=y=A:y=y.next=A,u=u.next}while(u!==null);y===null?p=y=s:y=y.next=s}else p=y=s;u={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}var oc=!1;function Eo(){if(oc){var i=si;if(i!==null)throw i}}function bo(i,s,u,d){oc=!1;var p=i.updateQueue;In=!1;var y=p.firstBaseUpdate,A=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var M=C,H=M.next;M.next=null,A===null?y=H:A.next=H,A=M;var Q=i.alternate;Q!==null&&(Q=Q.updateQueue,C=Q.lastBaseUpdate,C!==A&&(C===null?Q.firstBaseUpdate=H:C.next=H,Q.lastBaseUpdate=M))}if(y!==null){var re=p.baseState;A=0,Q=H=M=null,C=y;do{var G=C.lane&-536870913,X=G!==C.lane;if(X?(Me&G)===G:(d&G)===G){G!==0&&G===oi&&(oc=!0),Q!==null&&(Q=Q.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var _e=i,xe=C;G=s;var Ze=u;switch(xe.tag){case 1:if(_e=xe.payload,typeof _e=="function"){re=_e.call(Ze,re,G);break e}re=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=xe.payload,G=typeof _e=="function"?_e.call(Ze,re,G):_e,G==null)break e;re=v({},re,G);break e;case 2:In=!0}}G=C.callback,G!==null&&(i.flags|=64,X&&(i.flags|=8192),X=p.callbacks,X===null?p.callbacks=[G]:X.push(G))}else X={lane:G,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Q===null?(H=Q=X,M=re):Q=Q.next=X,A|=G;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;X=C,C=X.next,X.next=null,p.lastBaseUpdate=X,p.shared.pending=null}}while(!0);Q===null&&(M=re),p.baseState=M,p.firstBaseUpdate=H,p.lastBaseUpdate=Q,y===null&&(p.shared.lanes=0),zn|=A,i.lanes=A,i.memoizedState=re}}function $h(i,s){if(typeof i!="function")throw Error(n(191,i));i.call(s)}function Yh(i,s){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)$h(u[i],s)}var li=$(null),Xs=$(0);function Wh(i,s){i=pn,ie(Xs,i),ie(li,s),pn=i|s.baseLanes}function sc(){ie(Xs,pn),ie(li,li.current)}function lc(){pn=Xs.current,ae(li),ae(Xs)}var Bn=0,Se=null,Ye=null,yt=null,qs=!1,ui=!1,Aa=!1,$s=0,Ao=0,ci=null,Ky=0;function ht(){throw Error(n(321))}function uc(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!hr(i[u],s[u]))return!1;return!0}function cc(i,s,u,d,p,y){return Bn=y,Se=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,I.H=i===null||i.memoizedState===null?N0:M0,Aa=!1,y=u(d,p),Aa=!1,ui&&(y=Kh(s,u,d,p)),Zh(i),y}function Zh(i){I.H=Js;var s=Ye!==null&&Ye.next!==null;if(Bn=0,yt=Ye=Se=null,qs=!1,Ao=0,ci=null,s)throw Error(n(300));i===null||Mt||(i=i.dependencies,i!==null&&Fs(i)&&(Mt=!0))}function Kh(i,s,u,d){Se=i;var p=0;do{if(ui&&(ci=null),Ao=0,ui=!1,25<=p)throw Error(n(301));if(p+=1,yt=Ye=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}I.H=a2,y=s(u,d)}while(ui);return y}function Qy(){var i=I.H,s=i.useState()[0];return s=typeof s.then=="function"?So(s):s,i=i.useState()[0],(Ye!==null?Ye.memoizedState:null)!==i&&(Se.flags|=1024),s}function fc(){var i=$s!==0;return $s=0,i}function dc(i,s,u){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~u}function hc(i){if(qs){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}qs=!1}Bn=0,yt=Ye=Se=null,ui=!1,Ao=$s=0,ci=null}function sr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Se.memoizedState=yt=i:yt=yt.next=i,yt}function xt(){if(Ye===null){var i=Se.alternate;i=i!==null?i.memoizedState:null}else i=Ye.next;var s=yt===null?Se.memoizedState:yt.next;if(s!==null)yt=s,Ye=i;else{if(i===null)throw Se.alternate===null?Error(n(467)):Error(n(310));Ye=i,i={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},yt===null?Se.memoizedState=yt=i:yt=yt.next=i}return yt}function vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function So(i){var s=Ao;return Ao+=1,ci===null&&(ci=[]),i=Gh(ci,i,s),s=Se,(yt===null?s.memoizedState:yt.next)===null&&(s=s.alternate,I.H=s===null||s.memoizedState===null?N0:M0),i}function Ys(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return So(i);if(i.$$typeof===O)return $t(i)}throw Error(n(438,String(i)))}function pc(i){var s=null,u=Se.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var d=Se.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=vc(),Se.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(i),d=0;d<i;d++)u[d]=Y;return s.index++,u}function un(i,s){return typeof s=="function"?s(i):s}function Ws(i){var s=xt();return gc(s,Ye,i)}function gc(i,s,u){var d=i.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=u;var p=i.baseQueue,y=d.pending;if(y!==null){if(p!==null){var A=p.next;p.next=y.next,y.next=A}s.baseQueue=p=y,d.pending=null}if(y=i.baseState,p===null)i.memoizedState=y;else{s=p.next;var C=A=null,M=null,H=s,Q=!1;do{var re=H.lane&-536870913;if(re!==H.lane?(Me&re)===re:(Bn&re)===re){var G=H.revertLane;if(G===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),re===oi&&(Q=!0);else if((Bn&G)===G){H=H.next,G===oi&&(Q=!0);continue}else re={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(C=M=re,A=y):M=M.next=re,Se.lanes|=G,zn|=G;re=H.action,Aa&&u(y,re),y=H.hasEagerState?H.eagerState:u(y,re)}else G={lane:re,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(C=M=G,A=y):M=M.next=G,Se.lanes|=re,zn|=re;H=H.next}while(H!==null&&H!==s);if(M===null?A=y:M.next=C,!hr(y,i.memoizedState)&&(Mt=!0,Q&&(u=si,u!==null)))throw u;i.memoizedState=y,i.baseState=A,i.baseQueue=M,d.lastRenderedState=y}return p===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function yc(i){var s=xt(),u=s.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var d=u.dispatch,p=u.pending,y=s.memoizedState;if(p!==null){u.pending=null;var A=p=p.next;do y=i(y,A.action),A=A.next;while(A!==p);hr(y,s.memoizedState)||(Mt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),u.lastRenderedState=y}return[y,d]}function Qh(i,s,u){var d=Se,p=xt(),y=je;if(y){if(u===void 0)throw Error(n(407));u=u()}else u=s();var A=!hr((Ye||p).memoizedState,u);A&&(p.memoizedState=u,Mt=!0),p=p.queue;var C=t0.bind(null,d,p,i);if(Co(2048,8,C,[i]),p.getSnapshot!==s||A||yt!==null&&yt.memoizedState.tag&1){if(d.flags|=2048,fi(9,Zs(),e0.bind(null,d,p,u,s),null),et===null)throw Error(n(349));y||(Bn&124)!==0||Jh(d,s,u)}return u}function Jh(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Se.updateQueue,s===null?(s=vc(),Se.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function e0(i,s,u,d){s.value=u,s.getSnapshot=d,r0(s)&&n0(i)}function t0(i,s,u){return u(function(){r0(s)&&n0(i)})}function r0(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!hr(i,u)}catch{return!0}}function n0(i){var s=ri(i,2);s!==null&&mr(s,i,2)}function xc(i){var s=sr();if(typeof i=="function"){var u=i;if(i=u(),Aa){Gr(!0);try{u()}finally{Gr(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:i},s}function a0(i,s,u,d){return i.baseState=u,gc(i,Ye,typeof d=="function"?d:un)}function Jy(i,s,u,d,p){if(Qs(i))throw Error(n(485));if(i=s.action,i!==null){var y={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};I.T!==null?u(!0):y.isTransition=!1,d(y),u=s.pending,u===null?(y.next=s.pending=y,i0(s,y)):(y.next=u.next,s.pending=u.next=y)}}function i0(i,s){var u=s.action,d=s.payload,p=i.state;if(s.isTransition){var y=I.T,A={};I.T=A;try{var C=u(p,d),M=I.S;M!==null&&M(A,C),o0(i,s,C)}catch(H){mc(i,s,H)}finally{I.T=y}}else try{y=u(p,d),o0(i,s,y)}catch(H){mc(i,s,H)}}function o0(i,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){s0(i,s,d)},function(d){return mc(i,s,d)}):s0(i,s,u)}function s0(i,s,u){s.status="fulfilled",s.value=u,l0(s),i.state=u,s=i.pending,s!==null&&(u=s.next,u===s?i.pending=null:(u=u.next,s.next=u,i0(i,u)))}function mc(i,s,u){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=u,l0(s),s=s.next;while(s!==d)}i.action=null}function l0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function u0(i,s){return s}function c0(i,s){if(je){var u=et.formState;if(u!==null){e:{var d=Se;if(je){if(ft){t:{for(var p=ft,y=Xr;p.nodeType!==8;){if(!y){p=null;break t}if(p=Lr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){ft=Lr(p.nextSibling),d=p.data==="F!";break e}}_a(d)}d=!1}d&&(s=u[0])}}return u=sr(),u.memoizedState=u.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u0,lastRenderedState:s},u.queue=d,u=R0.bind(null,Se,d),d.dispatch=u,d=xc(!1),y=Ac.bind(null,Se,!1,d.queue),d=sr(),p={state:s,dispatch:null,action:i,pending:null},d.queue=p,u=Jy.bind(null,Se,p,y,u),p.dispatch=u,d.memoizedState=i,[s,u,!1]}function f0(i){var s=xt();return d0(s,Ye,i)}function d0(i,s,u){if(s=gc(i,s,u0)[0],i=Ws(un)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=So(s)}catch(A){throw A===mo?Vs:A}else d=s;s=xt();var p=s.queue,y=p.dispatch;return u!==s.memoizedState&&(Se.flags|=2048,fi(9,Zs(),e2.bind(null,p,u),null)),[d,y,i]}function e2(i,s){i.action=s}function h0(i){var s=xt(),u=Ye;if(u!==null)return d0(s,u,i);xt(),s=s.memoizedState,u=xt();var d=u.queue.dispatch;return u.memoizedState=i,[s,d,!1]}function fi(i,s,u,d){return i={tag:i,create:u,deps:d,inst:s,next:null},s=Se.updateQueue,s===null&&(s=vc(),Se.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=i.next=i:(d=u.next,u.next=i,i.next=d,s.lastEffect=i),i}function Zs(){return{destroy:void 0,resource:void 0}}function v0(){return xt().memoizedState}function Ks(i,s,u,d){var p=sr();d=d===void 0?null:d,Se.flags|=i,p.memoizedState=fi(1|s,Zs(),u,d)}function Co(i,s,u,d){var p=xt();d=d===void 0?null:d;var y=p.memoizedState.inst;Ye!==null&&d!==null&&uc(d,Ye.memoizedState.deps)?p.memoizedState=fi(s,y,u,d):(Se.flags|=i,p.memoizedState=fi(1|s,y,u,d))}function p0(i,s){Ks(8390656,8,i,s)}function g0(i,s){Co(2048,8,i,s)}function y0(i,s){return Co(4,2,i,s)}function x0(i,s){return Co(4,4,i,s)}function m0(i,s){if(typeof s=="function"){i=i();var u=s(i);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function _0(i,s,u){u=u!=null?u.concat([i]):null,Co(4,4,m0.bind(null,s,i),u)}function _c(){}function w0(i,s){var u=xt();s=s===void 0?null:s;var d=u.memoizedState;return s!==null&&uc(s,d[1])?d[0]:(u.memoizedState=[i,s],i)}function E0(i,s){var u=xt();s=s===void 0?null:s;var d=u.memoizedState;if(s!==null&&uc(s,d[1]))return d[0];if(d=i(),Aa){Gr(!0);try{i()}finally{Gr(!1)}}return u.memoizedState=[d,s],d}function wc(i,s,u){return u===void 0||(Bn&1073741824)!==0?i.memoizedState=s:(i.memoizedState=u,i=S1(),Se.lanes|=i,zn|=i,u)}function b0(i,s,u,d){return hr(u,s)?u:li.current!==null?(i=wc(i,u,d),hr(i,s)||(Mt=!0),i):(Bn&42)===0?(Mt=!0,i.memoizedState=u):(i=S1(),Se.lanes|=i,zn|=i,s)}function A0(i,s,u,d,p){var y=z.p;z.p=y!==0&&8>y?y:8;var A=I.T,C={};I.T=C,Ac(i,!1,s,u);try{var M=p(),H=I.S;if(H!==null&&H(C,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Q=Zy(M,d);To(i,s,Q,xr(i))}else To(i,s,d,xr(i))}catch(re){To(i,s,{then:function(){},status:"rejected",reason:re},xr())}finally{z.p=y,I.T=A}}function t2(){}function Ec(i,s,u,d){if(i.tag!==5)throw Error(n(476));var p=S0(i).queue;A0(i,p,s,K,u===null?t2:function(){return C0(i),u(d)})}function S0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:K},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:u},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function C0(i){var s=S0(i).next.queue;To(i,s,{},xr())}function bc(){return $t(Xo)}function T0(){return xt().memoizedState}function O0(){return xt().memoizedState}function r2(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var u=xr();i=Nn(u);var d=Mn(s,i,u);d!==null&&(mr(d,s,u),wo(d,s,u)),s={cache:Ju()},i.payload=s;return}s=s.return}}function n2(i,s,u){var d=xr();u={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Qs(i)?D0(s,u):(u=Vu(i,s,u,d),u!==null&&(mr(u,i,d),I0(u,s,d)))}function R0(i,s,u){var d=xr();To(i,s,u,d)}function To(i,s,u,d){var p={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Qs(i))D0(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var A=s.lastRenderedState,C=y(A,u);if(p.hasEagerState=!0,p.eagerState=C,hr(C,A))return ks(i,s,p,0),et===null&&Bs(),!1}catch{}finally{}if(u=Vu(i,s,p,d),u!==null)return mr(u,i,d),I0(u,s,d),!0}return!1}function Ac(i,s,u,d){if(d={lane:2,revertLane:rf(),action:d,hasEagerState:!1,eagerState:null,next:null},Qs(i)){if(s)throw Error(n(479))}else s=Vu(i,u,d,2),s!==null&&mr(s,i,2)}function Qs(i){var s=i.alternate;return i===Se||s!==null&&s===Se}function D0(i,s){ui=qs=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function I0(i,s,u){if((u&4194048)!==0){var d=s.lanes;d&=i.pendingLanes,u|=d,s.lanes=u,Ud(i,u)}}var Js={readContext:$t,use:Ys,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},N0={readContext:$t,use:Ys,useCallback:function(i,s){return sr().memoizedState=[i,s===void 0?null:s],i},useContext:$t,useEffect:p0,useImperativeHandle:function(i,s,u){u=u!=null?u.concat([i]):null,Ks(4194308,4,m0.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Ks(4194308,4,i,s)},useInsertionEffect:function(i,s){Ks(4,2,i,s)},useMemo:function(i,s){var u=sr();s=s===void 0?null:s;var d=i();if(Aa){Gr(!0);try{i()}finally{Gr(!1)}}return u.memoizedState=[d,s],d},useReducer:function(i,s,u){var d=sr();if(u!==void 0){var p=u(s);if(Aa){Gr(!0);try{u(s)}finally{Gr(!1)}}}else p=s;return d.memoizedState=d.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},d.queue=i,i=i.dispatch=n2.bind(null,Se,i),[d.memoizedState,i]},useRef:function(i){var s=sr();return i={current:i},s.memoizedState=i},useState:function(i){i=xc(i);var s=i.queue,u=R0.bind(null,Se,s);return s.dispatch=u,[i.memoizedState,u]},useDebugValue:_c,useDeferredValue:function(i,s){var u=sr();return wc(u,i,s)},useTransition:function(){var i=xc(!1);return i=A0.bind(null,Se,i.queue,!0,!1),sr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,u){var d=Se,p=sr();if(je){if(u===void 0)throw Error(n(407));u=u()}else{if(u=s(),et===null)throw Error(n(349));(Me&124)!==0||Jh(d,s,u)}p.memoizedState=u;var y={value:u,getSnapshot:s};return p.queue=y,p0(t0.bind(null,d,y,i),[i]),d.flags|=2048,fi(9,Zs(),e0.bind(null,d,y,u,s),null),u},useId:function(){var i=sr(),s=et.identifierPrefix;if(je){var u=on,d=an;u=(d&~(1<<32-Qt(d)-1)).toString(32)+u,s="«"+s+"R"+u,u=$s++,0<u&&(s+="H"+u.toString(32)),s+="»"}else u=Ky++,s="«"+s+"r"+u.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:bc,useFormState:c0,useActionState:c0,useOptimistic:function(i){var s=sr();s.memoizedState=s.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=Ac.bind(null,Se,!0,u),u.dispatch=s,[i,s]},useMemoCache:pc,useCacheRefresh:function(){return sr().memoizedState=r2.bind(null,Se)}},M0={readContext:$t,use:Ys,useCallback:w0,useContext:$t,useEffect:g0,useImperativeHandle:_0,useInsertionEffect:y0,useLayoutEffect:x0,useMemo:E0,useReducer:Ws,useRef:v0,useState:function(){return Ws(un)},useDebugValue:_c,useDeferredValue:function(i,s){var u=xt();return b0(u,Ye.memoizedState,i,s)},useTransition:function(){var i=Ws(un)[0],s=xt().memoizedState;return[typeof i=="boolean"?i:So(i),s]},useSyncExternalStore:Qh,useId:T0,useHostTransitionStatus:bc,useFormState:f0,useActionState:f0,useOptimistic:function(i,s){var u=xt();return a0(u,Ye,i,s)},useMemoCache:pc,useCacheRefresh:O0},a2={readContext:$t,use:Ys,useCallback:w0,useContext:$t,useEffect:g0,useImperativeHandle:_0,useInsertionEffect:y0,useLayoutEffect:x0,useMemo:E0,useReducer:yc,useRef:v0,useState:function(){return yc(un)},useDebugValue:_c,useDeferredValue:function(i,s){var u=xt();return Ye===null?wc(u,i,s):b0(u,Ye.memoizedState,i,s)},useTransition:function(){var i=yc(un)[0],s=xt().memoizedState;return[typeof i=="boolean"?i:So(i),s]},useSyncExternalStore:Qh,useId:T0,useHostTransitionStatus:bc,useFormState:h0,useActionState:h0,useOptimistic:function(i,s){var u=xt();return Ye!==null?a0(u,Ye,i,s):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:pc,useCacheRefresh:O0},di=null,Oo=0;function el(i){var s=Oo;return Oo+=1,di===null&&(di=[]),Gh(di,i,s)}function Ro(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function tl(i,s){throw s.$$typeof===g?Error(n(525)):(i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function B0(i){var s=i._init;return s(i._payload)}function k0(i){function s(j,P){if(i){var F=j.deletions;F===null?(j.deletions=[P],j.flags|=16):F.push(P)}}function u(j,P){if(!i)return null;for(;P!==null;)s(j,P),P=P.sibling;return null}function d(j){for(var P=new Map;j!==null;)j.key!==null?P.set(j.key,j):P.set(j.index,j),j=j.sibling;return P}function p(j,P){return j=nn(j,P),j.index=0,j.sibling=null,j}function y(j,P,F){return j.index=F,i?(F=j.alternate,F!==null?(F=F.index,F<P?(j.flags|=67108866,P):F):(j.flags|=67108866,P)):(j.flags|=1048576,P)}function A(j){return i&&j.alternate===null&&(j.flags|=67108866),j}function C(j,P,F,te){return P===null||P.tag!==6?(P=Xu(F,j.mode,te),P.return=j,P):(P=p(P,F),P.return=j,P)}function M(j,P,F,te){var ce=F.type;return ce===w?Q(j,P,F.props.children,te,F.key):P!==null&&(P.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===Z&&B0(ce)===P.type)?(P=p(P,F.props),Ro(P,F),P.return=j,P):(P=Ls(F.type,F.key,F.props,null,j.mode,te),Ro(P,F),P.return=j,P)}function H(j,P,F,te){return P===null||P.tag!==4||P.stateNode.containerInfo!==F.containerInfo||P.stateNode.implementation!==F.implementation?(P=qu(F,j.mode,te),P.return=j,P):(P=p(P,F.children||[]),P.return=j,P)}function Q(j,P,F,te,ce){return P===null||P.tag!==7?(P=ga(F,j.mode,te,ce),P.return=j,P):(P=p(P,F),P.return=j,P)}function re(j,P,F){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Xu(""+P,j.mode,F),P.return=j,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case x:return F=Ls(P.type,P.key,P.props,null,j.mode,F),Ro(F,P),F.return=j,F;case m:return P=qu(P,j.mode,F),P.return=j,P;case Z:var te=P._init;return P=te(P._payload),re(j,P,F)}if(le(P)||ee(P))return P=ga(P,j.mode,F,null),P.return=j,P;if(typeof P.then=="function")return re(j,el(P),F);if(P.$$typeof===O)return re(j,zs(j,P),F);tl(j,P)}return null}function G(j,P,F,te){var ce=P!==null?P.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ce!==null?null:C(j,P,""+F,te);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return F.key===ce?M(j,P,F,te):null;case m:return F.key===ce?H(j,P,F,te):null;case Z:return ce=F._init,F=ce(F._payload),G(j,P,F,te)}if(le(F)||ee(F))return ce!==null?null:Q(j,P,F,te,null);if(typeof F.then=="function")return G(j,P,el(F),te);if(F.$$typeof===O)return G(j,P,zs(j,F),te);tl(j,F)}return null}function X(j,P,F,te,ce){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return j=j.get(F)||null,C(P,j,""+te,ce);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case x:return j=j.get(te.key===null?F:te.key)||null,M(P,j,te,ce);case m:return j=j.get(te.key===null?F:te.key)||null,H(P,j,te,ce);case Z:var Te=te._init;return te=Te(te._payload),X(j,P,F,te,ce)}if(le(te)||ee(te))return j=j.get(F)||null,Q(P,j,te,ce,null);if(typeof te.then=="function")return X(j,P,F,el(te),ce);if(te.$$typeof===O)return X(j,P,F,zs(P,te),ce);tl(P,te)}return null}function _e(j,P,F,te){for(var ce=null,Te=null,he=P,me=P=0,kt=null;he!==null&&me<F.length;me++){he.index>me?(kt=he,he=null):kt=he.sibling;var Pe=G(j,he,F[me],te);if(Pe===null){he===null&&(he=kt);break}i&&he&&Pe.alternate===null&&s(j,he),P=y(Pe,P,me),Te===null?ce=Pe:Te.sibling=Pe,Te=Pe,he=kt}if(me===F.length)return u(j,he),je&&xa(j,me),ce;if(he===null){for(;me<F.length;me++)he=re(j,F[me],te),he!==null&&(P=y(he,P,me),Te===null?ce=he:Te.sibling=he,Te=he);return je&&xa(j,me),ce}for(he=d(he);me<F.length;me++)kt=X(he,j,me,F[me],te),kt!==null&&(i&&kt.alternate!==null&&he.delete(kt.key===null?me:kt.key),P=y(kt,P,me),Te===null?ce=kt:Te.sibling=kt,Te=kt);return i&&he.forEach(function(Zn){return s(j,Zn)}),je&&xa(j,me),ce}function xe(j,P,F,te){if(F==null)throw Error(n(151));for(var ce=null,Te=null,he=P,me=P=0,kt=null,Pe=F.next();he!==null&&!Pe.done;me++,Pe=F.next()){he.index>me?(kt=he,he=null):kt=he.sibling;var Zn=G(j,he,Pe.value,te);if(Zn===null){he===null&&(he=kt);break}i&&he&&Zn.alternate===null&&s(j,he),P=y(Zn,P,me),Te===null?ce=Zn:Te.sibling=Zn,Te=Zn,he=kt}if(Pe.done)return u(j,he),je&&xa(j,me),ce;if(he===null){for(;!Pe.done;me++,Pe=F.next())Pe=re(j,Pe.value,te),Pe!==null&&(P=y(Pe,P,me),Te===null?ce=Pe:Te.sibling=Pe,Te=Pe);return je&&xa(j,me),ce}for(he=d(he);!Pe.done;me++,Pe=F.next())Pe=X(he,j,me,Pe.value,te),Pe!==null&&(i&&Pe.alternate!==null&&he.delete(Pe.key===null?me:Pe.key),P=y(Pe,P,me),Te===null?ce=Pe:Te.sibling=Pe,Te=Pe);return i&&he.forEach(function(ix){return s(j,ix)}),je&&xa(j,me),ce}function Ze(j,P,F,te){if(typeof F=="object"&&F!==null&&F.type===w&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case x:e:{for(var ce=F.key;P!==null;){if(P.key===ce){if(ce=F.type,ce===w){if(P.tag===7){u(j,P.sibling),te=p(P,F.props.children),te.return=j,j=te;break e}}else if(P.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===Z&&B0(ce)===P.type){u(j,P.sibling),te=p(P,F.props),Ro(te,F),te.return=j,j=te;break e}u(j,P);break}else s(j,P);P=P.sibling}F.type===w?(te=ga(F.props.children,j.mode,te,F.key),te.return=j,j=te):(te=Ls(F.type,F.key,F.props,null,j.mode,te),Ro(te,F),te.return=j,j=te)}return A(j);case m:e:{for(ce=F.key;P!==null;){if(P.key===ce)if(P.tag===4&&P.stateNode.containerInfo===F.containerInfo&&P.stateNode.implementation===F.implementation){u(j,P.sibling),te=p(P,F.children||[]),te.return=j,j=te;break e}else{u(j,P);break}else s(j,P);P=P.sibling}te=qu(F,j.mode,te),te.return=j,j=te}return A(j);case Z:return ce=F._init,F=ce(F._payload),Ze(j,P,F,te)}if(le(F))return _e(j,P,F,te);if(ee(F)){if(ce=ee(F),typeof ce!="function")throw Error(n(150));return F=ce.call(F),xe(j,P,F,te)}if(typeof F.then=="function")return Ze(j,P,el(F),te);if(F.$$typeof===O)return Ze(j,P,zs(j,F),te);tl(j,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,P!==null&&P.tag===6?(u(j,P.sibling),te=p(P,F),te.return=j,j=te):(u(j,P),te=Xu(F,j.mode,te),te.return=j,j=te),A(j)):u(j,P)}return function(j,P,F,te){try{Oo=0;var ce=Ze(j,P,F,te);return di=null,ce}catch(he){if(he===mo||he===Vs)throw he;var Te=vr(29,he,null,j.mode);return Te.lanes=te,Te.return=j,Te}finally{}}}var hi=k0(!0),P0=k0(!1),Or=$(null),qr=null;function kn(i){var s=i.alternate;ie(bt,bt.current&1),ie(Or,i),qr===null&&(s===null||li.current!==null||s.memoizedState!==null)&&(qr=i)}function L0(i){if(i.tag===22){if(ie(bt,bt.current),ie(Or,i),qr===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(qr=i)}}else Pn()}function Pn(){ie(bt,bt.current),ie(Or,Or.current)}function cn(i){ae(Or),qr===i&&(qr=null),ae(bt)}var bt=$(0);function rl(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||pf(u)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Sc(i,s,u,d){s=i.memoizedState,u=u(d,s),u=u==null?s:v({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Cc={enqueueSetState:function(i,s,u){i=i._reactInternals;var d=xr(),p=Nn(d);p.payload=s,u!=null&&(p.callback=u),s=Mn(i,p,d),s!==null&&(mr(s,i,d),wo(s,i,d))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var d=xr(),p=Nn(d);p.tag=1,p.payload=s,u!=null&&(p.callback=u),s=Mn(i,p,d),s!==null&&(mr(s,i,d),wo(s,i,d))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=xr(),d=Nn(u);d.tag=2,s!=null&&(d.callback=s),s=Mn(i,d,u),s!==null&&(mr(s,i,u),wo(s,i,u))}};function j0(i,s,u,d,p,y,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,y,A):s.prototype&&s.prototype.isPureReactComponent?!co(u,d)||!co(p,y):!0}function U0(i,s,u,d){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,d),s.state!==i&&Cc.enqueueReplaceState(s,s.state,null)}function Sa(i,s){var u=s;if("ref"in s){u={};for(var d in s)d!=="ref"&&(u[d]=s[d])}if(i=i.defaultProps){u===s&&(u=v({},u));for(var p in i)u[p]===void 0&&(u[p]=i[p])}return u}var nl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function F0(i){nl(i)}function z0(i){console.error(i)}function H0(i){nl(i)}function al(i,s){try{var u=i.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function V0(i,s,u){try{var d=i.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Tc(i,s,u){return u=Nn(u),u.tag=3,u.payload={element:null},u.callback=function(){al(i,s)},u}function G0(i){return i=Nn(i),i.tag=3,i}function X0(i,s,u,d){var p=u.type.getDerivedStateFromError;if(typeof p=="function"){var y=d.value;i.payload=function(){return p(y)},i.callback=function(){V0(s,u,d)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){V0(s,u,d),typeof p!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var C=d.stack;this.componentDidCatch(d.value,{componentStack:C!==null?C:""})})}function i2(i,s,u,d,p){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=u.alternate,s!==null&&go(s,u,p,!0),u=Or.current,u!==null){switch(u.tag){case 13:return qr===null?Kc():u.alternate===null&&dt===0&&(dt=3),u.flags&=-257,u.flags|=65536,u.lanes=p,d===rc?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([d]):s.add(d),Jc(i,d,p)),!1;case 22:return u.flags|=65536,d===rc?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([d]):u.add(d)),Jc(i,d,p)),!1}throw Error(n(435,u.tag))}return Jc(i,d,p),Kc(),!1}if(je)return s=Or.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,d!==Wu&&(i=Error(n(422),{cause:d}),po(Ar(i,u)))):(d!==Wu&&(s=Error(n(423),{cause:d}),po(Ar(s,u))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,d=Ar(d,u),p=Tc(i.stateNode,d,p),ic(i,p),dt!==4&&(dt=2)),!1;var y=Error(n(520),{cause:d});if(y=Ar(y,u),Po===null?Po=[y]:Po.push(y),dt!==4&&(dt=2),s===null)return!0;d=Ar(d,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,i=p&-p,u.lanes|=i,i=Tc(u.stateNode,d,i),ic(u,i),!1;case 1:if(s=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Hn===null||!Hn.has(y))))return u.flags|=65536,p&=-p,u.lanes|=p,p=G0(p),X0(p,i,u,d),ic(u,p),!1}u=u.return}while(u!==null);return!1}var q0=Error(n(461)),Mt=!1;function Ft(i,s,u,d){s.child=i===null?P0(s,null,u,d):hi(s,i.child,u,d)}function $0(i,s,u,d,p){u=u.render;var y=s.ref;if("ref"in d){var A={};for(var C in d)C!=="ref"&&(A[C]=d[C])}else A=d;return Ea(s),d=cc(i,s,u,A,y,p),C=fc(),i!==null&&!Mt?(dc(i,s,p),fn(i,s,p)):(je&&C&&$u(s),s.flags|=1,Ft(i,s,d,p),s.child)}function Y0(i,s,u,d,p){if(i===null){var y=u.type;return typeof y=="function"&&!Gu(y)&&y.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=y,W0(i,s,y,d,p)):(i=Ls(u.type,null,d,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!kc(i,p)){var A=y.memoizedProps;if(u=u.compare,u=u!==null?u:co,u(A,d)&&i.ref===s.ref)return fn(i,s,p)}return s.flags|=1,i=nn(y,d),i.ref=s.ref,i.return=s,s.child=i}function W0(i,s,u,d,p){if(i!==null){var y=i.memoizedProps;if(co(y,d)&&i.ref===s.ref)if(Mt=!1,s.pendingProps=d=y,kc(i,p))(i.flags&131072)!==0&&(Mt=!0);else return s.lanes=i.lanes,fn(i,s,p)}return Oc(i,s,u,d,p)}function Z0(i,s,u){var d=s.pendingProps,p=d.children,y=i!==null?i.memoizedState:null;if(d.mode==="hidden"){if((s.flags&128)!==0){if(d=y!==null?y.baseLanes|u:u,i!==null){for(p=s.child=i.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;s.childLanes=y&~d}else s.childLanes=0,s.child=null;return K0(i,s,d,u)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Hs(s,y!==null?y.cachePool:null),y!==null?Wh(s,y):sc(),L0(s);else return s.lanes=s.childLanes=536870912,K0(i,s,y!==null?y.baseLanes|u:u,u)}else y!==null?(Hs(s,y.cachePool),Wh(s,y),Pn(),s.memoizedState=null):(i!==null&&Hs(s,null),sc(),Pn());return Ft(i,s,p,u),s.child}function K0(i,s,u,d){var p=tc();return p=p===null?null:{parent:Et._currentValue,pool:p},s.memoizedState={baseLanes:u,cachePool:p},i!==null&&Hs(s,null),sc(),L0(s),i!==null&&go(i,s,d,!0),null}function il(i,s){var u=s.ref;if(u===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(i===null||i.ref!==u)&&(s.flags|=4194816)}}function Oc(i,s,u,d,p){return Ea(s),u=cc(i,s,u,d,void 0,p),d=fc(),i!==null&&!Mt?(dc(i,s,p),fn(i,s,p)):(je&&d&&$u(s),s.flags|=1,Ft(i,s,u,p),s.child)}function Q0(i,s,u,d,p,y){return Ea(s),s.updateQueue=null,u=Kh(s,d,u,p),Zh(i),d=fc(),i!==null&&!Mt?(dc(i,s,y),fn(i,s,y)):(je&&d&&$u(s),s.flags|=1,Ft(i,s,u,y),s.child)}function J0(i,s,u,d,p){if(Ea(s),s.stateNode===null){var y=ni,A=u.contextType;typeof A=="object"&&A!==null&&(y=$t(A)),y=new u(d,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Cc,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=d,y.state=s.memoizedState,y.refs={},nc(s),A=u.contextType,y.context=typeof A=="object"&&A!==null?$t(A):ni,y.state=s.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(Sc(s,u,A,d),y.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&Cc.enqueueReplaceState(y,y.state,null),bo(s,d,y,p),Eo(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(i===null){y=s.stateNode;var C=s.memoizedProps,M=Sa(u,C);y.props=M;var H=y.context,Q=u.contextType;A=ni,typeof Q=="object"&&Q!==null&&(A=$t(Q));var re=u.getDerivedStateFromProps;Q=typeof re=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,Q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||H!==A)&&U0(s,y,d,A),In=!1;var G=s.memoizedState;y.state=G,bo(s,d,y,p),Eo(),H=s.memoizedState,C||G!==H||In?(typeof re=="function"&&(Sc(s,u,re,d),H=s.memoizedState),(M=In||j0(s,u,M,d,G,H,A))?(Q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=H),y.props=d,y.state=H,y.context=A,d=M):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{y=s.stateNode,ac(i,s),A=s.memoizedProps,Q=Sa(u,A),y.props=Q,re=s.pendingProps,G=y.context,H=u.contextType,M=ni,typeof H=="object"&&H!==null&&(M=$t(H)),C=u.getDerivedStateFromProps,(H=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==re||G!==M)&&U0(s,y,d,M),In=!1,G=s.memoizedState,y.state=G,bo(s,d,y,p),Eo();var X=s.memoizedState;A!==re||G!==X||In||i!==null&&i.dependencies!==null&&Fs(i.dependencies)?(typeof C=="function"&&(Sc(s,u,C,d),X=s.memoizedState),(Q=In||j0(s,u,Q,d,G,X,M)||i!==null&&i.dependencies!==null&&Fs(i.dependencies))?(H||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,X,M),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,X,M)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===i.memoizedProps&&G===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&G===i.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=X),y.props=d,y.state=X,y.context=M,d=Q):(typeof y.componentDidUpdate!="function"||A===i.memoizedProps&&G===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&G===i.memoizedState||(s.flags|=1024),d=!1)}return y=d,il(i,s),d=(s.flags&128)!==0,y||d?(y=s.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&d?(s.child=hi(s,i.child,null,p),s.child=hi(s,null,u,p)):Ft(i,s,u,p),s.memoizedState=y.state,i=s.child):i=fn(i,s,p),i}function e1(i,s,u,d){return vo(),s.flags|=256,Ft(i,s,u,d),s.child}var Rc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dc(i){return{baseLanes:i,cachePool:zh()}}function Ic(i,s,u){return i=i!==null?i.childLanes&~u:0,s&&(i|=Rr),i}function t1(i,s,u){var d=s.pendingProps,p=!1,y=(s.flags&128)!==0,A;if((A=y)||(A=i!==null&&i.memoizedState===null?!1:(bt.current&2)!==0),A&&(p=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,i===null){if(je){if(p?kn(s):Pn(),je){var C=ft,M;if(M=C){e:{for(M=C,C=Xr;M.nodeType!==8;){if(!C){C=null;break e}if(M=Lr(M.nextSibling),M===null){C=null;break e}}C=M}C!==null?(s.memoizedState={dehydrated:C,treeContext:ya!==null?{id:an,overflow:on}:null,retryLane:536870912,hydrationErrors:null},M=vr(18,null,null,0),M.stateNode=C,M.return=s,s.child=M,er=s,ft=null,M=!0):M=!1}M||_a(s)}if(C=s.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return pf(C)?s.lanes=32:s.lanes=536870912,null;cn(s)}return C=d.children,d=d.fallback,p?(Pn(),p=s.mode,C=ol({mode:"hidden",children:C},p),d=ga(d,p,u,null),C.return=s,d.return=s,C.sibling=d,s.child=C,p=s.child,p.memoizedState=Dc(u),p.childLanes=Ic(i,A,u),s.memoizedState=Rc,d):(kn(s),Nc(s,C))}if(M=i.memoizedState,M!==null&&(C=M.dehydrated,C!==null)){if(y)s.flags&256?(kn(s),s.flags&=-257,s=Mc(i,s,u)):s.memoizedState!==null?(Pn(),s.child=i.child,s.flags|=128,s=null):(Pn(),p=d.fallback,C=s.mode,d=ol({mode:"visible",children:d.children},C),p=ga(p,C,u,null),p.flags|=2,d.return=s,p.return=s,d.sibling=p,s.child=d,hi(s,i.child,null,u),d=s.child,d.memoizedState=Dc(u),d.childLanes=Ic(i,A,u),s.memoizedState=Rc,s=p);else if(kn(s),pf(C)){if(A=C.nextSibling&&C.nextSibling.dataset,A)var H=A.dgst;A=H,d=Error(n(419)),d.stack="",d.digest=A,po({value:d,source:null,stack:null}),s=Mc(i,s,u)}else if(Mt||go(i,s,u,!1),A=(u&i.childLanes)!==0,Mt||A){if(A=et,A!==null&&(d=u&-u,d=(d&42)!==0?1:pu(d),d=(d&(A.suspendedLanes|u))!==0?0:d,d!==0&&d!==M.retryLane))throw M.retryLane=d,ri(i,d),mr(A,i,d),q0;C.data==="$?"||Kc(),s=Mc(i,s,u)}else C.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=M.treeContext,ft=Lr(C.nextSibling),er=s,je=!0,ma=null,Xr=!1,i!==null&&(Cr[Tr++]=an,Cr[Tr++]=on,Cr[Tr++]=ya,an=i.id,on=i.overflow,ya=s),s=Nc(s,d.children),s.flags|=4096);return s}return p?(Pn(),p=d.fallback,C=s.mode,M=i.child,H=M.sibling,d=nn(M,{mode:"hidden",children:d.children}),d.subtreeFlags=M.subtreeFlags&65011712,H!==null?p=nn(H,p):(p=ga(p,C,u,null),p.flags|=2),p.return=s,d.return=s,d.sibling=p,s.child=d,d=p,p=s.child,C=i.child.memoizedState,C===null?C=Dc(u):(M=C.cachePool,M!==null?(H=Et._currentValue,M=M.parent!==H?{parent:H,pool:H}:M):M=zh(),C={baseLanes:C.baseLanes|u,cachePool:M}),p.memoizedState=C,p.childLanes=Ic(i,A,u),s.memoizedState=Rc,d):(kn(s),u=i.child,i=u.sibling,u=nn(u,{mode:"visible",children:d.children}),u.return=s,u.sibling=null,i!==null&&(A=s.deletions,A===null?(s.deletions=[i],s.flags|=16):A.push(i)),s.child=u,s.memoizedState=null,u)}function Nc(i,s){return s=ol({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function ol(i,s){return i=vr(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Mc(i,s,u){return hi(s,i.child,null,u),i=Nc(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function r1(i,s,u){i.lanes|=s;var d=i.alternate;d!==null&&(d.lanes|=s),Ku(i.return,s,u)}function Bc(i,s,u,d,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=u,y.tailMode=p)}function n1(i,s,u){var d=s.pendingProps,p=d.revealOrder,y=d.tail;if(Ft(i,s,d.children,u),d=bt.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&r1(i,u,s);else if(i.tag===19)r1(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}switch(ie(bt,d),p){case"forwards":for(u=s.child,p=null;u!==null;)i=u.alternate,i!==null&&rl(i)===null&&(p=u),u=u.sibling;u=p,u===null?(p=s.child,s.child=null):(p=u.sibling,u.sibling=null),Bc(s,!1,p,u,y);break;case"backwards":for(u=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&rl(i)===null){s.child=p;break}i=p.sibling,p.sibling=u,u=p,p=i}Bc(s,!0,u,null,y);break;case"together":Bc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function fn(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),zn|=s.lanes,(u&s.childLanes)===0)if(i!==null){if(go(i,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,u=nn(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=nn(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function kc(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Fs(i)))}function o2(i,s,u){switch(s.tag){case 3:Ne(s,s.stateNode.containerInfo),Dn(s,Et,i.memoizedState.cache),vo();break;case 27:case 5:en(s);break;case 4:Ne(s,s.stateNode.containerInfo);break;case 10:Dn(s,s.type,s.memoizedProps.value);break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(kn(s),s.flags|=128,null):(u&s.child.childLanes)!==0?t1(i,s,u):(kn(s),i=fn(i,s,u),i!==null?i.sibling:null);kn(s);break;case 19:var p=(i.flags&128)!==0;if(d=(u&s.childLanes)!==0,d||(go(i,s,u,!1),d=(u&s.childLanes)!==0),p){if(d)return n1(i,s,u);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ie(bt,bt.current),d)break;return null;case 22:case 23:return s.lanes=0,Z0(i,s,u);case 24:Dn(s,Et,i.memoizedState.cache)}return fn(i,s,u)}function a1(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps)Mt=!0;else{if(!kc(i,u)&&(s.flags&128)===0)return Mt=!1,o2(i,s,u);Mt=(i.flags&131072)!==0}else Mt=!1,je&&(s.flags&1048576)!==0&&Bh(s,Us,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var d=s.elementType,p=d._init;if(d=p(d._payload),s.type=d,typeof d=="function")Gu(d)?(i=Sa(d,i),s.tag=1,s=J0(null,s,d,i,u)):(s.tag=0,s=Oc(null,s,d,i,u));else{if(d!=null){if(p=d.$$typeof,p===D){s.tag=11,s=$0(null,s,d,i,u);break e}else if(p===L){s.tag=14,s=Y0(null,s,d,i,u);break e}}throw s=oe(d)||d,Error(n(306,s,""))}}return s;case 0:return Oc(i,s,s.type,s.pendingProps,u);case 1:return d=s.type,p=Sa(d,s.pendingProps),J0(i,s,d,p,u);case 3:e:{if(Ne(s,s.stateNode.containerInfo),i===null)throw Error(n(387));d=s.pendingProps;var y=s.memoizedState;p=y.element,ac(i,s),bo(s,d,null,u);var A=s.memoizedState;if(d=A.cache,Dn(s,Et,d),d!==y.cache&&Qu(s,[Et],u,!0),Eo(),d=A.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=e1(i,s,d,u);break e}else if(d!==p){p=Ar(Error(n(424)),s),po(p),s=e1(i,s,d,u);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ft=Lr(i.firstChild),er=s,je=!0,ma=null,Xr=!0,u=P0(s,null,d,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(vo(),d===p){s=fn(i,s,u);break e}Ft(i,s,d,u)}s=s.child}return s;case 26:return il(i,s),i===null?(u=lv(s.type,null,s.pendingProps,null))?s.memoizedState=u:je||(u=s.type,i=s.pendingProps,d=_l(ve.current).createElement(u),d[qt]=s,d[ir]=i,Ht(d,u,i),Nt(d),s.stateNode=d):s.memoizedState=lv(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return en(s),i===null&&je&&(d=s.stateNode=iv(s.type,s.pendingProps,ve.current),er=s,Xr=!0,p=ft,Xn(s.type)?(gf=p,ft=Lr(d.firstChild)):ft=p),Ft(i,s,s.pendingProps.children,u),il(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&je&&((p=d=ft)&&(d=B2(d,s.type,s.pendingProps,Xr),d!==null?(s.stateNode=d,er=s,ft=Lr(d.firstChild),Xr=!1,p=!0):p=!1),p||_a(s)),en(s),p=s.type,y=s.pendingProps,A=i!==null?i.memoizedProps:null,d=y.children,df(p,y)?d=null:A!==null&&df(p,A)&&(s.flags|=32),s.memoizedState!==null&&(p=cc(i,s,Qy,null,null,u),Xo._currentValue=p),il(i,s),Ft(i,s,d,u),s.child;case 6:return i===null&&je&&((i=u=ft)&&(u=k2(u,s.pendingProps,Xr),u!==null?(s.stateNode=u,er=s,ft=null,i=!0):i=!1),i||_a(s)),null;case 13:return t1(i,s,u);case 4:return Ne(s,s.stateNode.containerInfo),d=s.pendingProps,i===null?s.child=hi(s,null,d,u):Ft(i,s,d,u),s.child;case 11:return $0(i,s,s.type,s.pendingProps,u);case 7:return Ft(i,s,s.pendingProps,u),s.child;case 8:return Ft(i,s,s.pendingProps.children,u),s.child;case 12:return Ft(i,s,s.pendingProps.children,u),s.child;case 10:return d=s.pendingProps,Dn(s,s.type,d.value),Ft(i,s,d.children,u),s.child;case 9:return p=s.type._context,d=s.pendingProps.children,Ea(s),p=$t(p),d=d(p),s.flags|=1,Ft(i,s,d,u),s.child;case 14:return Y0(i,s,s.type,s.pendingProps,u);case 15:return W0(i,s,s.type,s.pendingProps,u);case 19:return n1(i,s,u);case 31:return d=s.pendingProps,u=s.mode,d={mode:d.mode,children:d.children},i===null?(u=ol(d,u),u.ref=s.ref,s.child=u,u.return=s,s=u):(u=nn(i.child,d),u.ref=s.ref,s.child=u,u.return=s,s=u),s;case 22:return Z0(i,s,u);case 24:return Ea(s),d=$t(Et),i===null?(p=tc(),p===null&&(p=et,y=Ju(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=u),p=y),s.memoizedState={parent:d,cache:p},nc(s),Dn(s,Et,p)):((i.lanes&u)!==0&&(ac(i,s),bo(s,null,null,u),Eo()),p=i.memoizedState,y=s.memoizedState,p.parent!==d?(p={parent:d,cache:d},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Dn(s,Et,d)):(d=y.cache,Dn(s,Et,d),d!==p.cache&&Qu(s,[Et],u,!0))),Ft(i,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function dn(i){i.flags|=4}function i1(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!hv(s)){if(s=Or.current,s!==null&&((Me&4194048)===Me?qr!==null:(Me&62914560)!==Me&&(Me&536870912)===0||s!==qr))throw _o=rc,Hh;i.flags|=8192}}function sl(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Ji():536870912,i.lanes|=s,yi|=s)}function Do(i,s){if(!je)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function st(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,d=0;if(s)for(var p=i.child;p!==null;)u|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)u|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=d,i.childLanes=u,s}function s2(i,s,u){var d=s.pendingProps;switch(Yu(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(s),null;case 1:return st(s),null;case 3:return u=s.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),ln(Et),Kt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(ho(s)?dn(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Lh())),st(s),null;case 26:return u=s.memoizedState,i===null?(dn(s),u!==null?(st(s),i1(s,u)):(st(s),s.flags&=-16777217)):u?u!==i.memoizedState?(dn(s),st(s),i1(s,u)):(st(s),s.flags&=-16777217):(i.memoizedProps!==d&&dn(s),st(s),s.flags&=-16777217),null;case 27:gt(s),u=ve.current;var p=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==d&&dn(s);else{if(!d){if(s.stateNode===null)throw Error(n(166));return st(s),null}i=fe.current,ho(s)?kh(s):(i=iv(p,d,u),s.stateNode=i,dn(s))}return st(s),null;case 5:if(gt(s),u=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==d&&dn(s);else{if(!d){if(s.stateNode===null)throw Error(n(166));return st(s),null}if(i=fe.current,ho(s))kh(s);else{switch(p=_l(ve.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof d.is=="string"?p.createElement("select",{is:d.is}):p.createElement("select"),d.multiple?i.multiple=!0:d.size&&(i.size=d.size);break;default:i=typeof d.is=="string"?p.createElement(u,{is:d.is}):p.createElement(u)}}i[qt]=s,i[ir]=d;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=i;e:switch(Ht(i,u,d),u){case"button":case"input":case"select":case"textarea":i=!!d.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&dn(s)}}return st(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==d&&dn(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(n(166));if(i=ve.current,ho(s)){if(i=s.stateNode,u=s.memoizedProps,d=null,p=er,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}i[qt]=s,i=!!(i.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||Q1(i.nodeValue,u)),i||_a(s)}else i=_l(i).createTextNode(d),i[qt]=s,s.stateNode=i}return st(s),null;case 13:if(d=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=ho(s),d!==null&&d.dehydrated!==null){if(i===null){if(!p)throw Error(n(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[qt]=s}else vo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;st(s),p=!1}else p=Lh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(cn(s),s):(cn(s),null)}if(cn(s),(s.flags&128)!==0)return s.lanes=u,s;if(u=d!==null,i=i!==null&&i.memoizedState!==null,u){d=s.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool);var y=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==p&&(d.flags|=2048)}return u!==i&&u&&(s.child.flags|=8192),sl(s,s.updateQueue),st(s),null;case 4:return Kt(),i===null&&sf(s.stateNode.containerInfo),st(s),null;case 10:return ln(s.type),st(s),null;case 19:if(ae(bt),p=s.memoizedState,p===null)return st(s),null;if(d=(s.flags&128)!==0,y=p.rendering,y===null)if(d)Do(p,!1);else{if(dt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=rl(i),y!==null){for(s.flags|=128,Do(p,!1),i=y.updateQueue,s.updateQueue=i,sl(s,i),s.subtreeFlags=0,i=u,u=s.child;u!==null;)Mh(u,i),u=u.sibling;return ie(bt,bt.current&1|2),s.child}i=i.sibling}p.tail!==null&&_r()>cl&&(s.flags|=128,d=!0,Do(p,!1),s.lanes=4194304)}else{if(!d)if(i=rl(y),i!==null){if(s.flags|=128,d=!0,i=i.updateQueue,s.updateQueue=i,sl(s,i),Do(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!je)return st(s),null}else 2*_r()-p.renderingStartTime>cl&&u!==536870912&&(s.flags|=128,d=!0,Do(p,!1),s.lanes=4194304);p.isBackwards?(y.sibling=s.child,s.child=y):(i=p.last,i!==null?i.sibling=y:s.child=y,p.last=y)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=_r(),s.sibling=null,i=bt.current,ie(bt,d?i&1|2:i&1),s):(st(s),null);case 22:case 23:return cn(s),lc(),d=s.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(u&536870912)!==0&&(s.flags&128)===0&&(st(s),s.subtreeFlags&6&&(s.flags|=8192)):st(s),u=s.updateQueue,u!==null&&sl(s,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==u&&(s.flags|=2048),i!==null&&ae(ba),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ln(Et),st(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function l2(i,s){switch(Yu(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ln(Et),Kt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return gt(s),null;case 13:if(cn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));vo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ae(bt),null;case 4:return Kt(),null;case 10:return ln(s.type),null;case 22:case 23:return cn(s),lc(),i!==null&&ae(ba),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ln(Et),null;case 25:return null;default:return null}}function o1(i,s){switch(Yu(s),s.tag){case 3:ln(Et),Kt();break;case 26:case 27:case 5:gt(s);break;case 4:Kt();break;case 13:cn(s);break;case 19:ae(bt);break;case 10:ln(s.type);break;case 22:case 23:cn(s),lc(),i!==null&&ae(ba);break;case 24:ln(Et)}}function Io(i,s){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var p=d.next;u=p;do{if((u.tag&i)===i){d=void 0;var y=u.create,A=u.inst;d=y(),A.destroy=d}u=u.next}while(u!==p)}}catch(C){Qe(s,s.return,C)}}function Ln(i,s,u){try{var d=s.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var y=p.next;d=y;do{if((d.tag&i)===i){var A=d.inst,C=A.destroy;if(C!==void 0){A.destroy=void 0,p=s;var M=u,H=C;try{H()}catch(Q){Qe(p,M,Q)}}}d=d.next}while(d!==y)}}catch(Q){Qe(s,s.return,Q)}}function s1(i){var s=i.updateQueue;if(s!==null){var u=i.stateNode;try{Yh(s,u)}catch(d){Qe(i,i.return,d)}}}function l1(i,s,u){u.props=Sa(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(d){Qe(i,s,d)}}function No(i,s){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof u=="function"?i.refCleanup=u(d):u.current=d}}catch(p){Qe(i,s,p)}}function $r(i,s){var u=i.ref,d=i.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(p){Qe(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(p){Qe(i,s,p)}else u.current=null}function u1(i){var s=i.type,u=i.memoizedProps,d=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(p){Qe(i,i.return,p)}}function Pc(i,s,u){try{var d=i.stateNode;R2(d,i.type,u,s),d[ir]=s}catch(p){Qe(i,i.return,p)}}function c1(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Xn(i.type)||i.tag===4}function Lc(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||c1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Xn(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function jc(i,s,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(i),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=ml));else if(d!==4&&(d===27&&Xn(i.type)&&(u=i.stateNode,s=null),i=i.child,i!==null))for(jc(i,s,u),i=i.sibling;i!==null;)jc(i,s,u),i=i.sibling}function ll(i,s,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(d!==4&&(d===27&&Xn(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(ll(i,s,u),i=i.sibling;i!==null;)ll(i,s,u),i=i.sibling}function f1(i){var s=i.stateNode,u=i.memoizedProps;try{for(var d=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Ht(s,d,u),s[qt]=i,s[ir]=u}catch(y){Qe(i,i.return,y)}}var hn=!1,vt=!1,Uc=!1,d1=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function u2(i,s){if(i=i.containerInfo,cf=Cl,i=bh(i),Lu(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var A=0,C=-1,M=-1,H=0,Q=0,re=i,G=null;t:for(;;){for(var X;re!==u||p!==0&&re.nodeType!==3||(C=A+p),re!==y||d!==0&&re.nodeType!==3||(M=A+d),re.nodeType===3&&(A+=re.nodeValue.length),(X=re.firstChild)!==null;)G=re,re=X;for(;;){if(re===i)break t;if(G===u&&++H===p&&(C=A),G===y&&++Q===d&&(M=A),(X=re.nextSibling)!==null)break;re=G,G=re.parentNode}re=X}u=C===-1||M===-1?null:{start:C,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(ff={focusedElem:i,selectionRange:u},Cl=!1,Bt=s;Bt!==null;)if(s=Bt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Bt=i;else for(;Bt!==null;){switch(s=Bt,y=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,u=s,p=y.memoizedProps,y=y.memoizedState,d=u.stateNode;try{var _e=Sa(u.type,p,u.elementType===u.type);i=d.getSnapshotBeforeUpdate(_e,y),d.__reactInternalSnapshotBeforeUpdate=i}catch(xe){Qe(u,u.return,xe)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,u=i.nodeType,u===9)vf(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":vf(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=s.sibling,i!==null){i.return=s.return,Bt=i;break}Bt=s.return}}function h1(i,s,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:jn(i,u),d&4&&Io(5,u);break;case 1:if(jn(i,u),d&4)if(i=u.stateNode,s===null)try{i.componentDidMount()}catch(A){Qe(u,u.return,A)}else{var p=Sa(u.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(A){Qe(u,u.return,A)}}d&64&&s1(u),d&512&&No(u,u.return);break;case 3:if(jn(i,u),d&64&&(i=u.updateQueue,i!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{Yh(i,s)}catch(A){Qe(u,u.return,A)}}break;case 27:s===null&&d&4&&f1(u);case 26:case 5:jn(i,u),s===null&&d&4&&u1(u),d&512&&No(u,u.return);break;case 12:jn(i,u);break;case 13:jn(i,u),d&4&&g1(i,u),d&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=x2.bind(null,u),P2(i,u))));break;case 22:if(d=u.memoizedState!==null||hn,!d){s=s!==null&&s.memoizedState!==null||vt,p=hn;var y=vt;hn=d,(vt=s)&&!y?Un(i,u,(u.subtreeFlags&8772)!==0):jn(i,u),hn=p,vt=y}break;case 30:break;default:jn(i,u)}}function v1(i){var s=i.alternate;s!==null&&(i.alternate=null,v1(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&xu(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ot=null,lr=!1;function vn(i,s,u){for(u=u.child;u!==null;)p1(i,s,u),u=u.sibling}function p1(i,s,u){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(ca,u)}catch{}switch(u.tag){case 26:vt||$r(u,s),vn(i,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:vt||$r(u,s);var d=ot,p=lr;Xn(u.type)&&(ot=u.stateNode,lr=!1),vn(i,s,u),zo(u.stateNode),ot=d,lr=p;break;case 5:vt||$r(u,s);case 6:if(d=ot,p=lr,ot=null,vn(i,s,u),ot=d,lr=p,ot!==null)if(lr)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(u.stateNode)}catch(y){Qe(u,s,y)}else try{ot.removeChild(u.stateNode)}catch(y){Qe(u,s,y)}break;case 18:ot!==null&&(lr?(i=ot,nv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Wo(i)):nv(ot,u.stateNode));break;case 4:d=ot,p=lr,ot=u.stateNode.containerInfo,lr=!0,vn(i,s,u),ot=d,lr=p;break;case 0:case 11:case 14:case 15:vt||Ln(2,u,s),vt||Ln(4,u,s),vn(i,s,u);break;case 1:vt||($r(u,s),d=u.stateNode,typeof d.componentWillUnmount=="function"&&l1(u,s,d)),vn(i,s,u);break;case 21:vn(i,s,u);break;case 22:vt=(d=vt)||u.memoizedState!==null,vn(i,s,u),vt=d;break;default:vn(i,s,u)}}function g1(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Wo(i)}catch(u){Qe(s,s.return,u)}}function c2(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new d1),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new d1),s;default:throw Error(n(435,i.tag))}}function Fc(i,s){var u=c2(i);s.forEach(function(d){var p=m2.bind(null,i,d);u.has(d)||(u.add(d),d.then(p,p))})}function pr(i,s){var u=s.deletions;if(u!==null)for(var d=0;d<u.length;d++){var p=u[d],y=i,A=s,C=A;e:for(;C!==null;){switch(C.tag){case 27:if(Xn(C.type)){ot=C.stateNode,lr=!1;break e}break;case 5:ot=C.stateNode,lr=!1;break e;case 3:case 4:ot=C.stateNode.containerInfo,lr=!0;break e}C=C.return}if(ot===null)throw Error(n(160));p1(y,A,p),ot=null,lr=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)y1(s,i),s=s.sibling}var Pr=null;function y1(i,s){var u=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:pr(s,i),gr(i),d&4&&(Ln(3,i,i.return),Io(3,i),Ln(5,i,i.return));break;case 1:pr(s,i),gr(i),d&512&&(vt||u===null||$r(u,u.return)),d&64&&hn&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var p=Pr;if(pr(s,i),gr(i),d&512&&(vt||u===null||$r(u,u.return)),d&4){var y=u!==null?u.memoizedState:null;if(d=i.memoizedState,u===null)if(d===null)if(i.stateNode===null){e:{d=i.type,u=i.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":y=p.getElementsByTagName("title")[0],(!y||y[to]||y[qt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(d),p.head.insertBefore(y,p.querySelector("head > title"))),Ht(y,d,u),y[qt]=i,Nt(y),d=y;break e;case"link":var A=fv("link","href",p).get(d+(u.href||""));if(A){for(var C=0;C<A.length;C++)if(y=A[C],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(C,1);break t}}y=p.createElement(d),Ht(y,d,u),p.head.appendChild(y);break;case"meta":if(A=fv("meta","content",p).get(d+(u.content||""))){for(C=0;C<A.length;C++)if(y=A[C],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(C,1);break t}}y=p.createElement(d),Ht(y,d,u),p.head.appendChild(y);break;default:throw Error(n(468,d))}y[qt]=i,Nt(y),d=y}i.stateNode=d}else dv(p,i.type,i.stateNode);else i.stateNode=cv(p,d,i.memoizedProps);else y!==d?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,d===null?dv(p,i.type,i.stateNode):cv(p,d,i.memoizedProps)):d===null&&i.stateNode!==null&&Pc(i,i.memoizedProps,u.memoizedProps)}break;case 27:pr(s,i),gr(i),d&512&&(vt||u===null||$r(u,u.return)),u!==null&&d&4&&Pc(i,i.memoizedProps,u.memoizedProps);break;case 5:if(pr(s,i),gr(i),d&512&&(vt||u===null||$r(u,u.return)),i.flags&32){p=i.stateNode;try{Wa(p,"")}catch(X){Qe(i,i.return,X)}}d&4&&i.stateNode!=null&&(p=i.memoizedProps,Pc(i,p,u!==null?u.memoizedProps:p)),d&1024&&(Uc=!0);break;case 6:if(pr(s,i),gr(i),d&4){if(i.stateNode===null)throw Error(n(162));d=i.memoizedProps,u=i.stateNode;try{u.nodeValue=d}catch(X){Qe(i,i.return,X)}}break;case 3:if(bl=null,p=Pr,Pr=wl(s.containerInfo),pr(s,i),Pr=p,gr(i),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Wo(s.containerInfo)}catch(X){Qe(i,i.return,X)}Uc&&(Uc=!1,x1(i));break;case 4:d=Pr,Pr=wl(i.stateNode.containerInfo),pr(s,i),gr(i),Pr=d;break;case 12:pr(s,i),gr(i);break;case 13:pr(s,i),gr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(qc=_r()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Fc(i,d)));break;case 22:p=i.memoizedState!==null;var M=u!==null&&u.memoizedState!==null,H=hn,Q=vt;if(hn=H||p,vt=Q||M,pr(s,i),vt=Q,hn=H,gr(i),d&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(u===null||M||hn||vt||Ca(i)),u=null,s=i;;){if(s.tag===5||s.tag===26){if(u===null){M=u=s;try{if(y=M.stateNode,p)A=y.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{C=M.stateNode;var re=M.memoizedProps.style,G=re!=null&&re.hasOwnProperty("display")?re.display:null;C.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(X){Qe(M,M.return,X)}}}else if(s.tag===6){if(u===null){M=s;try{M.stateNode.nodeValue=p?"":M.memoizedProps}catch(X){Qe(M,M.return,X)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=i.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,Fc(i,u))));break;case 19:pr(s,i),gr(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Fc(i,d)));break;case 30:break;case 21:break;default:pr(s,i),gr(i)}}function gr(i){var s=i.flags;if(s&2){try{for(var u,d=i.return;d!==null;){if(c1(d)){u=d;break}d=d.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var p=u.stateNode,y=Lc(i);ll(i,y,p);break;case 5:var A=u.stateNode;u.flags&32&&(Wa(A,""),u.flags&=-33);var C=Lc(i);ll(i,C,A);break;case 3:case 4:var M=u.stateNode.containerInfo,H=Lc(i);jc(i,H,M);break;default:throw Error(n(161))}}catch(Q){Qe(i,i.return,Q)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function x1(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;x1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function jn(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)h1(i,s.alternate,s),s=s.sibling}function Ca(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ln(4,s,s.return),Ca(s);break;case 1:$r(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&l1(s,s.return,u),Ca(s);break;case 27:zo(s.stateNode);case 26:case 5:$r(s,s.return),Ca(s);break;case 22:s.memoizedState===null&&Ca(s);break;case 30:Ca(s);break;default:Ca(s)}i=i.sibling}}function Un(i,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,p=i,y=s,A=y.flags;switch(y.tag){case 0:case 11:case 15:Un(p,y,u),Io(4,y);break;case 1:if(Un(p,y,u),d=y,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(H){Qe(d,d.return,H)}if(d=y,p=d.updateQueue,p!==null){var C=d.stateNode;try{var M=p.shared.hiddenCallbacks;if(M!==null)for(p.shared.hiddenCallbacks=null,p=0;p<M.length;p++)$h(M[p],C)}catch(H){Qe(d,d.return,H)}}u&&A&64&&s1(y),No(y,y.return);break;case 27:f1(y);case 26:case 5:Un(p,y,u),u&&d===null&&A&4&&u1(y),No(y,y.return);break;case 12:Un(p,y,u);break;case 13:Un(p,y,u),u&&A&4&&g1(p,y);break;case 22:y.memoizedState===null&&Un(p,y,u),No(y,y.return);break;case 30:break;default:Un(p,y,u)}s=s.sibling}}function zc(i,s){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&yo(u))}function Hc(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&yo(i))}function Yr(i,s,u,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)m1(i,s,u,d),s=s.sibling}function m1(i,s,u,d){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Yr(i,s,u,d),p&2048&&Io(9,s);break;case 1:Yr(i,s,u,d);break;case 3:Yr(i,s,u,d),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&yo(i)));break;case 12:if(p&2048){Yr(i,s,u,d),i=s.stateNode;try{var y=s.memoizedProps,A=y.id,C=y.onPostCommit;typeof C=="function"&&C(A,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){Qe(s,s.return,M)}}else Yr(i,s,u,d);break;case 13:Yr(i,s,u,d);break;case 23:break;case 22:y=s.stateNode,A=s.alternate,s.memoizedState!==null?y._visibility&2?Yr(i,s,u,d):Mo(i,s):y._visibility&2?Yr(i,s,u,d):(y._visibility|=2,vi(i,s,u,d,(s.subtreeFlags&10256)!==0)),p&2048&&zc(A,s);break;case 24:Yr(i,s,u,d),p&2048&&Hc(s.alternate,s);break;default:Yr(i,s,u,d)}}function vi(i,s,u,d,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=i,A=s,C=u,M=d,H=A.flags;switch(A.tag){case 0:case 11:case 15:vi(y,A,C,M,p),Io(8,A);break;case 23:break;case 22:var Q=A.stateNode;A.memoizedState!==null?Q._visibility&2?vi(y,A,C,M,p):Mo(y,A):(Q._visibility|=2,vi(y,A,C,M,p)),p&&H&2048&&zc(A.alternate,A);break;case 24:vi(y,A,C,M,p),p&&H&2048&&Hc(A.alternate,A);break;default:vi(y,A,C,M,p)}s=s.sibling}}function Mo(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=i,d=s,p=d.flags;switch(d.tag){case 22:Mo(u,d),p&2048&&zc(d.alternate,d);break;case 24:Mo(u,d),p&2048&&Hc(d.alternate,d);break;default:Mo(u,d)}s=s.sibling}}var Bo=8192;function pi(i){if(i.subtreeFlags&Bo)for(i=i.child;i!==null;)_1(i),i=i.sibling}function _1(i){switch(i.tag){case 26:pi(i),i.flags&Bo&&i.memoizedState!==null&&W2(Pr,i.memoizedState,i.memoizedProps);break;case 5:pi(i);break;case 3:case 4:var s=Pr;Pr=wl(i.stateNode.containerInfo),pi(i),Pr=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Bo,Bo=16777216,pi(i),Bo=s):pi(i));break;default:pi(i)}}function w1(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function ko(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var d=s[u];Bt=d,b1(d,i)}w1(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)E1(i),i=i.sibling}function E1(i){switch(i.tag){case 0:case 11:case 15:ko(i),i.flags&2048&&Ln(9,i,i.return);break;case 3:ko(i);break;case 12:ko(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,ul(i)):ko(i);break;default:ko(i)}}function ul(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var d=s[u];Bt=d,b1(d,i)}w1(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ln(8,s,s.return),ul(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,ul(s));break;default:ul(s)}i=i.sibling}}function b1(i,s){for(;Bt!==null;){var u=Bt;switch(u.tag){case 0:case 11:case 15:Ln(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:yo(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,Bt=d;else e:for(u=i;Bt!==null;){d=Bt;var p=d.sibling,y=d.return;if(v1(d),d===u){Bt=null;break e}if(p!==null){p.return=y,Bt=p;break e}Bt=y}}}var f2={getCacheForType:function(i){var s=$t(Et),u=s.data.get(i);return u===void 0&&(u=i(),s.data.set(i,u)),u}},d2=typeof WeakMap=="function"?WeakMap:Map,Ve=0,et=null,Re=null,Me=0,Ge=0,yr=null,Fn=!1,gi=!1,Vc=!1,pn=0,dt=0,zn=0,Ta=0,Gc=0,Rr=0,yi=0,Po=null,ur=null,Xc=!1,qc=0,cl=1/0,fl=null,Hn=null,zt=0,Vn=null,xi=null,mi=0,$c=0,Yc=null,A1=null,Lo=0,Wc=null;function xr(){if((Ve&2)!==0&&Me!==0)return Me&-Me;if(I.T!==null){var i=oi;return i!==0?i:rf()}return Fd()}function S1(){Rr===0&&(Rr=(Me&536870912)===0||je?Tn():536870912);var i=Or.current;return i!==null&&(i.flags|=32),Rr}function mr(i,s,u){(i===et&&(Ge===2||Ge===9)||i.cancelPendingCommit!==null)&&(_i(i,0),Gn(i,Me,Rr,!1)),fa(i,u),((Ve&2)===0||i!==et)&&(i===et&&((Ve&2)===0&&(Ta|=u),dt===4&&Gn(i,Me,Rr,!1)),Wr(i))}function C1(i,s,u){if((Ve&6)!==0)throw Error(n(327));var d=!u&&(s&124)===0&&(s&i.expiredLanes)===0||Cn(i,s),p=d?p2(i,s):Qc(i,s,!0),y=d;do{if(p===0){gi&&!d&&Gn(i,s,0,!1);break}else{if(u=i.current.alternate,y&&!h2(u)){p=Qc(i,s,!1),y=!1;continue}if(p===2){if(y=s,i.errorRecoveryDisabledLanes&y)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;e:{var C=i;p=Po;var M=C.current.memoizedState.isDehydrated;if(M&&(_i(C,A).flags|=256),A=Qc(C,A,!1),A!==2){if(Vc&&!M){C.errorRecoveryDisabledLanes|=y,Ta|=y,p=4;break e}y=ur,ur=p,y!==null&&(ur===null?ur=y:ur.push.apply(ur,y))}p=A}if(y=!1,p!==2)continue}}if(p===1){_i(i,0),Gn(i,s,0,!0);break}e:{switch(d=i,y=p,y){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:Gn(d,s,Rr,!Fn);break e;case 2:ur=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(p=qc+300-_r(),10<p)){if(Gn(d,s,Rr,!Fn),Jt(d,0,!0)!==0)break e;d.timeoutHandle=tv(T1.bind(null,d,u,ur,fl,Xc,s,Rr,Ta,yi,Fn,y,2,-0,0),p);break e}T1(d,u,ur,fl,Xc,s,Rr,Ta,yi,Fn,y,0,-0,0)}}break}while(!0);Wr(i)}function T1(i,s,u,d,p,y,A,C,M,H,Q,re,G,X){if(i.timeoutHandle=-1,re=s.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(Go={stylesheets:null,count:0,unsuspend:Y2},_1(s),re=Z2(),re!==null)){i.cancelPendingCommit=re(B1.bind(null,i,s,y,u,d,p,A,C,M,Q,1,G,X)),Gn(i,y,A,!H);return}B1(i,s,y,u,d,p,A,C,M)}function h2(i){for(var s=i;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var p=u[d],y=p.getSnapshot;p=p.value;try{if(!hr(y(),p))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Gn(i,s,u,d){s&=~Gc,s&=~Ta,i.suspendedLanes|=s,i.pingedLanes&=~s,d&&(i.warmLanes|=s),d=i.expirationTimes;for(var p=s;0<p;){var y=31-Qt(p),A=1<<y;d[y]=-1,p&=~A}u!==0&&jd(i,u,s)}function dl(){return(Ve&6)===0?(jo(0),!1):!0}function Zc(){if(Re!==null){if(Ge===0)var i=Re.return;else i=Re,sn=wa=null,hc(i),di=null,Oo=0,i=Re;for(;i!==null;)o1(i.alternate,i),i=i.return;Re=null}}function _i(i,s){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,I2(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Zc(),et=i,Re=u=nn(i.current,null),Me=s,Ge=0,yr=null,Fn=!1,gi=Cn(i,s),Vc=!1,yi=Rr=Gc=Ta=zn=dt=0,ur=Po=null,Xc=!1,(s&8)!==0&&(s|=s&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=s;0<d;){var p=31-Qt(d),y=1<<p;s|=i[p],d&=~y}return pn=s,Bs(),u}function O1(i,s){Se=null,I.H=Js,s===mo||s===Vs?(s=Xh(),Ge=3):s===Hh?(s=Xh(),Ge=4):Ge=s===q0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,yr=s,Re===null&&(dt=1,al(i,Ar(s,i.current)))}function R1(){var i=I.H;return I.H=Js,i===null?Js:i}function D1(){var i=I.A;return I.A=f2,i}function Kc(){dt=4,Fn||(Me&4194048)!==Me&&Or.current!==null||(gi=!0),(zn&134217727)===0&&(Ta&134217727)===0||et===null||Gn(et,Me,Rr,!1)}function Qc(i,s,u){var d=Ve;Ve|=2;var p=R1(),y=D1();(et!==i||Me!==s)&&(fl=null,_i(i,s)),s=!1;var A=dt;e:do try{if(Ge!==0&&Re!==null){var C=Re,M=yr;switch(Ge){case 8:Zc(),A=6;break e;case 3:case 2:case 9:case 6:Or.current===null&&(s=!0);var H=Ge;if(Ge=0,yr=null,wi(i,C,M,H),u&&gi){A=0;break e}break;default:H=Ge,Ge=0,yr=null,wi(i,C,M,H)}}v2(),A=dt;break}catch(Q){O1(i,Q)}while(!0);return s&&i.shellSuspendCounter++,sn=wa=null,Ve=d,I.H=p,I.A=y,Re===null&&(et=null,Me=0,Bs()),A}function v2(){for(;Re!==null;)I1(Re)}function p2(i,s){var u=Ve;Ve|=2;var d=R1(),p=D1();et!==i||Me!==s?(fl=null,cl=_r()+500,_i(i,s)):gi=Cn(i,s);e:do try{if(Ge!==0&&Re!==null){s=Re;var y=yr;t:switch(Ge){case 1:Ge=0,yr=null,wi(i,s,y,1);break;case 2:case 9:if(Vh(y)){Ge=0,yr=null,N1(s);break}s=function(){Ge!==2&&Ge!==9||et!==i||(Ge=7),Wr(i)},y.then(s,s);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:Vh(y)?(Ge=0,yr=null,N1(s)):(Ge=0,yr=null,wi(i,s,y,7));break;case 5:var A=null;switch(Re.tag){case 26:A=Re.memoizedState;case 5:case 27:var C=Re;if(!A||hv(A)){Ge=0,yr=null;var M=C.sibling;if(M!==null)Re=M;else{var H=C.return;H!==null?(Re=H,hl(H)):Re=null}break t}}Ge=0,yr=null,wi(i,s,y,5);break;case 6:Ge=0,yr=null,wi(i,s,y,6);break;case 8:Zc(),dt=6;break e;default:throw Error(n(462))}}g2();break}catch(Q){O1(i,Q)}while(!0);return sn=wa=null,I.H=d,I.A=p,Ve=u,Re!==null?0:(et=null,Me=0,Bs(),dt)}function g2(){for(;Re!==null&&!Zi();)I1(Re)}function I1(i){var s=a1(i.alternate,i,pn);i.memoizedProps=i.pendingProps,s===null?hl(i):Re=s}function N1(i){var s=i,u=s.alternate;switch(s.tag){case 15:case 0:s=Q0(u,s,s.pendingProps,s.type,void 0,Me);break;case 11:s=Q0(u,s,s.pendingProps,s.type.render,s.ref,Me);break;case 5:hc(s);default:o1(u,s),s=Re=Mh(s,pn),s=a1(u,s,pn)}i.memoizedProps=i.pendingProps,s===null?hl(i):Re=s}function wi(i,s,u,d){sn=wa=null,hc(s),di=null,Oo=0;var p=s.return;try{if(i2(i,p,s,u,Me)){dt=1,al(i,Ar(u,i.current)),Re=null;return}}catch(y){if(p!==null)throw Re=p,y;dt=1,al(i,Ar(u,i.current)),Re=null;return}s.flags&32768?(je||d===1?i=!0:gi||(Me&536870912)!==0?i=!1:(Fn=i=!0,(d===2||d===9||d===3||d===6)&&(d=Or.current,d!==null&&d.tag===13&&(d.flags|=16384))),M1(s,i)):hl(s)}function hl(i){var s=i;do{if((s.flags&32768)!==0){M1(s,Fn);return}i=s.return;var u=s2(s.alternate,s,pn);if(u!==null){Re=u;return}if(s=s.sibling,s!==null){Re=s;return}Re=s=i}while(s!==null);dt===0&&(dt=5)}function M1(i,s){do{var u=l2(i.alternate,i);if(u!==null){u.flags&=32767,Re=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(i=i.sibling,i!==null)){Re=i;return}Re=i=u}while(i!==null);dt=6,Re=null}function B1(i,s,u,d,p,y,A,C,M){i.cancelPendingCommit=null;do vl();while(zt!==0);if((Ve&6)!==0)throw Error(n(327));if(s!==null){if(s===i.current)throw Error(n(177));if(y=s.lanes|s.childLanes,y|=Hu,vu(i,u,y,A,C,M),i===et&&(Re=et=null,Me=0),xi=s,Vn=i,mi=u,$c=y,Yc=p,A1=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,_2(wr,function(){return U1(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=I.T,I.T=null,p=z.p,z.p=2,A=Ve,Ve|=4;try{u2(i,s,u)}finally{Ve=A,z.p=p,I.T=d}}zt=1,k1(),P1(),L1()}}function k1(){if(zt===1){zt=0;var i=Vn,s=xi,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=I.T,I.T=null;var d=z.p;z.p=2;var p=Ve;Ve|=4;try{y1(s,i);var y=ff,A=bh(i.containerInfo),C=y.focusedElem,M=y.selectionRange;if(A!==C&&C&&C.ownerDocument&&Eh(C.ownerDocument.documentElement,C)){if(M!==null&&Lu(C)){var H=M.start,Q=M.end;if(Q===void 0&&(Q=H),"selectionStart"in C)C.selectionStart=H,C.selectionEnd=Math.min(Q,C.value.length);else{var re=C.ownerDocument||document,G=re&&re.defaultView||window;if(G.getSelection){var X=G.getSelection(),_e=C.textContent.length,xe=Math.min(M.start,_e),Ze=M.end===void 0?xe:Math.min(M.end,_e);!X.extend&&xe>Ze&&(A=Ze,Ze=xe,xe=A);var j=wh(C,xe),P=wh(C,Ze);if(j&&P&&(X.rangeCount!==1||X.anchorNode!==j.node||X.anchorOffset!==j.offset||X.focusNode!==P.node||X.focusOffset!==P.offset)){var F=re.createRange();F.setStart(j.node,j.offset),X.removeAllRanges(),xe>Ze?(X.addRange(F),X.extend(P.node,P.offset)):(F.setEnd(P.node,P.offset),X.addRange(F))}}}}for(re=[],X=C;X=X.parentNode;)X.nodeType===1&&re.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<re.length;C++){var te=re[C];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Cl=!!cf,ff=cf=null}finally{Ve=p,z.p=d,I.T=u}}i.current=s,zt=2}}function P1(){if(zt===2){zt=0;var i=Vn,s=xi,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=I.T,I.T=null;var d=z.p;z.p=2;var p=Ve;Ve|=4;try{h1(i,s.alternate,s)}finally{Ve=p,z.p=d,I.T=u}}zt=3}}function L1(){if(zt===4||zt===3){zt=0,fu();var i=Vn,s=xi,u=mi,d=A1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?zt=5:(zt=0,xi=Vn=null,j1(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Hn=null),gu(u),s=s.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(ca,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=I.T,p=z.p,z.p=2,I.T=null;try{for(var y=i.onRecoverableError,A=0;A<d.length;A++){var C=d[A];y(C.value,{componentStack:C.stack})}}finally{I.T=s,z.p=p}}(mi&3)!==0&&vl(),Wr(i),p=i.pendingLanes,(u&4194090)!==0&&(p&42)!==0?i===Wc?Lo++:(Lo=0,Wc=i):Lo=0,jo(0)}}function j1(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,yo(s)))}function vl(i){return k1(),P1(),L1(),U1()}function U1(){if(zt!==5)return!1;var i=Vn,s=$c;$c=0;var u=gu(mi),d=I.T,p=z.p;try{z.p=32>u?32:u,I.T=null,u=Yc,Yc=null;var y=Vn,A=mi;if(zt=0,xi=Vn=null,mi=0,(Ve&6)!==0)throw Error(n(331));var C=Ve;if(Ve|=4,E1(y.current),m1(y,y.current,A,u),Ve=C,jo(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(ca,y)}catch{}return!0}finally{z.p=p,I.T=d,j1(i,s)}}function F1(i,s,u){s=Ar(u,s),s=Tc(i.stateNode,s,2),i=Mn(i,s,2),i!==null&&(fa(i,2),Wr(i))}function Qe(i,s,u){if(i.tag===3)F1(i,i,u);else for(;s!==null;){if(s.tag===3){F1(s,i,u);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Hn===null||!Hn.has(d))){i=Ar(u,i),u=G0(2),d=Mn(s,u,2),d!==null&&(X0(u,d,s,i),fa(d,2),Wr(d));break}}s=s.return}}function Jc(i,s,u){var d=i.pingCache;if(d===null){d=i.pingCache=new d2;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(u)||(Vc=!0,p.add(u),i=y2.bind(null,i,s,u),s.then(i,i))}function y2(i,s,u){var d=i.pingCache;d!==null&&d.delete(s),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,et===i&&(Me&u)===u&&(dt===4||dt===3&&(Me&62914560)===Me&&300>_r()-qc?(Ve&2)===0&&_i(i,0):Gc|=u,yi===Me&&(yi=0)),Wr(i)}function z1(i,s){s===0&&(s=Ji()),i=ri(i,s),i!==null&&(fa(i,s),Wr(i))}function x2(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),z1(i,u)}function m2(i,s){var u=0;switch(i.tag){case 13:var d=i.stateNode,p=i.memoizedState;p!==null&&(u=p.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(n(314))}d!==null&&d.delete(s),z1(i,u)}function _2(i,s){return Sn(i,s)}var pl=null,Ei=null,ef=!1,gl=!1,tf=!1,Oa=0;function Wr(i){i!==Ei&&i.next===null&&(Ei===null?pl=Ei=i:Ei=Ei.next=i),gl=!0,ef||(ef=!0,E2())}function jo(i,s){if(!tf&&gl){tf=!0;do for(var u=!1,d=pl;d!==null;){if(i!==0){var p=d.pendingLanes;if(p===0)var y=0;else{var A=d.suspendedLanes,C=d.pingedLanes;y=(1<<31-Qt(42|i)+1)-1,y&=p&~(A&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,X1(d,y))}else y=Me,y=Jt(d,d===et?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||Cn(d,y)||(u=!0,X1(d,y));d=d.next}while(u);tf=!1}}function w2(){H1()}function H1(){gl=ef=!1;var i=0;Oa!==0&&(D2()&&(i=Oa),Oa=0);for(var s=_r(),u=null,d=pl;d!==null;){var p=d.next,y=V1(d,s);y===0?(d.next=null,u===null?pl=p:u.next=p,p===null&&(Ei=u)):(u=d,(i!==0||(y&3)!==0)&&(gl=!0)),d=p}jo(i)}function V1(i,s){for(var u=i.suspendedLanes,d=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var A=31-Qt(y),C=1<<A,M=p[A];M===-1?((C&u)===0||(C&d)!==0)&&(p[A]=Es(C,s)):M<=s&&(i.expiredLanes|=C),y&=~C}if(s=et,u=Me,u=Jt(i,i===s?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,u===0||i===s&&(Ge===2||Ge===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&sa(d),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Cn(i,u)){if(s=u&-u,s===i.callbackPriority)return s;switch(d!==null&&sa(d),gu(u)){case 2:case 8:u=ua;break;case 32:u=wr;break;case 268435456:u=Ki;break;default:u=wr}return d=G1.bind(null,i),u=Sn(u,d),i.callbackPriority=s,i.callbackNode=u,s}return d!==null&&d!==null&&sa(d),i.callbackPriority=2,i.callbackNode=null,2}function G1(i,s){if(zt!==0&&zt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(vl()&&i.callbackNode!==u)return null;var d=Me;return d=Jt(i,i===et?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:(C1(i,d,s),V1(i,_r()),i.callbackNode!=null&&i.callbackNode===u?G1.bind(null,i):null)}function X1(i,s){if(vl())return null;C1(i,s,!0)}function E2(){N2(function(){(Ve&6)!==0?Sn(la,w2):H1()})}function rf(){return Oa===0&&(Oa=Tn()),Oa}function q1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ts(""+i)}function $1(i,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,i.id&&u.setAttribute("form",i.id),s.parentNode.insertBefore(u,s),i=new FormData(i),u.parentNode.removeChild(u),i}function b2(i,s,u,d,p){if(s==="submit"&&u&&u.stateNode===p){var y=q1((p[ir]||null).action),A=d.submitter;A&&(s=(s=A[ir]||null)?q1(s.formAction):A.getAttribute("formAction"),s!==null&&(y=s,A=null));var C=new Is("action","action",null,d,p);i.push({event:C,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Oa!==0){var M=A?$1(p,A):new FormData(p);Ec(u,{pending:!0,data:M,method:p.method,action:y},null,M)}}else typeof y=="function"&&(C.preventDefault(),M=A?$1(p,A):new FormData(p),Ec(u,{pending:!0,data:M,method:p.method,action:y},y,M))},currentTarget:p}]})}}for(var nf=0;nf<zu.length;nf++){var af=zu[nf],A2=af.toLowerCase(),S2=af[0].toUpperCase()+af.slice(1);kr(A2,"on"+S2)}kr(Ch,"onAnimationEnd"),kr(Th,"onAnimationIteration"),kr(Oh,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(Hy,"onTransitionRun"),kr(Vy,"onTransitionStart"),kr(Gy,"onTransitionCancel"),kr(Rh,"onTransitionEnd"),qa("onMouseEnter",["mouseout","mouseover"]),qa("onMouseLeave",["mouseout","mouseover"]),qa("onPointerEnter",["pointerout","pointerover"]),qa("onPointerLeave",["pointerout","pointerover"]),da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),da("onBeforeInput",["compositionend","keypress","textInput","paste"]),da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Uo));function Y1(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var d=i[u],p=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var A=d.length-1;0<=A;A--){var C=d[A],M=C.instance,H=C.currentTarget;if(C=C.listener,M!==y&&p.isPropagationStopped())break e;y=C,p.currentTarget=H;try{y(p)}catch(Q){nl(Q)}p.currentTarget=null,y=M}else for(A=0;A<d.length;A++){if(C=d[A],M=C.instance,H=C.currentTarget,C=C.listener,M!==y&&p.isPropagationStopped())break e;y=C,p.currentTarget=H;try{y(p)}catch(Q){nl(Q)}p.currentTarget=null,y=M}}}}function De(i,s){var u=s[yu];u===void 0&&(u=s[yu]=new Set);var d=i+"__bubble";u.has(d)||(W1(s,i,2,!1),u.add(d))}function of(i,s,u){var d=0;s&&(d|=4),W1(u,i,d,s)}var yl="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[yl]){i[yl]=!0,Hd.forEach(function(u){u!=="selectionchange"&&(C2.has(u)||of(u,!1,i),of(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[yl]||(s[yl]=!0,of("selectionchange",!1,s))}}function W1(i,s,u,d){switch(mv(s)){case 2:var p=J2;break;case 8:p=ex;break;default:p=wf}u=p.bind(null,s,u,i),p=void 0,!Ou||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?i.addEventListener(s,u,{capture:!0,passive:p}):i.addEventListener(s,u,!0):p!==void 0?i.addEventListener(s,u,{passive:p}):i.addEventListener(s,u,!1)}function lf(i,s,u,d,p){var y=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var A=d.tag;if(A===3||A===4){var C=d.stateNode.containerInfo;if(C===p)break;if(A===4)for(A=d.return;A!==null;){var M=A.tag;if((M===3||M===4)&&A.stateNode.containerInfo===p)return;A=A.return}for(;C!==null;){if(A=Va(C),A===null)return;if(M=A.tag,M===5||M===6||M===26||M===27){d=y=A;continue e}C=C.parentNode}}d=d.return}rh(function(){var H=y,Q=Cu(u),re=[];e:{var G=Dh.get(i);if(G!==void 0){var X=Is,_e=i;switch(i){case"keypress":if(Rs(u)===0)break e;case"keydown":case"keyup":X=_y;break;case"focusin":_e="focus",X=Nu;break;case"focusout":_e="blur",X=Nu;break;case"beforeblur":case"afterblur":X=Nu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=ih;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=ly;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=by;break;case Ch:case Th:case Oh:X=fy;break;case Rh:X=Sy;break;case"scroll":case"scrollend":X=oy;break;case"wheel":X=Ty;break;case"copy":case"cut":case"paste":X=hy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=sh;break;case"toggle":case"beforetoggle":X=Ry}var xe=(s&4)!==0,Ze=!xe&&(i==="scroll"||i==="scrollend"),j=xe?G!==null?G+"Capture":null:G;xe=[];for(var P=H,F;P!==null;){var te=P;if(F=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||F===null||j===null||(te=no(P,j),te!=null&&xe.push(Fo(P,te,F))),Ze)break;P=P.return}0<xe.length&&(G=new X(G,_e,null,u,Q),re.push({event:G,listeners:xe}))}}if((s&7)===0){e:{if(G=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",G&&u!==Su&&(_e=u.relatedTarget||u.fromElement)&&(Va(_e)||_e[Ha]))break e;if((X||G)&&(G=Q.window===Q?Q:(G=Q.ownerDocument)?G.defaultView||G.parentWindow:window,X?(_e=u.relatedTarget||u.toElement,X=H,_e=_e?Va(_e):null,_e!==null&&(Ze=o(_e),xe=_e.tag,_e!==Ze||xe!==5&&xe!==27&&xe!==6)&&(_e=null)):(X=null,_e=H),X!==_e)){if(xe=ih,te="onMouseLeave",j="onMouseEnter",P="mouse",(i==="pointerout"||i==="pointerover")&&(xe=sh,te="onPointerLeave",j="onPointerEnter",P="pointer"),Ze=X==null?G:ro(X),F=_e==null?G:ro(_e),G=new xe(te,P+"leave",X,u,Q),G.target=Ze,G.relatedTarget=F,te=null,Va(Q)===H&&(xe=new xe(j,P+"enter",_e,u,Q),xe.target=F,xe.relatedTarget=Ze,te=xe),Ze=te,X&&_e)t:{for(xe=X,j=_e,P=0,F=xe;F;F=bi(F))P++;for(F=0,te=j;te;te=bi(te))F++;for(;0<P-F;)xe=bi(xe),P--;for(;0<F-P;)j=bi(j),F--;for(;P--;){if(xe===j||j!==null&&xe===j.alternate)break t;xe=bi(xe),j=bi(j)}xe=null}else xe=null;X!==null&&Z1(re,G,X,xe,!1),_e!==null&&Ze!==null&&Z1(re,Ze,_e,xe,!0)}}e:{if(G=H?ro(H):window,X=G.nodeName&&G.nodeName.toLowerCase(),X==="select"||X==="input"&&G.type==="file")var ce=ph;else if(hh(G))if(gh)ce=Uy;else{ce=Ly;var Te=Py}else X=G.nodeName,!X||X.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Au(H.elementType)&&(ce=ph):ce=jy;if(ce&&(ce=ce(i,H))){vh(re,ce,u,Q);break e}Te&&Te(i,G,H),i==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&bu(G,"number",G.value)}switch(Te=H?ro(H):window,i){case"focusin":(hh(Te)||Te.contentEditable==="true")&&(Ja=Te,ju=H,fo=null);break;case"focusout":fo=ju=Ja=null;break;case"mousedown":Uu=!0;break;case"contextmenu":case"mouseup":case"dragend":Uu=!1,Ah(re,u,Q);break;case"selectionchange":if(zy)break;case"keydown":case"keyup":Ah(re,u,Q)}var he;if(Bu)e:{switch(i){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Qa?fh(i,u)&&(me="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(me="onCompositionStart");me&&(lh&&u.locale!=="ko"&&(Qa||me!=="onCompositionStart"?me==="onCompositionEnd"&&Qa&&(he=nh()):(Rn=Q,Ru="value"in Rn?Rn.value:Rn.textContent,Qa=!0)),Te=xl(H,me),0<Te.length&&(me=new oh(me,i,null,u,Q),re.push({event:me,listeners:Te}),he?me.data=he:(he=dh(u),he!==null&&(me.data=he)))),(he=Iy?Ny(i,u):My(i,u))&&(me=xl(H,"onBeforeInput"),0<me.length&&(Te=new oh("onBeforeInput","beforeinput",null,u,Q),re.push({event:Te,listeners:me}),Te.data=he)),b2(re,i,H,u,Q)}Y1(re,s)})}function Fo(i,s,u){return{instance:i,listener:s,currentTarget:u}}function xl(i,s){for(var u=s+"Capture",d=[];i!==null;){var p=i,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=no(i,u),p!=null&&d.unshift(Fo(i,p,y)),p=no(i,s),p!=null&&d.push(Fo(i,p,y))),i.tag===3)return d;i=i.return}return[]}function bi(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Z1(i,s,u,d,p){for(var y=s._reactName,A=[];u!==null&&u!==d;){var C=u,M=C.alternate,H=C.stateNode;if(C=C.tag,M!==null&&M===d)break;C!==5&&C!==26&&C!==27||H===null||(M=H,p?(H=no(u,y),H!=null&&A.unshift(Fo(u,H,M))):p||(H=no(u,y),H!=null&&A.push(Fo(u,H,M)))),u=u.return}A.length!==0&&i.push({event:s,listeners:A})}var T2=/\r\n?/g,O2=/\u0000|\uFFFD/g;function K1(i){return(typeof i=="string"?i:""+i).replace(T2,`
`).replace(O2,"")}function Q1(i,s){return s=K1(s),K1(i)===s}function ml(){}function We(i,s,u,d,p,y){switch(u){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||Wa(i,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&Wa(i,""+d);break;case"className":As(i,"class",d);break;case"tabIndex":As(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":As(i,u,d);break;case"style":eh(i,d,y);break;case"data":if(s!=="object"){As(i,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||u!=="href")){i.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(u);break}d=Ts(""+d),i.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(s!=="input"&&We(i,s,"name",p.name,p,null),We(i,s,"formEncType",p.formEncType,p,null),We(i,s,"formMethod",p.formMethod,p,null),We(i,s,"formTarget",p.formTarget,p,null)):(We(i,s,"encType",p.encType,p,null),We(i,s,"method",p.method,p,null),We(i,s,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(u);break}d=Ts(""+d),i.setAttribute(u,d);break;case"onClick":d!=null&&(i.onclick=ml);break;case"onScroll":d!=null&&De("scroll",i);break;case"onScrollEnd":d!=null&&De("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(u=d.__html,u!=null){if(p.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}u=Ts(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(u,""+d):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":d===!0?i.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(u,d):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(u,d):i.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(u):i.setAttribute(u,d);break;case"popover":De("beforetoggle",i),De("toggle",i),bs(i,"popover",d);break;case"xlinkActuate":tn(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":tn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":tn(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":tn(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":tn(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":tn(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":tn(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":tn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":tn(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":bs(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=ay.get(u)||u,bs(i,u,d))}}function uf(i,s,u,d,p,y){switch(u){case"style":eh(i,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(u=d.__html,u!=null){if(p.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"children":typeof d=="string"?Wa(i,d):(typeof d=="number"||typeof d=="bigint")&&Wa(i,""+d);break;case"onScroll":d!=null&&De("scroll",i);break;case"onScrollEnd":d!=null&&De("scrollend",i);break;case"onClick":d!=null&&(i.onclick=ml);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vd.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(p=u.endsWith("Capture"),s=u.slice(2,p?u.length-7:void 0),y=i[ir]||null,y=y!=null?y[u]:null,typeof y=="function"&&i.removeEventListener(s,y,p),typeof d=="function")){typeof y!="function"&&y!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(s,d,p);break e}u in i?i[u]=d:d===!0?i.setAttribute(u,""):bs(i,u,d)}}}function Ht(i,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",i),De("load",i);var d=!1,p=!1,y;for(y in u)if(u.hasOwnProperty(y)){var A=u[y];if(A!=null)switch(y){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:We(i,s,y,A,u,null)}}p&&We(i,s,"srcSet",u.srcSet,u,null),d&&We(i,s,"src",u.src,u,null);return;case"input":De("invalid",i);var C=y=A=p=null,M=null,H=null;for(d in u)if(u.hasOwnProperty(d)){var Q=u[d];if(Q!=null)switch(d){case"name":p=Q;break;case"type":A=Q;break;case"checked":M=Q;break;case"defaultChecked":H=Q;break;case"value":y=Q;break;case"defaultValue":C=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(n(137,s));break;default:We(i,s,d,Q,u,null)}}Zd(i,y,C,M,H,A,p,!1),Ss(i);return;case"select":De("invalid",i),d=A=y=null;for(p in u)if(u.hasOwnProperty(p)&&(C=u[p],C!=null))switch(p){case"value":y=C;break;case"defaultValue":A=C;break;case"multiple":d=C;default:We(i,s,p,C,u,null)}s=y,u=A,i.multiple=!!d,s!=null?Ya(i,!!d,s,!1):u!=null&&Ya(i,!!d,u,!0);return;case"textarea":De("invalid",i),y=p=d=null;for(A in u)if(u.hasOwnProperty(A)&&(C=u[A],C!=null))switch(A){case"value":d=C;break;case"defaultValue":p=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(n(91));break;default:We(i,s,A,C,u,null)}Qd(i,d,p,y),Ss(i);return;case"option":for(M in u)if(u.hasOwnProperty(M)&&(d=u[M],d!=null))switch(M){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:We(i,s,M,d,u,null)}return;case"dialog":De("beforetoggle",i),De("toggle",i),De("cancel",i),De("close",i);break;case"iframe":case"object":De("load",i);break;case"video":case"audio":for(d=0;d<Uo.length;d++)De(Uo[d],i);break;case"image":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"embed":case"source":case"link":De("error",i),De("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in u)if(u.hasOwnProperty(H)&&(d=u[H],d!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:We(i,s,H,d,u,null)}return;default:if(Au(s)){for(Q in u)u.hasOwnProperty(Q)&&(d=u[Q],d!==void 0&&uf(i,s,Q,d,u,void 0));return}}for(C in u)u.hasOwnProperty(C)&&(d=u[C],d!=null&&We(i,s,C,d,u,null))}function R2(i,s,u,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,A=null,C=null,M=null,H=null,Q=null;for(X in u){var re=u[X];if(u.hasOwnProperty(X)&&re!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":M=re;default:d.hasOwnProperty(X)||We(i,s,X,null,d,re)}}for(var G in d){var X=d[G];if(re=u[G],d.hasOwnProperty(G)&&(X!=null||re!=null))switch(G){case"type":y=X;break;case"name":p=X;break;case"checked":H=X;break;case"defaultChecked":Q=X;break;case"value":A=X;break;case"defaultValue":C=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(n(137,s));break;default:X!==re&&We(i,s,G,X,d,re)}}Eu(i,A,C,M,H,Q,y,p);return;case"select":X=A=C=G=null;for(y in u)if(M=u[y],u.hasOwnProperty(y)&&M!=null)switch(y){case"value":break;case"multiple":X=M;default:d.hasOwnProperty(y)||We(i,s,y,null,d,M)}for(p in d)if(y=d[p],M=u[p],d.hasOwnProperty(p)&&(y!=null||M!=null))switch(p){case"value":G=y;break;case"defaultValue":C=y;break;case"multiple":A=y;default:y!==M&&We(i,s,p,y,d,M)}s=C,u=A,d=X,G!=null?Ya(i,!!u,G,!1):!!d!=!!u&&(s!=null?Ya(i,!!u,s,!0):Ya(i,!!u,u?[]:"",!1));return;case"textarea":X=G=null;for(C in u)if(p=u[C],u.hasOwnProperty(C)&&p!=null&&!d.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:We(i,s,C,null,d,p)}for(A in d)if(p=d[A],y=u[A],d.hasOwnProperty(A)&&(p!=null||y!=null))switch(A){case"value":G=p;break;case"defaultValue":X=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(n(91));break;default:p!==y&&We(i,s,A,p,d,y)}Kd(i,G,X);return;case"option":for(var _e in u)if(G=u[_e],u.hasOwnProperty(_e)&&G!=null&&!d.hasOwnProperty(_e))switch(_e){case"selected":i.selected=!1;break;default:We(i,s,_e,null,d,G)}for(M in d)if(G=d[M],X=u[M],d.hasOwnProperty(M)&&G!==X&&(G!=null||X!=null))switch(M){case"selected":i.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:We(i,s,M,G,d,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in u)G=u[xe],u.hasOwnProperty(xe)&&G!=null&&!d.hasOwnProperty(xe)&&We(i,s,xe,null,d,G);for(H in d)if(G=d[H],X=u[H],d.hasOwnProperty(H)&&G!==X&&(G!=null||X!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(n(137,s));break;default:We(i,s,H,G,d,X)}return;default:if(Au(s)){for(var Ze in u)G=u[Ze],u.hasOwnProperty(Ze)&&G!==void 0&&!d.hasOwnProperty(Ze)&&uf(i,s,Ze,void 0,d,G);for(Q in d)G=d[Q],X=u[Q],!d.hasOwnProperty(Q)||G===X||G===void 0&&X===void 0||uf(i,s,Q,G,d,X);return}}for(var j in u)G=u[j],u.hasOwnProperty(j)&&G!=null&&!d.hasOwnProperty(j)&&We(i,s,j,null,d,G);for(re in d)G=d[re],X=u[re],!d.hasOwnProperty(re)||G===X||G==null&&X==null||We(i,s,re,G,d,X)}var cf=null,ff=null;function _l(i){return i.nodeType===9?i:i.ownerDocument}function J1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ev(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function df(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var hf=null;function D2(){var i=window.event;return i&&i.type==="popstate"?i===hf?!1:(hf=i,!0):(hf=null,!1)}var tv=typeof setTimeout=="function"?setTimeout:void 0,I2=typeof clearTimeout=="function"?clearTimeout:void 0,rv=typeof Promise=="function"?Promise:void 0,N2=typeof queueMicrotask=="function"?queueMicrotask:typeof rv<"u"?function(i){return rv.resolve(null).then(i).catch(M2)}:tv;function M2(i){setTimeout(function(){throw i})}function Xn(i){return i==="head"}function nv(i,s){var u=s,d=0,p=0;do{var y=u.nextSibling;if(i.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(0<d&&8>d){u=d;var A=i.ownerDocument;if(u&1&&zo(A.documentElement),u&2&&zo(A.body),u&4)for(u=A.head,zo(u),A=u.firstChild;A;){var C=A.nextSibling,M=A.nodeName;A[to]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&A.rel.toLowerCase()==="stylesheet"||u.removeChild(A),A=C}}if(p===0){i.removeChild(y),Wo(s);return}p--}else u==="$"||u==="$?"||u==="$!"?p++:d=u.charCodeAt(0)-48;else d=0;u=y}while(u);Wo(s)}function vf(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":vf(u),xu(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function B2(i,s,u,d){for(;i.nodeType===1;){var p=u;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[to])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Lr(i.nextSibling),i===null)break}return null}function k2(i,s,u){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Lr(i.nextSibling),i===null))return null;return i}function pf(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function P2(i,s){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")s();else{var d=function(){s(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function Lr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var gf=null;function av(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}function iv(i,s,u){switch(s=_l(u),i){case"html":if(i=s.documentElement,!i)throw Error(n(452));return i;case"head":if(i=s.head,!i)throw Error(n(453));return i;case"body":if(i=s.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function zo(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);xu(i)}var Dr=new Map,ov=new Set;function wl(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var gn=z.d;z.d={f:L2,r:j2,D:U2,C:F2,L:z2,m:H2,X:G2,S:V2,M:X2};function L2(){var i=gn.f(),s=dl();return i||s}function j2(i){var s=Ga(i);s!==null&&s.tag===5&&s.type==="form"?C0(s):gn.r(i)}var Ai=typeof document>"u"?null:document;function sv(i,s,u){var d=Ai;if(d&&typeof s=="string"&&s){var p=br(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof u=="string"&&(p+='[crossorigin="'+u+'"]'),ov.has(p)||(ov.add(p),i={rel:i,crossOrigin:u,href:s},d.querySelector(p)===null&&(s=d.createElement("link"),Ht(s,"link",i),Nt(s),d.head.appendChild(s)))}}function U2(i){gn.D(i),sv("dns-prefetch",i,null)}function F2(i,s){gn.C(i,s),sv("preconnect",i,s)}function z2(i,s,u){gn.L(i,s,u);var d=Ai;if(d&&i&&s){var p='link[rel="preload"][as="'+br(s)+'"]';s==="image"&&u&&u.imageSrcSet?(p+='[imagesrcset="'+br(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(p+='[imagesizes="'+br(u.imageSizes)+'"]')):p+='[href="'+br(i)+'"]';var y=p;switch(s){case"style":y=Si(i);break;case"script":y=Ci(i)}Dr.has(y)||(i=v({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:i,as:s},u),Dr.set(y,i),d.querySelector(p)!==null||s==="style"&&d.querySelector(Ho(y))||s==="script"&&d.querySelector(Vo(y))||(s=d.createElement("link"),Ht(s,"link",i),Nt(s),d.head.appendChild(s)))}}function H2(i,s){gn.m(i,s);var u=Ai;if(u&&i){var d=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+br(d)+'"][href="'+br(i)+'"]',y=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ci(i)}if(!Dr.has(y)&&(i=v({rel:"modulepreload",href:i},s),Dr.set(y,i),u.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Vo(y)))return}d=u.createElement("link"),Ht(d,"link",i),Nt(d),u.head.appendChild(d)}}}function V2(i,s,u){gn.S(i,s,u);var d=Ai;if(d&&i){var p=Xa(d).hoistableStyles,y=Si(i);s=s||"default";var A=p.get(y);if(!A){var C={loading:0,preload:null};if(A=d.querySelector(Ho(y)))C.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},u),(u=Dr.get(y))&&yf(i,u);var M=A=d.createElement("link");Nt(M),Ht(M,"link",i),M._p=new Promise(function(H,Q){M.onload=H,M.onerror=Q}),M.addEventListener("load",function(){C.loading|=1}),M.addEventListener("error",function(){C.loading|=2}),C.loading|=4,El(A,s,d)}A={type:"stylesheet",instance:A,count:1,state:C},p.set(y,A)}}}function G2(i,s){gn.X(i,s);var u=Ai;if(u&&i){var d=Xa(u).hoistableScripts,p=Ci(i),y=d.get(p);y||(y=u.querySelector(Vo(p)),y||(i=v({src:i,async:!0},s),(s=Dr.get(p))&&xf(i,s),y=u.createElement("script"),Nt(y),Ht(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(p,y))}}function X2(i,s){gn.M(i,s);var u=Ai;if(u&&i){var d=Xa(u).hoistableScripts,p=Ci(i),y=d.get(p);y||(y=u.querySelector(Vo(p)),y||(i=v({src:i,async:!0,type:"module"},s),(s=Dr.get(p))&&xf(i,s),y=u.createElement("script"),Nt(y),Ht(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(p,y))}}function lv(i,s,u,d){var p=(p=ve.current)?wl(p):null;if(!p)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=Si(u.href),u=Xa(p).hoistableStyles,d=u.get(s),d||(d={type:"style",instance:null,count:0,state:null},u.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Si(u.href);var y=Xa(p).hoistableStyles,A=y.get(i);if(A||(p=p.ownerDocument||p,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,A),(y=p.querySelector(Ho(i)))&&!y._p&&(A.instance=y,A.state.loading=5),Dr.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Dr.set(i,u),y||q2(p,i,u,A.state))),s&&d===null)throw Error(n(528,""));return A}if(s&&d!==null)throw Error(n(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ci(u),u=Xa(p).hoistableScripts,d=u.get(s),d||(d={type:"script",instance:null,count:0,state:null},u.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Si(i){return'href="'+br(i)+'"'}function Ho(i){return'link[rel="stylesheet"]['+i+"]"}function uv(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function q2(i,s,u,d){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=i.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),Ht(s,"link",u),Nt(s),i.head.appendChild(s))}function Ci(i){return'[src="'+br(i)+'"]'}function Vo(i){return"script[async]"+i}function cv(i,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var d=i.querySelector('style[data-href~="'+br(u.href)+'"]');if(d)return s.instance=d,Nt(d),d;var p=v({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),Nt(d),Ht(d,"style",p),El(d,u.precedence,i),s.instance=d;case"stylesheet":p=Si(u.href);var y=i.querySelector(Ho(p));if(y)return s.state.loading|=4,s.instance=y,Nt(y),y;d=uv(u),(p=Dr.get(p))&&yf(d,p),y=(i.ownerDocument||i).createElement("link"),Nt(y);var A=y;return A._p=new Promise(function(C,M){A.onload=C,A.onerror=M}),Ht(y,"link",d),s.state.loading|=4,El(y,u.precedence,i),s.instance=y;case"script":return y=Ci(u.src),(p=i.querySelector(Vo(y)))?(s.instance=p,Nt(p),p):(d=u,(p=Dr.get(y))&&(d=v({},u),xf(d,p)),i=i.ownerDocument||i,p=i.createElement("script"),Nt(p),Ht(p,"link",d),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,El(d,u.precedence,i));return s.instance}function El(i,s,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,y=p,A=0;A<d.length;A++){var C=d[A];if(C.dataset.precedence===s)y=C;else if(y!==p)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(i,s.firstChild))}function yf(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function xf(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var bl=null;function fv(i,s,u){if(bl===null){var d=new Map,p=bl=new Map;p.set(u,d)}else p=bl,d=p.get(u),d||(d=new Map,p.set(u,d));if(d.has(i))return d;for(d.set(i,null),u=u.getElementsByTagName(i),p=0;p<u.length;p++){var y=u[p];if(!(y[to]||y[qt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(s)||"";A=i+A;var C=d.get(A);C?C.push(y):d.set(A,[y])}}return d}function dv(i,s,u){i=i.ownerDocument||i,i.head.insertBefore(u,s==="title"?i.querySelector("head > title"):null)}function $2(i,s,u){if(u===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function hv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Go=null;function Y2(){}function W2(i,s,u){if(Go===null)throw Error(n(475));var d=Go;if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=Si(u.href),y=i.querySelector(Ho(p));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(d.count++,d=Al.bind(d),i.then(d,d)),s.state.loading|=4,s.instance=y,Nt(y);return}y=i.ownerDocument||i,u=uv(u),(p=Dr.get(p))&&yf(u,p),y=y.createElement("link"),Nt(y);var A=y;A._p=new Promise(function(C,M){A.onload=C,A.onerror=M}),Ht(y,"link",u),s.instance=y}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(d.count++,s=Al.bind(d),i.addEventListener("load",s),i.addEventListener("error",s))}}function Z2(){if(Go===null)throw Error(n(475));var i=Go;return i.stylesheets&&i.count===0&&mf(i,i.stylesheets),0<i.count?function(s){var u=setTimeout(function(){if(i.stylesheets&&mf(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(u)}}:null}function Al(){if(this.count--,this.count===0){if(this.stylesheets)mf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Sl=null;function mf(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Sl=new Map,s.forEach(K2,i),Sl=null,Al.call(i))}function K2(i,s){if(!(s.state.loading&4)){var u=Sl.get(i);if(u)var d=u.get(null);else{u=new Map,Sl.set(i,u);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var A=p[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),d=A)}d&&u.set(null,d)}p=s.instance,A=p.getAttribute("data-precedence"),y=u.get(A)||d,y===d&&u.set(null,p),u.set(A,p),this.count++,d=Al.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),y?y.parentNode.insertBefore(p,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var Xo={$$typeof:O,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function Q2(i,s,u,d,p,y,A,C){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=eo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eo(0),this.hiddenUpdates=eo(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function vv(i,s,u,d,p,y,A,C,M,H,Q,re){return i=new Q2(i,s,u,A,C,M,H,re),s=1,y===!0&&(s|=24),y=vr(3,null,null,s),i.current=y,y.stateNode=i,s=Ju(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:d,isDehydrated:u,cache:s},nc(y),i}function pv(i){return i?(i=ni,i):ni}function gv(i,s,u,d,p,y){p=pv(p),d.context===null?d.context=p:d.pendingContext=p,d=Nn(s),d.payload={element:u},y=y===void 0?null:y,y!==null&&(d.callback=y),u=Mn(i,d,s),u!==null&&(mr(u,i,s),wo(u,i,s))}function yv(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function _f(i,s){yv(i,s),(i=i.alternate)&&yv(i,s)}function xv(i){if(i.tag===13){var s=ri(i,67108864);s!==null&&mr(s,i,67108864),_f(i,67108864)}}var Cl=!0;function J2(i,s,u,d){var p=I.T;I.T=null;var y=z.p;try{z.p=2,wf(i,s,u,d)}finally{z.p=y,I.T=p}}function ex(i,s,u,d){var p=I.T;I.T=null;var y=z.p;try{z.p=8,wf(i,s,u,d)}finally{z.p=y,I.T=p}}function wf(i,s,u,d){if(Cl){var p=Ef(d);if(p===null)lf(i,s,d,Tl,u),_v(i,d);else if(rx(p,i,s,u,d))d.stopPropagation();else if(_v(i,d),s&4&&-1<tx.indexOf(i)){for(;p!==null;){var y=Ga(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=ye(y.pendingLanes);if(A!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;A;){var M=1<<31-Qt(A);C.entanglements[1]|=M,A&=~M}Wr(y),(Ve&6)===0&&(cl=_r()+500,jo(0))}}break;case 13:C=ri(y,2),C!==null&&mr(C,y,2),dl(),_f(y,2)}if(y=Ef(d),y===null&&lf(i,s,d,Tl,u),y===p)break;p=y}p!==null&&d.stopPropagation()}else lf(i,s,d,null,u)}}function Ef(i){return i=Cu(i),bf(i)}var Tl=null;function bf(i){if(Tl=null,i=Va(i),i!==null){var s=o(i);if(s===null)i=null;else{var u=s.tag;if(u===13){if(i=l(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Tl=i,null}function mv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fa()){case la:return 2;case ua:return 8;case wr:case _s:return 32;case Ki:return 268435456;default:return 32}default:return 32}}var Af=!1,qn=null,$n=null,Yn=null,qo=new Map,$o=new Map,Wn=[],tx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _v(i,s){switch(i){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Yn=null;break;case"pointerover":case"pointerout":qo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":$o.delete(s.pointerId)}}function Yo(i,s,u,d,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:u,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Ga(s),s!==null&&xv(s)),i):(i.eventSystemFlags|=d,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function rx(i,s,u,d,p){switch(s){case"focusin":return qn=Yo(qn,i,s,u,d,p),!0;case"dragenter":return $n=Yo($n,i,s,u,d,p),!0;case"mouseover":return Yn=Yo(Yn,i,s,u,d,p),!0;case"pointerover":var y=p.pointerId;return qo.set(y,Yo(qo.get(y)||null,i,s,u,d,p)),!0;case"gotpointercapture":return y=p.pointerId,$o.set(y,Yo($o.get(y)||null,i,s,u,d,p)),!0}return!1}function wv(i){var s=Va(i.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){i.blockedOn=s,Wg(i.priority,function(){if(u.tag===13){var d=xr();d=pu(d);var p=ri(u,d);p!==null&&mr(p,u,d),_f(u,d)}});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ol(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=Ef(i.nativeEvent);if(u===null){u=i.nativeEvent;var d=new u.constructor(u.type,u);Su=d,u.target.dispatchEvent(d),Su=null}else return s=Ga(u),s!==null&&xv(s),i.blockedOn=u,!1;s.shift()}return!0}function Ev(i,s,u){Ol(i)&&u.delete(s)}function nx(){Af=!1,qn!==null&&Ol(qn)&&(qn=null),$n!==null&&Ol($n)&&($n=null),Yn!==null&&Ol(Yn)&&(Yn=null),qo.forEach(Ev),$o.forEach(Ev)}function Rl(i,s){i.blockedOn===s&&(i.blockedOn=null,Af||(Af=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,nx)))}var Dl=null;function bv(i){Dl!==i&&(Dl=i,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Dl===i&&(Dl=null);for(var s=0;s<i.length;s+=3){var u=i[s],d=i[s+1],p=i[s+2];if(typeof d!="function"){if(bf(d||u)===null)continue;break}var y=Ga(u);y!==null&&(i.splice(s,3),s-=3,Ec(y,{pending:!0,data:p,method:u.method,action:d},d,p))}}))}function Wo(i){function s(M){return Rl(M,i)}qn!==null&&Rl(qn,i),$n!==null&&Rl($n,i),Yn!==null&&Rl(Yn,i),qo.forEach(s),$o.forEach(s);for(var u=0;u<Wn.length;u++){var d=Wn[u];d.blockedOn===i&&(d.blockedOn=null)}for(;0<Wn.length&&(u=Wn[0],u.blockedOn===null);)wv(u),u.blockedOn===null&&Wn.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var p=u[d],y=u[d+1],A=p[ir]||null;if(typeof y=="function")A||bv(u);else if(A){var C=null;if(y&&y.hasAttribute("formAction")){if(p=y,A=y[ir]||null)C=A.formAction;else if(bf(p)!==null)continue}else C=A.action;typeof C=="function"?u[d+1]=C:(u.splice(d,3),d-=3),bv(u)}}}function Sf(i){this._internalRoot=i}Il.prototype.render=Sf.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));var u=s.current,d=xr();gv(u,d,i,s,null,null)},Il.prototype.unmount=Sf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;gv(i.current,2,null,i,null,null),dl(),s[Ha]=null}};function Il(i){this._internalRoot=i}Il.prototype.unstable_scheduleHydration=function(i){if(i){var s=Fd();i={blockedOn:null,target:i,priority:s};for(var u=0;u<Wn.length&&s!==0&&s<Wn[u].priority;u++);Wn.splice(u,0,i),u===0&&wv(i)}};var Av=e.version;if(Av!=="19.1.1")throw Error(n(527,Av,"19.1.1"));z.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=f(s),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var ax={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{ca=Nl.inject(ax),wt=Nl}catch{}}return Ko.createRoot=function(i,s){if(!a(i))throw Error(n(299));var u=!1,d="",p=F0,y=z0,A=H0,C=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks)),s=vv(i,1,!1,null,null,u,d,p,y,A,C,null),i[Ha]=s.current,sf(i),new Sf(s)},Ko.hydrateRoot=function(i,s,u){if(!a(i))throw Error(n(299));var d=!1,p="",y=F0,A=z0,C=H0,M=null,H=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(p=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(C=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(M=u.unstable_transitionCallbacks),u.formState!==void 0&&(H=u.formState)),s=vv(i,1,!0,s,u??null,d,p,y,A,C,M,H),s.context=pv(null),u=s.current,d=xr(),d=pu(d),p=Nn(d),p.callback=null,Mn(u,p,d),u=d,s.current.lanes=u,fa(s,u),Wr(s),i[Ha]=s.current,sf(i),new Il(s)},Ko.version="19.1.1",Ko}var Bv;function gx(){if(Bv)return Of.exports;Bv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Of.exports=px(),Of.exports}var yx=gx();/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kv="popstate";function xx(r={}){function e(a,o){let{pathname:l="/",search:c="",hash:f=""}=ja(a.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Kf("",{pathname:l,search:c,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){let l=a.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let f=a.location.href,h=f.indexOf("#");c=h===-1?f:f.slice(0,h)}return c+"#"+(typeof o=="string"?o:fs(o))}function n(a,o){Vr(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return _x(e,t,n,r)}function ct(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Vr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mx(){return Math.random().toString(36).substring(2,10)}function Pv(r,e){return{usr:r.state,key:r.key,idx:e}}function Kf(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ja(e):e,state:t,key:e&&e.key||n||mx()}}function fs({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function ja(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function _x(r,e,t,n={}){let{window:a=document.defaultView,v5Compat:o=!1}=n,l=a.history,c="POP",f=null,h=v();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function v(){return(l.state||{idx:null}).idx}function g(){c="POP";let E=v(),b=E==null?null:E-h;h=E,f&&f({action:c,location:S.location,delta:b})}function x(E,b){c="PUSH";let T=Kf(S.location,E,b);t&&t(T,E),h=v()+1;let O=Pv(T,h),D=S.createHref(T);try{l.pushState(O,"",D)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(D)}o&&f&&f({action:c,location:S.location,delta:1})}function m(E,b){c="REPLACE";let T=Kf(S.location,E,b);t&&t(T,E),h=v();let O=Pv(T,h),D=S.createHref(T);l.replaceState(O,"",D),o&&f&&f({action:c,location:S.location,delta:0})}function w(E){return wx(E)}let S={get action(){return c},get location(){return r(a,l)},listen(E){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(kv,g),f=E,()=>{a.removeEventListener(kv,g),f=null}},createHref(E){return e(a,E)},createURL:w,encodeLocation(E){let b=w(E);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:x,replace:m,go(E){return l.go(E)}};return S}function wx(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ct(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:fs(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function Wp(r,e,t="/"){return Ex(r,e,t,!1)}function Ex(r,e,t,n){let a=typeof e=="string"?ja(e):e,o=En(a.pathname||"/",t);if(o==null)return null;let l=Zp(r);bx(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let h=Bx(o);c=Nx(l[f],h,n)}return c}function Zp(r,e=[],t=[],n=""){let a=(o,l,c)=>{let f={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(ct(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length));let h=wn([n,f.relativePath]),v=t.concat(f);o.children&&o.children.length>0&&(ct(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Zp(o.children,e,v,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:Dx(h,o.index),routesMeta:v})};return r.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))a(o,l);else for(let c of Kp(o.path))a(o,l,c)}),e}function Kp(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let l=Kp(n.join("/")),c=[];return c.push(...l.map(f=>f===""?o:[o,f].join("/"))),a&&c.push(...l),c.map(f=>r.startsWith("/")&&f===""?"/":f)}function bx(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Ix(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var Ax=/^:[\w-]+$/,Sx=3,Cx=2,Tx=1,Ox=10,Rx=-2,Lv=r=>r==="*";function Dx(r,e){let t=r.split("/"),n=t.length;return t.some(Lv)&&(n+=Rx),e&&(n+=Cx),t.filter(a=>!Lv(a)).reduce((a,o)=>a+(Ax.test(o)?Sx:o===""?Tx:Ox),n)}function Ix(r,e){return r.length===e.length&&r.slice(0,-1).every((n,a)=>n===e[a])?r[r.length-1]-e[e.length-1]:0}function Nx(r,e,t=!1){let{routesMeta:n}=r,a={},o="/",l=[];for(let c=0;c<n.length;++c){let f=n[c],h=c===n.length-1,v=o==="/"?e:e.slice(o.length)||"/",g=Wl({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},v),x=f.route;if(!g&&h&&t&&!n[n.length-1].route.index&&(g=Wl({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!g)return null;Object.assign(a,g.params),l.push({params:a,pathname:wn([o,g.pathname]),pathnameBase:jx(wn([o,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(o=wn([o,g.pathnameBase]))}return l}function Wl(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=Mx(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((h,{paramName:v,isOptional:g},x)=>{if(v==="*"){let w=c[x]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const m=c[x];return g&&!m?h[v]=void 0:h[v]=(m||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:r}}function Mx(r,e=!1,t=!0){Vr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(n.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function Bx(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function En(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function kx(r,e="/"){let{pathname:t,search:n="",hash:a=""}=typeof r=="string"?ja(r):r;return{pathname:t?t.startsWith("/")?t:Px(t,e):e,search:Ux(n),hash:Fx(a)}}function Px(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Nf(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Lx(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Qp(r){let e=Lx(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Jp(r,e,t,n=!1){let a;typeof r=="string"?a=ja(r):(a={...r},ct(!a.pathname||!a.pathname.includes("?"),Nf("?","pathname","search",a)),ct(!a.pathname||!a.pathname.includes("#"),Nf("#","pathname","hash",a)),ct(!a.search||!a.search.includes("#"),Nf("#","search","hash",a)));let o=r===""||a.pathname==="",l=o?"/":a.pathname,c;if(l==null)c=t;else{let g=e.length-1;if(!n&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),g-=1;a.pathname=x.join("/")}c=g>=0?e[g]:"/"}let f=kx(a,c),h=l&&l!=="/"&&l.endsWith("/"),v=(o||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(h||v)&&(f.pathname+="/"),f}var wn=r=>r.join("/").replace(/\/\/+/g,"/"),jx=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Ux=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Fx=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function zx(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var eg=["POST","PUT","PATCH","DELETE"];new Set(eg);var Hx=["GET",...eg];new Set(Hx);var qi=U.createContext(null);qi.displayName="DataRouter";var au=U.createContext(null);au.displayName="DataRouterState";U.createContext(!1);var tg=U.createContext({isTransitioning:!1});tg.displayName="ViewTransition";var Vx=U.createContext(new Map);Vx.displayName="Fetchers";var Gx=U.createContext(null);Gx.displayName="Await";var Jr=U.createContext(null);Jr.displayName="Navigation";var hs=U.createContext(null);hs.displayName="Location";var bn=U.createContext({outlet:null,matches:[],isDataRoute:!1});bn.displayName="Route";var wd=U.createContext(null);wd.displayName="RouteError";function Xx(r,{relative:e}={}){ct(vs(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=U.useContext(Jr),{hash:a,pathname:o,search:l}=ps(r,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:wn([t,o])),n.createHref({pathname:c,search:l,hash:a})}function vs(){return U.useContext(hs)!=null}function ia(){return ct(vs(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(hs).location}var rg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ng(r){U.useContext(Jr).static||U.useLayoutEffect(r)}function iu(){let{isDataRoute:r}=U.useContext(bn);return r?am():qx()}function qx(){ct(vs(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(qi),{basename:e,navigator:t}=U.useContext(Jr),{matches:n}=U.useContext(bn),{pathname:a}=ia(),o=JSON.stringify(Qp(n)),l=U.useRef(!1);return ng(()=>{l.current=!0}),U.useCallback((f,h={})=>{if(Vr(l.current,rg),!l.current)return;if(typeof f=="number"){t.go(f);return}let v=Jp(f,JSON.parse(o),a,h.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:wn([e,v.pathname])),(h.replace?t.replace:t.push)(v,h.state,h)},[e,t,o,a,r])}U.createContext(null);function ps(r,{relative:e}={}){let{matches:t}=U.useContext(bn),{pathname:n}=ia(),a=JSON.stringify(Qp(t));return U.useMemo(()=>Jp(r,JSON.parse(a),n,e==="path"),[r,a,n,e])}function $x(r,e){return ag(r,e)}function ag(r,e,t,n){ct(vs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=U.useContext(Jr),{matches:o}=U.useContext(bn),l=o[o.length-1],c=l?l.params:{},f=l?l.pathname:"/",h=l?l.pathnameBase:"/",v=l&&l.route;{let b=v&&v.path||"";ig(f,!v||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let g=ia(),x;if(e){let b=typeof e=="string"?ja(e):e;ct(h==="/"||b.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${b.pathname}" was given in the \`location\` prop.`),x=b}else x=g;let m=x.pathname||"/",w=m;if(h!=="/"){let b=h.replace(/^\//,"").split("/");w="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let S=Wp(r,{pathname:w});Vr(v||S!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Vr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=Qx(S&&S.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:wn([h,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?h:wn([h,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,t,n);return e&&E?U.createElement(hs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},E):E}function Yx(){let r=nm(),e=zx(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",r),l=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:o},"ErrorBoundary")," or"," ",U.createElement("code",{style:o},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:a},t):null,l)}var Wx=U.createElement(Yx,null),Zx=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?U.createElement(bn.Provider,{value:this.props.routeContext},U.createElement(wd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Kx({routeContext:r,match:e,children:t}){let n=U.useContext(qi);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(bn.Provider,{value:r},t)}function Qx(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,o=t?.errors;if(o!=null){let f=a.findIndex(h=>h.route.id&&o?.[h.route.id]!==void 0);ct(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,c=-1;if(t)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:v,errors:g}=t,x=h.route.loader&&!v.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||x){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((f,h,v)=>{let g,x=!1,m=null,w=null;t&&(g=o&&h.route.id?o[h.route.id]:void 0,m=h.route.errorElement||Wx,l&&(c<0&&v===0?(ig("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,w=null):c===v&&(x=!0,w=h.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,v+1)),E=()=>{let b;return g?b=m:x?b=w:h.route.Component?b=U.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=f,U.createElement(Kx,{match:h,routeContext:{outlet:f,matches:S,isDataRoute:t!=null},children:b})};return t&&(h.route.ErrorBoundary||h.route.errorElement||v===0)?U.createElement(Zx,{location:t.location,revalidation:t.revalidation,component:m,error:g,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):E()},null)}function Ed(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jx(r){let e=U.useContext(qi);return ct(e,Ed(r)),e}function em(r){let e=U.useContext(au);return ct(e,Ed(r)),e}function tm(r){let e=U.useContext(bn);return ct(e,Ed(r)),e}function bd(r){let e=tm(r),t=e.matches[e.matches.length-1];return ct(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function rm(){return bd("useRouteId")}function nm(){let r=U.useContext(wd),e=em("useRouteError"),t=bd("useRouteError");return r!==void 0?r:e.errors?.[t]}function am(){let{router:r}=Jx("useNavigate"),e=bd("useNavigate"),t=U.useRef(!1);return ng(()=>{t.current=!0}),U.useCallback(async(a,o={})=>{Vr(t.current,rg),t.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...o}))},[r,e])}var jv={};function ig(r,e,t){!e&&!jv[r]&&(jv[r]=!0,Vr(!1,t))}U.memo(im);function im({routes:r,future:e,state:t}){return ag(r,void 0,t,e)}function yn(r){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function om({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:a,static:o=!1}){ct(!vs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof t=="string"&&(t=ja(t));let{pathname:f="/",search:h="",hash:v="",state:g=null,key:x="default"}=t,m=U.useMemo(()=>{let w=En(f,l);return w==null?null:{location:{pathname:w,search:h,hash:v,state:g,key:x},navigationType:n}},[l,f,h,v,g,x,n]);return Vr(m!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${v}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:U.createElement(Jr.Provider,{value:c},U.createElement(hs.Provider,{children:e,value:m}))}function sm({children:r,location:e}){return $x(Qf(r),e)}function Qf(r,e=[]){let t=[];return U.Children.forEach(r,(n,a)=>{if(!U.isValidElement(n))return;let o=[...e,a];if(n.type===U.Fragment){t.push.apply(t,Qf(n.props.children,o));return}ct(n.type===yn,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Qf(n.props.children,o)),t.push(l)}),t}var Gl="get",Xl="application/x-www-form-urlencoded";function ou(r){return r!=null&&typeof r.tagName=="string"}function lm(r){return ou(r)&&r.tagName.toLowerCase()==="button"}function um(r){return ou(r)&&r.tagName.toLowerCase()==="form"}function cm(r){return ou(r)&&r.tagName.toLowerCase()==="input"}function fm(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function dm(r,e){return r.button===0&&(!e||e==="_self")&&!fm(r)}var Ml=null;function hm(){if(Ml===null)try{new FormData(document.createElement("form"),0),Ml=!1}catch{Ml=!0}return Ml}var vm=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mf(r){return r!=null&&!vm.has(r)?(Vr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xl}"`),null):r}function pm(r,e){let t,n,a,o,l;if(um(r)){let c=r.getAttribute("action");n=c?En(c,e):null,t=r.getAttribute("method")||Gl,a=Mf(r.getAttribute("enctype"))||Xl,o=new FormData(r)}else if(lm(r)||cm(r)&&(r.type==="submit"||r.type==="image")){let c=r.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=r.getAttribute("formaction")||c.getAttribute("action");if(n=f?En(f,e):null,t=r.getAttribute("formmethod")||c.getAttribute("method")||Gl,a=Mf(r.getAttribute("formenctype"))||Mf(c.getAttribute("enctype"))||Xl,o=new FormData(c,r),!hm()){let{name:h,type:v,value:g}=r;if(v==="image"){let x=h?`${h}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else h&&o.append(h,g)}}else{if(ou(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Gl,n=null,a=Xl,l=r}return o&&a==="text/plain"&&(l=o,o=void 0),{action:n,method:t.toLowerCase(),encType:a,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ad(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function gm(r,e,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&En(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function ym(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xm(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function mm(r,e,t){let n=await Promise.all(r.map(async a=>{let o=e.routes[a.route.id];if(o){let l=await ym(o,t);return l.links?l.links():[]}return[]}));return bm(n.flat(1).filter(xm).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Uv(r,e,t,n,a,o){let l=(f,h)=>t[h]?f.route.id!==t[h].route.id:!0,c=(f,h)=>t[h].pathname!==f.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,h)=>l(f,h)||c(f,h)):o==="data"?e.filter((f,h)=>{let v=n.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(l(f,h)||c(f,h))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function _m(r,e,{includeHydrateFallback:t}={}){return wm(r.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function wm(r){return[...new Set(r)]}function Em(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function bm(r,e){let t=new Set;return new Set(e),r.reduce((n,a)=>{let o=JSON.stringify(Em(a));return t.has(o)||(t.add(o),n.push({key:o,link:a})),n},[])}function og(){let r=U.useContext(qi);return Ad(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Am(){let r=U.useContext(au);return Ad(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Sd=U.createContext(void 0);Sd.displayName="FrameworkContext";function sg(){let r=U.useContext(Sd);return Ad(r,"You must render this element inside a <HydratedRouter> element"),r}function Sm(r,e){let t=U.useContext(Sd),[n,a]=U.useState(!1),[o,l]=U.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:h,onMouseLeave:v,onTouchStart:g}=e,x=U.useRef(null);U.useEffect(()=>{if(r==="render"&&l(!0),r==="viewport"){let S=b=>{b.forEach(T=>{l(T.isIntersecting)})},E=new IntersectionObserver(S,{threshold:.5});return x.current&&E.observe(x.current),()=>{E.disconnect()}}},[r]),U.useEffect(()=>{if(n){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[n]);let m=()=>{a(!0)},w=()=>{a(!1),l(!1)};return t?r!=="intent"?[o,x,{}]:[o,x,{onFocus:Qo(c,m),onBlur:Qo(f,w),onMouseEnter:Qo(h,m),onMouseLeave:Qo(v,w),onTouchStart:Qo(g,m)}]:[!1,x,{}]}function Qo(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function Cm({page:r,...e}){let{router:t}=og(),n=U.useMemo(()=>Wp(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?U.createElement(Om,{page:r,matches:n,...e}):null}function Tm(r){let{manifest:e,routeModules:t}=sg(),[n,a]=U.useState([]);return U.useEffect(()=>{let o=!1;return mm(r,e,t).then(l=>{o||a(l)}),()=>{o=!0}},[r,e,t]),n}function Om({page:r,matches:e,...t}){let n=ia(),{manifest:a,routeModules:o}=sg(),{basename:l}=og(),{loaderData:c,matches:f}=Am(),h=U.useMemo(()=>Uv(r,e,f,a,n,"data"),[r,e,f,a,n]),v=U.useMemo(()=>Uv(r,e,f,a,n,"assets"),[r,e,f,a,n]),g=U.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let w=new Set,S=!1;if(e.forEach(b=>{let T=a.routes[b.route.id];!T||!T.hasLoader||(!h.some(O=>O.route.id===b.route.id)&&b.route.id in c&&o[b.route.id]?.shouldRevalidate||T.hasClientLoader?S=!0:w.add(b.route.id))}),w.size===0)return[];let E=gm(r,l,"data");return S&&w.size>0&&E.searchParams.set("_routes",e.filter(b=>w.has(b.route.id)).map(b=>b.route.id).join(",")),[E.pathname+E.search]},[l,c,n,a,h,e,r,o]),x=U.useMemo(()=>_m(v,a),[v,a]),m=Tm(v);return U.createElement(U.Fragment,null,g.map(w=>U.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),x.map(w=>U.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),m.map(({key:w,link:S})=>U.createElement("link",{key:w,nonce:t.nonce,...S})))}function Rm(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var lg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lg&&(window.__reactRouterVersion="7.8.0")}catch{}function Dm({basename:r,children:e,window:t}){let n=U.useRef();n.current==null&&(n.current=xx({window:t,v5Compat:!0}));let a=n.current,[o,l]=U.useState({action:a.action,location:a.location}),c=U.useCallback(f=>{U.startTransition(()=>l(f))},[l]);return U.useLayoutEffect(()=>a.listen(c),[a,c]),U.createElement(om,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:a})}var ug=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cg=U.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:a,reloadDocument:o,replace:l,state:c,target:f,to:h,preventScrollReset:v,viewTransition:g,...x},m){let{basename:w}=U.useContext(Jr),S=typeof h=="string"&&ug.test(h),E,b=!1;if(typeof h=="string"&&S&&(E=h,lg))try{let J=new URL(window.location.href),Y=h.startsWith("//")?new URL(J.protocol+h):new URL(h),q=En(Y.pathname,w);Y.origin===J.origin&&q!=null?h=q+Y.search+Y.hash:b=!0}catch{Vr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=Xx(h,{relative:a}),[O,D,N]=Sm(n,x),k=Mm(h,{replace:l,state:c,target:f,preventScrollReset:v,relative:a,viewTransition:g});function L(J){e&&e(J),J.defaultPrevented||k(J)}let Z=U.createElement("a",{...x,...N,href:E||T,onClick:b||o?e:L,ref:Rm(m,D),target:f,"data-discover":!S&&t==="render"?"true":void 0});return O&&!S?U.createElement(U.Fragment,null,Z,U.createElement(Cm,{page:T})):Z});cg.displayName="Link";var xn=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:a=!1,style:o,to:l,viewTransition:c,children:f,...h},v){let g=ps(l,{relative:h.relative}),x=ia(),m=U.useContext(au),{navigator:w,basename:S}=U.useContext(Jr),E=m!=null&&jm(g)&&c===!0,b=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,T=x.pathname,O=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;t||(T=T.toLowerCase(),O=O?O.toLowerCase():null,b=b.toLowerCase()),O&&S&&(O=En(O,S)||O);const D=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let N=T===b||!a&&T.startsWith(b)&&T.charAt(D)==="/",k=O!=null&&(O===b||!a&&O.startsWith(b)&&O.charAt(b.length)==="/"),L={isActive:N,isPending:k,isTransitioning:E},Z=N?e:void 0,J;typeof n=="function"?J=n(L):J=[n,N?"active":null,k?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let Y=typeof o=="function"?o(L):o;return U.createElement(cg,{...h,"aria-current":Z,className:J,ref:v,style:Y,to:l,viewTransition:c},typeof f=="function"?f(L):f)});xn.displayName="NavLink";var Im=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:a,state:o,method:l=Gl,action:c,onSubmit:f,relative:h,preventScrollReset:v,viewTransition:g,...x},m)=>{let w=Pm(),S=Lm(c,{relative:h}),E=l.toLowerCase()==="get"?"get":"post",b=typeof c=="string"&&ug.test(c),T=O=>{if(f&&f(O),O.defaultPrevented)return;O.preventDefault();let D=O.nativeEvent.submitter,N=D?.getAttribute("formmethod")||l;w(D||O.currentTarget,{fetcherKey:e,method:N,navigate:t,replace:a,state:o,relative:h,preventScrollReset:v,viewTransition:g})};return U.createElement("form",{ref:m,method:E,action:S,onSubmit:n?f:T,...x,"data-discover":!b&&r==="render"?"true":void 0})});Im.displayName="Form";function Nm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fg(r){let e=U.useContext(qi);return ct(e,Nm(r)),e}function Mm(r,{target:e,replace:t,state:n,preventScrollReset:a,relative:o,viewTransition:l}={}){let c=iu(),f=ia(),h=ps(r,{relative:o});return U.useCallback(v=>{if(dm(v,e)){v.preventDefault();let g=t!==void 0?t:fs(f)===fs(h);c(r,{replace:g,state:n,preventScrollReset:a,relative:o,viewTransition:l})}},[f,c,h,t,n,e,r,a,o,l])}var Bm=0,km=()=>`__${String(++Bm)}__`;function Pm(){let{router:r}=fg("useSubmit"),{basename:e}=U.useContext(Jr),t=rm();return U.useCallback(async(n,a={})=>{let{action:o,method:l,encType:c,formData:f,body:h}=pm(n,e);if(a.navigate===!1){let v=a.fetcherKey||km();await r.fetch(v,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||l,formEncType:a.encType||c,flushSync:a.flushSync})}else await r.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||l,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,t])}function Lm(r,{relative:e}={}){let{basename:t}=U.useContext(Jr),n=U.useContext(bn);ct(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),o={...ps(r||".",{relative:e})},l=ia();if(r==null){o.search=l.search;let c=new URLSearchParams(o.search),f=c.getAll("index");if(f.some(v=>v==="")){c.delete("index"),f.filter(g=>g).forEach(g=>c.append("index",g));let v=c.toString();o.search=v?`?${v}`:""}}return(!r||r===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:wn([t,o.pathname])),fs(o)}function jm(r,{relative:e}={}){let t=U.useContext(tg);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=fg("useViewTransitionState"),a=ps(r,{relative:e});if(!t.isTransitioning)return!1;let o=En(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=En(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Wl(a.pathname,l)!=null||Wl(a.pathname,o)!=null}const Um="modulepreload",Fm=function(r){return"/IARE-Canteen-Web/"+r},Fv={},gs=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){let f=function(h){return Promise.all(h.map(v=>Promise.resolve(v).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");a=f(t.map(h=>{if(h=Fm(h),h in Fv)return;Fv[h]=!0;const v=h.endsWith(".css"),g=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const x=document.createElement("link");if(x.rel=v?"stylesheet":Um,v||(x.as="script"),x.crossOrigin="",x.href=h,c&&x.setAttribute("nonce",c),document.head.appendChild(x),v)return new Promise((m,w)=>{x.addEventListener("load",m),x.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return a.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},zm=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>gs(async()=>{const{default:n}=await Promise.resolve().then(()=>$i);return{default:n}},[]).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class Cd extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class Hm extends Cd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class zv extends Cd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Hv extends Cd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Jf;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Jf||(Jf={}));var Vm=function(r,e,t,n){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(v){try{h(n.next(v))}catch(g){l(g)}}function f(v){try{h(n.throw(v))}catch(g){l(g)}}function h(v){v.done?o(v.value):a(v.value).then(c,f)}h((n=n.apply(r,e||[])).next())})};class Gm{constructor(e,{headers:t={},customFetch:n,region:a=Jf.Any}={}){this.url=e,this.headers=t,this.region=a,this.fetch=zm(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return Vm(this,void 0,void 0,function*(){try{const{headers:a,method:o,body:l}=t;let c={},{region:f}=t;f||(f=this.region);const h=new URL(`${this.url}/${e}`);f&&f!=="any"&&(c["x-region"]=f,h.searchParams.set("forceFunctionRegion",f));let v;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",v=l):typeof l=="string"?(c["Content-Type"]="text/plain",v=l):typeof FormData<"u"&&l instanceof FormData?v=l:(c["Content-Type"]="application/json",v=JSON.stringify(l)));const g=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),a),body:v}).catch(S=>{throw new Hm(S)}),x=g.headers.get("x-relay-error");if(x&&x==="true")throw new zv(g);if(!g.ok)throw new Hv(g);let m=((n=g.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return m==="application/json"?w=yield g.json():m==="application/octet-stream"?w=yield g.blob():m==="text/event-stream"?w=g:m==="multipart/form-data"?w=yield g.formData():w=yield g.text(),{data:w,error:null,response:g}}catch(a){return{data:null,error:a,response:a instanceof Hv||a instanceof zv?a.context:void 0}}})}}var Pt={},Ti={},Oi={},Ri={},Di={},Ii={},Xm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gi=Xm();const qm=Gi.fetch,dg=Gi.fetch.bind(Gi),hg=Gi.Headers,$m=Gi.Request,Ym=Gi.Response,$i=Object.freeze(Object.defineProperty({__proto__:null,Headers:hg,Request:$m,Response:Ym,default:dg,fetch:qm},Symbol.toStringTag,{value:"Module"})),Wm=ox($i);var Bl={},Vv;function vg(){if(Vv)return Bl;Vv=1,Object.defineProperty(Bl,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Bl.default=r,Bl}var Gv;function pg(){if(Gv)return Ii;Gv=1;var r=Ii&&Ii.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ii,"__esModule",{value:!0});const e=r(Wm),t=r(vg());class n{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=Object.assign({},this.headers),this.headers[o]=l,this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const c=this.fetch;let f=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var v,g,x;let m=null,w=null,S=null,E=h.status,b=h.statusText;if(h.ok){if(this.method!=="HEAD"){const N=await h.text();N===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=N:w=JSON.parse(N))}const O=(v=this.headers.Prefer)===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),D=(g=h.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");O&&D&&D.length>1&&(S=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(m={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,S=null,E=406,b="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const O=await h.text();try{m=JSON.parse(O),Array.isArray(m)&&h.status===404&&(w=[],m=null,E=200,b="OK")}catch{h.status===404&&O===""?(E=204,b="No Content"):m={message:O}}if(m&&this.isMaybeSingle&&(!((x=m?.details)===null||x===void 0)&&x.includes("0 rows"))&&(m=null,E=200,b="OK"),m&&this.shouldThrowOnError)throw new t.default(m)}return{error:m,data:w,count:S,status:E,statusText:b}});return this.shouldThrowOnError||(f=f.catch(h=>{var v,g,x;return{error:{message:`${(v=h?.name)!==null&&v!==void 0?v:"FetchError"}: ${h?.message}`,details:`${(g=h?.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(x=h?.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),f.then(o,l)}returns(){return this}overrideTypes(){return this}}return Ii.default=n,Ii}var Xv;function gg(){if(Xv)return Di;Xv=1;var r=Di&&Di.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Di,"__esModule",{value:!0});const e=r(pg());class t extends e.default{select(a){let o=!1;const l=(a??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:o=!0,nullsFirst:l,foreignTable:c,referencedTable:f=c}={}){const h=f?`${f}.order`:"order",v=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${v?`${v},`:""}${a}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this}range(a,o,{foreignTable:l,referencedTable:c=l}={}){const f=typeof c>"u"?"offset":`${c}.offset`,h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${a}`),this.url.searchParams.set(h,`${o-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:o=!1,settings:l=!1,buffers:c=!1,wal:f=!1,format:h="text"}={}){var v;const g=[a?"analyze":null,o?"verbose":null,l?"settings":null,c?"buffers":null,f?"wal":null].filter(Boolean).join("|"),x=(v=this.headers.Accept)!==null&&v!==void 0?v:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${x}"; options=${g};`,h==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Di.default=t,Di}var qv;function Td(){if(qv)return Ri;qv=1;var r=Ri&&Ri.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ri,"__esModule",{value:!0});const e=r(gg());class t extends e.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}in(a,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:l,type:c}={}){let f="";c==="plain"?f="pl":c==="phrase"?f="ph":c==="websearch"&&(f="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${f}fts${h}.${o}`),this}match(a){return Object.entries(a).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(a,o,l){return this.url.searchParams.append(a,`not.${o}.${l}`),this}or(a,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${a})`),this}filter(a,o,l){return this.url.searchParams.append(a,`${o}.${l}`),this}}return Ri.default=t,Ri}var $v;function yg(){if($v)return Oi;$v=1;var r=Oi&&Oi.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Oi,"__esModule",{value:!0});const e=r(Td());class t{constructor(a,{headers:o={},schema:l,fetch:c}){this.url=a,this.headers=o,this.schema=l,this.fetch=c}select(a,{head:o=!1,count:l}={}){const c=o?"HEAD":"GET";let f=!1;const h=(a??"*").split("").map(v=>/\s/.test(v)&&!f?"":(v==='"'&&(f=!f),v)).join("");return this.url.searchParams.set("select",h),l&&(this.headers.Prefer=`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:o,defaultToNull:l=!0}={}){const c="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),o&&f.push(`count=${o}`),l||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(a)){const h=a.reduce((v,g)=>v.concat(Object.keys(g)),[]);if(h.length>0){const v=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:o,ignoreDuplicates:l=!1,count:c,defaultToNull:f=!0}={}){const h="POST",v=[`resolution=${l?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&v.push(this.headers.Prefer),c&&v.push(`count=${c}`),f||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(a)){const g=a.reduce((x,m)=>x.concat(Object.keys(m)),[]);if(g.length>0){const x=[...new Set(g)].map(m=>`"${m}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:o}={}){const l="PATCH",c=[];return this.headers.Prefer&&c.push(this.headers.Prefer),o&&c.push(`count=${o}`),this.headers.Prefer=c.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const o="DELETE",l=[];return a&&l.push(`count=${a}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Oi.default=t,Oi}var Jo={},es={},Yv;function Zm(){return Yv||(Yv=1,Object.defineProperty(es,"__esModule",{value:!0}),es.version=void 0,es.version="0.0.0-automated"),es}var Wv;function Km(){if(Wv)return Jo;Wv=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.DEFAULT_HEADERS=void 0;const r=Zm();return Jo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`},Jo}var Zv;function Qm(){if(Zv)return Ti;Zv=1;var r=Ti&&Ti.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ti,"__esModule",{value:!0});const e=r(yg()),t=r(Td()),n=Km();class a{constructor(l,{headers:c={},schema:f,fetch:h}={}){this.url=l,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),c),this.schemaName=f,this.fetch=h}from(l){const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new a(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:f=!1,get:h=!1,count:v}={}){let g;const x=new URL(`${this.url}/rpc/${l}`);let m;f||h?(g=f?"HEAD":"GET",Object.entries(c).filter(([S,E])=>E!==void 0).map(([S,E])=>[S,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([S,E])=>{x.searchParams.append(S,E)})):(g="POST",m=c);const w=Object.assign({},this.headers);return v&&(w.Prefer=`count=${v}`),new t.default({method:g,url:x,headers:w,schema:this.schemaName,body:m,fetch:this.fetch,allowEmpty:!1})}}return Ti.default=a,Ti}var Kv;function Jm(){if(Kv)return Pt;Kv=1;var r=Pt&&Pt.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.PostgrestError=Pt.PostgrestBuilder=Pt.PostgrestTransformBuilder=Pt.PostgrestFilterBuilder=Pt.PostgrestQueryBuilder=Pt.PostgrestClient=void 0;const e=r(Qm());Pt.PostgrestClient=e.default;const t=r(yg());Pt.PostgrestQueryBuilder=t.default;const n=r(Td());Pt.PostgrestFilterBuilder=n.default;const a=r(gg());Pt.PostgrestTransformBuilder=a.default;const o=r(pg());Pt.PostgrestBuilder=o.default;const l=r(vg());return Pt.PostgrestError=l.default,Pt.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:o.default,PostgrestError:l.default},Pt}var e_=Jm();const t_=Yp(e_),{PostgrestClient:r_,PostgrestQueryBuilder:KA,PostgrestFilterBuilder:QA,PostgrestTransformBuilder:JA,PostgrestBuilder:eS,PostgrestError:tS}=t_;class n_{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const t=parseInt(process.versions.node.split(".")[0]);return t>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${t} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${t} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const n=this.getWebSocketConstructor();return new n(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const a_="2.15.1",i_=`realtime-js/${a_}`,o_="1.0.0",ed=1e4,s_=1e3,l_=100;var ls;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(ls||(ls={}));var At;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(At||(At={}));var Fr;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Fr||(Fr={}));var td;(function(r){r.websocket="websocket"})(td||(td={}));var ka;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(ka||(ka={}));class u_{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const a=t.getUint8(1),o=t.getUint8(2);let l=this.HEADER_LENGTH+2;const c=n.decode(e.slice(l,l+a));l=l+a;const f=n.decode(e.slice(l,l+o));l=l+o;const h=JSON.parse(n.decode(e.slice(l,e.byteLength)));return{ref:null,topic:c,event:f,payload:h}}}class xg{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var tt;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(tt||(tt={}));const Qv=(r,e,t={})=>{var n;const a=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((o,l)=>(o[l]=c_(l,r,e,a),o),{})},c_=(r,e,t,n)=>{const a=e.find(c=>c.name===r),o=a?.type,l=t[r];return o&&!n.includes(o)?mg(o,l):rd(l)},mg=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return v_(e,t)}switch(r){case tt.bool:return f_(e);case tt.float4:case tt.float8:case tt.int2:case tt.int4:case tt.int8:case tt.numeric:case tt.oid:return d_(e);case tt.json:case tt.jsonb:return h_(e);case tt.timestamp:return p_(e);case tt.abstime:case tt.date:case tt.daterange:case tt.int4range:case tt.int8range:case tt.money:case tt.reltime:case tt.text:case tt.time:case tt.timestamptz:case tt.timetz:case tt.tsrange:case tt.tstzrange:return rd(e);default:return rd(e)}},rd=r=>r,f_=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},d_=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},h_=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},v_=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let o;const l=r.slice(1,t);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(c=>mg(e,c))}return r},p_=r=>typeof r=="string"?r.replace(" ","T"):r,_g=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Bf{constructor(e,t,n={},a=ed){this.channel=e,this.event=t,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Jv;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Jv||(Jv={}));class us{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=us.syncState(this.state,a,o,l),this.pendingDiffs.forEach(f=>{this.state=us.syncDiff(this.state,f,o,l)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},a=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=us.syncDiff(this.state,a,o,l),c())}),this.onJoin((a,o,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:l})}),this.onLeave((a,o,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,a){const o=this.cloneDeep(e),l=this.transformState(t),c={},f={};return this.map(o,(h,v)=>{l[h]||(f[h]=v)}),this.map(l,(h,v)=>{const g=o[h];if(g){const x=v.map(E=>E.presence_ref),m=g.map(E=>E.presence_ref),w=v.filter(E=>m.indexOf(E.presence_ref)<0),S=g.filter(E=>x.indexOf(E.presence_ref)<0);w.length>0&&(c[h]=w),S.length>0&&(f[h]=S)}else c[h]=v}),this.syncDiff(o,{joins:c,leaves:f},n,a)}static syncDiff(e,t,n,a){const{joins:o,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(o,(c,f)=>{var h;const v=(h=e[c])!==null&&h!==void 0?h:[];if(e[c]=this.cloneDeep(f),v.length>0){const g=e[c].map(m=>m.presence_ref),x=v.filter(m=>g.indexOf(m.presence_ref)<0);e[c].unshift(...x)}n(c,v,f)}),this.map(l,(c,f)=>{let h=e[c];if(!h)return;const v=f.map(g=>g.presence_ref);h=h.filter(g=>v.indexOf(g.presence_ref)<0),e[c]=h,a(c,h,f),h.length===0&&delete e[c]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const a=e[n];return"metas"in a?t[n]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[n]=a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ep;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(ep||(ep={}));var cs;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(cs||(cs={}));var _n;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(_n||(_n={}));class Od{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=At.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Bf(this,Fr.join,this.params,this.timeout),this.rejoinTimer=new xg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=At.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=At.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fr.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new us(this),this.broadcastEndpointURL=_g(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==At.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,f=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(x=>x.filter))!==null&&a!==void 0?a:[],h=!!this.bindings[cs.PRESENCE]&&this.bindings[cs.PRESENCE].length>0,v={},g={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:f,private:c};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(x=>e?.(_n.CHANNEL_ERROR,x)),this._onClose(()=>e?.(_n.CLOSED)),this.updateJoinPayload(Object.assign({config:g},v)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:x})=>{var m;if(this.socket.setAuth(),x===void 0){e?.(_n.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,S=(m=w?.length)!==null&&m!==void 0?m:0,E=[];for(let b=0;b<S;b++){const T=w[b],{filter:{event:O,schema:D,table:N,filter:k}}=T,L=x&&x[b];if(L&&L.event===O&&L.schema===D&&L.table===N&&L.filter===k)E.push(Object.assign(Object.assign({},T),{id:L.id}));else{this.unsubscribe(),this.state=At.errored,e?.(_n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(_n.SUBSCRIBED);return}}).receive("error",x=>{this.state=At.errored,e?.(_n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e?.(_n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===At.joined&&e===cs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async send(e,t={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:l}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,f;const h=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=At.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Bf(this,Fr.leave,{},e),n.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=At.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const a=new AbortController,o=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(o),l}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Bf(this,e,t,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>l_){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var a,o;const l=e.toLocaleLowerCase(),{close:c,error:f,leave:h,join:v}=Fr;if(n&&[c,f,h,v].indexOf(l)>=0&&n!==this._joinRef())return;let x=this._onMessage(l,t,n);if(t&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var w,S,E;return((w=m.filter)===null||w===void 0?void 0:w.event)==="*"||((E=(S=m.filter)===null||S===void 0?void 0:S.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===l}).map(m=>m.callback(x,n)):(o=this.bindings[l])===null||o===void 0||o.filter(m=>{var w,S,E,b,T,O;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in m){const D=m.id,N=(w=m.filter)===null||w===void 0?void 0:w.event;return D&&((S=t.ids)===null||S===void 0?void 0:S.includes(D))&&(N==="*"||N?.toLocaleLowerCase()===((E=t.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const D=(T=(b=m?.filter)===null||b===void 0?void 0:b.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return D==="*"||D===((O=t?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===l}).map(m=>{if(typeof x=="object"&&"ids"in x){const w=x.data,{schema:S,table:E,commit_timestamp:b,type:T,errors:O}=w;x=Object.assign(Object.assign({},{schema:S,table:E,commit_timestamp:b,eventType:T,new:{},old:{},errors:O}),this._getPayloadRecords(w))}m.callback(x,n)})}_isClosed(){return this.state===At.closed}_isJoined(){return this.state===At.joined}_isJoining(){return this.state===At.joining}_isLeaving(){return this.state===At.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const a=e.toLocaleLowerCase(),o={type:a,filter:t,callback:n};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Od.isEqual(a.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Fr.close,{},e)}_onError(e){this._on(Fr.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=At.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Qv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Qv(e.columns,e.old_record)),t}}const tp=()=>{},kl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},g_=[1e3,2e3,5e3,1e4],y_=1e4,x_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class m_{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ed,this.transport=null,this.heartbeatIntervalMs=kl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=tp,this.ref=0,this.reconnectTimer=null,this.logger=tp,this.conn=null,this.sendBuffer=[],this.serializer=new u_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>gs(async()=>{const{default:c}=await Promise.resolve().then(()=>$i);return{default:c}},void 0).then(({default:c})=>c(...l)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...l)=>o(...l)},!(!((n=t?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${td.websocket}`,this.httpEndpoint=_g(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=n_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:o_}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ls.connecting:return ka.Connecting;case ls.open:return ka.Open;case ls.closing:return ka.Closing;default:return ka.Closed}}isConnected(){return this.connectionState()===ka.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(o=>o.topic===n);if(a)return a;{const o=new Od(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){const{topic:t,event:n,payload:a,ref:o}=e,l=()=>{this.encode(e,c=>{var f;(f=this.conn)===null||f===void 0||f.send(c)})};this.log("push",`${t} ${n} (${o})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(s_,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},kl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{t.topic==="phoenix"&&t.event==="phx_reply"&&this.heartbeatCallback(t.payload.status==="ok"?"ok":"error"),t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:o,ref:l}=t,c=l?`(${l})`:"",f=o.status||"";this.log("receive",`${f} ${n} ${a} ${c}`.trim(),o),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(a,o,l)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Fr.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(t);return`${e}${n}${a}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([x_],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(n=>{const a={access_token:t,version:i_};t&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Fr.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new xg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},kl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,a,o,l,c,f,h;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:ed,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:kl.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:(v=>g_[v-1]||y_),this.encode=(f=e?.encode)!==null&&f!==void 0?f:((v,g)=>g(JSON.stringify(v))),this.decode=(h=e?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Rd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Tt(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class __ extends Rd{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class nd extends Rd{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var w_=function(r,e,t,n){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(v){try{h(n.next(v))}catch(g){l(g)}}function f(v){try{h(n.throw(v))}catch(g){l(g)}}function h(v){v.done?o(v.value):a(v.value).then(c,f)}h((n=n.apply(r,e||[])).next())})};const wg=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>gs(async()=>{const{default:n}=await Promise.resolve().then(()=>$i);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},E_=()=>w_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield gs(()=>Promise.resolve().then(()=>$i),void 0)).Response:Response}),ad=r=>{if(Array.isArray(r))return r.map(t=>ad(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const a=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[a]=ad(n)}),e},b_=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var Ua=function(r,e,t,n){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(v){try{h(n.next(v))}catch(g){l(g)}}function f(v){try{h(n.throw(v))}catch(g){l(g)}}function h(v){v.done?o(v.value):a(v.value).then(c,f)}h((n=n.apply(r,e||[])).next())})};const kf=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),A_=(r,e,t)=>Ua(void 0,void 0,void 0,function*(){const n=yield E_();r instanceof n&&!t?.noResolveJson?r.json().then(a=>{const o=r.status||500,l=a?.statusCode||o+"";e(new __(kf(a),o,l))}).catch(a=>{e(new nd(kf(a),a))}):e(new nd(kf(r),r))}),S_=(r,e,t,n)=>{const a={method:r,headers:e?.headers||{}};return r==="GET"||!n?a:(b_(n)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(n)):a.body=n,e?.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),t))};function ys(r,e,t,n,a,o){return Ua(this,void 0,void 0,function*(){return new Promise((l,c)=>{r(t,S_(e,n,a,o)).then(f=>{if(!f.ok)throw f;return n?.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>A_(f,c,n))})})}function Zl(r,e,t,n){return Ua(this,void 0,void 0,function*(){return ys(r,"GET",e,t,n)})}function Zr(r,e,t,n,a){return Ua(this,void 0,void 0,function*(){return ys(r,"POST",e,n,a,t)})}function id(r,e,t,n,a){return Ua(this,void 0,void 0,function*(){return ys(r,"PUT",e,n,a,t)})}function C_(r,e,t,n){return Ua(this,void 0,void 0,function*(){return ys(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function Eg(r,e,t,n,a){return Ua(this,void 0,void 0,function*(){return ys(r,"DELETE",e,n,a,t)})}var tr=function(r,e,t,n){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(v){try{h(n.next(v))}catch(g){l(g)}}function f(v){try{h(n.throw(v))}catch(g){l(g)}}function h(v){v.done?o(v.value):a(v.value).then(c,f)}h((n=n.apply(r,e||[])).next())})};const T_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class O_{constructor(e,t={},n,a){this.url=e,this.headers=t,this.bucketId=n,this.fetch=wg(a)}uploadOrUpdate(e,t,n,a){return tr(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},rp),a);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),f&&o.append("metadata",this.encodeMetadata(f)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",l.cacheControl),f&&o.append("metadata",this.encodeMetadata(f))):(o=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,f&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),a?.headers&&(c=Object.assign(Object.assign({},c),a.headers));const h=this._removeEmptyFolders(t),v=this._getFinalPath(h),g=yield(e=="PUT"?id:Zr)(this.fetch,`${this.url}/object/${v}`,o,Object.assign({headers:c},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:g.Id,fullPath:g.Key},error:null}}catch(o){if(Tt(o))return{data:null,error:o};throw o}})}upload(e,t,n){return tr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,a){return tr(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),l=this._getFinalPath(o),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",t);try{let f;const h=Object.assign({upsert:rp.upsert},a),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",h.cacheControl)):(f=n,v["cache-control"]=`max-age=${h.cacheControl}`,v["content-type"]=h.contentType);const g=yield id(this.fetch,c.toString(),f,{headers:v});return{data:{path:o,fullPath:g.Key},error:null}}catch(f){if(Tt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,t){return tr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);t?.upsert&&(a["x-upsert"]="true");const o=yield Zr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(this.url+o.url),c=l.searchParams.get("token");if(!c)throw new Rd("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:c},error:null}}catch(n){if(Tt(n))return{data:null,error:n};throw n}})}update(e,t,n){return tr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return tr(this,void 0,void 0,function*(){try{return{data:yield Zr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Tt(a))return{data:null,error:a};throw a}})}copy(e,t,n){return tr(this,void 0,void 0,function*(){try{return{data:{path:(yield Zr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Tt(a))return{data:null,error:a};throw a}})}createSignedUrl(e,t,n){return tr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),o=yield Zr(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(a){if(Tt(a))return{data:null,error:a};throw a}})}createSignedUrls(e,t,n){return tr(this,void 0,void 0,function*(){try{const a=yield Zr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(a){if(Tt(a))return{data:null,error:a};throw a}})}download(e,t){return tr(this,void 0,void 0,function*(){const a=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),l=o?`?${o}`:"";try{const c=this._getFinalPath(e);return{data:yield(yield Zl(this.fetch,`${this.url}/${a}/${c}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(Tt(c))return{data:null,error:c};throw c}})}info(e){return tr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield Zl(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:ad(n),error:null}}catch(n){if(Tt(n))return{data:null,error:n};throw n}})}exists(e){return tr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield C_(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Tt(n)&&n instanceof nd){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),a=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&a.push(o);const c=typeof t?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(t?.transform||{});f!==""&&a.push(f);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${h}`)}}}remove(e){return tr(this,void 0,void 0,function*(){try{return{data:yield Eg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Tt(t))return{data:null,error:t};throw t}})}list(e,t,n){return tr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},T_),t),{prefix:e||""});return{data:yield Zr(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Tt(a))return{data:null,error:a};throw a}})}listV2(e,t){return tr(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Zr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},t),error:null}}catch(n){if(Tt(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const R_="2.11.0",D_={"X-Client-Info":`storage-js/${R_}`};var Ni=function(r,e,t,n){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(v){try{h(n.next(v))}catch(g){l(g)}}function f(v){try{h(n.throw(v))}catch(g){l(g)}}function h(v){v.done?o(v.value):a(v.value).then(c,f)}h((n=n.apply(r,e||[])).next())})};class I_{constructor(e,t={},n,a){const o=new URL(e);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},D_),t),this.fetch=wg(n)}listBuckets(){return Ni(this,void 0,void 0,function*(){try{return{data:yield Zl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Tt(e))return{data:null,error:e};throw e}})}getBucket(e){return Ni(this,void 0,void 0,function*(){try{return{data:yield Zl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Tt(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Ni(this,void 0,void 0,function*(){try{return{data:yield Zr(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Tt(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Ni(this,void 0,void 0,function*(){try{return{data:yield id(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Tt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Ni(this,void 0,void 0,function*(){try{return{data:yield Zr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Tt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Ni(this,void 0,void 0,function*(){try{return{data:yield Eg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Tt(t))return{data:null,error:t};throw t}})}}class N_ extends I_{constructor(e,t={},n,a){super(e,t,n,a)}from(e){return new O_(this.url,this.headers,e,this.fetch)}}const M_="2.55.0";let as="";typeof Deno<"u"?as="deno":typeof document<"u"?as="web":typeof navigator<"u"&&navigator.product==="ReactNative"?as="react-native":as="node";const B_={"X-Client-Info":`supabase-js-${as}/${M_}`},k_={headers:B_},P_={schema:"public"},L_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},j_={};var U_=function(r,e,t,n){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(v){try{h(n.next(v))}catch(g){l(g)}}function f(v){try{h(n.throw(v))}catch(g){l(g)}}function h(v){v.done?o(v.value):a(v.value).then(c,f)}h((n=n.apply(r,e||[])).next())})};const F_=r=>{let e;return r?e=r:typeof fetch>"u"?e=dg:e=fetch,(...t)=>e(...t)},z_=()=>typeof Headers>"u"?hg:Headers,H_=(r,e,t)=>{const n=F_(t),a=z_();return(o,l)=>U_(void 0,void 0,void 0,function*(){var c;const f=(c=yield e())!==null&&c!==void 0?c:r;let h=new a(l?.headers);return h.has("apikey")||h.set("apikey",r),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),n(o,Object.assign(Object.assign({},l),{headers:h}))})};var V_=function(r,e,t,n){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(v){try{h(n.next(v))}catch(g){l(g)}}function f(v){try{h(n.throw(v))}catch(g){l(g)}}function h(v){v.done?o(v.value):a(v.value).then(c,f)}h((n=n.apply(r,e||[])).next())})};function G_(r){return r.endsWith("/")?r:r+"/"}function X_(r,e){var t,n;const{db:a,auth:o,realtime:l,global:c}=r,{db:f,auth:h,realtime:v,global:g}=e,x={db:Object.assign(Object.assign({},f),a),auth:Object.assign(Object.assign({},h),o),realtime:Object.assign(Object.assign({},v),l),storage:{},global:Object.assign(Object.assign(Object.assign({},g),c),{headers:Object.assign(Object.assign({},(t=g?.headers)!==null&&t!==void 0?t:{}),(n=c?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>V_(this,void 0,void 0,function*(){return""})};return r.accessToken?x.accessToken=r.accessToken:delete x.accessToken,x}const bg="2.71.1",ji=30*1e3,od=3,Pf=od*ji,q_="http://localhost:9999",$_="supabase.auth.token",Y_={"X-Client-Info":`gotrue-js/${bg}`},sd="X-Supabase-Api-Version",Ag={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},W_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Z_=600*1e3;class Dd extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Ee(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class K_ extends Dd{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function Q_(r){return Ee(r)&&r.name==="AuthApiError"}class Sg extends Dd{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class oa extends Dd{constructor(e,t,n,a){super(e,n,a),this.name=t,this.status=n}}class ea extends oa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function J_(r){return Ee(r)&&r.name==="AuthSessionMissingError"}class Pl extends oa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ll extends oa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class jl extends oa{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ew(r){return Ee(r)&&r.name==="AuthImplicitGrantRedirectError"}class np extends oa{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ld extends oa{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Lf(r){return Ee(r)&&r.name==="AuthRetryableFetchError"}class ap extends oa{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class ud extends oa{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Kl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ip=` 	
\r=`.split(""),tw=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<ip.length;e+=1)r[ip[e].charCodeAt(0)]=-2;for(let e=0;e<Kl.length;e+=1)r[Kl[e].charCodeAt(0)]=e;return r})();function op(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(Kl[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(Kl[n]),e.queuedBits-=6}}function Cg(r,e,t){const n=tw[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function sp(r){const e=[],t=l=>{e.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=l=>{aw(l,n,t)};for(let l=0;l<r.length;l+=1)Cg(r.charCodeAt(l),a,o);return e.join("")}function rw(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function nw(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|a)+65536,t+=1}rw(n,e)}}function aw(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function iw(r){const e=[],t={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<r.length;a+=1)Cg(r.charCodeAt(a),t,n);return new Uint8Array(e)}function ow(r){const e=[];return nw(r,t=>e.push(t)),new Uint8Array(e)}function sw(r){const e=[],t={queue:0,queuedBits:0},n=a=>{e.push(a)};return r.forEach(a=>op(a,t,n)),op(null,t,n),e.join("")}function lw(r){return Math.round(Date.now()/1e3)+r}function uw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const Ur=()=>typeof window<"u"&&typeof document<"u",Ra={tested:!1,writable:!1},Tg=()=>{if(!Ur())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ra.tested)return Ra.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Ra.tested=!0,Ra.writable=!0}catch{Ra.tested=!0,Ra.writable=!1}return Ra.writable};function cw(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((a,o)=>{e[o]=a})}catch{}return t.searchParams.forEach((n,a)=>{e[a]=n}),e}const Og=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>gs(async()=>{const{default:n}=await Promise.resolve().then(()=>$i);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},fw=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Ui=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},Da=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Kn=async(r,e)=>{await r.removeItem(e)};class su{constructor(){this.promise=new su.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}su.promiseConstructor=Promise;function jf(r){const e=r.split(".");if(e.length!==3)throw new ud("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!W_.test(e[n]))throw new ud("JWT not in base64url format");return{header:JSON.parse(sp(e[0])),payload:JSON.parse(sp(e[1])),signature:iw(e[2]),raw:{header:e[0],payload:e[1]}}}async function dw(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function hw(r,e){return new Promise((n,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await r(o);if(!e(o,null,l)){n(l);return}}catch(l){if(!e(o,l)){a(l);return}}})()})}function vw(r){return("0"+r.toString(16)).substr(-2)}function pw(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let a="";for(let o=0;o<56;o++)a+=t.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,vw).join("")}async function gw(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(n);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function yw(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await gw(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Mi(r,e,t=!1){const n=pw();let a=n;t&&(a+="/PASSWORD_RECOVERY"),await Ui(r,`${e}-code-verifier`,a);const o=await yw(n);return[o,n===o?"plain":"s256"]}const xw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mw(r){const e=r.headers.get(sd);if(!e||!e.match(xw))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function _w(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function ww(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ew=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bi(r){if(!Ew.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Uf(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const n=t.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function lp(r){return JSON.parse(JSON.stringify(r))}var bw=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};const Ma=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Aw=[502,503,504];async function up(r){var e;if(!fw(r))throw new ld(Ma(r),0);if(Aw.includes(r.status))throw new ld(Ma(r),r.status);let t;try{t=await r.json()}catch(o){throw new Sg(Ma(o),o)}let n;const a=mw(r);if(a&&a.getTime()>=Ag["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new ap(Ma(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new ea}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new ap(Ma(t),r.status,t.weak_password.reasons);throw new K_(Ma(t),r.status||500,n)}const Sw=(r,e,t,n)=>{const a={method:r,headers:e?.headers||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),t))};async function Ie(r,e,t,n){var a;const o=Object.assign({},n?.headers);o[sd]||(o[sd]=Ag["2024-01-01"].name),n?.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const l=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(l.redirect_to=n.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await Cw(r,e,t+c,{headers:o,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(f):{data:Object.assign({},f),error:null}}async function Cw(r,e,t,n,a,o){const l=Sw(e,n,a,o);let c;try{c=await r(t,Object.assign({},l))}catch(f){throw console.error(f),new ld(Ma(f),0)}if(c.ok||await up(c),n?.noResolveJson)return c;try{return await c.json()}catch(f){await up(f)}}function mn(r){var e;let t=null;Dw(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=lw(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function cp(r){const e=mn(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function ra(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function Tw(r){return{data:r,error:null}}function Ow(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:a,verification_type:o}=r,l=bw(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:t,hashed_token:n,redirect_to:a,verification_type:o},f=Object.assign({},l);return{data:{properties:c,user:f},error:null}}function Rw(r){return r}function Dw(r){return r.access_token&&r.refresh_token&&r.expires_in}const Ff=["global","local","others"];var Iw=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};class Nw{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=Og(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=Ff[0]){if(Ff.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ff.join(", ")}`);try{return await Ie(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await Ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ra})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Iw(e,["options"]),a=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Ow,redirectTo:t?.redirectTo})}catch(t){if(Ee(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ie(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ra})}catch(t){if(Ee(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,a,o,l,c,f;try{const h={nextPage:null,lastPage:0,total:0},v=await Ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(o=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Rw});if(v.error)throw v.error;const g=await v.json(),x=(l=v.headers.get("x-total-count"))!==null&&l!==void 0?l:0,m=(f=(c=v.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return m.length>0&&(m.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(w.split(";")[1].split("=")[1]);h[`${E}Page`]=S}),h.total=parseInt(x)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ee(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){Bi(e);try{return await Ie(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ra})}catch(t){if(Ee(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Bi(e);try{return await Ie(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ra})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){Bi(e);try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ra})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Bi(e.userId);try{const{data:t,error:n}=await Ie(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:t,error:n}}catch(t){if(Ee(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Bi(e.userId),Bi(e.id);try{return{data:await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Ee(t))return{data:null,error:t};throw t}}}function fp(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function Mw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ki={debug:!!(globalThis&&Tg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Rg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Bw extends Rg{}async function kw(r,e,t){ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ki.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return await t()}finally{ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(e===0)throw ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Bw(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(ki.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}Mw();const Pw={url:q_,storageKey:$_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Y_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function dp(r,e,t){return await t()}const Pi={};class ds{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ds.nextInstanceID,ds.nextInstanceID+=1,this.instanceID>0&&Ur()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Pw),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Nw({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Og(a.fetch),this.lock=a.lock||dp,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ur()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=kw:this.lock=dp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Tg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=fp(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=fp(this.memoryStorage)),Ur()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=Pi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Pi[this.storageKey]=Object.assign(Object.assign({},Pi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Pi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Pi[this.storageKey]=Object.assign(Object.assign({},Pi[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${bg}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=cw(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Ur()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:o}=await this._getSessionFromURL(t,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),ew(o)){const f=(e=o.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:c}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Ee(t)?{error:t}:{error:new Sg("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,a;try{const o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:mn}),{data:l,error:c}=o;if(c||!l)return{data:{user:null,session:null},error:c};const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(o){if(Ee(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var t,n,a;try{let o;if("email"in e){const{email:v,password:g,options:x}=e;let m=null,w=null;this.flowType==="pkce"&&([m,w]=await Mi(this.storage,this.storageKey)),o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:v,password:g,data:(t=x?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:m,code_challenge_method:w},xform:mn})}else if("phone"in e){const{phone:v,password:g,options:x}=e;o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:g,data:(n=x?.data)!==null&&n!==void 0?n:{},channel:(a=x?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:mn})}else throw new Ll("You must provide either an email or phone number and a password");const{data:l,error:c}=o;if(c||!l)return{data:{user:null,session:null},error:c};const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(o){if(Ee(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:l,options:c}=e;t=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:cp})}else if("phone"in e){const{phone:o,password:l,options:c}=e;t=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:cp})}else throw new Ll("You must provide either an email or phone number and a password");const{data:n,error:a}=t;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Pl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(t){if(Ee(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,a,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,n,a,o,l,c,f,h,v,g,x,m;let w,S;if("message"in e)w=e.message,S=e.signature;else{const{chain:E,wallet:b,statement:T,options:O}=e;let D;if(Ur())if(typeof b=="object")D=b;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))D=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=b}const N=new URL((t=O?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in D&&D.signIn){const k=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),T?{statement:T}:null));let L;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")L=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)L=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)w=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),S=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${N.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=O?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=O?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((l=O?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((c=O?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((f=O?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((h=O?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((g=(v=O?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||g===void 0)&&g.length?["Resources",...O.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const k=await D.signMessage(new TextEncoder().encode(w),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=k}}try{const{data:E,error:b}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:sw(S)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:mn});if(b)throw b;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new Pl}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:b})}catch(E){if(Ee(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(e){const t=await Da(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(t??"").split("/");try{const{data:o,error:l}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:mn});if(await Kn(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Pl}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:l})}catch(o){if(Ee(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:t,provider:n,token:a,access_token:o,nonce:l}=e,c=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:mn}),{data:f,error:h}=c;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Pl}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:h})}catch(t){if(Ee(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,a,o,l;try{if("email"in e){const{email:c,options:f}=e;let h=null,v=null;this.flowType==="pkce"&&([h,v]=await Mi(this.storage,this.storageKey));const{error:g}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(t=f?.data)!==null&&t!==void 0?t:{},create_user:(n=f?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:h,code_challenge_method:v},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:c,options:f}=e,{data:h,error:v}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(a=f?.data)!==null&&a!==void 0?a:{},create_user:(o=f?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(l=f?.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:v}}throw new Ll("You must provide either an email or phone number.")}catch(c){if(Ee(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var t,n;try{let a,o;"options"in e&&(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:c}=await Ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:mn});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,h=l.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(a){if(Ee(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var t,n,a;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await Mi(this.storage,this.storageKey)),await Ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:Tw})}catch(o){if(Ee(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new ea;const{error:a}=await Ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Ee(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:o}=e,{error:l}=await Ie(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:n,type:a,options:o}=e,{data:l,error:c}=await Ie(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:c}}throw new Ll("You must provide either an email or phone number and a type")}catch(t){if(Ee(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Da(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Pf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const l=await Da(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=Uf()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,h,v)=>(!l&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,h,v))})}return{data:{session:e},error:null}}const{session:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ra}):await this._useSession(async t=>{var n,a,o;const{data:l,error:c}=t;if(c)throw c;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ea}:await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:ra})})}catch(t){if(Ee(t))return J_(t)&&(await this._removeSession(),await Kn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:a,error:o}=n;if(o)throw o;if(!a.session)throw new ea;const l=a.session;let c=null,f=null;this.flowType==="pkce"&&e.email!=null&&([c,f]=await Mi(this.storage,this.storageKey));const{data:h,error:v}=await Ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:f}),jwt:l.access_token,xform:ra});if(v)throw v;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ea;const t=Date.now()/1e3;let n=t,a=!0,o=null;const{payload:l}=jf(e.access_token);if(l.exp&&(n=l.exp,a=n<=t),a){const{session:c,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:f}=await this._getUser(e.access_token);if(f)throw f;o={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(t){if(Ee(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:l,error:c}=t;if(c)throw c;e=(n=l.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new ea;const{session:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Ee(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Ur())throw new jl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new jl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new np("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jl("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new np("No code detected.");const{data:T,error:O}=await this._exchangeCodeForSession(e.code);if(O)throw O;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:o,refresh_token:l,expires_in:c,expires_at:f,token_type:h}=e;if(!o||!c||!l||!h)throw new jl("No session defined in URL");const v=Math.round(Date.now()/1e3),g=parseInt(c);let x=v+g;f&&(x=parseInt(f));const m=x-v;m*1e3<=ji&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${g}s`);const w=x-g;v-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,x,v):v-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,x,v);const{data:S,error:E}=await this._getUser(o);if(E)throw E;const b={provider_token:n,provider_refresh_token:a,access_token:o,expires_in:g,expires_at:x,refresh_token:l,token_type:h,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(n){if(Ee(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Da(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:a,error:o}=t;if(o)return{error:o};const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(Q_(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await Kn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=uw(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,a;try{const{data:{session:o},error:l}=t;if(l)throw l;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Mi(this.storage,this.storageKey,!0));try{return await Ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(Ee(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Ee(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:a}=await this._useSession(async o=>{var l,c,f,h,v;const{data:g,error:x}=o;if(x)throw x;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Ie(this.fetch,"GET",m,{headers:this.headers,jwt:(v=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return Ur()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(Ee(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,a;const{data:o,error:l}=t;if(l)throw l;return await Ie(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(t){if(Ee(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await hw(async a=>(a>0&&await dw(200*Math.pow(2,a-1)),this._debug(t,"refreshing attempt",a),await Ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:mn})),(a,o)=>{const l=200*Math.pow(2,a);return o&&Lf(o)&&Date.now()+l-n<ji})}catch(n){if(this._debug(t,"error",n),Ee(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Ur()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Da(this.storage,this.storageKey);if(a&&this.userStorage){let l=await Da(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await Ui(this.userStorage,this.storageKey+"-user",l)),a.user=(e=l?.user)!==null&&e!==void 0?e:Uf()}else if(a&&!a.user&&!a.user){const l=await Da(this.storage,this.storageKey+"-user");l&&l?.user?(a.user=l.user,await Kn(this.storage,this.storageKey+"-user"),await Ui(this.storage,this.storageKey,a)):a.user=Uf()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const o=((t=a.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Pf;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Pf}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),Lf(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(a.access_token);!c&&l?.user?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new ea;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new su;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new ea;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={session:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(a,"error",o),Ee(o)){const l={session:null,error:o};return Lf(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,t)}catch(f){o.push(f)}});if(await Promise.all(l),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&t.user&&await Ui(this.userStorage,this.storageKey+"-user",{user:t.user});const a=Object.assign({},t);delete a.user;const o=lp(a);await Ui(this.storage,this.storageKey,o)}else{const a=lp(t);await Ui(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Kn(this.storage,this.storageKey),await Kn(this.storage,this.storageKey+"-code-verifier"),await Kn(this.storage,this.storageKey+"-user"),this.userStorage&&await Kn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ur()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ji);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/ji);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ji}ms, refresh threshold is ${od} ticks`),a<=od&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Rg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ur()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const a=[`provider=${encodeURIComponent(t)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,l]=await Mi(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(c.toString())}if(n?.queryParams){const o=new URLSearchParams(n.queryParams);a.push(o.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:a,error:o}=t;return o?{data:null,error:o}:await Ie(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(Ee(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,a;const{data:o,error:l}=t;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:f,error:h}=await Ie(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&(!((a=f?.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(t){if(Ee(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:a,error:o}=t;if(o)return{data:null,error:o};const{data:l,error:c}=await Ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(t){if(Ee(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:a,error:o}=t;return o?{data:null,error:o}:await Ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(Ee(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=e?.factors||[],a=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),o=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:a,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:a},error:o}=e;if(o)return{data:null,error:o};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=jf(a.access_token);let c=null;l.aal&&(c=l.aal);let f=c;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const v=l.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(c=>c.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(c=>c.kid===e),n&&this.jwks_cached_at+Z_>a)return n;const{data:o,error:l}=await Ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,n=o.keys.find(c=>c.kid===e),!n)?null:n}async getClaims(e,t={}){try{let n=e;if(!n){const{data:m,error:w}=await this.getSession();if(w||!m.session)return{data:null,error:w};n=m.session.access_token}const{header:a,payload:o,signature:l,raw:{header:c,payload:f}}=jf(n);t?.allowExpired||_w(o.exp);const h=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!h){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:o,header:a,signature:l},error:null}}const v=ww(a.alg),g=await crypto.subtle.importKey("jwk",h,v,!0,["verify"]);if(!await crypto.subtle.verify(v,g,l,ow(`${c}.${f}`)))throw new ud("Invalid JWT signature");return{data:{claims:o,header:a,signature:l},error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}}ds.nextInstanceID=0;const Lw=ds;class jw extends Lw{constructor(e){super(e)}}var Uw=function(r,e,t,n){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(v){try{h(n.next(v))}catch(g){l(g)}}function f(v){try{h(n.throw(v))}catch(g){l(g)}}function h(v){v.done?o(v.value):a(v.value).then(c,f)}h((n=n.apply(r,e||[])).next())})};class Fw{constructor(e,t,n){var a,o,l;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const c=G_(e),f=new URL(c);this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const h=`sb-${f.hostname.split(".")[0]}-auth-token`,v={db:P_,realtime:j_,auth:Object.assign(Object.assign({},L_),{storageKey:h}),global:k_},g=X_(n??{},v);this.storageKey=(a=g.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=g.global.headers)!==null&&o!==void 0?o:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(x,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=g.auth)!==null&&l!==void 0?l:{},this.headers,g.global.fetch),this.fetch=H_(t,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new r_(new URL("rest/v1",f).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new N_(this.storageUrl.href,this.headers,this.fetch,n?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new Gm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Uw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,storageKey:o,flowType:l,lock:c,debug:f},h,v){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jw({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),h),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,flowType:l,lock:c,debug:f,fetch:v,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new m_(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zw=(r,e,t)=>new Fw(r,e,t);function Hw(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Hw()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Vw="https://znqhoohjugyblgwepovp.supabase.co",Gw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpucWhvb2hqdWd5Ymxnd2Vwb3ZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ0OTk0OTAsImV4cCI6MjA3MDA3NTQ5MH0.dEWUpJtDbzLKRv9UtxpJLEmSMT6M_QChI3eu8EjO3dY",ze=zw(Vw,Gw,{realtime:{params:{eventsPerSecond:10}}});function Xw(r,e){var t=Object.setPrototypeOf;t?t(r,e):r.__proto__=e}function qw(r,e){e===void 0&&(e=r.constructor);var t=Error.captureStackTrace;t&&t(r,e)}var $w=(function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])},r(t,n)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Yw=(function(r){$w(e,r);function e(t,n){var a=this.constructor,o=r.call(this,t,n)||this;return Object.defineProperty(o,"name",{value:a.name,enumerable:!1,configurable:!0}),Xw(o,a.prototype),qw(o),o}return e})(Error),Ww=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),dr=(function(r){Ww(e,r);function e(t){t===void 0&&(t=void 0);var n=r.call(this,t)||this;return n.message=t,n}return e.prototype.getKind=function(){var t=this.constructor;return t.kind},e.kind="Exception",e})(Yw),Zw=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),pt=(function(r){Zw(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArgumentException",e})(dr),Kw=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),ge=(function(r){Kw(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e})(dr),Dg=(function(){function r(e){if(this.binarizer=e,e===null)throw new ge("Binarizer must be non-null.")}return r.prototype.getWidth=function(){return this.binarizer.getWidth()},r.prototype.getHeight=function(){return this.binarizer.getHeight()},r.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},r.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},r.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},r.prototype.crop=function(e,t,n,a){var o=this.binarizer.getLuminanceSource().crop(e,t,n,a);return new r(this.binarizer.createBinarizer(o))},r.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},r.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new r(this.binarizer.createBinarizer(e))},r.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new r(this.binarizer.createBinarizer(e))},r.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},r})(),Qw=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),mt=(function(r){Qw(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e})(dr),Jw=(function(){function r(e){this.source=e}return r.prototype.getLuminanceSource=function(){return this.source},r.prototype.getWidth=function(){return this.source.getWidth()},r.prototype.getHeight=function(){return this.source.getHeight()},r})(),rt=(function(){function r(){}return r.arraycopy=function(e,t,n,a,o){for(;o--;)n[a++]=e[t++]},r.currentTimeMillis=function(){return Date.now()},r})(),e3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Id=(function(r){e3(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e})(dr),t3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),hp=(function(r){t3(e,r);function e(t,n){t===void 0&&(t=void 0),n===void 0&&(n=void 0);var a=r.call(this,n)||this;return a.index=t,a.message=n,a}return e.kind="ArrayIndexOutOfBoundsException",e})(Id),r3=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dt=(function(){function r(){}return r.fill=function(e,t){for(var n=0,a=e.length;n<a;n++)e[n]=t},r.fillWithin=function(e,t,n,a){r.rangeCheck(e.length,t,n);for(var o=t;o<n;o++)e[o]=a},r.rangeCheck=function(e,t,n){if(t>n)throw new ge("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new hp(t);if(n>e)throw new hp(n)},r.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},r.create=function(e,t,n){var a=Array.from({length:e});return a.map(function(o){return Array.from({length:t}).fill(n)})},r.createInt32Array=function(e,t,n){var a=Array.from({length:e});return a.map(function(o){return Int32Array.from({length:t}).fill(n)})},r.equals=function(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(var n=0,a=e.length;n<a;n++)if(e[n]!==t[n])return!1;return!0},r.hashCode=function(e){var t,n;if(e===null)return 0;var a=1;try{for(var o=r3(e),l=o.next();!l.done;l=o.next()){var c=l.value;a=31*a+c}}catch(f){t={error:f}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return a},r.fillUint8Array=function(e,t){for(var n=0;n!==e.length;n++)e[n]=t},r.copyOf=function(e,t){return e.slice(0,t)},r.copyOfUint8Array=function(e,t){if(e.length<=t){var n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)},r.copyOfRange=function(e,t,n){var a=n-t,o=new Int32Array(a);return rt.arraycopy(e,t,o,0,a),o},r.binarySearch=function(e,t,n){n===void 0&&(n=r.numberComparator);for(var a=0,o=e.length-1;a<=o;){var l=o+a>>1,c=n(t,e[l]);if(c>0)a=l+1;else if(c<0)o=l-1;else return l}return-a-1},r.numberComparator=function(e,t){return e-t},r})(),Oe=(function(){function r(){}return r.numberOfTrailingZeros=function(e){var t;if(e===0)return 32;var n=31;return t=e<<16,t!==0&&(n-=16,e=t),t=e<<8,t!==0&&(n-=8,e=t),t=e<<4,t!==0&&(n-=4,e=t),t=e<<2,t!==0&&(n-=2,e=t),n-(e<<1>>>31)},r.numberOfLeadingZeros=function(e){if(e===0)return 32;var t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t},r.toHexString=function(e){return e.toString(16)},r.toBinaryString=function(e){return String(parseInt(String(e),2))},r.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},r.truncDivision=function(e,t){return Math.trunc(e/t)},r.parseInt=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},r.MIN_VALUE_32_BITS=-2147483648,r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r})(),Ut=(function(){function r(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=r.makeArray(e):this.bits=t)}return r.prototype.getSize=function(){return this.size},r.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},r.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var t=r.makeArray(e);rt.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},r.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},r.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},r.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},r.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,a=Math.floor(e/32),o=n[a];o&=~((1<<(e&31))-1);for(var l=n.length;o===0;){if(++a===l)return t;o=n[a]}var c=a*32+Oe.numberOfTrailingZeros(o);return c>t?t:c},r.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,a=Math.floor(e/32),o=~n[a];o&=~((1<<(e&31))-1);for(var l=n.length;o===0;){if(++a===l)return t;o=~n[a]}var c=a*32+Oe.numberOfTrailingZeros(o);return c>t?t:c},r.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},r.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new ge;if(t!==e){t--;for(var n=Math.floor(e/32),a=Math.floor(t/32),o=this.bits,l=n;l<=a;l++){var c=l>n?0:e&31,f=l<a?31:t&31,h=(2<<f)-(1<<c);o[l]|=h}}},r.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,n=0;n<e;n++)t[n]=0},r.prototype.isRange=function(e,t,n){if(t<e||e<0||t>this.size)throw new ge;if(t===e)return!0;t--;for(var a=Math.floor(e/32),o=Math.floor(t/32),l=this.bits,c=a;c<=o;c++){var f=c>a?0:e&31,h=c<o?31:t&31,v=(2<<h)-(1<<f)&4294967295;if((l[c]&v)!==(n?v:0))return!1}return!0},r.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},r.prototype.appendBits=function(e,t){if(t<0||t>32)throw new ge("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var n=t;n>0;n--)this.appendBit((e>>n-1&1)===1)},r.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var n=0;n<t;n++)this.appendBit(e.get(n))},r.prototype.xor=function(e){if(this.size!==e.size)throw new ge("Sizes don't match");for(var t=this.bits,n=0,a=t.length;n<a;n++)t[n]^=e.bits[n]},r.prototype.toBytes=function(e,t,n,a){for(var o=0;o<a;o++){for(var l=0,c=0;c<8;c++)this.get(e)&&(l|=1<<7-c),e++;t[n+o]=l}},r.prototype.getBitArray=function(){return this.bits},r.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,a=this.bits,o=0;o<n;o++){var l=a[o];l=l>>1&1431655765|(l&1431655765)<<1,l=l>>2&858993459|(l&858993459)<<2,l=l>>4&252645135|(l&252645135)<<4,l=l>>8&16711935|(l&16711935)<<8,l=l>>16&65535|(l&65535)<<16,e[t-o]=l}if(this.size!==n*32){for(var c=n*32-this.size,f=e[0]>>>c,o=1;o<n;o++){var h=e[o];f|=h<<32-c,e[o-1]=f,f=h>>>c}e[n-1]=f}this.bits=e},r.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.size===t.size&&Dt.equals(this.bits,t.bits)},r.prototype.hashCode=function(){return 31*this.size+Dt.hashCode(this.bits)},r.prototype.toString=function(){for(var e="",t=0,n=this.size;t<n;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e},r.prototype.clone=function(){return new r(this.size,this.bits.slice())},r.prototype.toArray=function(){for(var e=[],t=0,n=this.size;t<n;t++)e.push(this.get(t));return e},r})(),cd;(function(r){r[r.OTHER=0]="OTHER",r[r.PURE_BARCODE=1]="PURE_BARCODE",r[r.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",r[r.TRY_HARDER=3]="TRY_HARDER",r[r.CHARACTER_SET=4]="CHARACTER_SET",r[r.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",r[r.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",r[r.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",r[r.ASSUME_GS1=8]="ASSUME_GS1",r[r.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",r[r.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",r[r.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(cd||(cd={}));const nt=cd;var n3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),se=(function(r){n3(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e})(dr),a3=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xe;(function(r){r[r.Cp437=0]="Cp437",r[r.ISO8859_1=1]="ISO8859_1",r[r.ISO8859_2=2]="ISO8859_2",r[r.ISO8859_3=3]="ISO8859_3",r[r.ISO8859_4=4]="ISO8859_4",r[r.ISO8859_5=5]="ISO8859_5",r[r.ISO8859_6=6]="ISO8859_6",r[r.ISO8859_7=7]="ISO8859_7",r[r.ISO8859_8=8]="ISO8859_8",r[r.ISO8859_9=9]="ISO8859_9",r[r.ISO8859_10=10]="ISO8859_10",r[r.ISO8859_11=11]="ISO8859_11",r[r.ISO8859_13=12]="ISO8859_13",r[r.ISO8859_14=13]="ISO8859_14",r[r.ISO8859_15=14]="ISO8859_15",r[r.ISO8859_16=15]="ISO8859_16",r[r.SJIS=16]="SJIS",r[r.Cp1250=17]="Cp1250",r[r.Cp1251=18]="Cp1251",r[r.Cp1252=19]="Cp1252",r[r.Cp1256=20]="Cp1256",r[r.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",r[r.UTF8=22]="UTF8",r[r.ASCII=23]="ASCII",r[r.Big5=24]="Big5",r[r.GB18030=25]="GB18030",r[r.EUC_KR=26]="EUC_KR"})(Xe||(Xe={}));var Rt=(function(){function r(e,t,n){for(var a,o,l=[],c=3;c<arguments.length;c++)l[c-3]=arguments[c];this.valueIdentifier=e,this.name=n,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=l,r.VALUE_IDENTIFIER_TO_ECI.set(e,this),r.NAME_TO_ECI.set(n,this);for(var f=this.values,h=0,v=f.length;h!==v;h++){var g=f[h];r.VALUES_TO_ECI.set(g,this)}try{for(var x=a3(l),m=x.next();!m.done;m=x.next()){var w=m.value;r.NAME_TO_ECI.set(w,this)}}catch(S){a={error:S}}finally{try{m&&!m.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}}return r.prototype.getValueIdentifier=function(){return this.valueIdentifier},r.prototype.getName=function(){return this.name},r.prototype.getValue=function(){return this.values[0]},r.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new se("incorect value");var t=r.VALUES_TO_ECI.get(e);if(t===void 0)throw new se("incorect value");return t},r.getCharacterSetECIByName=function(e){var t=r.NAME_TO_ECI.get(e);if(t===void 0)throw new se("incorect value");return t},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.getName()===t.getName()},r.VALUE_IDENTIFIER_TO_ECI=new Map,r.VALUES_TO_ECI=new Map,r.NAME_TO_ECI=new Map,r.Cp437=new r(Xe.Cp437,Int32Array.from([0,2]),"Cp437"),r.ISO8859_1=new r(Xe.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),r.ISO8859_2=new r(Xe.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),r.ISO8859_3=new r(Xe.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),r.ISO8859_4=new r(Xe.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),r.ISO8859_5=new r(Xe.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),r.ISO8859_6=new r(Xe.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),r.ISO8859_7=new r(Xe.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),r.ISO8859_8=new r(Xe.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),r.ISO8859_9=new r(Xe.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),r.ISO8859_10=new r(Xe.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),r.ISO8859_11=new r(Xe.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),r.ISO8859_13=new r(Xe.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),r.ISO8859_14=new r(Xe.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),r.ISO8859_15=new r(Xe.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),r.ISO8859_16=new r(Xe.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),r.SJIS=new r(Xe.SJIS,20,"SJIS","Shift_JIS"),r.Cp1250=new r(Xe.Cp1250,21,"Cp1250","windows-1250"),r.Cp1251=new r(Xe.Cp1251,22,"Cp1251","windows-1251"),r.Cp1252=new r(Xe.Cp1252,23,"Cp1252","windows-1252"),r.Cp1256=new r(Xe.Cp1256,24,"Cp1256","windows-1256"),r.UnicodeBigUnmarked=new r(Xe.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),r.UTF8=new r(Xe.UTF8,26,"UTF8","UTF-8"),r.ASCII=new r(Xe.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),r.Big5=new r(Xe.Big5,28,"Big5"),r.GB18030=new r(Xe.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),r.EUC_KR=new r(Xe.EUC_KR,30,"EUC_KR","EUC-KR"),r})(),i3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),ql=(function(r){i3(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e})(dr),Mr=(function(){function r(){}return r.decode=function(e,t){var n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},r.shouldDecodeOnFallback=function(e){return!r.isBrowser()&&e==="ISO-8859-1"},r.encode=function(e,t){var n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},r.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},r.encodingName=function(e){return typeof e=="string"?e:e.getName()},r.encodingCharacterSet=function(e){return e instanceof Rt?e:Rt.getCharacterSetECIByName(e)},r.decodeFallback=function(e,t){var n=this.encodingCharacterSet(t);if(r.isDecodeFallbackSupported(n)){for(var a="",o=0,l=e.length;o<l;o++){var c=e[o].toString(16);c.length<2&&(c="0"+c),a+="%"+c}return decodeURIComponent(a)}if(n.equals(Rt.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new ql("Encoding "+this.encodingName(t)+" not supported by fallback.")},r.isDecodeFallbackSupported=function(e){return e.equals(Rt.UTF8)||e.equals(Rt.ISO8859_1)||e.equals(Rt.ASCII)},r.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))),n=t.split(""),a=[],o=0;o<n.length;o++)a.push(n[o].charCodeAt(0));return new Uint8Array(a)},r})(),Be=(function(){function r(){}return r.castAsNonUtf8Char=function(e,t){t===void 0&&(t=null);var n=t?t.getName():this.ISO88591;return Mr.decode(new Uint8Array([e]),n)},r.guessEncoding=function(e,t){if(t!=null&&t.get(nt.CHARACTER_SET)!==void 0)return t.get(nt.CHARACTER_SET).toString();for(var n=e.length,a=!0,o=!0,l=!0,c=0,f=0,h=0,v=0,g=0,x=0,m=0,w=0,S=0,E=0,b=0,T=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,O=0;O<n&&(a||o||l);O++){var D=e[O]&255;l&&(c>0?(D&128)===0?l=!1:c--:(D&128)!==0&&((D&64)===0?l=!1:(c++,(D&32)===0?f++:(c++,(D&16)===0?h++:(c++,(D&8)===0?v++:l=!1))))),a&&(D>127&&D<160?a=!1:D>159&&(D<192||D===215||D===247)&&b++),o&&(g>0?D<64||D===127||D>252?o=!1:g--:D===128||D===160||D>239?o=!1:D>160&&D<224?(x++,w=0,m++,m>S&&(S=m)):D>127?(g++,m=0,w++,w>E&&(E=w)):(m=0,w=0))}return l&&c>0&&(l=!1),o&&g>0&&(o=!1),l&&(T||f+h+v>0)?r.UTF8:o&&(r.ASSUME_SHIFT_JIS||S>=3||E>=3)?r.SHIFT_JIS:a&&o?S===2&&x===2||b*10>=n?r.SHIFT_JIS:r.ISO88591:a?r.ISO88591:o?r.SHIFT_JIS:l?r.UTF8:r.PLATFORM_DEFAULT_ENCODING},r.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var a=-1;function o(c,f,h,v,g,x){if(c==="%%")return"%";if(t[++a]!==void 0){c=v?parseInt(v.substr(1)):void 0;var m=g?parseInt(g.substr(1)):void 0,w;switch(x){case"s":w=t[a];break;case"c":w=t[a][0];break;case"f":w=parseFloat(t[a]).toFixed(c);break;case"p":w=parseFloat(t[a]).toPrecision(c);break;case"e":w=parseFloat(t[a]).toExponential(c);break;case"x":w=parseInt(t[a]).toString(m||16);break;case"d":w=parseFloat(parseInt(t[a],m||10).toPrecision(c)).toFixed(0);break}w=typeof w=="object"?JSON.stringify(w):(+w).toString(m);for(var S=parseInt(h),E=h&&h[0]+""=="0"?"0":" ";w.length<S;)w=f!==void 0?w+E:E+w;return w}}var l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(l,o)},r.getBytes=function(e,t){return Mr.encode(e,t)},r.getCharCode=function(e,t){return t===void 0&&(t=0),e.charCodeAt(t)},r.getCharAt=function(e){return String.fromCharCode(e)},r.SHIFT_JIS=Rt.SJIS.getName(),r.GB2312="GB2312",r.ISO88591=Rt.ISO8859_1.getName(),r.EUC_JP="EUC_JP",r.UTF8=Rt.UTF8.getName(),r.PLATFORM_DEFAULT_ENCODING=r.UTF8,r.ASSUME_SHIFT_JIS=!1,r})(),Ce=(function(){function r(e){e===void 0&&(e=""),this.value=e}return r.prototype.enableDecoding=function(e){return this.encoding=e,this},r.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Be.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},r.prototype.appendChars=function(e,t,n){for(var a=t;t<t+n;a++)this.append(e[a]);return this},r.prototype.length=function(){return this.value.length},r.prototype.charAt=function(e){return this.value.charAt(e)},r.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},r.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},r.prototype.substring=function(e,t){return this.value.substring(e,t)},r.prototype.setLengthToZero=function(){this.value=""},r.prototype.toString=function(){return this.value},r.prototype.insert=function(e,t){this.value=this.value.substring(0,e)+t+this.value.substring(e)},r})(),Qr=(function(){function r(e,t,n,a){if(this.width=e,this.height=t,this.rowSize=n,this.bits=a,t==null&&(t=e),this.height=t,e<1||t<1)throw new ge("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return r.parseFromBooleanArray=function(e){for(var t=e.length,n=e[0].length,a=new r(n,t),o=0;o<t;o++)for(var l=e[o],c=0;c<n;c++)l[c]&&a.set(c,o);return a},r.parseFromString=function(e,t,n){if(e===null)throw new ge("stringRepresentation cannot be null");for(var a=new Array(e.length),o=0,l=0,c=-1,f=0,h=0;h<e.length;)if(e.charAt(h)===`
`||e.charAt(h)==="\r"){if(o>l){if(c===-1)c=o-l;else if(o-l!==c)throw new ge("row lengths do not match");l=o,f++}h++}else if(e.substring(h,h+t.length)===t)h+=t.length,a[o]=!0,o++;else if(e.substring(h,h+n.length)===n)h+=n.length,a[o]=!1,o++;else throw new ge("illegal character encountered: "+e.substring(h));if(o>l){if(c===-1)c=o-l;else if(o-l!==c)throw new ge("row lengths do not match");f++}for(var v=new r(c,f),g=0;g<o;g++)a[g]&&v.set(Math.floor(g%c),Math.floor(g/c));return v},r.prototype.get=function(e,t){var n=t*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},r.prototype.set=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},r.prototype.unset=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},r.prototype.flip=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},r.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new ge("input matrix dimensions do not match");for(var t=new Ut(Math.floor(this.width/32)+1),n=this.rowSize,a=this.bits,o=0,l=this.height;o<l;o++)for(var c=o*n,f=e.getRow(o,t).getBitArray(),h=0;h<n;h++)a[c+h]^=f[h]},r.prototype.clear=function(){for(var e=this.bits,t=e.length,n=0;n<t;n++)e[n]=0},r.prototype.setRegion=function(e,t,n,a){if(t<0||e<0)throw new ge("Left and top must be nonnegative");if(a<1||n<1)throw new ge("Height and width must be at least 1");var o=e+n,l=t+a;if(l>this.height||o>this.width)throw new ge("The region must fit inside the matrix");for(var c=this.rowSize,f=this.bits,h=t;h<l;h++)for(var v=h*c,g=e;g<o;g++)f[v+Math.floor(g/32)]|=1<<(g&31)&4294967295},r.prototype.getRow=function(e,t){t==null||t.getSize()<this.width?t=new Ut(this.width):t.clear();for(var n=this.rowSize,a=this.bits,o=e*n,l=0;l<n;l++)t.setBulk(l*32,a[o+l]);return t},r.prototype.setRow=function(e,t){rt.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},r.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),n=new Ut(e),a=new Ut(e),o=0,l=Math.floor((t+1)/2);o<l;o++)n=this.getRow(o,n),a=this.getRow(t-1-o,a),n.reverse(),a.reverse(),this.setRow(o,a),this.setRow(t-1-o,n)},r.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,n=this.rowSize,a=this.bits,o=e,l=t,c=-1,f=-1,h=0;h<t;h++)for(var v=0;v<n;v++){var g=a[h*n+v];if(g!==0){if(h<l&&(l=h),h>f&&(f=h),v*32<o){for(var x=0;(g<<31-x&4294967295)===0;)x++;v*32+x<o&&(o=v*32+x)}if(v*32+31>c){for(var x=31;!(g>>>x);)x--;v*32+x>c&&(c=v*32+x)}}}return c<o||f<l?null:Int32Array.from([o,l,c-o+1,f-l+1])},r.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,n=0;n<t.length&&t[n]===0;)n++;if(n===t.length)return null;for(var a=n/e,o=n%e*32,l=t[n],c=0;(l<<31-c&4294967295)===0;)c++;return o+=c,Int32Array.from([o,a])},r.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,n=t.length-1;n>=0&&t[n]===0;)n--;if(n<0)return null;for(var a=Math.floor(n/e),o=Math.floor(n%e)*32,l=t[n],c=31;!(l>>>c);)c--;return o+=c,Int32Array.from([o,a])},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.getRowSize=function(){return this.rowSize},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&Dt.equals(this.bits,t.bits)},r.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Dt.hashCode(this.bits),e},r.prototype.toString=function(e,t,n){return e===void 0&&(e="X "),t===void 0&&(t="  "),n===void 0&&(n=`
`),this.buildToString(e,t,n)},r.prototype.buildToString=function(e,t,n){for(var a=new Ce,o=0,l=this.height;o<l;o++){for(var c=0,f=this.width;c<f;c++)a.append(this.get(c,o)?e:t);a.append(n)}return a.toString()},r.prototype.clone=function(){return new r(this.width,this.height,this.rowSize,this.bits.slice())},r})(),o3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),W=(function(r){o3(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e})(dr),s3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),l3=(function(r){s3(e,r);function e(t){var n=r.call(this,t)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(t,n){var a=this.getLuminanceSource(),o=a.getWidth();n==null||n.getSize()<o?n=new Ut(o):n.clear(),this.initArrays(o);for(var l=a.getRow(t,this.luminances),c=this.buckets,f=0;f<o;f++)c[(l[f]&255)>>e.LUMINANCE_SHIFT]++;var h=e.estimateBlackPoint(c);if(o<3)for(var f=0;f<o;f++)(l[f]&255)<h&&n.set(f);else for(var v=l[0]&255,g=l[1]&255,f=1;f<o-1;f++){var x=l[f+1]&255;(g*4-v-x)/2<h&&n.set(f),v=g,g=x}return n},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),n=t.getWidth(),a=t.getHeight(),o=new Qr(n,a);this.initArrays(n);for(var l=this.buckets,c=1;c<5;c++)for(var f=Math.floor(a*c/5),h=t.getRow(f,this.luminances),v=Math.floor(n*4/5),g=Math.floor(n/5);g<v;g++){var x=h[g]&255;l[x>>e.LUMINANCE_SHIFT]++}for(var m=e.estimateBlackPoint(l),w=t.getMatrix(),c=0;c<a;c++)for(var S=c*n,g=0;g<n;g++){var x=w[S+g]&255;x<m&&o.set(g,c)}return o},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var n=this.buckets,a=0;a<e.LUMINANCE_BUCKETS;a++)n[a]=0},e.estimateBlackPoint=function(t){for(var n=t.length,a=0,o=0,l=0,c=0;c<n;c++)t[c]>l&&(o=c,l=t[c]),t[c]>a&&(a=t[c]);for(var f=0,h=0,c=0;c<n;c++){var v=c-o,g=t[c]*v*v;g>h&&(f=c,h=g)}if(o>f){var x=o;o=f,f=x}if(f-o<=n/16)throw new W;for(var m=f-1,w=-1,c=f-1;c>o;c--){var S=c-o,g=S*S*(f-c)*(a-t[c]);g>w&&(m=c,w=g)}return m<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e})(Jw),u3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Ig=(function(r){u3(e,r);function e(t){var n=r.call(this,t)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var t=this.getLuminanceSource(),n=t.getWidth(),a=t.getHeight();if(n>=e.MINIMUM_DIMENSION&&a>=e.MINIMUM_DIMENSION){var o=t.getMatrix(),l=n>>e.BLOCK_SIZE_POWER;(n&e.BLOCK_SIZE_MASK)!==0&&l++;var c=a>>e.BLOCK_SIZE_POWER;(a&e.BLOCK_SIZE_MASK)!==0&&c++;var f=e.calculateBlackPoints(o,l,c,n,a),h=new Qr(n,a);e.calculateThresholdForBlock(o,l,c,n,a,f,h),this.matrix=h}else this.matrix=r.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,n,a,o,l,c,f){for(var h=l-e.BLOCK_SIZE,v=o-e.BLOCK_SIZE,g=0;g<a;g++){var x=g<<e.BLOCK_SIZE_POWER;x>h&&(x=h);for(var m=e.cap(g,2,a-3),w=0;w<n;w++){var S=w<<e.BLOCK_SIZE_POWER;S>v&&(S=v);for(var E=e.cap(w,2,n-3),b=0,T=-2;T<=2;T++){var O=c[m+T];b+=O[E-2]+O[E-1]+O[E]+O[E+1]+O[E+2]}var D=b/25;e.thresholdBlock(t,S,x,D,o,f)}}},e.cap=function(t,n,a){return t<n?n:t>a?a:t},e.thresholdBlock=function(t,n,a,o,l,c){for(var f=0,h=a*l+n;f<e.BLOCK_SIZE;f++,h+=l)for(var v=0;v<e.BLOCK_SIZE;v++)(t[h+v]&255)<=o&&c.set(n+v,a+f)},e.calculateBlackPoints=function(t,n,a,o,l){for(var c=l-e.BLOCK_SIZE,f=o-e.BLOCK_SIZE,h=new Array(a),v=0;v<a;v++){h[v]=new Int32Array(n);var g=v<<e.BLOCK_SIZE_POWER;g>c&&(g=c);for(var x=0;x<n;x++){var m=x<<e.BLOCK_SIZE_POWER;m>f&&(m=f);for(var w=0,S=255,E=0,b=0,T=g*o+m;b<e.BLOCK_SIZE;b++,T+=o){for(var O=0;O<e.BLOCK_SIZE;O++){var D=t[T+O]&255;w+=D,D<S&&(S=D),D>E&&(E=D)}if(E-S>e.MIN_DYNAMIC_RANGE)for(b++,T+=o;b<e.BLOCK_SIZE;b++,T+=o)for(var O=0;O<e.BLOCK_SIZE;O++)w+=t[T+O]&255}var N=w>>e.BLOCK_SIZE_POWER*2;if(E-S<=e.MIN_DYNAMIC_RANGE&&(N=S/2,v>0&&x>0)){var k=(h[v-1][x]+2*h[v][x-1]+h[v-1][x-1])/4;S<k&&(N=k)}h[v][x]=N}}return h},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e})(l3),xs=(function(){function r(e,t){this.width=e,this.height=t}return r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.isCropSupported=function(){return!1},r.prototype.crop=function(e,t,n,a){throw new ql("This luminance source does not support cropping.")},r.prototype.isRotateSupported=function(){return!1},r.prototype.rotateCounterClockwise=function(){throw new ql("This luminance source does not support rotation by 90 degrees.")},r.prototype.rotateCounterClockwise45=function(){throw new ql("This luminance source does not support rotation by 45 degrees.")},r.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new Ce,n=0;n<this.height;n++){for(var a=this.getRow(n,e),o=0;o<this.width;o++){var l=a[o]&255,c=void 0;l<64?c="#":l<128?c="+":l<192?c=".":c=" ",t.append(c)}t.append(`
`)}return t.toString()},r})(),c3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),lu=(function(r){c3(e,r);function e(t){var n=r.call(this,t.getWidth(),t.getHeight())||this;return n.delegate=t,n}return e.prototype.getRow=function(t,n){for(var a=this.delegate.getRow(t,n),o=this.getWidth(),l=0;l<o;l++)a[l]=255-(a[l]&255);return a},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(n),o=0;o<n;o++)a[o]=255-(t[o]&255);return a},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,n,a,o){return new e(this.delegate.crop(t,n,a,o))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e})(xs),f3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),d3=(function(r){f3(e,r);function e(t,n){n===void 0&&(n=!1);var a=r.call(this,t.width,t.height)||this;return a.canvas=t,a.tempCanvasElement=null,a.buffer=e.makeBufferFromCanvasImageData(t,n),a}return e.makeBufferFromCanvasImageData=function(t,n){n===void 0&&(n=!1);var a=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(a.data,t.width,t.height,n)},e.toGrayscaleBuffer=function(t,n,a,o){o===void 0&&(o=!1);var l=new Uint8ClampedArray(n*a);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!o)for(var c=0,f=0,h=t.length;c<h;c+=4,f++){var v=void 0,g=t[c+3];if(g===0)v=255;else{var x=t[c],m=t[c+1],w=t[c+2];v=306*x+601*m+117*w+512>>10}l[f]=v}else for(var c=0,f=0,S=t.length;c<S;c+=4,f++){var v=void 0,g=t[c+3];if(g===0)v=255;else{var x=t[c],m=t[c+1],w=t[c+2];v=306*x+601*m+117*w+512>>10}l[f]=255-v}return l},e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new ge("Requested row is outside the image: "+t);var a=this.getWidth(),o=t*a;return n===null?n=this.buffer.slice(o,o+a):(n.length<a&&(n=new Uint8ClampedArray(a)),n.set(this.buffer.slice(o,o+a))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,a,o){return r.prototype.crop.call(this,t,n,a,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var n=this.getTempCanvasElement(),a=n.getContext("2d"),o=t*e.DEGREE_TO_RADIANS,l=this.canvas.width,c=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(o))*l+Math.abs(Math.sin(o))*c),h=Math.ceil(Math.abs(Math.sin(o))*l+Math.abs(Math.cos(o))*c);return n.width=f,n.height=h,a.translate(f/2,h/2),a.rotate(o),a.drawImage(this.canvas,l/-2,c/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new lu(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e})(xs),h3=(function(){function r(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}return r.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},r})(),rr=function(r,e,t,n){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(v){try{h(n.next(v))}catch(g){l(g)}}function f(v){try{h(n.throw(v))}catch(g){l(g)}}function h(v){v.done?o(v.value):a(v.value).then(c,f)}h((n=n.apply(r,e||[])).next())})},nr=function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,a,o,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(h){return function(v){return f([h,v])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,a&&(o=h[0]&2?a.return:h[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,h[1])).done)return o;switch(a=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,a=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(r,t)}catch(v){h=[6,v],a=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},v3=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yi=(function(){function r(e,t,n){t===void 0&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(r.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),r.prototype.listVideoInputDevices=function(){return rr(this,void 0,void 0,function(){var e,t,n,a,o,l,c,f,h,v,g,x;return nr(this,function(m){switch(m.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=m.sent(),t=[];try{for(n=v3(e),a=n.next();!a.done;a=n.next())o=a.value,l=o.kind==="video"?"videoinput":o.kind,l==="videoinput"&&(c=o.deviceId||o.id,f=o.label||"Video device "+(t.length+1),h=o.groupId,v={deviceId:c,label:f,kind:l,groupId:h},t.push(v))}catch(w){g={error:w}}finally{try{a&&!a.done&&(x=n.return)&&x.call(n)}finally{if(g)throw g.error}}return[2,t]}})})},r.prototype.getVideoInputDevices=function(){return rr(this,void 0,void 0,function(){var e;return nr(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=t.sent(),[2,e.map(function(n){return new h3(n.deviceId,n.label)})]}})})},r.prototype.findDeviceById=function(e){return rr(this,void 0,void 0,function(){var t;return nr(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=n.sent(),t?[2,t.find(function(a){return a.deviceId===e})]:[2,null]}})})},r.prototype.decodeFromInputVideoDevice=function(e,t){return rr(this,void 0,void 0,function(){return nr(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,n.sent()]}})})},r.prototype.decodeOnceFromVideoDevice=function(e,t){return rr(this,void 0,void 0,function(){var n,a;return nr(this,function(o){switch(o.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},a={video:n},[4,this.decodeOnceFromConstraints(a,t)];case 1:return[2,o.sent()]}})})},r.prototype.decodeOnceFromConstraints=function(e,t){return rr(this,void 0,void 0,function(){var n;return nr(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=a.sent(),[4,this.decodeOnceFromStream(n,t)];case 2:return[2,a.sent()]}})})},r.prototype.decodeOnceFromStream=function(e,t){return rr(this,void 0,void 0,function(){var n,a;return nr(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return n=o.sent(),[4,this.decodeOnce(n)];case 2:return a=o.sent(),[2,a]}})})},r.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,n){return rr(this,void 0,void 0,function(){return nr(this,function(a){switch(a.label){case 0:return[4,this.decodeFromVideoDevice(e,t,n)];case 1:return[2,a.sent()]}})})},r.prototype.decodeFromVideoDevice=function(e,t,n){return rr(this,void 0,void 0,function(){var a,o;return nr(this,function(l){switch(l.label){case 0:return e?a={deviceId:{exact:e}}:a={facingMode:"environment"},o={video:a},[4,this.decodeFromConstraints(o,t,n)];case 1:return[2,l.sent()]}})})},r.prototype.decodeFromConstraints=function(e,t,n){return rr(this,void 0,void 0,function(){var a;return nr(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return a=o.sent(),[4,this.decodeFromStream(a,t,n)];case 2:return[2,o.sent()]}})})},r.prototype.decodeFromStream=function(e,t,n){return rr(this,void 0,void 0,function(){var a;return nr(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return a=o.sent(),[4,this.decodeContinuously(a,n)];case 2:return[2,o.sent()]}})})},r.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},r.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},r.prototype.attachStreamToVideo=function(e,t){return rr(this,void 0,void 0,function(){var n;return nr(this,function(a){switch(a.label){case 0:return n=this.prepareVideoElement(t),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return a.sent(),[2,n]}})})},r.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(n,a){return t.playVideoOnLoad(e,function(){return n()})})},r.prototype.playVideoOnLoad=function(e,t){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},r.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},r.prototype.tryPlayVideo=function(e){return rr(this,void 0,void 0,function(){return nr(this,function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},r.prototype.getMediaElement=function(e,t){var n=document.getElementById(e);if(!n)throw new pt("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new pt("element with id '"+e+"' must be an "+t+" element");return n},r.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new pt("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},r.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new pt("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},r.prototype.decodeFromVideoContinuously=function(e,t,n){if(e===void 0&&t===void 0)throw new pt("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)},r.prototype.decodeFromImageElement=function(e){if(!e)throw new pt("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);this.imageElement=t;var n;return this.isImageLoaded(t)?n=this.decodeOnce(t,!1,!0):n=this._decodeOnLoadImage(t),n},r.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},r.prototype.decodeFromVideoElementContinuously=function(e,t){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)},r.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new pt("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},r.prototype.decodeFromImageUrl=function(e){if(!e)throw new pt("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var n=this._decodeOnLoadImage(t);return t.src=e,n},r.prototype.decodeFromVideoUrl=function(e){if(!e)throw new pt("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n},r.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new pt("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(n,t);return n.src=e,a},r.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(n,a){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(n,a)},e.addEventListener("load",t.imageLoadedListener)})},r.prototype._decodeOnLoadVideo=function(e){return rr(this,void 0,void 0,function(){return nr(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},r.prototype._decodeOnLoadVideoContinuously=function(e,t){return rr(this,void 0,void 0,function(){return nr(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,t),[2]}})})},r.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},r.prototype.prepareImageElement=function(e){var t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},r.prototype.prepareVideoElement=function(e){var t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},r.prototype.decodeOnce=function(e,t,n){var a=this;t===void 0&&(t=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var o=function(l,c){if(a._stopAsyncDecode){c(new W("Video stream has ended before any code could be detected.")),a._stopAsyncDecode=void 0;return}try{var f=a.decode(e);l(f)}catch(x){var h=t&&x instanceof W,v=x instanceof mt||x instanceof se,g=v&&n;if(h||g)return setTimeout(o,a._timeBetweenDecodingAttempts,l,c);c(x)}};return new Promise(function(l,c){return o(l,c)})},r.prototype.decodeContinuously=function(e,t){var n=this;this._stopContinuousDecode=!1;var a=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var o=n.decode(e);t(o,null),setTimeout(a,n.timeBetweenScansMillis)}catch(f){t(null,f);var l=f instanceof mt||f instanceof se,c=f instanceof W;(l||c)&&setTimeout(a,n._timeBetweenDecodingAttempts)}};a()},r.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},r.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var t=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),t=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),a=new d3(n,t),o=new Ig(a);return new Dg(o)},r.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),n=void 0;try{n=t.getContext("2d",{willReadFrequently:!0})}catch{n=t.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},r.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},r.prototype.drawFrameOnCanvas=function(e,t,n){t===void 0&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},r.prototype.drawImageOnCanvas=function(e,t,n){t===void 0&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},r.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},r.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var t=document.createElement("canvas"),n,a;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,a=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,a=e.naturalHeight||e.height)),t.style.width=n+"px",t.style.height=a+"px",t.width=n,t.height=a,t},r.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},r.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},r.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},r.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},r.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},r.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}},r.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},r})(),Zt=(function(){function r(e,t,n,a,o,l){n===void 0&&(n=t==null?0:8*t.length),l===void 0&&(l=rt.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=a,this.format=o,this.timestamp=l,this.text=e,this.rawBytes=t,n==null?this.numBits=t==null?0:8*t.length:this.numBits=n,this.resultPoints=a,this.format=o,this.resultMetadata=null,l==null?this.timestamp=rt.currentTimeMillis():this.timestamp=l}return r.prototype.getText=function(){return this.text},r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.getBarcodeFormat=function(){return this.format},r.prototype.getResultMetadata=function(){return this.resultMetadata},r.prototype.putMetadata=function(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},r.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},r.prototype.addResultPoints=function(e){var t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(t.length+e.length);rt.arraycopy(t,0,n,0,t.length),rt.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.toString=function(){return this.text},r})(),fd;(function(r){r[r.AZTEC=0]="AZTEC",r[r.CODABAR=1]="CODABAR",r[r.CODE_39=2]="CODE_39",r[r.CODE_93=3]="CODE_93",r[r.CODE_128=4]="CODE_128",r[r.DATA_MATRIX=5]="DATA_MATRIX",r[r.EAN_8=6]="EAN_8",r[r.EAN_13=7]="EAN_13",r[r.ITF=8]="ITF",r[r.MAXICODE=9]="MAXICODE",r[r.PDF_417=10]="PDF_417",r[r.QR_CODE=11]="QR_CODE",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(fd||(fd={}));const pe=fd;var dd;(function(r){r[r.OTHER=0]="OTHER",r[r.ORIENTATION=1]="ORIENTATION",r[r.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",r[r.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",r[r.ISSUE_NUMBER=4]="ISSUE_NUMBER",r[r.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",r[r.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",r[r.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",r[r.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",r[r.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",r[r.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(dd||(dd={}));const Xt=dd;var uu=(function(){function r(e,t,n,a,o,l){o===void 0&&(o=-1),l===void 0&&(l=-1),this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=a,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=l,this.numBits=e==null?0:8*e.length}return r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.setNumBits=function(e){this.numBits=e},r.prototype.getText=function(){return this.text},r.prototype.getByteSegments=function(){return this.byteSegments},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getErrorsCorrected=function(){return this.errorsCorrected},r.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},r.prototype.getErasures=function(){return this.erasures},r.prototype.setErasures=function(e){this.erasures=e},r.prototype.getOther=function(){return this.other},r.prototype.setOther=function(e){this.other=e},r.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},r.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},r.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},r})(),is=(function(){function r(){}return r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new ge;return this.logTable[e]},r.addOrSubtract=function(e,t){return e^t},r})(),na=(function(){function r(e,t){if(t.length===0)throw new ge;this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var a=1;a<n&&t[a]===0;)a++;a===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-a),rt.arraycopy(t,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var t=this.coefficients,n;if(e===1){n=0;for(var a=0,o=t.length;a!==o;a++){var l=t[a];n=is.addOrSubtract(n,l)}return n}n=t[0];for(var c=t.length,f=this.field,a=1;a<c;a++)n=is.addOrSubtract(f.multiply(e,n),t[a]);return n},r.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new ge("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var a=t;t=n,n=a}var o=new Int32Array(n.length),l=n.length-t.length;rt.arraycopy(n,0,o,0,l);for(var c=l;c<n.length;c++)o[c]=is.addOrSubtract(t[c-l],n[c]);return new r(this.field,o)},r.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new ge("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,n=t.length,a=e.coefficients,o=a.length,l=new Int32Array(n+o-1),c=this.field,f=0;f<n;f++)for(var h=t[f],v=0;v<o;v++)l[f+v]=is.addOrSubtract(l[f+v],c.multiply(h,a[v]));return new r(c,l)},r.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var t=this.coefficients.length,n=this.field,a=new Int32Array(t),o=this.coefficients,l=0;l<t;l++)a[l]=n.multiply(o[l],e);return new r(n,a)},r.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new ge;if(t===0)return this.field.getZero();for(var n=this.coefficients,a=n.length,o=new Int32Array(a+e),l=this.field,c=0;c<a;c++)o[c]=l.multiply(n[c],t);return new r(l,o)},r.prototype.divide=function(e){if(!this.field.equals(e.field))throw new ge("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new ge("Divide by 0");for(var t=this.field,n=t.getZero(),a=this,o=e.getCoefficient(e.getDegree()),l=t.inverse(o);a.getDegree()>=e.getDegree()&&!a.isZero();){var c=a.getDegree()-e.getDegree(),f=t.multiply(a.getCoefficient(a.getDegree()),l),h=e.multiplyByMonomial(c,f),v=t.buildMonomial(c,f);n=n.addOrSubtract(v),a=a.addOrSubtract(h)}return[n,a]},r.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),t===0||n!==1){var a=this.field.log(n);a===0?e+="1":a===1?e+="a":(e+="a^",e+=a)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e},r})(),p3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Ng=(function(r){p3(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArithmeticException",e})(dr),g3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),fr=(function(r){g3(e,r);function e(t,n,a){var o=r.call(this)||this;o.primitive=t,o.size=n,o.generatorBase=a;for(var l=new Int32Array(n),c=1,f=0;f<n;f++)l[f]=c,c*=2,c>=n&&(c^=t,c&=n-1);o.expTable=l;for(var h=new Int32Array(n),f=0;f<n-1;f++)h[l[f]]=f;return o.logTable=h,o.zero=new na(o,Int32Array.from([0])),o.one=new na(o,Int32Array.from([1])),o}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,n){if(t<0)throw new ge;if(n===0)return this.zero;var a=new Int32Array(t+1);return a[0]=n,new na(this,a)},e.prototype.inverse=function(t){if(t===0)throw new Ng;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,n){return t===0||n===0?0:this.expTable[(this.logTable[t]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Oe.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e})(is),y3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Ul=(function(r){y3(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReedSolomonException",e})(dr),x3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),ms=(function(r){x3(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalStateException",e})(dr),cu=(function(){function r(e){this.field=e}return r.prototype.decode=function(e,t){for(var n=this.field,a=new na(n,e),o=new Int32Array(t),l=!0,c=0;c<t;c++){var f=a.evaluateAt(n.exp(c+n.getGeneratorBase()));o[o.length-1-c]=f,f!==0&&(l=!1)}if(!l)for(var h=new na(n,o),v=this.runEuclideanAlgorithm(n.buildMonomial(t,1),h,t),g=v[0],x=v[1],m=this.findErrorLocations(g),w=this.findErrorMagnitudes(x,m),c=0;c<m.length;c++){var S=e.length-1-n.log(m[c]);if(S<0)throw new Ul("Bad error location");e[S]=fr.addOrSubtract(e[S],w[c])}},r.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var a=e;e=t,t=a}for(var o=this.field,l=e,c=t,f=o.getZero(),h=o.getOne();c.getDegree()>=(n/2|0);){var v=l,g=f;if(l=c,f=h,l.isZero())throw new Ul("r_{i-1} was zero");c=v;for(var x=o.getZero(),m=l.getCoefficient(l.getDegree()),w=o.inverse(m);c.getDegree()>=l.getDegree()&&!c.isZero();){var S=c.getDegree()-l.getDegree(),E=o.multiply(c.getCoefficient(c.getDegree()),w);x=x.addOrSubtract(o.buildMonomial(S,E)),c=c.addOrSubtract(l.multiplyByMonomial(S,E))}if(h=x.multiply(f).addOrSubtract(g),c.getDegree()>=l.getDegree())throw new ms("Division algorithm failed to reduce polynomial?")}var b=h.getCoefficient(0);if(b===0)throw new Ul("sigmaTilde(0) was zero");var T=o.inverse(b),O=h.multiplyScalar(T),D=c.multiplyScalar(T);return[O,D]},r.prototype.findErrorLocations=function(e){var t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(t),a=0,o=this.field,l=1;l<o.getSize()&&a<t;l++)e.evaluateAt(l)===0&&(n[a]=o.inverse(l),a++);if(a!==t)throw new Ul("Error locator degree does not match number of roots");return n},r.prototype.findErrorMagnitudes=function(e,t){for(var n=t.length,a=new Int32Array(n),o=this.field,l=0;l<n;l++){for(var c=o.inverse(t[l]),f=1,h=0;h<n;h++)if(l!==h){var v=o.multiply(t[h],c),g=(v&1)===0?v|1:v&-2;f=o.multiply(f,g)}a[l]=o.multiply(e.evaluateAt(c),o.inverse(f)),o.getGeneratorBase()!==0&&(a[l]=o.multiply(a[l],c))}return a},r})(),Vt;(function(r){r[r.UPPER=0]="UPPER",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.DIGIT=3]="DIGIT",r[r.PUNCT=4]="PUNCT",r[r.BINARY=5]="BINARY"})(Vt||(Vt={}));var vp=(function(){function r(){}return r.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),n=this.extractBits(t),a=this.correctBits(n),o=r.convertBoolArrayToByteArray(a),l=r.getEncodedData(a),c=new uu(o,l,null,null);return c.setNumBits(a.length),c},r.highLevelDecode=function(e){return this.getEncodedData(e)},r.getEncodedData=function(e){for(var t=e.length,n=Vt.UPPER,a=Vt.UPPER,o="",l=0;l<t;)if(a===Vt.BINARY){if(t-l<5)break;var c=r.readCode(e,l,5);if(l+=5,c===0){if(t-l<11)break;c=r.readCode(e,l,11)+31,l+=11}for(var f=0;f<c;f++){if(t-l<8){l=t;break}var h=r.readCode(e,l,8);o+=Be.castAsNonUtf8Char(h),l+=8}a=n}else{var v=a===Vt.DIGIT?4:5;if(t-l<v)break;var h=r.readCode(e,l,v);l+=v;var g=r.getCharacter(a,h);g.startsWith("CTRL_")?(n=a,a=r.getTable(g.charAt(5)),g.charAt(6)==="L"&&(n=a)):(o+=g,a=n)}return o},r.getTable=function(e){switch(e){case"L":return Vt.LOWER;case"P":return Vt.PUNCT;case"M":return Vt.MIXED;case"D":return Vt.DIGIT;case"B":return Vt.BINARY;case"U":default:return Vt.UPPER}},r.getCharacter=function(e,t){switch(e){case Vt.UPPER:return r.UPPER_TABLE[t];case Vt.LOWER:return r.LOWER_TABLE[t];case Vt.MIXED:return r.MIXED_TABLE[t];case Vt.PUNCT:return r.PUNCT_TABLE[t];case Vt.DIGIT:return r.DIGIT_TABLE[t];default:throw new ms("Bad table")}},r.prototype.correctBits=function(e){var t,n;this.ddata.getNbLayers()<=2?(n=6,t=fr.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,t=fr.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,t=fr.AZTEC_DATA_10):(n=12,t=fr.AZTEC_DATA_12);var a=this.ddata.getNbDatablocks(),o=e.length/n;if(o<a)throw new se;for(var l=e.length%n,c=new Int32Array(o),f=0;f<o;f++,l+=n)c[f]=r.readCode(e,l,n);try{var h=new cu(t);h.decode(c,o-a)}catch(E){throw new se(E)}for(var v=(1<<n)-1,g=0,f=0;f<a;f++){var x=c[f];if(x===0||x===v)throw new se;(x===1||x===v-1)&&g++}for(var m=new Array(a*n-g),w=0,f=0;f<a;f++){var x=c[f];if(x===1||x===v-1)m.fill(x>1,w,w+n-1),w+=n-1;else for(var S=n-1;S>=0;--S)m[w++]=(x&1<<S)!==0}return m},r.prototype.extractBits=function(e){var t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),a=(t?11:14)+n*4,o=new Int32Array(a),l=new Array(this.totalBitsInLayer(n,t));if(t)for(var c=0;c<o.length;c++)o[c]=c;else for(var f=a+1+2*Oe.truncDivision(Oe.truncDivision(a,2)-1,15),h=a/2,v=Oe.truncDivision(f,2),c=0;c<h;c++){var g=c+Oe.truncDivision(c,15);o[h-c-1]=v-g-1,o[h+c]=v+g+1}for(var c=0,x=0;c<n;c++){for(var m=(n-c)*4+(t?9:12),w=c*2,S=a-1-w,E=0;E<m;E++)for(var b=E*2,T=0;T<2;T++)l[x+b+T]=e.get(o[w+T],o[w+E]),l[x+2*m+b+T]=e.get(o[w+E],o[S-T]),l[x+4*m+b+T]=e.get(o[S-T],o[S-E]),l[x+6*m+b+T]=e.get(o[S-E],o[w+T]);x+=m*8}return l},r.readCode=function(e,t,n){for(var a=0,o=t;o<t+n;o++)a<<=1,e[o]&&(a|=1);return a},r.readByte=function(e,t){var n=e.length-t;return n>=8?r.readCode(e,t,8):r.readCode(e,t,n)<<8-n},r.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),n=0;n<t.length;n++)t[n]=r.readByte(e,8*n);return t},r.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},r.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],r.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],r.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],r.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],r.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],r})(),Le=(function(){function r(){}return r.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},r.distance=function(e,t,n,a){var o=e-n,l=t-a;return Math.sqrt(o*o+l*l)},r.sum=function(e){for(var t=0,n=0,a=e.length;n!==a;n++){var o=e[n];t+=o}return t},r})(),hd=(function(){function r(){}return r.floatToIntBits=function(e){return e},r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r})(),de=(function(){function r(e,t){this.x=e,this.y=t}return r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.equals=function(e){if(e instanceof r){var t=e;return this.x===t.x&&this.y===t.y}return!1},r.prototype.hashCode=function(){return 31*hd.floatToIntBits(this.x)+hd.floatToIntBits(this.y)},r.prototype.toString=function(){return"("+this.x+","+this.y+")"},r.orderBestPatterns=function(e){var t=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),a=this.distance(e[0],e[2]),o,l,c;if(n>=t&&n>=a?(l=e[0],o=e[1],c=e[2]):a>=n&&a>=t?(l=e[1],o=e[0],c=e[2]):(l=e[2],o=e[0],c=e[1]),this.crossProductZ(o,l,c)<0){var f=o;o=c,c=f}e[0]=o,e[1]=l,e[2]=c},r.distance=function(e,t){return Le.distance(e.x,e.y,t.x,t.y)},r.crossProductZ=function(e,t,n){var a=t.x,o=t.y;return(n.x-a)*(e.y-o)-(n.y-o)*(e.x-a)},r})(),Nd=(function(){function r(e,t){this.bits=e,this.points=t}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r})(),m3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),_3=(function(r){m3(e,r);function e(t,n,a,o,l){var c=r.call(this,t,n)||this;return c.compact=a,c.nbDatablocks=o,c.nbLayers=l,c}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e})(Nd),vd=(function(){function r(e,t,n,a){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=r.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),a==null&&(a=e.getHeight()/2|0);var o=t/2|0;if(this.leftInit=n-o,this.rightInit=n+o,this.upInit=a-o,this.downInit=a+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new W}return r.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,n=this.upInit,a=this.downInit,o=!1,l=!0,c=!1,f=!1,h=!1,v=!1,g=!1,x=this.width,m=this.height;l;){l=!1;for(var w=!0;(w||!f)&&t<x;)w=this.containsBlackPoint(n,a,t,!1),w?(t++,l=!0,f=!0):f||t++;if(t>=x){o=!0;break}for(var S=!0;(S||!h)&&a<m;)S=this.containsBlackPoint(e,t,a,!0),S?(a++,l=!0,h=!0):h||a++;if(a>=m){o=!0;break}for(var E=!0;(E||!v)&&e>=0;)E=this.containsBlackPoint(n,a,e,!1),E?(e--,l=!0,v=!0):v||e--;if(e<0){o=!0;break}for(var b=!0;(b||!g)&&n>=0;)b=this.containsBlackPoint(e,t,n,!0),b?(n--,l=!0,g=!0):g||n--;if(n<0){o=!0;break}l&&(c=!0)}if(!o&&c){for(var T=t-e,O=null,D=1;O===null&&D<T;D++)O=this.getBlackPointOnSegment(e,a-D,e+D,a);if(O==null)throw new W;for(var N=null,D=1;N===null&&D<T;D++)N=this.getBlackPointOnSegment(e,n+D,e+D,n);if(N==null)throw new W;for(var k=null,D=1;k===null&&D<T;D++)k=this.getBlackPointOnSegment(t,n+D,t-D,n);if(k==null)throw new W;for(var L=null,D=1;L===null&&D<T;D++)L=this.getBlackPointOnSegment(t,a-D,t-D,a);if(L==null)throw new W;return this.centerEdges(L,O,k,N)}else throw new W},r.prototype.getBlackPointOnSegment=function(e,t,n,a){for(var o=Le.round(Le.distance(e,t,n,a)),l=(n-e)/o,c=(a-t)/o,f=this.image,h=0;h<o;h++){var v=Le.round(e+h*l),g=Le.round(t+h*c);if(f.get(v,g))return new de(v,g)}return null},r.prototype.centerEdges=function(e,t,n,a){var o=e.getX(),l=e.getY(),c=t.getX(),f=t.getY(),h=n.getX(),v=n.getY(),g=a.getX(),x=a.getY(),m=r.CORR;return o<this.width/2?[new de(g-m,x+m),new de(c+m,f+m),new de(h-m,v-m),new de(o+m,l-m)]:[new de(g+m,x+m),new de(c+m,f-m),new de(h-m,v+m),new de(o-m,l-m)]},r.prototype.containsBlackPoint=function(e,t,n,a){var o=this.image;if(a){for(var l=e;l<=t;l++)if(o.get(l,n))return!0}else for(var c=e;c<=t;c++)if(o.get(n,c))return!0;return!1},r.INIT_SIZE=10,r.CORR=1,r})(),pp=(function(){function r(){}return r.checkAndNudgePoints=function(e,t){for(var n=e.getWidth(),a=e.getHeight(),o=!0,l=0;l<t.length&&o;l+=2){var c=Math.floor(t[l]),f=Math.floor(t[l+1]);if(c<-1||c>n||f<-1||f>a)throw new W;o=!1,c===-1?(t[l]=0,o=!0):c===n&&(t[l]=n-1,o=!0),f===-1?(t[l+1]=0,o=!0):f===a&&(t[l+1]=a-1,o=!0)}o=!0;for(var l=t.length-2;l>=0&&o;l-=2){var c=Math.floor(t[l]),f=Math.floor(t[l+1]);if(c<-1||c>n||f<-1||f>a)throw new W;o=!1,c===-1?(t[l]=0,o=!0):c===n&&(t[l]=n-1,o=!0),f===-1?(t[l+1]=0,o=!0):f===a&&(t[l+1]=a-1,o=!0)}},r})(),Mg=(function(){function r(e,t,n,a,o,l,c,f,h){this.a11=e,this.a21=t,this.a31=n,this.a12=a,this.a22=o,this.a32=l,this.a13=c,this.a23=f,this.a33=h}return r.quadrilateralToQuadrilateral=function(e,t,n,a,o,l,c,f,h,v,g,x,m,w,S,E){var b=r.quadrilateralToSquare(e,t,n,a,o,l,c,f),T=r.squareToQuadrilateral(h,v,g,x,m,w,S,E);return T.times(b)},r.prototype.transformPoints=function(e){for(var t=e.length,n=this.a11,a=this.a12,o=this.a13,l=this.a21,c=this.a22,f=this.a23,h=this.a31,v=this.a32,g=this.a33,x=0;x<t;x+=2){var m=e[x],w=e[x+1],S=o*m+f*w+g;e[x]=(n*m+l*w+h)/S,e[x+1]=(a*m+c*w+v)/S}},r.prototype.transformPointsWithValues=function(e,t){for(var n=this.a11,a=this.a12,o=this.a13,l=this.a21,c=this.a22,f=this.a23,h=this.a31,v=this.a32,g=this.a33,x=e.length,m=0;m<x;m++){var w=e[m],S=t[m],E=o*w+f*S+g;e[m]=(n*w+l*S+h)/E,t[m]=(a*w+c*S+v)/E}},r.squareToQuadrilateral=function(e,t,n,a,o,l,c,f){var h=e-n+o-c,v=t-a+l-f;if(h===0&&v===0)return new r(n-e,o-n,e,a-t,l-a,t,0,0,1);var g=n-o,x=c-o,m=a-l,w=f-l,S=g*w-x*m,E=(h*w-x*v)/S,b=(g*v-h*m)/S;return new r(n-e+E*n,c-e+b*c,e,a-t+E*a,f-t+b*f,t,E,b,1)},r.quadrilateralToSquare=function(e,t,n,a,o,l,c,f){return r.squareToQuadrilateral(e,t,n,a,o,l,c,f).buildAdjoint()},r.prototype.buildAdjoint=function(){return new r(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},r.prototype.times=function(e){return new r(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},r})(),w3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),E3=(function(r){w3(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.sampleGrid=function(t,n,a,o,l,c,f,h,v,g,x,m,w,S,E,b,T,O,D){var N=Mg.quadrilateralToQuadrilateral(o,l,c,f,h,v,g,x,m,w,S,E,b,T,O,D);return this.sampleGridWithTransform(t,n,a,N)},e.prototype.sampleGridWithTransform=function(t,n,a,o){if(n<=0||a<=0)throw new W;for(var l=new Qr(n,a),c=new Float32Array(2*n),f=0;f<a;f++){for(var h=c.length,v=f+.5,g=0;g<h;g+=2)c[g]=g/2+.5,c[g+1]=v;o.transformPoints(c),pp.checkAndNudgePoints(t,c);try{for(var g=0;g<h;g+=2)t.get(Math.floor(c[g]),Math.floor(c[g+1]))&&l.set(g/2,f)}catch{throw new W}}return l},e})(pp),Md=(function(){function r(){}return r.setGridSampler=function(e){r.gridSampler=e},r.getInstance=function(){return r.gridSampler},r.gridSampler=new E3,r})(),cr=(function(){function r(e,t){this.x=e,this.y=t}return r.prototype.toResultPoint=function(){return new de(this.getX(),this.getY())},r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r})(),b3=(function(){function r(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return r.prototype.detect=function(){return this.detectMirror(!1)},r.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){var a=n[0];n[0]=n[2],n[2]=a}this.extractParameters(n);var o=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),l=this.getMatrixCornerPoints(n);return new _3(o,l,this.compact,this.nbDataBlocks,this.nbLayers)},r.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new W;var t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);for(var a=0,o=0;o<4;o++){var l=n[(this.shift+o)%4];this.compact?(a<<=7,a+=l>>1&127):(a<<=10,a+=(l>>2&992)+(l>>1&31))}var c=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)},r.prototype.getRotation=function(e,t){var n=0;e.forEach(function(o,l,c){var f=(o>>t-2<<1)+(o&1);n=(n<<3)+f}),n=((n&1)<<11)+(n>>1);for(var a=0;a<4;a++)if(Oe.bitCount(n^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new W},r.prototype.getCorrectedParameterData=function(e,t){var n,a;t?(n=7,a=2):(n=10,a=4);for(var o=n-a,l=new Int32Array(n),c=n-1;c>=0;--c)l[c]=e&15,e>>=4;try{var f=new cu(fr.AZTEC_PARAM);f.decode(l,o)}catch{throw new W}for(var h=0,c=0;c<a;c++)h=(h<<4)+l[c];return h},r.prototype.getBullsEyeCorners=function(e){var t=e,n=e,a=e,o=e,l=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var c=this.getFirstDifferent(t,l,1,-1),f=this.getFirstDifferent(n,l,1,1),h=this.getFirstDifferent(a,l,-1,1),v=this.getFirstDifferent(o,l,-1,-1);if(this.nbCenterLayers>2){var g=this.distancePoint(v,c)*this.nbCenterLayers/(this.distancePoint(o,t)*(this.nbCenterLayers+2));if(g<.75||g>1.25||!this.isWhiteOrBlackRectangle(c,f,h,v))break}t=c,n=f,a=h,o=v,l=!l}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new W;this.compact=this.nbCenterLayers===5;var x=new de(t.getX()+.5,t.getY()-.5),m=new de(n.getX()+.5,n.getY()+.5),w=new de(a.getX()-.5,a.getY()+.5),S=new de(o.getX()-.5,o.getY()-.5);return this.expandSquare([x,m,w,S],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},r.prototype.getMatrixCenter=function(){var e,t,n,a;try{var o=new vd(this.image).detect();e=o[0],t=o[1],n=o[2],a=o[3]}catch{var l=this.image.getWidth()/2,c=this.image.getHeight()/2;e=this.getFirstDifferent(new cr(l+7,c-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new cr(l+7,c+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new cr(l-7,c+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new cr(l-7,c-7),!1,-1,-1).toResultPoint()}var f=Le.round((e.getX()+a.getX()+t.getX()+n.getX())/4),h=Le.round((e.getY()+a.getY()+t.getY()+n.getY())/4);try{var o=new vd(this.image,15,f,h).detect();e=o[0],t=o[1],n=o[2],a=o[3]}catch{e=this.getFirstDifferent(new cr(f+7,h-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new cr(f+7,h+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new cr(f-7,h+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new cr(f-7,h-7),!1,-1,-1).toResultPoint()}return f=Le.round((e.getX()+a.getX()+t.getX()+n.getX())/4),h=Le.round((e.getY()+a.getY()+t.getY()+n.getY())/4),new cr(f,h)},r.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},r.prototype.sampleGrid=function(e,t,n,a,o){var l=Md.getInstance(),c=this.getDimension(),f=c/2-this.nbCenterLayers,h=c/2+this.nbCenterLayers;return l.sampleGrid(e,c,c,f,f,h,f,h,h,f,h,t.getX(),t.getY(),n.getX(),n.getY(),a.getX(),a.getY(),o.getX(),o.getY())},r.prototype.sampleLine=function(e,t,n){for(var a=0,o=this.distanceResultPoint(e,t),l=o/n,c=e.getX(),f=e.getY(),h=l*(t.getX()-e.getX())/o,v=l*(t.getY()-e.getY())/o,g=0;g<n;g++)this.image.get(Le.round(c+g*h),Le.round(f+g*v))&&(a|=1<<n-g-1);return a},r.prototype.isWhiteOrBlackRectangle=function(e,t,n,a){var o=3;e=new cr(e.getX()-o,e.getY()+o),t=new cr(t.getX()-o,t.getY()-o),n=new cr(n.getX()+o,n.getY()-o),a=new cr(a.getX()+o,a.getY()+o);var l=this.getColor(a,e);if(l===0)return!1;var c=this.getColor(e,t);return c!==l||(c=this.getColor(t,n),c!==l)?!1:(c=this.getColor(n,a),c===l)},r.prototype.getColor=function(e,t){for(var n=this.distancePoint(e,t),a=(t.getX()-e.getX())/n,o=(t.getY()-e.getY())/n,l=0,c=e.getX(),f=e.getY(),h=this.image.get(e.getX(),e.getY()),v=Math.ceil(n),g=0;g<v;g++)c+=a,f+=o,this.image.get(Le.round(c),Le.round(f))!==h&&l++;var x=l/n;return x>.1&&x<.9?0:x<=.1===h?1:-1},r.prototype.getFirstDifferent=function(e,t,n,a){for(var o=e.getX()+n,l=e.getY()+a;this.isValid(o,l)&&this.image.get(o,l)===t;)o+=n,l+=a;for(o-=n,l-=a;this.isValid(o,l)&&this.image.get(o,l)===t;)o+=n;for(o-=n;this.isValid(o,l)&&this.image.get(o,l)===t;)l+=a;return l-=a,new cr(o,l)},r.prototype.expandSquare=function(e,t,n){var a=n/(2*t),o=e[0].getX()-e[2].getX(),l=e[0].getY()-e[2].getY(),c=(e[0].getX()+e[2].getX())/2,f=(e[0].getY()+e[2].getY())/2,h=new de(c+a*o,f+a*l),v=new de(c-a*o,f-a*l);o=e[1].getX()-e[3].getX(),l=e[1].getY()-e[3].getY(),c=(e[1].getX()+e[3].getX())/2,f=(e[1].getY()+e[3].getY())/2;var g=new de(c+a*o,f+a*l),x=new de(c-a*o,f-a*l),m=[h,g,v,x];return m},r.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},r.prototype.isValidPoint=function(e){var t=Le.round(e.getX()),n=Le.round(e.getY());return this.isValid(t,n)},r.prototype.distancePoint=function(e,t){return Le.distance(e.getX(),e.getY(),t.getX(),t.getY())},r.prototype.distanceResultPoint=function(e,t){return Le.distance(e.getX(),e.getY(),t.getX(),t.getY())},r.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Oe.truncDivision(this.nbLayers-4,8)+1)+15},r})(),Ql=(function(){function r(){}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n=null,a=new b3(e.getBlackMatrix()),o=null,l=null;try{var c=a.detectMirror(!1);o=c.getPoints(),this.reportFoundResultPoints(t,o),l=new vp().decode(c)}catch(g){n=g}if(l==null)try{var c=a.detectMirror(!0);o=c.getPoints(),this.reportFoundResultPoints(t,o),l=new vp().decode(c)}catch(g){throw n??g}var f=new Zt(l.getText(),l.getRawBytes(),l.getNumBits(),o,pe.AZTEC,rt.currentTimeMillis()),h=l.getByteSegments();h!=null&&f.putMetadata(Xt.BYTE_SEGMENTS,h);var v=l.getECLevel();return v!=null&&f.putMetadata(Xt.ERROR_CORRECTION_LEVEL,v),f},r.prototype.reportFoundResultPoints=function(e,t){if(e!=null){var n=e.get(nt.NEED_RESULT_POINT_CALLBACK);n!=null&&t.forEach(function(a,o,l){n.foundPossibleResultPoint(a)})}},r.prototype.reset=function(){},r})(),A3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){A3(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new Ql,t)||this}return e})(Yi);var It=(function(){function r(){}return r.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch{var n=t&&t.get(nt.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var a=e.rotateCounterClockwise(),o=this.doDecode(a,t),l=o.getResultMetadata(),c=270;l!==null&&l.get(Xt.ORIENTATION)===!0&&(c=c+l.get(Xt.ORIENTATION)%360),o.putMetadata(Xt.ORIENTATION,c);var f=o.getResultPoints();if(f!==null)for(var h=a.getHeight(),v=0;v<f.length;v++)f[v]=new de(h-f[v].getY()-1,f[v].getX());return o}else throw new W}},r.prototype.reset=function(){},r.prototype.doDecode=function(e,t){var n=e.getWidth(),a=e.getHeight(),o=new Ut(n),l=t&&t.get(nt.TRY_HARDER)===!0,c=Math.max(1,a>>(l?8:5)),f;l?f=a:f=15;for(var h=Math.trunc(a/2),v=0;v<f;v++){var g=Math.trunc((v+1)/2),x=(v&1)===0,m=h+c*(x?g:-g);if(m<0||m>=a)break;try{o=e.getBlackRow(m,o)}catch{continue}for(var w=function(T){if(T===1&&(o.reverse(),t&&t.get(nt.NEED_RESULT_POINT_CALLBACK)===!0)){var O=new Map;t.forEach(function(k,L){return O.set(L,k)}),O.delete(nt.NEED_RESULT_POINT_CALLBACK),t=O}try{var D=S.decodeRow(m,o,t);if(T===1){D.putMetadata(Xt.ORIENTATION,180);var N=D.getResultPoints();N!==null&&(N[0]=new de(n-N[0].getX()-1,N[0].getY()),N[1]=new de(n-N[1].getX()-1,N[1].getY()))}return{value:D}}catch{}},S=this,E=0;E<2;E++){var b=w(E);if(typeof b=="object")return b.value}}throw new W},r.recordPattern=function(e,t,n){for(var a=n.length,o=0;o<a;o++)n[o]=0;var l=e.getSize();if(t>=l)throw new W;for(var c=!e.get(t),f=0,h=t;h<l;){if(e.get(h)!==c)n[f]++;else{if(++f===a)break;n[f]=1,c=!c}h++}if(!(f===a||f===a-1&&h===l))throw new W},r.recordPatternInReverse=function(e,t,n){for(var a=n.length,o=e.get(t);t>0&&a>=0;)e.get(--t)!==o&&(a--,o=!o);if(a>=0)throw new W;r.recordPattern(e,t+1,n)},r.patternMatchVariance=function(e,t,n){for(var a=e.length,o=0,l=0,c=0;c<a;c++)o+=e[c],l+=t[c];if(o<l)return Number.POSITIVE_INFINITY;var f=o/l;n*=f;for(var h=0,v=0;v<a;v++){var g=e[v],x=t[v]*f,m=g>x?g-x:x-g;if(m>n)return Number.POSITIVE_INFINITY;h+=m}return h/o},r})(),S3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),gp=(function(r){S3(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.findStartPattern=function(t){for(var n=t.getSize(),a=t.getNextSet(0),o=0,l=Int32Array.from([0,0,0,0,0,0]),c=a,f=!1,h=6,v=a;v<n;v++)if(t.get(v)!==f)l[o]++;else{if(o===h-1){for(var g=e.MAX_AVG_VARIANCE,x=-1,m=e.CODE_START_A;m<=e.CODE_START_C;m++){var w=It.patternMatchVariance(l,e.CODE_PATTERNS[m],e.MAX_INDIVIDUAL_VARIANCE);w<g&&(g=w,x=m)}if(x>=0&&t.isRange(Math.max(0,c-(v-c)/2),c,!1))return Int32Array.from([c,v,x]);c+=l[0]+l[1],l=l.slice(2,l.length),l[o-1]=0,l[o]=0,o--}else o++;l[o]=1,f=!f}throw new W},e.decodeCode=function(t,n,a){It.recordPattern(t,a,n);for(var o=e.MAX_AVG_VARIANCE,l=-1,c=0;c<e.CODE_PATTERNS.length;c++){var f=e.CODE_PATTERNS[c],h=this.patternMatchVariance(n,f,e.MAX_INDIVIDUAL_VARIANCE);h<o&&(o=h,l=c)}if(l>=0)return l;throw new W},e.prototype.decodeRow=function(t,n,a){var o=a&&a.get(nt.ASSUME_GS1)===!0,l=e.findStartPattern(n),c=l[2],f=0,h=new Uint8Array(20);h[f++]=c;var v;switch(c){case e.CODE_START_A:v=e.CODE_CODE_A;break;case e.CODE_START_B:v=e.CODE_CODE_B;break;case e.CODE_START_C:v=e.CODE_CODE_C;break;default:throw new se}for(var g=!1,x=!1,m="",w=l[0],S=l[1],E=Int32Array.from([0,0,0,0,0,0]),b=0,T=0,O=c,D=0,N=!0,k=!1,L=!1;!g;){var Z=x;switch(x=!1,b=T,T=e.decodeCode(n,E,S),h[f++]=T,T!==e.CODE_STOP&&(N=!0),T!==e.CODE_STOP&&(D++,O+=D*T),w=S,S+=E.reduce(function(z,K){return z+K},0),T){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new se}switch(v){case e.CODE_CODE_A:if(T<64)L===k?m+=String.fromCharCode(32+T):m+=String.fromCharCode(32+T+128),L=!1;else if(T<96)L===k?m+=String.fromCharCode(T-64):m+=String.fromCharCode(T+64),L=!1;else switch(T!==e.CODE_STOP&&(N=!1),T){case e.CODE_FNC_1:o&&(m.length===0?m+="]C1":m+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!k&&L?(k=!0,L=!1):k&&L?(k=!1,L=!1):L=!0;break;case e.CODE_SHIFT:x=!0,v=e.CODE_CODE_B;break;case e.CODE_CODE_B:v=e.CODE_CODE_B;break;case e.CODE_CODE_C:v=e.CODE_CODE_C;break;case e.CODE_STOP:g=!0;break}break;case e.CODE_CODE_B:if(T<96)L===k?m+=String.fromCharCode(32+T):m+=String.fromCharCode(32+T+128),L=!1;else switch(T!==e.CODE_STOP&&(N=!1),T){case e.CODE_FNC_1:o&&(m.length===0?m+="]C1":m+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!k&&L?(k=!0,L=!1):k&&L?(k=!1,L=!1):L=!0;break;case e.CODE_SHIFT:x=!0,v=e.CODE_CODE_A;break;case e.CODE_CODE_A:v=e.CODE_CODE_A;break;case e.CODE_CODE_C:v=e.CODE_CODE_C;break;case e.CODE_STOP:g=!0;break}break;case e.CODE_CODE_C:if(T<100)T<10&&(m+="0"),m+=T;else switch(T!==e.CODE_STOP&&(N=!1),T){case e.CODE_FNC_1:o&&(m.length===0?m+="]C1":m+="");break;case e.CODE_CODE_A:v=e.CODE_CODE_A;break;case e.CODE_CODE_B:v=e.CODE_CODE_B;break;case e.CODE_STOP:g=!0;break}break}Z&&(v=v===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var J=S-w;if(S=n.getNextUnset(S),!n.isRange(S,Math.min(n.getSize(),S+(S-w)/2),!1))throw new W;if(O-=D*b,O%103!==b)throw new mt;var Y=m.length;if(Y===0)throw new W;Y>0&&N&&(v===e.CODE_CODE_C?m=m.substring(0,Y-2):m=m.substring(0,Y-1));for(var q=(l[1]+l[0])/2,ee=w+J/2,ne=h.length,oe=new Uint8Array(ne),le=0;le<ne;le++)oe[le]=h[le];var I=[new de(q,t),new de(ee,t)];return new Zt(m,oe,0,I,pe.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e})(It),C3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),zf=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yp=(function(r){C3(e,r);function e(t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var a=r.call(this)||this;return a.usingCheckDigit=t,a.extendedMode=n,a.decodeRowResult="",a.counters=new Int32Array(9),a}return e.prototype.decodeRow=function(t,n,a){var o,l,c,f,h=this.counters;h.fill(0),this.decodeRowResult="";var v=e.findAsteriskPattern(n,h),g=n.getNextSet(v[1]),x=n.getSize(),m,w;do{e.recordPattern(n,g,h);var S=e.toNarrowWidePattern(h);if(S<0)throw new W;m=e.patternToChar(S),this.decodeRowResult+=m,w=g;try{for(var E=(o=void 0,zf(h)),b=E.next();!b.done;b=E.next()){var T=b.value;g+=T}}catch(ne){o={error:ne}}finally{try{b&&!b.done&&(l=E.return)&&l.call(E)}finally{if(o)throw o.error}}g=n.getNextSet(g)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var O=0;try{for(var D=zf(h),N=D.next();!N.done;N=D.next()){var T=N.value;O+=T}}catch(ne){c={error:ne}}finally{try{N&&!N.done&&(f=D.return)&&f.call(D)}finally{if(c)throw c.error}}var k=g-w-O;if(g!==x&&k*2<O)throw new W;if(this.usingCheckDigit){for(var L=this.decodeRowResult.length-1,Z=0,J=0;J<L;J++)Z+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(J));if(this.decodeRowResult.charAt(L)!==e.ALPHABET_STRING.charAt(Z%43))throw new mt;this.decodeRowResult=this.decodeRowResult.substring(0,L)}if(this.decodeRowResult.length===0)throw new W;var Y;this.extendedMode?Y=e.decodeExtended(this.decodeRowResult):Y=this.decodeRowResult;var q=(v[1]+v[0])/2,ee=w+O/2;return new Zt(Y,null,0,[new de(q,t),new de(ee,t)],pe.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,n){for(var a=t.getSize(),o=t.getNextSet(0),l=0,c=o,f=!1,h=n.length,v=o;v<a;v++)if(t.get(v)!==f)n[l]++;else{if(l===h-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,c-Math.floor((v-c)/2)),c,!1))return[c,v];c+=n[0]+n[1],n.copyWithin(0,2,2+l-1),n[l-1]=0,n[l]=0,l--}else l++;n[l]=1,f=!f}throw new W},e.toNarrowWidePattern=function(t){var n,a,o=t.length,l=0,c;do{var f=2147483647;try{for(var h=(n=void 0,zf(t)),v=h.next();!v.done;v=h.next()){var g=v.value;g<f&&g>l&&(f=g)}}catch(S){n={error:S}}finally{try{v&&!v.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}l=f,c=0;for(var x=0,m=0,w=0;w<o;w++){var g=t[w];g>l&&(m|=1<<o-1-w,c++,x+=g)}if(c===3){for(var w=0;w<o&&c>0;w++){var g=t[w];if(g>l&&(c--,g*2>=x))return-1}return m}}while(c>3);return-1},e.patternToChar=function(t){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===t)return e.ALPHABET_STRING.charAt(n);if(t===e.ASTERISK_ENCODING)return"*";throw new W},e.decodeExtended=function(t){for(var n=t.length,a="",o=0;o<n;o++){var l=t.charAt(o);if(l==="+"||l==="$"||l==="%"||l==="/"){var c=t.charAt(o+1),f="\0";switch(l){case"+":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)+32);else throw new se;break;case"$":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)-64);else throw new se;break;case"%":if(c>="A"&&c<="E")f=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")f=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")f=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")f="\0";else if(c==="V")f="@";else if(c==="W")f="`";else if(c==="X"||c==="Y"||c==="Z")f="";else throw new se;break;case"/":if(c>="A"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")f=":";else throw new se;break}a+=f,o++}else a+=l}return a},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e})(It),T3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Hf=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xp=(function(r){T3(e,r);function e(){var t=r.call(this)||this;return t.decodeRowResult="",t.counters=new Int32Array(6),t}return e.prototype.decodeRow=function(t,n,a){var o,l,c,f,h=this.findAsteriskPattern(n),v=n.getNextSet(h[1]),g=n.getSize(),x=this.counters;x.fill(0),this.decodeRowResult="";var m,w;do{e.recordPattern(n,v,x);var S=this.toPattern(x);if(S<0)throw new W;m=this.patternToChar(S),this.decodeRowResult+=m,w=v;try{for(var E=(o=void 0,Hf(x)),b=E.next();!b.done;b=E.next()){var T=b.value;v+=T}}catch(J){o={error:J}}finally{try{b&&!b.done&&(l=E.return)&&l.call(E)}finally{if(o)throw o.error}}v=n.getNextSet(v)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var O=0;try{for(var D=Hf(x),N=D.next();!N.done;N=D.next()){var T=N.value;O+=T}}catch(J){c={error:J}}finally{try{N&&!N.done&&(f=D.return)&&f.call(D)}finally{if(c)throw c.error}}if(v===g||!n.get(v))throw new W;if(this.decodeRowResult.length<2)throw new W;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var k=this.decodeExtended(this.decodeRowResult),L=(h[1]+h[0])/2,Z=w+O/2;return new Zt(k,null,0,[new de(L,t),new de(Z,t)],pe.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(t){var n=t.getSize(),a=t.getNextSet(0);this.counters.fill(0);for(var o=this.counters,l=a,c=!1,f=o.length,h=0,v=a;v<n;v++)if(t.get(v)!==c)o[h]++;else{if(h===f-1){if(this.toPattern(o)===e.ASTERISK_ENCODING)return new Int32Array([l,v]);l+=o[0]+o[1],o.copyWithin(0,2,2+h-1),o[h-1]=0,o[h]=0,h--}else h++;o[h]=1,c=!c}throw new W},e.prototype.toPattern=function(t){var n,a,o=0;try{for(var l=Hf(t),c=l.next();!c.done;c=l.next()){var f=c.value;o+=f}}catch(w){n={error:w}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}for(var h=0,v=t.length,g=0;g<v;g++){var x=Math.round(t[g]*9/o);if(x<1||x>4)return-1;if((g&1)===0)for(var m=0;m<x;m++)h=h<<1|1;else h<<=x}return h},e.prototype.patternToChar=function(t){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===t)return e.ALPHABET_STRING.charAt(n);throw new W},e.prototype.decodeExtended=function(t){for(var n=t.length,a="",o=0;o<n;o++){var l=t.charAt(o);if(l>="a"&&l<="d"){if(o>=n-1)throw new se;var c=t.charAt(o+1),f="\0";switch(l){case"d":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)+32);else throw new se;break;case"a":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)-64);else throw new se;break;case"b":if(c>="A"&&c<="E")f=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")f=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")f=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")f="\0";else if(c==="V")f="@";else if(c==="W")f="`";else if(c>="X"&&c<="Z")f="";else throw new se;break;case"c":if(c>="A"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")f=":";else throw new se;break}a+=f,o++}else a+=l}return a},e.prototype.checkChecksums=function(t){var n=t.length;this.checkOneChecksum(t,n-2,20),this.checkOneChecksum(t,n-1,15)},e.prototype.checkOneChecksum=function(t,n,a){for(var o=1,l=0,c=n-1;c>=0;c--)l+=o*e.ALPHABET_STRING.indexOf(t.charAt(c)),++o>a&&(o=1);if(t.charAt(n)!==e.ALPHABET_STRING[l%47])throw new mt},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e})(It),O3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),R3=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mp=(function(r){O3(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return e.prototype.decodeRow=function(t,n,a){var o,l,c=this.decodeStart(n),f=this.decodeEnd(n),h=new Ce;e.decodeMiddle(n,c[1],f[0],h);var v=h.toString(),g=null;a!=null&&(g=a.get(nt.ALLOWED_LENGTHS)),g==null&&(g=e.DEFAULT_ALLOWED_LENGTHS);var x=v.length,m=!1,w=0;try{for(var S=R3(g),E=S.next();!E.done;E=S.next()){var b=E.value;if(x===b){m=!0;break}b>w&&(w=b)}}catch(D){o={error:D}}finally{try{E&&!E.done&&(l=S.return)&&l.call(S)}finally{if(o)throw o.error}}if(!m&&x>w&&(m=!0),!m)throw new se;var T=[new de(c[1],t),new de(f[0],t)],O=new Zt(v,null,0,T,pe.ITF,new Date().getTime());return O},e.decodeMiddle=function(t,n,a,o){var l=new Int32Array(10),c=new Int32Array(5),f=new Int32Array(5);for(l.fill(0),c.fill(0),f.fill(0);n<a;){It.recordPattern(t,n,l);for(var h=0;h<5;h++){var v=2*h;c[h]=l[v],f[h]=l[v+1]}var g=e.decodeDigit(c);o.append(g.toString()),g=this.decodeDigit(f),o.append(g.toString()),l.forEach(function(x){n+=x})}},e.prototype.decodeStart=function(t){var n=e.skipWhiteSpace(t),a=e.findGuardPattern(t,n,e.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(t,a[0]),a},e.prototype.validateQuietZone=function(t,n){var a=this.narrowLineWidth*10;a=a<n?a:n;for(var o=n-1;a>0&&o>=0&&!t.get(o);o--)a--;if(a!==0)throw new W},e.skipWhiteSpace=function(t){var n=t.getSize(),a=t.getNextSet(0);if(a===n)throw new W;return a},e.prototype.decodeEnd=function(t){t.reverse();try{var n=e.skipWhiteSpace(t),a=void 0;try{a=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[0])}catch(l){l instanceof W&&(a=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,a[0]);var o=a[0];return a[0]=t.getSize()-a[1],a[1]=t.getSize()-o,a}finally{t.reverse()}},e.findGuardPattern=function(t,n,a){var o=a.length,l=new Int32Array(o),c=t.getSize(),f=!1,h=0,v=n;l.fill(0);for(var g=n;g<c;g++)if(t.get(g)!==f)l[h]++;else{if(h===o-1){if(It.patternMatchVariance(l,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[v,g];v+=l[0]+l[1],rt.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,f=!f}throw new W},e.decodeDigit=function(t){for(var n=e.MAX_AVG_VARIANCE,a=-1,o=e.PATTERNS.length,l=0;l<o;l++){var c=e.PATTERNS[l],f=It.patternMatchVariance(t,c,e.MAX_INDIVIDUAL_VARIANCE);f<n?(n=f,a=l):f===n&&(a=-1)}if(a>=0)return a%10;throw new W},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e})(It),D3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Xi=(function(r){D3(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return e.findStartGuardPattern=function(t){for(var n=!1,a,o=0,l=Int32Array.from([0,0,0]);!n;){l=Int32Array.from([0,0,0]),a=e.findGuardPattern(t,o,!1,this.START_END_PATTERN,l);var c=a[0];o=a[1];var f=c-(o-c);f>=0&&(n=t.isRange(f,c,!1))}return a},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(n===0)return!1;var a=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===a},e.getStandardUPCEANChecksum=function(t){for(var n=t.length,a=0,o=n-1;o>=0;o-=2){var l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new se;a+=l}a*=3;for(var o=n-2;o>=0;o-=2){var l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new se;a+=l}return(1e3-a)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,n,a,o){return this.findGuardPattern(t,n,a,o,new Int32Array(o.length))},e.findGuardPattern=function(t,n,a,o,l){var c=t.getSize();n=a?t.getNextUnset(n):t.getNextSet(n);for(var f=0,h=n,v=o.length,g=a,x=n;x<c;x++)if(t.get(x)!==g)l[f]++;else{if(f===v-1){if(It.patternMatchVariance(l,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([h,x]);h+=l[0]+l[1];for(var m=l.slice(2,l.length),w=0;w<f-1;w++)l[w]=m[w];l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,g=!g}throw new W},e.decodeDigit=function(t,n,a,o){this.recordPattern(t,a,n);for(var l=this.MAX_AVG_VARIANCE,c=-1,f=o.length,h=0;h<f;h++){var v=o[h],g=It.patternMatchVariance(n,v,e.MAX_INDIVIDUAL_VARIANCE);g<l&&(l=g,c=h)}if(c>=0)return c;throw new W},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e})(It),I3=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},N3=(function(){function r(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,t,n){var a=this.decodeRowStringBuffer,o=this.decodeMiddle(t,n,a),l=a.toString(),c=r.parseExtensionString(l),f=[new de((n[0]+n[1])/2,e),new de(o,e)],h=new Zt(l,null,0,f,pe.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&h.putAllMetadata(c),h},r.prototype.decodeMiddle=function(e,t,n){var a,o,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=e.getSize(),f=t[1],h=0,v=0;v<5&&f<c;v++){var g=Xi.decodeDigit(e,l,f,Xi.L_AND_G_PATTERNS);n+=String.fromCharCode(48+g%10);try{for(var x=(a=void 0,I3(l)),m=x.next();!m.done;m=x.next()){var w=m.value;f+=w}}catch(E){a={error:E}}finally{try{m&&!m.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}g>=10&&(h|=1<<4-v),v!==4&&(f=e.getNextSet(f),f=e.getNextUnset(f))}if(n.length!==5)throw new W;var S=this.determineCheckDigit(h);if(r.extensionChecksum(n.toString())!==S)throw new W;return f},r.extensionChecksum=function(e){for(var t=e.length,n=0,a=t-2;a>=0;a-=2)n+=e.charAt(a).charCodeAt(0)-48;n*=3;for(var a=t-1;a>=0;a-=2)n+=e.charAt(a).charCodeAt(0)-48;return n*=3,n%10},r.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new W},r.parseExtensionString=function(e){if(e.length!==5)return null;var t=r.parseExtension5String(e);return t==null?null:new Map([[Xt.SUGGESTED_PRICE,t]])},r.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="£";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}var n=parseInt(e.substring(1)),a=(n/100).toString(),o=n%100,l=o<10?"0"+o:o.toString();return t+a+"."+l},r})(),M3=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},B3=(function(){function r(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,t,n){var a=this.decodeRowStringBuffer,o=this.decodeMiddle(t,n,a),l=a.toString(),c=r.parseExtensionString(l),f=[new de((n[0]+n[1])/2,e),new de(o,e)],h=new Zt(l,null,0,f,pe.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&h.putAllMetadata(c),h},r.prototype.decodeMiddle=function(e,t,n){var a,o,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=e.getSize(),f=t[1],h=0,v=0;v<2&&f<c;v++){var g=Xi.decodeDigit(e,l,f,Xi.L_AND_G_PATTERNS);n+=String.fromCharCode(48+g%10);try{for(var x=(a=void 0,M3(l)),m=x.next();!m.done;m=x.next()){var w=m.value;f+=w}}catch(S){a={error:S}}finally{try{m&&!m.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}g>=10&&(h|=1<<1-v),v!==1&&(f=e.getNextSet(f),f=e.getNextUnset(f))}if(n.length!==2)throw new W;if(parseInt(n.toString())%4!==h)throw new W;return f},r.parseExtensionString=function(e){return e.length!==2?null:new Map([[Xt.ISSUE_NUMBER,parseInt(e)]])},r})(),k3=(function(){function r(){}return r.decodeRow=function(e,t,n){var a=Xi.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var o=new N3;return o.decodeRow(e,t,a)}catch{var l=new B3;return l.decodeRow(e,t,a)}},r.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),r})(),P3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Ot=(function(r){P3(e,r);function e(){var t=r.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(c){return Int32Array.from(c)});for(var n=10;n<20;n++){for(var a=e.L_PATTERNS[n-10],o=new Int32Array(a.length),l=0;l<a.length;l++)o[l]=a[a.length-l-1];e.L_AND_G_PATTERNS[n]=o}return t}return e.prototype.decodeRow=function(t,n,a){var o=e.findStartGuardPattern(n),l=a==null?null:a.get(nt.NEED_RESULT_POINT_CALLBACK);if(l!=null){var c=new de((o[0]+o[1])/2,t);l.foundPossibleResultPoint(c)}var f=this.decodeMiddle(n,o,this.decodeRowStringBuffer),h=f.rowOffset,v=f.resultString;if(l!=null){var g=new de(h,t);l.foundPossibleResultPoint(g)}var x=e.decodeEnd(n,h);if(l!=null){var m=new de((x[0]+x[1])/2,t);l.foundPossibleResultPoint(m)}var w=x[1],S=w+(w-x[0]);if(S>=n.getSize()||!n.isRange(w,S,!1))throw new W;var E=v.toString();if(E.length<8)throw new se;if(!e.checkChecksum(E))throw new mt;var b=(o[1]+o[0])/2,T=(x[1]+x[0])/2,O=this.getBarcodeFormat(),D=[new de(b,t),new de(T,t)],N=new Zt(E,null,0,D,O,new Date().getTime()),k=0;try{var L=k3.decodeRow(t,n,x[1]);N.putMetadata(Xt.UPC_EAN_EXTENSION,L.getText()),N.putAllMetadata(L.getResultMetadata()),N.addResultPoints(L.getResultPoints()),k=L.getText().length}catch{}var Z=a==null?null:a.get(nt.ALLOWED_EAN_EXTENSIONS);if(Z!=null){var J=!1;for(var Y in Z)if(k.toString()===Y){J=!0;break}if(!J)throw new W}return O===pe.EAN_13||pe.UPC_A,N},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(n===0)return!1;var a=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===a},e.getStandardUPCEANChecksum=function(t){for(var n=t.length,a=0,o=n-1;o>=0;o-=2){var l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new se;a+=l}a*=3;for(var o=n-2;o>=0;o-=2){var l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new se;a+=l}return(1e3-a)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e})(Xi),L3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),_p=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pd=(function(r){L3(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,n,a){var o,l,c,f,h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;for(var v=t.getSize(),g=n[1],x=0,m=0;m<6&&g<v;m++){var w=Ot.decodeDigit(t,h,g,Ot.L_AND_G_PATTERNS);a+=String.fromCharCode(48+w%10);try{for(var S=(o=void 0,_p(h)),E=S.next();!E.done;E=S.next()){var b=E.value;g+=b}}catch(N){o={error:N}}finally{try{E&&!E.done&&(l=S.return)&&l.call(S)}finally{if(o)throw o.error}}w>=10&&(x|=1<<5-m)}a=e.determineFirstDigit(a,x);var T=Ot.findGuardPattern(t,g,!0,Ot.MIDDLE_PATTERN,new Int32Array(Ot.MIDDLE_PATTERN.length).fill(0));g=T[1];for(var m=0;m<6&&g<v;m++){var w=Ot.decodeDigit(t,h,g,Ot.L_PATTERNS);a+=String.fromCharCode(48+w);try{for(var O=(c=void 0,_p(h)),D=O.next();!D.done;D=O.next()){var b=D.value;g+=b}}catch(L){c={error:L}}finally{try{D&&!D.done&&(f=O.return)&&f.call(O)}finally{if(c)throw c.error}}}return{rowOffset:g,resultString:a}},e.prototype.getBarcodeFormat=function(){return pe.EAN_13},e.determineFirstDigit=function(t,n){for(var a=0;a<10;a++)if(n===this.FIRST_DIGIT_ENCODINGS[a])return t=String.fromCharCode(48+a)+t,t;throw new W},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e})(Ot),j3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),wp=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ep=(function(r){j3(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,n,a){var o,l,c,f,h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;for(var v=t.getSize(),g=n[1],x=0;x<4&&g<v;x++){var m=Ot.decodeDigit(t,h,g,Ot.L_PATTERNS);a+=String.fromCharCode(48+m);try{for(var w=(o=void 0,wp(h)),S=w.next();!S.done;S=w.next()){var E=S.value;g+=E}}catch(D){o={error:D}}finally{try{S&&!S.done&&(l=w.return)&&l.call(w)}finally{if(o)throw o.error}}}var b=Ot.findGuardPattern(t,g,!0,Ot.MIDDLE_PATTERN,new Int32Array(Ot.MIDDLE_PATTERN.length).fill(0));g=b[1];for(var x=0;x<4&&g<v;x++){var m=Ot.decodeDigit(t,h,g,Ot.L_PATTERNS);a+=String.fromCharCode(48+m);try{for(var T=(c=void 0,wp(h)),O=T.next();!O.done;O=T.next()){var E=O.value;g+=E}}catch(k){c={error:k}}finally{try{O&&!O.done&&(f=T.return)&&f.call(T)}finally{if(c)throw c.error}}}return{rowOffset:g,resultString:a}},e.prototype.getBarcodeFormat=function(){return pe.EAN_8},e})(Ot),U3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),bp=(function(r){U3(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.ean13Reader=new pd,t}return e.prototype.getBarcodeFormat=function(){return pe.UPC_A},e.prototype.decode=function(t,n){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,n,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,n,a))},e.prototype.decodeMiddle=function(t,n,a){return this.ean13Reader.decodeMiddle(t,n,a)},e.prototype.maybeReturnResult=function(t){var n=t.getText();if(n.charAt(0)==="0"){var a=new Zt(n.substring(1),null,null,t.getResultPoints(),pe.UPC_A);return t.getResultMetadata()!=null&&a.putAllMetadata(t.getResultMetadata()),a}else throw new W},e.prototype.reset=function(){this.ean13Reader.reset()},e})(Ot),F3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),z3=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ap=(function(r){F3(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return e.prototype.decodeMiddle=function(t,n,a){var o,l,c=this.decodeMiddleCounters.map(function(E){return E});c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var f=t.getSize(),h=n[1],v=0,g=0;g<6&&h<f;g++){var x=e.decodeDigit(t,c,h,e.L_AND_G_PATTERNS);a+=String.fromCharCode(48+x%10);try{for(var m=(o=void 0,z3(c)),w=m.next();!w.done;w=m.next()){var S=w.value;h+=S}}catch(E){o={error:E}}finally{try{w&&!w.done&&(l=m.return)&&l.call(m)}finally{if(o)throw o.error}}x>=10&&(v|=1<<5-g)}return e.determineNumSysAndCheckDigit(new Ce(a),v),h},e.prototype.decodeEnd=function(t,n){return e.findGuardPatternWithoutCounters(t,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return Ot.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,n){for(var a=0;a<=1;a++)for(var o=0;o<10;o++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][o]){t.insert(0,"0"+a),t.append("0"+o);return}throw W.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return pe.UPC_E},e.convertUPCEtoUPCA=function(t){var n=t.slice(1,7).split("").map(function(l){return l.charCodeAt(0)}),a=new Ce;a.append(t.charAt(0));var o=n[5];switch(o){case 0:case 1:case 2:a.appendChars(n,0,2),a.append(o),a.append("0000"),a.appendChars(n,2,3);break;case 3:a.appendChars(n,0,3),a.append("00000"),a.appendChars(n,3,2);break;case 4:a.appendChars(n,0,4),a.append("00000"),a.append(n[4]);break;default:a.appendChars(n,0,5),a.append("0000"),a.append(o);break}return t.length>=8&&a.append(t.charAt(7)),a.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e})(Ot),H3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Sp=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Vf=(function(r){H3(e,r);function e(t){var n=r.call(this)||this,a=t==null?null:t.get(nt.POSSIBLE_FORMATS),o=[];return a!=null&&(a.indexOf(pe.EAN_13)>-1&&o.push(new pd),a.indexOf(pe.UPC_A)>-1&&o.push(new bp),a.indexOf(pe.EAN_8)>-1&&o.push(new Ep),a.indexOf(pe.UPC_E)>-1&&o.push(new Ap)),o.length===0&&(o.push(new pd),o.push(new bp),o.push(new Ep),o.push(new Ap)),n.readers=o,n}return e.prototype.decodeRow=function(t,n,a){var o,l;try{for(var c=Sp(this.readers),f=c.next();!f.done;f=c.next()){var h=f.value;try{var v=h.decodeRow(t,n,a),g=v.getBarcodeFormat()===pe.EAN_13&&v.getText().charAt(0)==="0",x=a==null?null:a.get(nt.POSSIBLE_FORMATS),m=x==null||x.includes(pe.UPC_A);if(g&&m){var w=v.getRawBytes(),S=new Zt(v.getText().substring(1),w,w?w.length:null,v.getResultPoints(),pe.UPC_A);return S.putAllMetadata(v.getResultMetadata()),S}return v}catch{}}}catch(E){o={error:E}}finally{try{f&&!f.done&&(l=c.return)&&l.call(c)}finally{if(o)throw o.error}}throw new W},e.prototype.reset=function(){var t,n;try{for(var a=Sp(this.readers),o=a.next();!o.done;o=a.next()){var l=o.value;l.reset()}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},e})(It),V3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),G3=(function(r){V3(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return e.prototype.decodeRow=function(t,n,a){var o=this.getValidRowData(n);if(!o)throw new W;var l=this.codaBarDecodeRow(o.row);if(!l)throw new W;return new Zt(l,null,0,[new de(o.left,t),new de(o.right,t)],pe.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(t){var n=t.toArray(),a=n.indexOf(!0);if(a===-1)return null;var o=n.lastIndexOf(!0);if(o<=a)return null;n=n.slice(a,o+1);for(var l=[],c=n[0],f=1,h=1;h<n.length;h++)n[h]===c?f++:(c=n[h],l.push(f),f=1);return l.push(f),l.length<23&&(l.length+1)%8!==0?null:{row:l,left:a,right:o}},e.prototype.codaBarDecodeRow=function(t){for(var n=[],a=Math.ceil(t.reduce(function(f,h){return(f+h)/2},0));t.length>0;){var o=t.splice(0,8).splice(0,7),l=o.map(function(f){return f<a?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[l]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[l])}var c=n.join("");return this.validCodaBarString(c)?c:null},e.prototype.validCodaBarString=function(t){var n=/^[A-D].{1,}[A-D]$/;return n.test(t)},e})(It),X3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),q3=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ba=(function(r){X3(e,r);function e(){var t=r.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,n){for(var a=0;a<n.length;a++)if(It.patternMatchVariance(t,n[a],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return a;throw new W},e.count=function(t){return Le.sum(new Int32Array(t))},e.increment=function(t,n){for(var a=0,o=n[0],l=1;l<t.length;l++)n[l]>o&&(o=n[l],a=l);t[a]++},e.decrement=function(t,n){for(var a=0,o=n[0],l=1;l<t.length;l++)n[l]<o&&(o=n[l],a=l);t[a]--},e.isFinderPattern=function(t){var n,a,o=t[0]+t[1],l=o+t[2]+t[3],c=o/l;if(c>=e.MIN_FINDER_PATTERN_RATIO&&c<=e.MAX_FINDER_PATTERN_RATIO){var f=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;try{for(var v=q3(t),g=v.next();!g.done;g=v.next()){var x=g.value;x>h&&(h=x),x<f&&(f=x)}}catch(m){n={error:m}}finally{try{g&&!g.done&&(a=v.return)&&a.call(v)}finally{if(n)throw n.error}}return h<10*f}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e})(It),Jl=(function(){function r(e,t){this.value=e,this.checksumPortion=t}return r.prototype.getValue=function(){return this.value},r.prototype.getChecksumPortion=function(){return this.checksumPortion},r.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion},r.prototype.hashCode=function(){return this.value^this.checksumPortion},r})(),Bg=(function(){function r(e,t,n,a,o){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new de(n,o)),this.resultPoints.push(new de(a,o))}return r.prototype.getValue=function(){return this.value},r.prototype.getStartEnd=function(){return this.startEnd},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.prototype.hashCode=function(){return this.value},r})(),$3=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fi=(function(){function r(){}return r.getRSSvalue=function(e,t,n){var a,o,l=0;try{for(var c=$3(e),f=c.next();!f.done;f=c.next()){var h=f.value;l+=h}}catch(T){a={error:T}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}for(var v=0,g=0,x=e.length,m=0;m<x-1;m++){var w=void 0;for(w=1,g|=1<<m;w<e[m];w++,g&=~(1<<m)){var S=r.combins(l-w-1,x-m-2);if(n&&g===0&&l-w-(x-m-1)>=x-m-1&&(S-=r.combins(l-w-(x-m),x-m-2)),x-m-1>1){for(var E=0,b=l-w-(x-m-2);b>t;b--)E+=r.combins(l-w-b-1,x-m-3);S-=E*(x-1-m)}else l-w>t&&S--;v+=S}l-=w}return v},r.combins=function(e,t){var n,a;e-t>t?(a=t,n=e-t):(a=e-t,n=t);for(var o=1,l=1,c=e;c>n;c--)o*=c,l<=a&&(o/=l,l++);for(;l<=a;)o/=l,l++;return o},r})(),Y3=(function(){function r(){}return r.buildBitArray=function(e){var t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);for(var n=12*t,a=new Ut(n),o=0,l=e[0],c=l.getRightChar().getValue(),f=11;f>=0;--f)(c&1<<f)!==0&&a.set(o),o++;for(var f=1;f<e.length;++f){for(var h=e[f],v=h.getLeftChar().getValue(),g=11;g>=0;--g)(v&1<<g)!==0&&a.set(o),o++;if(h.getRightChar()!==null)for(var x=h.getRightChar().getValue(),g=11;g>=0;--g)(x&1<<g)!==0&&a.set(o),o++}return a},r})(),Ia=(function(){function r(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return r.prototype.getDecodedInformation=function(){return this.decodedInformation},r.prototype.isFinished=function(){return this.finished},r})(),Bd=(function(){function r(e){this.newPosition=e}return r.prototype.getNewPosition=function(){return this.newPosition},r})(),W3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),jr=(function(r){W3(e,r);function e(t,n){var a=r.call(this,t)||this;return a.value=n,a}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e})(Bd),Z3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Na=(function(r){Z3(e,r);function e(t,n,a){var o=r.call(this,t)||this;return a?(o.remaining=!0,o.remainingValue=o.remainingValue):(o.remaining=!1,o.remainingValue=0),o.newString=n,o}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e})(Bd),K3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Li=(function(r){K3(e,r);function e(t,n,a){var o=r.call(this,t)||this;if(n<0||n>10||a<0||a>10)throw new se;return o.firstDigit=n,o.secondDigit=a,o}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e})(Bd),Fl=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Q3=(function(){function r(){}return r.parseFieldsInGeneralPurpose=function(e){var t,n,a,o,l,c,f,h;if(!e)return null;if(e.length<2)throw new W;var v=e.substring(0,2);try{for(var g=Fl(r.TWO_DIGIT_DATA_LENGTH),x=g.next();!x.done;x=g.next()){var m=x.value;if(m[0]===v)return m[1]===r.VARIABLE_LENGTH?r.processVariableAI(2,m[2],e):r.processFixedAI(2,m[1],e)}}catch(k){t={error:k}}finally{try{x&&!x.done&&(n=g.return)&&n.call(g)}finally{if(t)throw t.error}}if(e.length<3)throw new W;var w=e.substring(0,3);try{for(var S=Fl(r.THREE_DIGIT_DATA_LENGTH),E=S.next();!E.done;E=S.next()){var m=E.value;if(m[0]===w)return m[1]===r.VARIABLE_LENGTH?r.processVariableAI(3,m[2],e):r.processFixedAI(3,m[1],e)}}catch(k){a={error:k}}finally{try{E&&!E.done&&(o=S.return)&&o.call(S)}finally{if(a)throw a.error}}try{for(var b=Fl(r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),T=b.next();!T.done;T=b.next()){var m=T.value;if(m[0]===w)return m[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,m[2],e):r.processFixedAI(4,m[1],e)}}catch(k){l={error:k}}finally{try{T&&!T.done&&(c=b.return)&&c.call(b)}finally{if(l)throw l.error}}if(e.length<4)throw new W;var O=e.substring(0,4);try{for(var D=Fl(r.FOUR_DIGIT_DATA_LENGTH),N=D.next();!N.done;N=D.next()){var m=N.value;if(m[0]===O)return m[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,m[2],e):r.processFixedAI(4,m[1],e)}}catch(k){f={error:k}}finally{try{N&&!N.done&&(h=D.return)&&h.call(D)}finally{if(f)throw f.error}}throw new W},r.processFixedAI=function(e,t,n){if(n.length<e)throw new W;var a=n.substring(0,e);if(n.length<e+t)throw new W;var o=n.substring(e,e+t),l=n.substring(e+t),c="("+a+")"+o,f=r.parseFieldsInGeneralPurpose(l);return f==null?c:c+f},r.processVariableAI=function(e,t,n){var a=n.substring(0,e),o;n.length<e+t?o=n.length:o=e+t;var l=n.substring(e,o),c=n.substring(o),f="("+a+")"+l,h=r.parseFieldsInGeneralPurpose(c);return h==null?f:f+h},r.VARIABLE_LENGTH=[],r.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",r.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",r.VARIABLE_LENGTH,20],["22",r.VARIABLE_LENGTH,29],["30",r.VARIABLE_LENGTH,8],["37",r.VARIABLE_LENGTH,8],["90",r.VARIABLE_LENGTH,30],["91",r.VARIABLE_LENGTH,30],["92",r.VARIABLE_LENGTH,30],["93",r.VARIABLE_LENGTH,30],["94",r.VARIABLE_LENGTH,30],["95",r.VARIABLE_LENGTH,30],["96",r.VARIABLE_LENGTH,30],["97",r.VARIABLE_LENGTH,3],["98",r.VARIABLE_LENGTH,30],["99",r.VARIABLE_LENGTH,30]],r.THREE_DIGIT_DATA_LENGTH=[["240",r.VARIABLE_LENGTH,30],["241",r.VARIABLE_LENGTH,30],["242",r.VARIABLE_LENGTH,6],["250",r.VARIABLE_LENGTH,30],["251",r.VARIABLE_LENGTH,30],["253",r.VARIABLE_LENGTH,17],["254",r.VARIABLE_LENGTH,20],["400",r.VARIABLE_LENGTH,30],["401",r.VARIABLE_LENGTH,30],["402",17],["403",r.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",r.VARIABLE_LENGTH,20],["421",r.VARIABLE_LENGTH,15],["422",3],["423",r.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",r.VARIABLE_LENGTH,15],["391",r.VARIABLE_LENGTH,18],["392",r.VARIABLE_LENGTH,15],["393",r.VARIABLE_LENGTH,18],["703",r.VARIABLE_LENGTH,30]],r.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",r.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",r.VARIABLE_LENGTH,20],["8003",r.VARIABLE_LENGTH,30],["8004",r.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",r.VARIABLE_LENGTH,30],["8008",r.VARIABLE_LENGTH,12],["8018",18],["8020",r.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",r.VARIABLE_LENGTH,70],["8200",r.VARIABLE_LENGTH,70]],r})(),$l=(function(){function r(e){this.buffer=new Ce,this.information=e}return r.prototype.decodeAllCodes=function(e,t){var n=t,a=null;do{var o=this.decodeGeneralPurposeField(n,a),l=Q3.parseFieldsInGeneralPurpose(o.getNewString());if(l!=null&&e.append(l),o.isRemaining()?a=""+o.getRemainingValue():a=null,n===o.getNewPosition())break;n=o.getNewPosition()}while(!0);return e.toString()},r.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},r.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return t===0?new Li(this.information.getSize(),Li.FNC1,Li.FNC1):new Li(this.information.getSize(),t-1,Li.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),a=(n-8)/11,o=(n-8)%11;return new Li(e+7,a,o)},r.prototype.extractNumericValueFromBitArray=function(e,t){return r.extractNumericValueFromBitArray(this.information,e,t)},r.extractNumericValueFromBitArray=function(e,t,n){for(var a=0,o=0;o<n;++o)e.get(t+o)&&(a|=1<<n-o-1);return a},r.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new Na(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Na(this.current.getPosition(),this.buffer.toString())},r.prototype.parseBlocks=function(){var e,t;do{var n=this.current.getPosition();this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished());var a=n!==this.current.getPosition();if(!a&&!e)break}while(!e);return t.getDecodedInformation()},r.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return e.isSecondDigitFNC1()?t=new Na(this.current.getPosition(),this.buffer.toString()):t=new Na(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Ia(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var t=new Na(this.current.getPosition(),this.buffer.toString());return new Ia(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ia(!1)},r.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new Na(this.current.getPosition(),this.buffer.toString());return new Ia(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ia(!1)},r.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new Na(this.current.getPosition(),this.buffer.toString());return new Ia(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ia(!1)},r.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(e,8);return a>=232&&a<253},r.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new jr(e+5,jr.FNC1);if(t>=5&&t<15)return new jr(e+5,"0"+(t-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new jr(e+7,""+(n+1));if(n>=90&&n<116)return new jr(e+7,""+(n+7));var a=this.extractNumericValueFromBitArray(e,8),o;switch(a){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new se}return new jr(e+8,o)},r.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},r.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new jr(e+5,jr.FNC1);if(t>=5&&t<15)return new jr(e+5,"0"+(t-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new jr(e+6,""+(n+33));var a;switch(n){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new ms("Decoding invalid alphanumeric value: "+n)}return new jr(e+6,a)},r.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},r.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},r.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},r})(),kg=(function(){function r(e){this.information=e,this.generalDecoder=new $l(e)}return r.prototype.getInformation=function(){return this.information},r.prototype.getGeneralDecoder=function(){return this.generalDecoder},r})(),J3=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),zr=(function(r){J3(e,r);function e(t){return r.call(this,t)||this}return e.prototype.encodeCompressedGtin=function(t,n){t.append("(01)");var a=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,n,a)},e.prototype.encodeCompressedGtinWithoutAI=function(t,n,a){for(var o=0;o<4;++o){var l=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*o,10);l/100===0&&t.append("0"),l/10===0&&t.append("0"),t.append(l)}e.appendCheckDigit(t,a)},e.appendCheckDigit=function(t,n){for(var a=0,o=0;o<13;o++){var l=t.charAt(o+n).charCodeAt(0)-48;a+=(o&1)===0?3*l:l}a=10-a%10,a===10&&(a=0),t.append(a)},e.GTIN_SIZE=40,e})(kg),eE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),tE=(function(r){eE(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new Ce;t.append("(01)");var n=t.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(a),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e})(zr),rE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),nE=(function(r){rE(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new Ce;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e})(kg),aE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Yl=(function(r){aE(e,r);function e(t){return r.call(this,t)||this}return e.prototype.encodeCompressedWeight=function(t,n,a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n,a);this.addWeightCode(t,o);for(var l=this.checkWeight(o),c=1e5,f=0;f<5;++f)l/c===0&&t.append("0"),c/=10;t.append(l)},e})(zr),iE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Pg=(function(r){iE(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Yl.GTIN_SIZE+e.WEIGHT_SIZE)throw new W;var t=new Ce;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+Yl.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e})(Yl),oE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),sE=(function(r){oE(e,r);function e(t){return r.call(this,t)||this}return e.prototype.addWeightCode=function(t,n){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e})(Pg),lE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),uE=(function(r){lE(e,r);function e(t){return r.call(this,t)||this}return e.prototype.addWeightCode=function(t,n){n<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e})(Pg),cE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),fE=(function(r){cE(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+zr.GTIN_SIZE)throw new W;var t=new Ce;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+zr.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(n),t.append(")");var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+zr.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(a.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e})(zr),dE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),hE=(function(r){dE(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+zr.GTIN_SIZE)throw new W;var t=new Ce;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+zr.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(n),t.append(")");var a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+zr.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);a/100===0&&t.append("0"),a/10===0&&t.append("0"),t.append(a);var o=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+zr.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(o.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e})(zr),vE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Qn=(function(r){vE(e,r);function e(t,n,a){var o=r.call(this,t)||this;return o.dateCode=a,o.firstAIdigits=n,o}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new W;var t=new Ce;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,n){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(a!==38400){t.append("("),t.append(this.dateCode),t.append(")");var o=a%32;a/=32;var l=a%12+1;a/=12;var c=a;c/10===0&&t.append("0"),t.append(c),l/10===0&&t.append("0"),t.append(l),o/10===0&&t.append("0"),t.append(o)}},e.prototype.addWeightCode=function(t,n){t.append("("),t.append(this.firstAIdigits),t.append(n/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e})(Yl);function pE(r){try{if(r.get(1))return new tE(r);if(!r.get(2))return new nE(r);var e=$l.extractNumericValueFromBitArray(r,1,4);switch(e){case 4:return new sE(r);case 5:return new uE(r)}var t=$l.extractNumericValueFromBitArray(r,1,5);switch(t){case 12:return new fE(r);case 13:return new hE(r)}var n=$l.extractNumericValueFromBitArray(r,1,7);switch(n){case 56:return new Qn(r,"310","11");case 57:return new Qn(r,"320","11");case 58:return new Qn(r,"310","13");case 59:return new Qn(r,"320","13");case 60:return new Qn(r,"310","15");case 61:return new Qn(r,"320","15");case 62:return new Qn(r,"310","17");case 63:return new Qn(r,"320","17")}}catch(a){throw console.log(a),new ms("unknown decoder: "+r)}}var Cp=(function(){function r(e,t,n,a){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=a}return r.prototype.mayBeLast=function(){return this.maybeLast},r.prototype.getLeftChar=function(){return this.leftchar},r.prototype.getRightChar=function(){return this.rightchar},r.prototype.getFinderPattern=function(){return this.finderpattern},r.prototype.mustBeLast=function(){return this.rightchar==null},r.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},r.equals=function(e,t){return e instanceof r?r.equalsOrNull(e.leftchar,t.leftchar)&&r.equalsOrNull(e.rightchar,t.rightchar)&&r.equalsOrNull(e.finderpattern,t.finderpattern):!1},r.equalsOrNull=function(e,t){return e===null?t===null:r.equals(e,t)},r.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},r})(),gE=(function(){function r(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}return r.prototype.getPairs=function(){return this.pairs},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.isReversed=function(){return this.wasReversed},r.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},r.prototype.toString=function(){return"{ "+this.pairs+" }"},r.prototype.equals=function(e,t){return e instanceof r?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1},r.prototype.checkEqualitity=function(e,t){if(!(!e||!t)){var n;return e.forEach(function(a,o){t.forEach(function(l){a.getLeftChar().getValue()===l.getLeftChar().getValue()&&a.getRightChar().getValue()===l.getRightChar().getValue()&&a.getFinderPatter().getValue()===l.getFinderPatter().getValue()&&(n=!0)})}),n}},r})(),yE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Jn=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xE=(function(r){yE(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return e.prototype.decodeRow=function(t,n,a){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,n){for(var a=!1;!a;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,t))}catch(c){if(c instanceof W){if(!this.pairs.length)throw new W;a=!0}}if(this.checkChecksum())return this.pairs;var o;if(this.rows.length?o=!0:o=!1,this.storeRow(t,!1),o){var l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new W},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(a){console.log(a)}return t&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(t,n){for(var a,o,l=n;l<this.rows.length;l++){var c=this.rows[l];this.pairs.length=0;try{for(var f=(a=void 0,Jn(t)),h=f.next();!h.done;h=f.next()){var v=h.value;this.pairs.push(v.getPairs())}}catch(x){a={error:x}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(a)throw a.error}}if(this.pairs.push(c.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var g=new Array(t);g.push(c);try{return this.checkRows(g,l+1)}catch(x){console.log(x)}}}throw new W},e.isValidSequence=function(t){var n,a;try{for(var o=Jn(e.FINDER_PATTERN_SEQUENCES),l=o.next();!l.done;l=o.next()){var c=l.value;if(!(t.length>c.length)){for(var f=!0,h=0;h<t.length;h++)if(t[h].getFinderPattern().getValue()!==c[h]){f=!1;break}if(f)return!0}}}catch(v){n={error:v}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(t,n){for(var a=0,o=!1,l=!1;a<this.rows.length;){var c=this.rows[a];if(c.getRowNumber()>t){l=c.isEquivalent(this.pairs);break}o=c.isEquivalent(this.pairs),a++}l||o||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new gE(this.pairs,t,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,n){var a,o,l,c,f,h;try{for(var v=Jn(n),g=v.next();!g.done;g=v.next()){var x=g.value;if(x.getPairs().length!==t.length){var m=!0;try{for(var w=(l=void 0,Jn(x.getPairs())),S=w.next();!S.done;S=w.next()){var E=S.value,b=!1;try{for(var T=(f=void 0,Jn(t)),O=T.next();!O.done;O=T.next()){var D=O.value;if(Cp.equals(E,D)){b=!0;break}}}catch(N){f={error:N}}finally{try{O&&!O.done&&(h=T.return)&&h.call(T)}finally{if(f)throw f.error}}b||(m=!1)}}catch(N){l={error:N}}finally{try{S&&!S.done&&(c=w.return)&&c.call(w)}finally{if(l)throw l.error}}}}}catch(N){a={error:N}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}},e.isPartialRow=function(t,n){var a,o,l,c,f,h;try{for(var v=Jn(n),g=v.next();!g.done;g=v.next()){var x=g.value,m=!0;try{for(var w=(l=void 0,Jn(t)),S=w.next();!S.done;S=w.next()){var E=S.value,b=!1;try{for(var T=(f=void 0,Jn(x.getPairs())),O=T.next();!O.done;O=T.next()){var D=O.value;if(E.equals(D)){b=!0;break}}}catch(N){f={error:N}}finally{try{O&&!O.done&&(h=T.return)&&h.call(T)}finally{if(f)throw f.error}}if(!b){m=!1;break}}}catch(N){l={error:N}}finally{try{S&&!S.done&&(c=w.return)&&c.call(w)}finally{if(l)throw l.error}}if(m)return!0}}catch(N){a={error:N}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var n=Y3.buildBitArray(t),a=pE(n),o=a.parseInformation(),l=t[0].getFinderPattern().getResultPoints(),c=t[t.length-1].getFinderPattern().getResultPoints(),f=[l[0],l[1],c[0],c[1]];return new Zt(o,null,null,f,pe.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),n=t.getLeftChar(),a=t.getRightChar();if(a===null)return!1;for(var o=a.getChecksumPortion(),l=2,c=1;c<this.pairs.size();++c){var f=this.pairs.get(c);o+=f.getLeftChar().getChecksumPortion(),l++;var h=f.getRightChar();h!=null&&(o+=h.getChecksumPortion(),l++)}o%=211;var v=211*(l-4)+o;return v===n.getValue()},e.getNextSecondBar=function(t,n){var a;return t.get(n)?(a=t.getNextUnset(n),a=t.getNextSet(a)):(a=t.getNextSet(n),a=t.getNextUnset(a)),a},e.prototype.retrieveNextPair=function(t,n,a){var o=n.length%2===0;this.startFromEven&&(o=!o);var l,c=!0,f=-1;do this.findNextPair(t,n,f),l=this.parseFoundFinderPattern(t,a,o),l===null?f=e.getNextSecondBar(t,this.startEnd[0]):c=!1;while(c);var h=this.decodeDataCharacter(t,l,o,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new W;var v;try{v=this.decodeDataCharacter(t,l,o,!1)}catch(g){v=null,console.log(g)}return new Cp(h,v,l,!0)},e.prototype.isEmptyPair=function(t){return t.length===0},e.prototype.findNextPair=function(t,n,a){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;var l=t.getSize(),c;if(a>=0)c=a;else if(this.isEmptyPair(n))c=0;else{var f=n[n.length-1];c=f.getFinderPattern().getStartEnd()[1]}var h=n.length%2!==0;this.startFromEven&&(h=!h);for(var v=!1;c<l&&(v=!t.get(c),!!v);)c++;for(var g=0,x=c,m=c;m<l;m++)if(t.get(m)!==v)o[g]++;else{if(g===3){if(h&&e.reverseCounters(o),e.isFinderPattern(o)){this.startEnd[0]=x,this.startEnd[1]=m;return}h&&e.reverseCounters(o),x+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,g--}else g++;o[g]=1,v=!v}throw new W},e.reverseCounters=function(t){for(var n=t.length,a=0;a<n/2;++a){var o=t[a];t[a]=t[n-a-1],t[n-a-1]=o}},e.prototype.parseFoundFinderPattern=function(t,n,a){var o,l,c;if(a){for(var f=this.startEnd[0]-1;f>=0&&!t.get(f);)f--;f++,o=this.startEnd[0]-f,l=f,c=this.startEnd[1]}else l=this.startEnd[0],c=t.getNextUnset(this.startEnd[1]+1),o=c-this.startEnd[1];var h=this.getDecodeFinderCounters();rt.arraycopy(h,0,h,1,h.length-1),h[0]=o;var v;try{v=this.parseFinderValue(h,e.FINDER_PATTERNS)}catch{return null}return new Bg(v,[l,c],l,c,n)},e.prototype.decodeDataCharacter=function(t,n,a,o){for(var l=this.getDataCharacterCounters(),c=0;c<l.length;c++)l[c]=0;if(o)e.recordPatternInReverse(t,n.getStartEnd()[0],l);else{e.recordPattern(t,n.getStartEnd()[1],l);for(var f=0,h=l.length-1;f<h;f++,h--){var v=l[f];l[f]=l[h],l[h]=v}}var g=17,x=Le.sum(new Int32Array(l))/g,m=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(x-m)/m>.3)throw new W;for(var w=this.getOddCounts(),S=this.getEvenCounts(),E=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors(),f=0;f<l.length;f++){var T=1*l[f]/x,O=T+.5;if(O<1){if(T<.3)throw new W;O=1}else if(O>8){if(T>8.7)throw new W;O=8}var D=f/2;(f&1)===0?(w[D]=O,E[D]=T-O):(S[D]=O,b[D]=T-O)}this.adjustOddEvenCounts(g);for(var N=4*n.getValue()+(a?0:2)+(o?0:1)-1,k=0,L=0,f=w.length-1;f>=0;f--){if(e.isNotA1left(n,a,o)){var Z=e.WEIGHTS[N][2*f];L+=w[f]*Z}k+=w[f]}for(var J=0,f=S.length-1;f>=0;f--)if(e.isNotA1left(n,a,o)){var Z=e.WEIGHTS[N][2*f+1];J+=S[f]*Z}var Y=L+J;if((k&1)!==0||k>13||k<4)throw new W;var q=(13-k)/2,ee=e.SYMBOL_WIDEST[q],ne=9-ee,oe=Fi.getRSSvalue(w,ee,!0),le=Fi.getRSSvalue(S,ne,!1),I=e.EVEN_TOTAL_SUBSET[q],z=e.GSUM[q],K=oe*I+le+z;return new Jl(K,Y)},e.isNotA1left=function(t,n,a){return!(t.getValue()===0&&n&&a)},e.prototype.adjustOddEvenCounts=function(t){var n=Le.sum(new Int32Array(this.getOddCounts())),a=Le.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1;n>13?l=!0:n<4&&(o=!0);var c=!1,f=!1;a>13?f=!0:a<4&&(c=!0);var h=n+a-t,v=(n&1)===1,g=(a&1)===0;if(h===1)if(v){if(g)throw new W;l=!0}else{if(!g)throw new W;f=!0}else if(h===-1)if(v){if(g)throw new W;o=!0}else{if(!g)throw new W;c=!0}else if(h===0){if(v){if(!g)throw new W;n<a?(o=!0,f=!0):(l=!0,c=!0)}else if(g)throw new W}else throw new W;if(o){if(l)throw new W;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(f)throw new W;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e})(Ba),mE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),_E=(function(r){mE(e,r);function e(t,n,a){var o=r.call(this,t,n)||this;return o.count=0,o.finderPattern=a,o}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e})(Jl),wE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Gf=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tp=(function(r){wE(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return e.prototype.decodeRow=function(t,n,a){var o,l,c,f,h=this.decodePair(n,!1,t,a);e.addOrTally(this.possibleLeftPairs,h),n.reverse();var v=this.decodePair(n,!0,t,a);e.addOrTally(this.possibleRightPairs,v),n.reverse();try{for(var g=Gf(this.possibleLeftPairs),x=g.next();!x.done;x=g.next()){var m=x.value;if(m.getCount()>1)try{for(var w=(c=void 0,Gf(this.possibleRightPairs)),S=w.next();!S.done;S=w.next()){var E=S.value;if(E.getCount()>1&&e.checkChecksum(m,E))return e.constructResult(m,E)}}catch(b){c={error:b}}finally{try{S&&!S.done&&(f=w.return)&&f.call(w)}finally{if(c)throw c.error}}}}catch(b){o={error:b}}finally{try{x&&!x.done&&(l=g.return)&&l.call(g)}finally{if(o)throw o.error}}throw new W},e.addOrTally=function(t,n){var a,o;if(n!=null){var l=!1;try{for(var c=Gf(t),f=c.next();!f.done;f=c.next()){var h=f.value;if(h.getValue()===n.getValue()){h.incrementCount(),l=!0;break}}}catch(v){a={error:v}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}l||t.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,n){for(var a=4537077*t.getValue()+n.getValue(),o=new String(a).toString(),l=new Ce,c=13-o.length;c>0;c--)l.append("0");l.append(o);for(var f=0,c=0;c<13;c++){var h=l.charAt(c).charCodeAt(0)-48;f+=(c&1)===0?3*h:h}f=10-f%10,f===10&&(f=0),l.append(f.toString());var v=t.getFinderPattern().getResultPoints(),g=n.getFinderPattern().getResultPoints();return new Zt(l.toString(),null,0,[v[0],v[1],g[0],g[1]],pe.RSS_14,new Date().getTime())},e.checkChecksum=function(t,n){var a=(t.getChecksumPortion()+16*n.getChecksumPortion())%79,o=9*t.getFinderPattern().getValue()+n.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,a===o},e.prototype.decodePair=function(t,n,a,o){try{var l=this.findFinderPattern(t,n),c=this.parseFoundFinderPattern(t,a,n,l),f=o==null?null:o.get(nt.NEED_RESULT_POINT_CALLBACK);if(f!=null){var h=(l[0]+l[1])/2;n&&(h=t.getSize()-1-h),f.foundPossibleResultPoint(new de(h,a))}var v=this.decodeDataCharacter(t,c,!0),g=this.decodeDataCharacter(t,c,!1);return new _E(1597*v.getValue()+g.getValue(),v.getChecksumPortion()+4*g.getChecksumPortion(),c)}catch{return null}},e.prototype.decodeDataCharacter=function(t,n,a){for(var o=this.getDataCharacterCounters(),l=0;l<o.length;l++)o[l]=0;if(a)It.recordPatternInReverse(t,n.getStartEnd()[0],o);else{It.recordPattern(t,n.getStartEnd()[1]+1,o);for(var c=0,f=o.length-1;c<f;c++,f--){var h=o[c];o[c]=o[f],o[f]=h}}for(var v=a?16:15,g=Le.sum(new Int32Array(o))/v,x=this.getOddCounts(),m=this.getEvenCounts(),w=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors(),c=0;c<o.length;c++){var E=o[c]/g,b=Math.floor(E+.5);b<1?b=1:b>8&&(b=8);var T=Math.floor(c/2);(c&1)===0?(x[T]=b,w[T]=E-b):(m[T]=b,S[T]=E-b)}this.adjustOddEvenCounts(a,v);for(var O=0,D=0,c=x.length-1;c>=0;c--)D*=9,D+=x[c],O+=x[c];for(var N=0,k=0,c=m.length-1;c>=0;c--)N*=9,N+=m[c],k+=m[c];var L=D+3*N;if(a){if((O&1)!==0||O>12||O<4)throw new W;var Z=(12-O)/2,J=e.OUTSIDE_ODD_WIDEST[Z],Y=9-J,q=Fi.getRSSvalue(x,J,!1),ee=Fi.getRSSvalue(m,Y,!0),ne=e.OUTSIDE_EVEN_TOTAL_SUBSET[Z],oe=e.OUTSIDE_GSUM[Z];return new Jl(q*ne+ee+oe,L)}else{if((k&1)!==0||k>10||k<4)throw new W;var Z=(10-k)/2,J=e.INSIDE_ODD_WIDEST[Z],Y=9-J,q=Fi.getRSSvalue(x,J,!0),ee=Fi.getRSSvalue(m,Y,!1),le=e.INSIDE_ODD_TOTAL_SUBSET[Z],oe=e.INSIDE_GSUM[Z];return new Jl(ee*le+q+oe,L)}},e.prototype.findFinderPattern=function(t,n){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var o=t.getSize(),l=!1,c=0;c<o&&(l=!t.get(c),n!==l);)c++;for(var f=0,h=c,v=c;v<o;v++)if(t.get(v)!==l)a[f]++;else{if(f===3){if(Ba.isFinderPattern(a))return[h,v];h+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,f--}else f++;a[f]=1,l=!l}throw new W},e.prototype.parseFoundFinderPattern=function(t,n,a,o){for(var l=t.get(o[0]),c=o[0]-1;c>=0&&l!==t.get(c);)c--;c++;var f=o[0]-c,h=this.getDecodeFinderCounters(),v=new Int32Array(h.length);rt.arraycopy(h,0,v,1,h.length-1),v[0]=f;var g=this.parseFinderValue(v,e.FINDER_PATTERNS),x=c,m=o[1];return a&&(x=t.getSize()-1-x,m=t.getSize()-1-m),new Bg(g,[c,o[1]],x,m,n)},e.prototype.adjustOddEvenCounts=function(t,n){var a=Le.sum(new Int32Array(this.getOddCounts())),o=Le.sum(new Int32Array(this.getEvenCounts())),l=!1,c=!1,f=!1,h=!1;t?(a>12?c=!0:a<4&&(l=!0),o>12?h=!0:o<4&&(f=!0)):(a>11?c=!0:a<5&&(l=!0),o>10?h=!0:o<4&&(f=!0));var v=a+o-n,g=(a&1)===(t?1:0),x=(o&1)===1;if(v===1)if(g){if(x)throw new W;c=!0}else{if(!x)throw new W;h=!0}else if(v===-1)if(g){if(x)throw new W;l=!0}else{if(!x)throw new W;f=!0}else if(v===0){if(g){if(!x)throw new W;a<o?(l=!0,h=!0):(c=!0,f=!0)}else if(x)throw new W}else throw new W;if(l){if(c)throw new W;Ba.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&Ba.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(h)throw new W;Ba.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&Ba.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e})(Ba),EE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),zi=(function(r){EE(e,r);function e(t){var n=r.call(this)||this;n.readers=[];var a=t?t.get(nt.POSSIBLE_FORMATS):null,o=t&&t.get(nt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,l=t&&t.get(nt.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return a&&((a.includes(pe.EAN_13)||a.includes(pe.UPC_A)||a.includes(pe.EAN_8)||a.includes(pe.UPC_E))&&n.readers.push(new Vf(t)),a.includes(pe.CODE_39)&&n.readers.push(new yp(o,l)),a.includes(pe.CODE_93)&&n.readers.push(new xp),a.includes(pe.CODE_128)&&n.readers.push(new gp),a.includes(pe.ITF)&&n.readers.push(new mp),a.includes(pe.CODABAR)&&n.readers.push(new G3),a.includes(pe.RSS_14)&&n.readers.push(new Tp),a.includes(pe.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new xE))),n.readers.length===0&&(n.readers.push(new Vf(t)),n.readers.push(new yp),n.readers.push(new xp),n.readers.push(new Vf(t)),n.readers.push(new gp),n.readers.push(new mp),n.readers.push(new Tp)),n}return e.prototype.decodeRow=function(t,n,a){for(var o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(t,n,a)}catch{}throw new W},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e})(It),bE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){bE(e,r);function e(t,n){return t===void 0&&(t=500),r.call(this,new zi(n),t,n)||this}return e})(Yi);var Op=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},He=(function(){function r(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}return r.prototype.getECCodewords=function(){return this.ecCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r})(),Ue=(function(){function r(e,t){this.count=e,this.dataCodewords=t}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r})(),AE=(function(){function r(e,t,n,a,o,l){var c,f;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=o,this.ecBlocks=l;var h=0,v=l.getECCodewords(),g=l.getECBlocks();try{for(var x=Op(g),m=x.next();!m.done;m=x.next()){var w=m.value;h+=w.getCount()*(w.getDataCodewords()+v)}}catch(S){c={error:S}}finally{try{m&&!m.done&&(f=x.return)&&f.call(x)}finally{if(c)throw c.error}}this.totalCodewords=h}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},r.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},r.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},r.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r.getVersionForDimensions=function(e,t){var n,a;if((e&1)!==0||(t&1)!==0)throw new se;try{for(var o=Op(r.VERSIONS),l=o.next();!l.done;l=o.next()){var c=l.value;if(c.symbolSizeRows===e&&c.symbolSizeColumns===t)return c}}catch(f){n={error:f}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}throw new se},r.prototype.toString=function(){return""+this.versionNumber},r.buildVersions=function(){return[new r(1,10,10,8,8,new He(5,new Ue(1,3))),new r(2,12,12,10,10,new He(7,new Ue(1,5))),new r(3,14,14,12,12,new He(10,new Ue(1,8))),new r(4,16,16,14,14,new He(12,new Ue(1,12))),new r(5,18,18,16,16,new He(14,new Ue(1,18))),new r(6,20,20,18,18,new He(18,new Ue(1,22))),new r(7,22,22,20,20,new He(20,new Ue(1,30))),new r(8,24,24,22,22,new He(24,new Ue(1,36))),new r(9,26,26,24,24,new He(28,new Ue(1,44))),new r(10,32,32,14,14,new He(36,new Ue(1,62))),new r(11,36,36,16,16,new He(42,new Ue(1,86))),new r(12,40,40,18,18,new He(48,new Ue(1,114))),new r(13,44,44,20,20,new He(56,new Ue(1,144))),new r(14,48,48,22,22,new He(68,new Ue(1,174))),new r(15,52,52,24,24,new He(42,new Ue(2,102))),new r(16,64,64,14,14,new He(56,new Ue(2,140))),new r(17,72,72,16,16,new He(36,new Ue(4,92))),new r(18,80,80,18,18,new He(48,new Ue(4,114))),new r(19,88,88,20,20,new He(56,new Ue(4,144))),new r(20,96,96,22,22,new He(68,new Ue(4,174))),new r(21,104,104,24,24,new He(56,new Ue(6,136))),new r(22,120,120,18,18,new He(68,new Ue(6,175))),new r(23,132,132,20,20,new He(62,new Ue(8,163))),new r(24,144,144,22,22,new He(62,new Ue(8,156),new Ue(2,155))),new r(25,8,18,6,16,new He(7,new Ue(1,5))),new r(26,8,32,6,14,new He(11,new Ue(1,10))),new r(27,12,26,10,24,new He(14,new Ue(1,16))),new r(28,12,36,10,16,new He(18,new Ue(1,22))),new r(29,16,36,14,16,new He(24,new Ue(1,32))),new r(30,16,48,14,22,new He(28,new Ue(1,49)))]},r.VERSIONS=r.buildVersions(),r})(),SE=(function(){function r(e){var t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new se;this.version=r.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Qr(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return r.prototype.getVersion=function(){return this.version},r.readVersion=function(e){var t=e.getHeight(),n=e.getWidth();return AE.getVersionForDimensions(t,n)},r.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,n=4,a=0,o=this.mappingBitMatrix.getHeight(),l=this.mappingBitMatrix.getWidth(),c=!1,f=!1,h=!1,v=!1;do if(n===o&&a===0&&!c)e[t++]=this.readCorner1(o,l)&255,n-=2,a+=2,c=!0;else if(n===o-2&&a===0&&(l&3)!==0&&!f)e[t++]=this.readCorner2(o,l)&255,n-=2,a+=2,f=!0;else if(n===o+4&&a===2&&(l&7)===0&&!h)e[t++]=this.readCorner3(o,l)&255,n-=2,a+=2,h=!0;else if(n===o-2&&a===0&&(l&7)===4&&!v)e[t++]=this.readCorner4(o,l)&255,n-=2,a+=2,v=!0;else{do n<o&&a>=0&&!this.readMappingMatrix.get(a,n)&&(e[t++]=this.readUtah(n,a,o,l)&255),n-=2,a+=2;while(n>=0&&a<l);n+=1,a+=3;do n>=0&&a<l&&!this.readMappingMatrix.get(a,n)&&(e[t++]=this.readUtah(n,a,o,l)&255),n+=2,a-=2;while(n<o&&a>=0);n+=3,a+=1}while(n<o||a<l);if(t!==this.version.getTotalCodewords())throw new se;return e},r.prototype.readModule=function(e,t,n,a){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=a,e+=4-(a+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},r.prototype.readUtah=function(e,t,n,a){var o=0;return this.readModule(e-2,t-2,n,a)&&(o|=1),o<<=1,this.readModule(e-2,t-1,n,a)&&(o|=1),o<<=1,this.readModule(e-1,t-2,n,a)&&(o|=1),o<<=1,this.readModule(e-1,t-1,n,a)&&(o|=1),o<<=1,this.readModule(e-1,t,n,a)&&(o|=1),o<<=1,this.readModule(e,t-2,n,a)&&(o|=1),o<<=1,this.readModule(e,t-1,n,a)&&(o|=1),o<<=1,this.readModule(e,t,n,a)&&(o|=1),o},r.prototype.readCorner1=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},r.prototype.readCorner2=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},r.prototype.readCorner3=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},r.prototype.readCorner4=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},r.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new ge("Dimension of bitMatrix must match the version size");for(var a=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),l=t/a|0,c=n/o|0,f=l*a,h=c*o,v=new Qr(h,f),g=0;g<l;++g)for(var x=g*a,m=0;m<c;++m)for(var w=m*o,S=0;S<a;++S)for(var E=g*(a+2)+1+S,b=x+S,T=0;T<o;++T){var O=m*(o+2)+1+T;if(e.get(O,E)){var D=w+T;v.set(D,b)}}return v},r})(),Rp=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},CE=(function(){function r(e,t){this.numDataCodewords=e,this.codewords=t}return r.getDataBlocks=function(e,t){var n,a,o,l,c=t.getECBlocks(),f=0,h=c.getECBlocks();try{for(var v=Rp(h),g=v.next();!g.done;g=v.next()){var x=g.value;f+=x.getCount()}}catch(oe){n={error:oe}}finally{try{g&&!g.done&&(a=v.return)&&a.call(v)}finally{if(n)throw n.error}}var m=new Array(f),w=0;try{for(var S=Rp(h),E=S.next();!E.done;E=S.next())for(var x=E.value,b=0;b<x.getCount();b++){var T=x.getDataCodewords(),O=c.getECCodewords()+T;m[w++]=new r(T,new Uint8Array(O))}}catch(oe){o={error:oe}}finally{try{E&&!E.done&&(l=S.return)&&l.call(S)}finally{if(o)throw o.error}}for(var D=m[0].codewords.length,N=D-c.getECCodewords(),k=N-1,L=0,b=0;b<k;b++)for(var Z=0;Z<w;Z++)m[Z].codewords[b]=e[L++];for(var J=t.getVersionNumber()===24,Y=J?8:w,Z=0;Z<Y;Z++)m[Z].codewords[N-1]=e[L++];for(var q=m[0].codewords.length,b=N;b<q;b++)for(var Z=0;Z<w;Z++){var ee=J?(Z+8)%w:Z,ne=J&&ee>7?b-1:b;m[ee].codewords[ne]=e[L++]}if(L!==e.length)throw new ge;return m},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r})(),Lg=(function(){function r(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return r.prototype.getBitOffset=function(){return this.bitOffset},r.prototype.getByteOffset=function(){return this.byteOffset},r.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new ge(""+e);var t=0,n=this.bitOffset,a=this.byteOffset,o=this.bytes;if(n>0){var l=8-n,c=e<l?e:l,f=l-c,h=255>>8-c<<f;t=(o[a]&h)>>f,e-=c,n+=c,n===8&&(n=0,a++)}if(e>0){for(;e>=8;)t=t<<8|o[a]&255,a++,e-=8;if(e>0){var f=8-e,h=255>>f<<f;t=t<<e|(o[a]&h)>>f,n+=e}}return this.bitOffset=n,this.byteOffset=a,t},r.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},r})(),St;(function(r){r[r.PAD_ENCODE=0]="PAD_ENCODE",r[r.ASCII_ENCODE=1]="ASCII_ENCODE",r[r.C40_ENCODE=2]="C40_ENCODE",r[r.TEXT_ENCODE=3]="TEXT_ENCODE",r[r.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",r[r.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",r[r.BASE256_ENCODE=6]="BASE256_ENCODE"})(St||(St={}));var TE=(function(){function r(){}return r.decode=function(e){var t=new Lg(e),n=new Ce,a=new Ce,o=new Array,l=St.ASCII_ENCODE;do if(l===St.ASCII_ENCODE)l=this.decodeAsciiSegment(t,n,a);else{switch(l){case St.C40_ENCODE:this.decodeC40Segment(t,n);break;case St.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case St.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case St.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case St.BASE256_ENCODE:this.decodeBase256Segment(t,n,o);break;default:throw new se}l=St.ASCII_ENCODE}while(l!==St.PAD_ENCODE&&t.available()>0);return a.length()>0&&n.append(a.toString()),new uu(e,n.toString(),o.length===0?null:o,null)},r.decodeAsciiSegment=function(e,t,n){var a=!1;do{var o=e.readBits(8);if(o===0)throw new se;if(o<=128)return a&&(o+=128),t.append(String.fromCharCode(o-1)),St.ASCII_ENCODE;if(o===129)return St.PAD_ENCODE;if(o<=229){var l=o-130;l<10&&t.append("0"),t.append(""+l)}else switch(o){case 230:return St.C40_ENCODE;case 231:return St.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:t.append("[)>05"),n.insert(0,"");break;case 237:t.append("[)>06"),n.insert(0,"");break;case 238:return St.ANSIX12_ENCODE;case 239:return St.TEXT_ENCODE;case 240:return St.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new se;break}}while(e.available()>0);return St.ASCII_ENCODE},r.decodeC40Segment=function(e,t){var n=!1,a=[],o=0;do{if(e.available()===8)return;var l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),a);for(var c=0;c<3;c++){var f=a[c];switch(o){case 0:if(f<3)o=f+1;else if(f<this.C40_BASIC_SET_CHARS.length){var h=this.C40_BASIC_SET_CHARS[f];n?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):t.append(h)}else throw new se;break;case 1:n?(t.append(String.fromCharCode(f+128)),n=!1):t.append(String.fromCharCode(f)),o=0;break;case 2:if(f<this.C40_SHIFT2_SET_CHARS.length){var h=this.C40_SHIFT2_SET_CHARS[f];n?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):t.append(h)}else switch(f){case 27:t.append("");break;case 30:n=!0;break;default:throw new se}o=0;break;case 3:n?(t.append(String.fromCharCode(f+224)),n=!1):t.append(String.fromCharCode(f+96)),o=0;break;default:throw new se}}}while(e.available()>0)},r.decodeTextSegment=function(e,t){var n=!1,a=[],o=0;do{if(e.available()===8)return;var l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),a);for(var c=0;c<3;c++){var f=a[c];switch(o){case 0:if(f<3)o=f+1;else if(f<this.TEXT_BASIC_SET_CHARS.length){var h=this.TEXT_BASIC_SET_CHARS[f];n?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):t.append(h)}else throw new se;break;case 1:n?(t.append(String.fromCharCode(f+128)),n=!1):t.append(String.fromCharCode(f)),o=0;break;case 2:if(f<this.TEXT_SHIFT2_SET_CHARS.length){var h=this.TEXT_SHIFT2_SET_CHARS[f];n?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):t.append(h)}else switch(f){case 27:t.append("");break;case 30:n=!0;break;default:throw new se}o=0;break;case 3:if(f<this.TEXT_SHIFT3_SET_CHARS.length){var h=this.TEXT_SHIFT3_SET_CHARS[f];n?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):t.append(h),o=0}else throw new se;break;default:throw new se}}}while(e.available()>0)},r.decodeAnsiX12Segment=function(e,t){var n=[];do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),n);for(var o=0;o<3;o++){var l=n[o];switch(l){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(l<14)t.append(String.fromCharCode(l+44));else if(l<40)t.append(String.fromCharCode(l+51));else throw new se;break}}}while(e.available()>0)},r.parseTwoBytes=function(e,t,n){var a=(e<<8)+t-1,o=Math.floor(a/1600);n[0]=o,a-=o*1600,o=Math.floor(a/40),n[1]=o,n[2]=a-o*40},r.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var a=e.readBits(6);if(a===31){var o=8-e.getBitOffset();o!==8&&e.readBits(o);return}(a&32)===0&&(a|=64),t.append(String.fromCharCode(a))}}while(e.available()>0)},r.decodeBase256Segment=function(e,t,n){var a=1+e.getByteOffset(),o=this.unrandomize255State(e.readBits(8),a++),l;if(o===0?l=e.available()/8|0:o<250?l=o:l=250*(o-249)+this.unrandomize255State(e.readBits(8),a++),l<0)throw new se;for(var c=new Uint8Array(l),f=0;f<l;f++){if(e.available()<8)throw new se;c[f]=this.unrandomize255State(e.readBits(8),a++)}n.push(c);try{t.append(Mr.decode(c,Be.ISO88591))}catch(h){throw new ms("Platform does not support required encoding: "+h.message)}},r.unrandomize255State=function(e,t){var n=149*t%255+1,a=e-n;return a>=0?a:a+256},r.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],r.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],r.TEXT_SHIFT2_SET_CHARS=r.C40_SHIFT2_SET_CHARS,r.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],r})(),OE=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},RE=(function(){function r(){this.rsDecoder=new cu(fr.DATA_MATRIX_FIELD_256)}return r.prototype.decode=function(e){var t,n,a=new SE(e),o=a.getVersion(),l=a.readCodewords(),c=CE.getDataBlocks(l,o),f=0;try{for(var h=OE(c),v=h.next();!v.done;v=h.next()){var g=v.value;f+=g.getNumDataCodewords()}}catch(O){t={error:O}}finally{try{v&&!v.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}for(var x=new Uint8Array(f),m=c.length,w=0;w<m;w++){var S=c[w],E=S.getCodewords(),b=S.getNumDataCodewords();this.correctErrors(E,b);for(var T=0;T<b;T++)x[T*m+w]=E[T]}return TE.decode(x)},r.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new mt}for(var a=0;a<t;a++)e[a]=n[a]},r})(),DE=(function(){function r(e){this.image=e,this.rectangleDetector=new vd(this.image)}return r.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new W;t=this.shiftToModuleCenter(t);var n=t[0],a=t[1],o=t[2],l=t[3],c=this.transitionsBetween(n,l)+1,f=this.transitionsBetween(o,l)+1;(c&1)===1&&(c+=1),(f&1)===1&&(f+=1),4*c<7*f&&4*f<7*c&&(c=f=Math.max(c,f));var h=r.sampleGrid(this.image,n,a,o,l,c,f);return new Nd(h,[n,a,o,l])},r.shiftPoint=function(e,t,n){var a=(t.getX()-e.getX())/(n+1),o=(t.getY()-e.getY())/(n+1);return new de(e.getX()+a,e.getY()+o)},r.moveAway=function(e,t,n){var a=e.getX(),o=e.getY();return a<t?a-=1:a+=1,o<n?o-=1:o+=1,new de(a,o)},r.prototype.detectSolid1=function(e){var t=e[0],n=e[1],a=e[3],o=e[2],l=this.transitionsBetween(t,n),c=this.transitionsBetween(n,a),f=this.transitionsBetween(a,o),h=this.transitionsBetween(o,t),v=l,g=[o,t,n,a];return v>c&&(v=c,g[0]=t,g[1]=n,g[2]=a,g[3]=o),v>f&&(v=f,g[0]=n,g[1]=a,g[2]=o,g[3]=t),v>h&&(g[0]=a,g[1]=o,g[2]=t,g[3]=n),g},r.prototype.detectSolid2=function(e){var t=e[0],n=e[1],a=e[2],o=e[3],l=this.transitionsBetween(t,o),c=r.shiftPoint(n,a,(l+1)*4),f=r.shiftPoint(a,n,(l+1)*4),h=this.transitionsBetween(c,t),v=this.transitionsBetween(f,o);return h<v?(e[0]=t,e[1]=n,e[2]=a,e[3]=o):(e[0]=n,e[1]=a,e[2]=o,e[3]=t),e},r.prototype.correctTopRight=function(e){var t=e[0],n=e[1],a=e[2],o=e[3],l=this.transitionsBetween(t,o),c=this.transitionsBetween(n,o),f=r.shiftPoint(t,n,(c+1)*4),h=r.shiftPoint(a,n,(l+1)*4);l=this.transitionsBetween(f,o),c=this.transitionsBetween(h,o);var v=new de(o.getX()+(a.getX()-n.getX())/(l+1),o.getY()+(a.getY()-n.getY())/(l+1)),g=new de(o.getX()+(t.getX()-n.getX())/(c+1),o.getY()+(t.getY()-n.getY())/(c+1));if(!this.isValid(v))return this.isValid(g)?g:null;if(!this.isValid(g))return v;var x=this.transitionsBetween(f,v)+this.transitionsBetween(h,v),m=this.transitionsBetween(f,g)+this.transitionsBetween(h,g);return x>m?v:g},r.prototype.shiftToModuleCenter=function(e){var t=e[0],n=e[1],a=e[2],o=e[3],l=this.transitionsBetween(t,o)+1,c=this.transitionsBetween(a,o)+1,f=r.shiftPoint(t,n,c*4),h=r.shiftPoint(a,n,l*4);l=this.transitionsBetween(f,o)+1,c=this.transitionsBetween(h,o)+1,(l&1)===1&&(l+=1),(c&1)===1&&(c+=1);var v=(t.getX()+n.getX()+a.getX()+o.getX())/4,g=(t.getY()+n.getY()+a.getY()+o.getY())/4;t=r.moveAway(t,v,g),n=r.moveAway(n,v,g),a=r.moveAway(a,v,g),o=r.moveAway(o,v,g);var x,m;return f=r.shiftPoint(t,n,c*4),f=r.shiftPoint(f,o,l*4),x=r.shiftPoint(n,t,c*4),x=r.shiftPoint(x,a,l*4),h=r.shiftPoint(a,o,c*4),h=r.shiftPoint(h,n,l*4),m=r.shiftPoint(o,a,c*4),m=r.shiftPoint(m,t,l*4),[f,x,h,m]},r.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},r.sampleGrid=function(e,t,n,a,o,l,c){var f=Md.getInstance();return f.sampleGrid(e,l,c,.5,.5,l-.5,.5,l-.5,c-.5,.5,c-.5,t.getX(),t.getY(),o.getX(),o.getY(),a.getX(),a.getY(),n.getX(),n.getY())},r.prototype.transitionsBetween=function(e,t){var n=Math.trunc(e.getX()),a=Math.trunc(e.getY()),o=Math.trunc(t.getX()),l=Math.trunc(t.getY()),c=Math.abs(l-a)>Math.abs(o-n);if(c){var f=n;n=a,a=f,f=o,o=l,l=f}for(var h=Math.abs(o-n),v=Math.abs(l-a),g=-h/2,x=a<l?1:-1,m=n<o?1:-1,w=0,S=this.image.get(c?a:n,c?n:a),E=n,b=a;E!==o;E+=m){var T=this.image.get(c?b:E,c?E:b);if(T!==S&&(w++,S=T),g+=v,g>0){if(b===l)break;b+=x,g-=h}}return w},r})(),eu=(function(){function r(){this.decoder=new RE}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n,a;if(t!=null&&t.has(nt.PURE_BARCODE)){var o=r.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(o),a=r.NO_POINTS}else{var l=new DE(e.getBlackMatrix()).detect();n=this.decoder.decode(l.getBits()),a=l.getPoints()}var c=n.getRawBytes(),f=new Zt(n.getText(),c,8*c.length,a,pe.DATA_MATRIX,rt.currentTimeMillis()),h=n.getByteSegments();h!=null&&f.putMetadata(Xt.BYTE_SEGMENTS,h);var v=n.getECLevel();return v!=null&&f.putMetadata(Xt.ERROR_CORRECTION_LEVEL,v),f},r.prototype.reset=function(){},r.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t==null||n==null)throw new W;var a=this.moduleSize(t,e),o=t[1],l=n[1],c=t[0],f=n[0],h=(f-c+1)/a,v=(l-o+1)/a;if(h<=0||v<=0)throw new W;var g=a/2;o+=g,c+=g;for(var x=new Qr(h,v),m=0;m<v;m++)for(var w=o+m*a,S=0;S<h;S++)e.get(c+S*a,w)&&x.set(S,m);return x},r.moduleSize=function(e,t){for(var n=t.getWidth(),a=e[0],o=e[1];a<n&&t.get(a,o);)a++;if(a===n)throw new W;var l=a-e[0];if(l===0)throw new W;return l},r.NO_POINTS=[],r})(),IE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){IE(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new eu,t)||this}return e})(Yi);var Hi;(function(r){r[r.L=0]="L",r[r.M=1]="M",r[r.Q=2]="Q",r[r.H=3]="H"})(Hi||(Hi={}));var NE=(function(){function r(e,t,n){this.value=e,this.stringValue=t,this.bits=n,r.FOR_BITS.set(n,this),r.FOR_VALUE.set(e,this)}return r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.fromString=function(e){switch(e){case"L":return r.L;case"M":return r.M;case"Q":return r.Q;case"H":return r.H;default:throw new pt(e+"not available")}},r.prototype.toString=function(){return this.stringValue},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.forBits=function(e){if(e<0||e>=r.FOR_BITS.size)throw new ge;return r.FOR_BITS.get(e)},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.L=new r(Hi.L,"L",1),r.M=new r(Hi.M,"M",0),r.Q=new r(Hi.Q,"Q",3),r.H=new r(Hi.H,"H",2),r})(),ME=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jg=(function(){function r(e){this.errorCorrectionLevel=NE.forBits(e>>3&3),this.dataMask=e&7}return r.numBitsDiffering=function(e,t){return Oe.bitCount(e^t)},r.decodeFormatInformation=function(e,t){var n=r.doDecodeFormatInformation(e,t);return n!==null?n:r.doDecodeFormatInformation(e^r.FORMAT_INFO_MASK_QR,t^r.FORMAT_INFO_MASK_QR)},r.doDecodeFormatInformation=function(e,t){var n,a,o=Number.MAX_SAFE_INTEGER,l=0;try{for(var c=ME(r.FORMAT_INFO_DECODE_LOOKUP),f=c.next();!f.done;f=c.next()){var h=f.value,v=h[0];if(v===e||v===t)return new r(h[1]);var g=r.numBitsDiffering(e,v);g<o&&(l=h[1],o=g),e!==t&&(g=r.numBitsDiffering(t,v),g<o&&(l=h[1],o=g))}}catch(x){n={error:x}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}return o<=3?new r(l):null},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getDataMask=function(){return this.dataMask},r.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask},r.FORMAT_INFO_MASK_QR=21522,r.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],r})(),BE=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},V=(function(){function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return r.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},r.prototype.getNumBlocks=function(){var e,t,n=0,a=this.ecBlocks;try{for(var o=BE(a),l=o.next();!l.done;l=o.next()){var c=l.value;n+=c.getCount()}}catch(f){e={error:f}}finally{try{l&&!l.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n},r.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},r.prototype.getECBlocks=function(){return this.ecBlocks},r})(),R=(function(){function r(e,t){this.count=e,this.dataCodewords=t}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r})(),kE=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},La=(function(){function r(e,t){for(var n,a,o=[],l=2;l<arguments.length;l++)o[l-2]=arguments[l];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=o;var c=0,f=o[0].getECCodewordsPerBlock(),h=o[0].getECBlocks();try{for(var v=kE(h),g=v.next();!g.done;g=v.next()){var x=g.value;c+=x.getCount()*(x.getDataCodewords()+f)}}catch(m){n={error:m}}finally{try{g&&!g.done&&(a=v.return)&&a.call(v)}finally{if(n)throw n.error}}this.totalCodewords=c}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},r.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},r.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new se;try{return this.getVersionForNumber((e-17)/4)}catch{throw new se}},r.getVersionForNumber=function(e){if(e<1||e>40)throw new ge;return r.VERSIONS[e-1]},r.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,n=0,a=0;a<r.VERSION_DECODE_INFO.length;a++){var o=r.VERSION_DECODE_INFO[a];if(o===e)return r.getVersionForNumber(a+7);var l=jg.numBitsDiffering(e,o);l<t&&(n=a+7,t=l)}return t<=3?r.getVersionForNumber(n):null},r.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new Qr(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,a=0;a<n;a++)for(var o=this.alignmentPatternCenters[a]-2,l=0;l<n;l++)a===0&&(l===0||l===n-1)||a===n-1&&l===0||t.setRegion(this.alignmentPatternCenters[l]-2,o,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},r.prototype.toString=function(){return""+this.versionNumber},r.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),r.VERSIONS=[new r(1,new Int32Array(0),new V(7,new R(1,19)),new V(10,new R(1,16)),new V(13,new R(1,13)),new V(17,new R(1,9))),new r(2,Int32Array.from([6,18]),new V(10,new R(1,34)),new V(16,new R(1,28)),new V(22,new R(1,22)),new V(28,new R(1,16))),new r(3,Int32Array.from([6,22]),new V(15,new R(1,55)),new V(26,new R(1,44)),new V(18,new R(2,17)),new V(22,new R(2,13))),new r(4,Int32Array.from([6,26]),new V(20,new R(1,80)),new V(18,new R(2,32)),new V(26,new R(2,24)),new V(16,new R(4,9))),new r(5,Int32Array.from([6,30]),new V(26,new R(1,108)),new V(24,new R(2,43)),new V(18,new R(2,15),new R(2,16)),new V(22,new R(2,11),new R(2,12))),new r(6,Int32Array.from([6,34]),new V(18,new R(2,68)),new V(16,new R(4,27)),new V(24,new R(4,19)),new V(28,new R(4,15))),new r(7,Int32Array.from([6,22,38]),new V(20,new R(2,78)),new V(18,new R(4,31)),new V(18,new R(2,14),new R(4,15)),new V(26,new R(4,13),new R(1,14))),new r(8,Int32Array.from([6,24,42]),new V(24,new R(2,97)),new V(22,new R(2,38),new R(2,39)),new V(22,new R(4,18),new R(2,19)),new V(26,new R(4,14),new R(2,15))),new r(9,Int32Array.from([6,26,46]),new V(30,new R(2,116)),new V(22,new R(3,36),new R(2,37)),new V(20,new R(4,16),new R(4,17)),new V(24,new R(4,12),new R(4,13))),new r(10,Int32Array.from([6,28,50]),new V(18,new R(2,68),new R(2,69)),new V(26,new R(4,43),new R(1,44)),new V(24,new R(6,19),new R(2,20)),new V(28,new R(6,15),new R(2,16))),new r(11,Int32Array.from([6,30,54]),new V(20,new R(4,81)),new V(30,new R(1,50),new R(4,51)),new V(28,new R(4,22),new R(4,23)),new V(24,new R(3,12),new R(8,13))),new r(12,Int32Array.from([6,32,58]),new V(24,new R(2,92),new R(2,93)),new V(22,new R(6,36),new R(2,37)),new V(26,new R(4,20),new R(6,21)),new V(28,new R(7,14),new R(4,15))),new r(13,Int32Array.from([6,34,62]),new V(26,new R(4,107)),new V(22,new R(8,37),new R(1,38)),new V(24,new R(8,20),new R(4,21)),new V(22,new R(12,11),new R(4,12))),new r(14,Int32Array.from([6,26,46,66]),new V(30,new R(3,115),new R(1,116)),new V(24,new R(4,40),new R(5,41)),new V(20,new R(11,16),new R(5,17)),new V(24,new R(11,12),new R(5,13))),new r(15,Int32Array.from([6,26,48,70]),new V(22,new R(5,87),new R(1,88)),new V(24,new R(5,41),new R(5,42)),new V(30,new R(5,24),new R(7,25)),new V(24,new R(11,12),new R(7,13))),new r(16,Int32Array.from([6,26,50,74]),new V(24,new R(5,98),new R(1,99)),new V(28,new R(7,45),new R(3,46)),new V(24,new R(15,19),new R(2,20)),new V(30,new R(3,15),new R(13,16))),new r(17,Int32Array.from([6,30,54,78]),new V(28,new R(1,107),new R(5,108)),new V(28,new R(10,46),new R(1,47)),new V(28,new R(1,22),new R(15,23)),new V(28,new R(2,14),new R(17,15))),new r(18,Int32Array.from([6,30,56,82]),new V(30,new R(5,120),new R(1,121)),new V(26,new R(9,43),new R(4,44)),new V(28,new R(17,22),new R(1,23)),new V(28,new R(2,14),new R(19,15))),new r(19,Int32Array.from([6,30,58,86]),new V(28,new R(3,113),new R(4,114)),new V(26,new R(3,44),new R(11,45)),new V(26,new R(17,21),new R(4,22)),new V(26,new R(9,13),new R(16,14))),new r(20,Int32Array.from([6,34,62,90]),new V(28,new R(3,107),new R(5,108)),new V(26,new R(3,41),new R(13,42)),new V(30,new R(15,24),new R(5,25)),new V(28,new R(15,15),new R(10,16))),new r(21,Int32Array.from([6,28,50,72,94]),new V(28,new R(4,116),new R(4,117)),new V(26,new R(17,42)),new V(28,new R(17,22),new R(6,23)),new V(30,new R(19,16),new R(6,17))),new r(22,Int32Array.from([6,26,50,74,98]),new V(28,new R(2,111),new R(7,112)),new V(28,new R(17,46)),new V(30,new R(7,24),new R(16,25)),new V(24,new R(34,13))),new r(23,Int32Array.from([6,30,54,78,102]),new V(30,new R(4,121),new R(5,122)),new V(28,new R(4,47),new R(14,48)),new V(30,new R(11,24),new R(14,25)),new V(30,new R(16,15),new R(14,16))),new r(24,Int32Array.from([6,28,54,80,106]),new V(30,new R(6,117),new R(4,118)),new V(28,new R(6,45),new R(14,46)),new V(30,new R(11,24),new R(16,25)),new V(30,new R(30,16),new R(2,17))),new r(25,Int32Array.from([6,32,58,84,110]),new V(26,new R(8,106),new R(4,107)),new V(28,new R(8,47),new R(13,48)),new V(30,new R(7,24),new R(22,25)),new V(30,new R(22,15),new R(13,16))),new r(26,Int32Array.from([6,30,58,86,114]),new V(28,new R(10,114),new R(2,115)),new V(28,new R(19,46),new R(4,47)),new V(28,new R(28,22),new R(6,23)),new V(30,new R(33,16),new R(4,17))),new r(27,Int32Array.from([6,34,62,90,118]),new V(30,new R(8,122),new R(4,123)),new V(28,new R(22,45),new R(3,46)),new V(30,new R(8,23),new R(26,24)),new V(30,new R(12,15),new R(28,16))),new r(28,Int32Array.from([6,26,50,74,98,122]),new V(30,new R(3,117),new R(10,118)),new V(28,new R(3,45),new R(23,46)),new V(30,new R(4,24),new R(31,25)),new V(30,new R(11,15),new R(31,16))),new r(29,Int32Array.from([6,30,54,78,102,126]),new V(30,new R(7,116),new R(7,117)),new V(28,new R(21,45),new R(7,46)),new V(30,new R(1,23),new R(37,24)),new V(30,new R(19,15),new R(26,16))),new r(30,Int32Array.from([6,26,52,78,104,130]),new V(30,new R(5,115),new R(10,116)),new V(28,new R(19,47),new R(10,48)),new V(30,new R(15,24),new R(25,25)),new V(30,new R(23,15),new R(25,16))),new r(31,Int32Array.from([6,30,56,82,108,134]),new V(30,new R(13,115),new R(3,116)),new V(28,new R(2,46),new R(29,47)),new V(30,new R(42,24),new R(1,25)),new V(30,new R(23,15),new R(28,16))),new r(32,Int32Array.from([6,34,60,86,112,138]),new V(30,new R(17,115)),new V(28,new R(10,46),new R(23,47)),new V(30,new R(10,24),new R(35,25)),new V(30,new R(19,15),new R(35,16))),new r(33,Int32Array.from([6,30,58,86,114,142]),new V(30,new R(17,115),new R(1,116)),new V(28,new R(14,46),new R(21,47)),new V(30,new R(29,24),new R(19,25)),new V(30,new R(11,15),new R(46,16))),new r(34,Int32Array.from([6,34,62,90,118,146]),new V(30,new R(13,115),new R(6,116)),new V(28,new R(14,46),new R(23,47)),new V(30,new R(44,24),new R(7,25)),new V(30,new R(59,16),new R(1,17))),new r(35,Int32Array.from([6,30,54,78,102,126,150]),new V(30,new R(12,121),new R(7,122)),new V(28,new R(12,47),new R(26,48)),new V(30,new R(39,24),new R(14,25)),new V(30,new R(22,15),new R(41,16))),new r(36,Int32Array.from([6,24,50,76,102,128,154]),new V(30,new R(6,121),new R(14,122)),new V(28,new R(6,47),new R(34,48)),new V(30,new R(46,24),new R(10,25)),new V(30,new R(2,15),new R(64,16))),new r(37,Int32Array.from([6,28,54,80,106,132,158]),new V(30,new R(17,122),new R(4,123)),new V(28,new R(29,46),new R(14,47)),new V(30,new R(49,24),new R(10,25)),new V(30,new R(24,15),new R(46,16))),new r(38,Int32Array.from([6,32,58,84,110,136,162]),new V(30,new R(4,122),new R(18,123)),new V(28,new R(13,46),new R(32,47)),new V(30,new R(48,24),new R(14,25)),new V(30,new R(42,15),new R(32,16))),new r(39,Int32Array.from([6,26,54,82,110,138,166]),new V(30,new R(20,117),new R(4,118)),new V(28,new R(40,47),new R(7,48)),new V(30,new R(43,24),new R(22,25)),new V(30,new R(10,15),new R(67,16))),new r(40,Int32Array.from([6,30,58,86,114,142,170]),new V(30,new R(19,118),new R(6,119)),new V(28,new R(18,47),new R(31,48)),new V(30,new R(34,24),new R(34,25)),new V(30,new R(20,15),new R(61,16)))],r})(),Lt;(function(r){r[r.DATA_MASK_000=0]="DATA_MASK_000",r[r.DATA_MASK_001=1]="DATA_MASK_001",r[r.DATA_MASK_010=2]="DATA_MASK_010",r[r.DATA_MASK_011=3]="DATA_MASK_011",r[r.DATA_MASK_100=4]="DATA_MASK_100",r[r.DATA_MASK_101=5]="DATA_MASK_101",r[r.DATA_MASK_110=6]="DATA_MASK_110",r[r.DATA_MASK_111=7]="DATA_MASK_111"})(Lt||(Lt={}));var Dp=(function(){function r(e,t){this.value=e,this.isMasked=t}return r.prototype.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var a=0;a<t;a++)this.isMasked(n,a)&&e.flip(a,n)},r.values=new Map([[Lt.DATA_MASK_000,new r(Lt.DATA_MASK_000,function(e,t){return(e+t&1)===0})],[Lt.DATA_MASK_001,new r(Lt.DATA_MASK_001,function(e,t){return(e&1)===0})],[Lt.DATA_MASK_010,new r(Lt.DATA_MASK_010,function(e,t){return t%3===0})],[Lt.DATA_MASK_011,new r(Lt.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[Lt.DATA_MASK_100,new r(Lt.DATA_MASK_100,function(e,t){return(Math.floor(e/2)+Math.floor(t/3)&1)===0})],[Lt.DATA_MASK_101,new r(Lt.DATA_MASK_101,function(e,t){return e*t%6===0})],[Lt.DATA_MASK_110,new r(Lt.DATA_MASK_110,function(e,t){return e*t%6<3})],[Lt.DATA_MASK_111,new r(Lt.DATA_MASK_111,function(e,t){return(e+t+e*t%3&1)===0})]]),r})(),PE=(function(){function r(e){var t=e.getHeight();if(t<21||(t&3)!==1)throw new se;this.bitMatrix=e}return r.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var a=this.bitMatrix.getHeight(),o=0,l=a-7,n=a-1;n>=l;n--)o=this.copyBit(8,n,o);for(var t=a-8;t<a;t++)o=this.copyBit(t,8,o);if(this.parsedFormatInfo=jg.decodeFormatInformation(e,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new se},r.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return La.getVersionForNumber(t);for(var n=0,a=e-11,o=5;o>=0;o--)for(var l=e-9;l>=a;l--)n=this.copyBit(l,o,n);var c=La.decodeVersionInformation(n);if(c!==null&&c.getDimensionForVersion()===e)return this.parsedVersion=c,c;n=0;for(var l=5;l>=0;l--)for(var o=e-9;o>=a;o--)n=this.copyBit(l,o,n);if(c=La.decodeVersionInformation(n),c!==null&&c.getDimensionForVersion()===e)return this.parsedVersion=c,c;throw new se},r.prototype.copyBit=function(e,t,n){var a=this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t);return a?n<<1|1:n<<1},r.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),n=Dp.values.get(e.getDataMask()),a=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,a);for(var o=t.buildFunctionPattern(),l=!0,c=new Uint8Array(t.getTotalCodewords()),f=0,h=0,v=0,g=a-1;g>0;g-=2){g===6&&g--;for(var x=0;x<a;x++)for(var m=l?a-1-x:x,w=0;w<2;w++)o.get(g-w,m)||(v++,h<<=1,this.bitMatrix.get(g-w,m)&&(h|=1),v===8&&(c[f++]=h,v=0,h=0));l=!l}if(f!==t.getTotalCodewords())throw new se;return c},r.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=Dp.values.get(this.parsedFormatInfo.getDataMask()),t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},r.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},r.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,n=e.getWidth();t<n;t++)for(var a=t+1,o=e.getHeight();a<o;a++)e.get(t,a)!==e.get(a,t)&&(e.flip(a,t),e.flip(t,a))},r})(),Ip=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},LE=(function(){function r(e,t){this.numDataCodewords=e,this.codewords=t}return r.getDataBlocks=function(e,t,n){var a,o,l,c;if(e.length!==t.getTotalCodewords())throw new ge;var f=t.getECBlocksForLevel(n),h=0,v=f.getECBlocks();try{for(var g=Ip(v),x=g.next();!x.done;x=g.next()){var m=x.value;h+=m.getCount()}}catch(ne){a={error:ne}}finally{try{x&&!x.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}var w=new Array(h),S=0;try{for(var E=Ip(v),b=E.next();!b.done;b=E.next())for(var m=b.value,T=0;T<m.getCount();T++){var O=m.getDataCodewords(),D=f.getECCodewordsPerBlock()+O;w[S++]=new r(O,new Uint8Array(D))}}catch(ne){l={error:ne}}finally{try{b&&!b.done&&(c=E.return)&&c.call(E)}finally{if(l)throw l.error}}for(var N=w[0].codewords.length,k=w.length-1;k>=0;){var L=w[k].codewords.length;if(L===N)break;k--}k++;for(var Z=N-f.getECCodewordsPerBlock(),J=0,T=0;T<Z;T++)for(var Y=0;Y<S;Y++)w[Y].codewords[T]=e[J++];for(var Y=k;Y<S;Y++)w[Y].codewords[Z]=e[J++];for(var q=w[0].codewords.length,T=Z;T<q;T++)for(var Y=0;Y<S;Y++){var ee=Y<k?T:T+1;w[Y].codewords[ee]=e[J++]}return w},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r})(),Ir;(function(r){r[r.TERMINATOR=0]="TERMINATOR",r[r.NUMERIC=1]="NUMERIC",r[r.ALPHANUMERIC=2]="ALPHANUMERIC",r[r.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",r[r.BYTE=4]="BYTE",r[r.ECI=5]="ECI",r[r.KANJI=6]="KANJI",r[r.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",r[r.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",r[r.HANZI=9]="HANZI"})(Ir||(Ir={}));var it=(function(){function r(e,t,n,a){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=n,this.bits=a,r.FOR_BITS.set(a,this),r.FOR_VALUE.set(e,this)}return r.forBits=function(e){var t=r.FOR_BITS.get(e);if(t===void 0)throw new ge;return t},r.prototype.getCharacterCountBits=function(e){var t=e.getVersionNumber(),n;return t<=9?n=0:t<=26?n=1:n=2,this.characterCountBitsForVersions[n]},r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.prototype.toString=function(){return this.stringValue},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.TERMINATOR=new r(Ir.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),r.NUMERIC=new r(Ir.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),r.ALPHANUMERIC=new r(Ir.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),r.STRUCTURED_APPEND=new r(Ir.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),r.BYTE=new r(Ir.BYTE,"BYTE",Int32Array.from([8,16,16]),4),r.ECI=new r(Ir.ECI,"ECI",Int32Array.from([0,0,0]),7),r.KANJI=new r(Ir.KANJI,"KANJI",Int32Array.from([8,10,12]),8),r.FNC1_FIRST_POSITION=new r(Ir.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),r.FNC1_SECOND_POSITION=new r(Ir.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),r.HANZI=new r(Ir.HANZI,"HANZI",Int32Array.from([8,10,12]),13),r})(),jE=(function(){function r(){}return r.decode=function(e,t,n,a){var o=new Lg(e),l=new Ce,c=new Array,f=-1,h=-1;try{var v=null,g=!1,x=void 0;do{if(o.available()<4)x=it.TERMINATOR;else{var m=o.readBits(4);x=it.forBits(m)}switch(x){case it.TERMINATOR:break;case it.FNC1_FIRST_POSITION:case it.FNC1_SECOND_POSITION:g=!0;break;case it.STRUCTURED_APPEND:if(o.available()<16)throw new se;f=o.readBits(8),h=o.readBits(8);break;case it.ECI:var w=r.parseECIValue(o);if(v=Rt.getCharacterSetECIByValue(w),v===null)throw new se;break;case it.HANZI:var S=o.readBits(4),E=o.readBits(x.getCharacterCountBits(t));S===r.GB2312_SUBSET&&r.decodeHanziSegment(o,l,E);break;default:var b=o.readBits(x.getCharacterCountBits(t));switch(x){case it.NUMERIC:r.decodeNumericSegment(o,l,b);break;case it.ALPHANUMERIC:r.decodeAlphanumericSegment(o,l,b,g);break;case it.BYTE:r.decodeByteSegment(o,l,b,v,c,a);break;case it.KANJI:r.decodeKanjiSegment(o,l,b);break;default:throw new se}break}}while(x!==it.TERMINATOR)}catch{throw new se}return new uu(e,l.toString(),c.length===0?null:c,n===null?null:n.toString(),f,h)},r.decodeHanziSegment=function(e,t,n){if(n*13>e.available())throw new se;for(var a=new Uint8Array(2*n),o=0;n>0;){var l=e.readBits(13),c=l/96<<8&4294967295|l%96;c<959?c+=41377:c+=42657,a[o]=c>>8&255,a[o+1]=c&255,o+=2,n--}try{t.append(Mr.decode(a,Be.GB2312))}catch(f){throw new se(f)}},r.decodeKanjiSegment=function(e,t,n){if(n*13>e.available())throw new se;for(var a=new Uint8Array(2*n),o=0;n>0;){var l=e.readBits(13),c=l/192<<8&4294967295|l%192;c<7936?c+=33088:c+=49472,a[o]=c>>8,a[o+1]=c,o+=2,n--}try{t.append(Mr.decode(a,Be.SHIFT_JIS))}catch(f){throw new se(f)}},r.decodeByteSegment=function(e,t,n,a,o,l){if(8*n>e.available())throw new se;for(var c=new Uint8Array(n),f=0;f<n;f++)c[f]=e.readBits(8);var h;a===null?h=Be.guessEncoding(c,l):h=a.getName();try{t.append(Mr.decode(c,h))}catch(v){throw new se(v)}o.push(c)},r.toAlphaNumericChar=function(e){if(e>=r.ALPHANUMERIC_CHARS.length)throw new se;return r.ALPHANUMERIC_CHARS[e]},r.decodeAlphanumericSegment=function(e,t,n,a){for(var o=t.length();n>1;){if(e.available()<11)throw new se;var l=e.readBits(11);t.append(r.toAlphaNumericChar(Math.floor(l/45))),t.append(r.toAlphaNumericChar(l%45)),n-=2}if(n===1){if(e.available()<6)throw new se;t.append(r.toAlphaNumericChar(e.readBits(6)))}if(a)for(var c=o;c<t.length();c++)t.charAt(c)==="%"&&(c<t.length()-1&&t.charAt(c+1)==="%"?t.deleteCharAt(c+1):t.setCharAt(c,""))},r.decodeNumericSegment=function(e,t,n){for(;n>=3;){if(e.available()<10)throw new se;var a=e.readBits(10);if(a>=1e3)throw new se;t.append(r.toAlphaNumericChar(Math.floor(a/100))),t.append(r.toAlphaNumericChar(Math.floor(a/10)%10)),t.append(r.toAlphaNumericChar(a%10)),n-=3}if(n===2){if(e.available()<7)throw new se;var o=e.readBits(7);if(o>=100)throw new se;t.append(r.toAlphaNumericChar(Math.floor(o/10))),t.append(r.toAlphaNumericChar(o%10))}else if(n===1){if(e.available()<4)throw new se;var l=e.readBits(4);if(l>=10)throw new se;t.append(r.toAlphaNumericChar(l))}},r.parseECIValue=function(e){var t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){var n=e.readBits(8);return(t&63)<<8&4294967295|n}if((t&224)===192){var a=e.readBits(16);return(t&31)<<16&4294967295|a}throw new se},r.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",r.GB2312_SUBSET=1,r})(),Ug=(function(){function r(e){this.mirrored=e}return r.prototype.isMirrored=function(){return this.mirrored},r.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},r})(),Np=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UE=(function(){function r(){this.rsDecoder=new cu(fr.QR_CODE_FIELD_256)}return r.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(Qr.parseFromBooleanArray(e),t)},r.prototype.decodeBitMatrix=function(e,t){var n=new PE(e),a=null;try{return this.decodeBitMatrixParser(n,t)}catch(l){a=l}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var o=this.decodeBitMatrixParser(n,t);return o.setOther(new Ug(!0)),o}catch(l){throw a!==null?a:l}},r.prototype.decodeBitMatrixParser=function(e,t){var n,a,o,l,c=e.readVersion(),f=e.readFormatInformation().getErrorCorrectionLevel(),h=e.readCodewords(),v=LE.getDataBlocks(h,c,f),g=0;try{for(var x=Np(v),m=x.next();!m.done;m=x.next()){var w=m.value;g+=w.getNumDataCodewords()}}catch(k){n={error:k}}finally{try{m&&!m.done&&(a=x.return)&&a.call(x)}finally{if(n)throw n.error}}var S=new Uint8Array(g),E=0;try{for(var b=Np(v),T=b.next();!T.done;T=b.next()){var w=T.value,O=w.getCodewords(),D=w.getNumDataCodewords();this.correctErrors(O,D);for(var N=0;N<D;N++)S[E++]=O[N]}}catch(k){o={error:k}}finally{try{T&&!T.done&&(l=b.return)&&l.call(b)}finally{if(o)throw o.error}}return jE.decode(S,c,f,t)},r.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new mt}for(var a=0;a<t;a++)e[a]=n[a]},r})(),FE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),zE=(function(r){FE(e,r);function e(t,n,a){var o=r.call(this,t,n)||this;return o.estimatedModuleSize=a,o}return e.prototype.aboutEquals=function(t,n,a){if(Math.abs(n-this.getY())<=t&&Math.abs(a-this.getX())<=t){var o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,a){var o=(this.getX()+n)/2,l=(this.getY()+t)/2,c=(this.estimatedModuleSize+a)/2;return new e(o,l,c)},e})(de),HE=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},VE=(function(){function r(e,t,n,a,o,l,c){this.image=e,this.startX=t,this.startY=n,this.width=a,this.height=o,this.moduleSize=l,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return r.prototype.find=function(){for(var e=this.startX,t=this.height,n=this.width,a=e+n,o=this.startY+t/2,l=new Int32Array(3),c=this.image,f=0;f<t;f++){var h=o+((f&1)===0?Math.floor((f+1)/2):-Math.floor((f+1)/2));l[0]=0,l[1]=0,l[2]=0;for(var v=e;v<a&&!c.get(v,h);)v++;for(var g=0;v<a;){if(c.get(v,h))if(g===1)l[1]++;else if(g===2){if(this.foundPatternCross(l)){var x=this.handlePossibleCenter(l,h,v);if(x!==null)return x}l[0]=l[2],l[1]=1,l[2]=0,g=1}else l[++g]++;else g===1&&g++,l[g]++;v++}if(this.foundPatternCross(l)){var x=this.handlePossibleCenter(l,h,a);if(x!==null)return x}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new W},r.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},r.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,n=t/2,a=0;a<3;a++)if(Math.abs(t-e[a])>=n)return!1;return!0},r.prototype.crossCheckVertical=function(e,t,n,a){var o=this.image,l=o.getHeight(),c=this.crossCheckStateCount;c[0]=0,c[1]=0,c[2]=0;for(var f=e;f>=0&&o.get(t,f)&&c[1]<=n;)c[1]++,f--;if(f<0||c[1]>n)return NaN;for(;f>=0&&!o.get(t,f)&&c[0]<=n;)c[0]++,f--;if(c[0]>n)return NaN;for(f=e+1;f<l&&o.get(t,f)&&c[1]<=n;)c[1]++,f++;if(f===l||c[1]>n)return NaN;for(;f<l&&!o.get(t,f)&&c[2]<=n;)c[2]++,f++;if(c[2]>n)return NaN;var h=c[0]+c[1]+c[2];return 5*Math.abs(h-a)>=2*a?NaN:this.foundPatternCross(c)?r.centerFromEnd(c,f):NaN},r.prototype.handlePossibleCenter=function(e,t,n){var a,o,l=e[0]+e[1]+e[2],c=r.centerFromEnd(e,n),f=this.crossCheckVertical(t,c,2*e[1],l);if(!isNaN(f)){var h=(e[0]+e[1]+e[2])/3;try{for(var v=HE(this.possibleCenters),g=v.next();!g.done;g=v.next()){var x=g.value;if(x.aboutEquals(h,f,c))return x.combineEstimate(f,c,h)}}catch(w){a={error:w}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}var m=new zE(c,f,h);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null},r})(),GE=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),XE=(function(r){GE(e,r);function e(t,n,a,o){var l=r.call(this,t,n)||this;return l.estimatedModuleSize=a,l.count=o,o===void 0&&(l.count=1),l}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,n,a){if(Math.abs(n-this.getY())<=t&&Math.abs(a-this.getX())<=t){var o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,a){var o=this.count+1,l=(this.count*this.getX()+n)/o,c=(this.count*this.getY()+t)/o,f=(this.count*this.estimatedModuleSize+a)/o;return new e(l,c,f,o)},e})(de),qE=(function(){function r(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r})(),ts=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$E=(function(){function r(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return r.prototype.getImage=function(){return this.image},r.prototype.getPossibleCenters=function(){return this.possibleCenters},r.prototype.find=function(e){var t=e!=null&&e.get(nt.TRY_HARDER)!==void 0,n=e!=null&&e.get(nt.PURE_BARCODE)!==void 0,a=this.image,o=a.getHeight(),l=a.getWidth(),c=Math.floor(3*o/(4*r.MAX_MODULES));(c<r.MIN_SKIP||t)&&(c=r.MIN_SKIP);for(var f=!1,h=new Int32Array(5),v=c-1;v<o&&!f;v+=c){h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0;for(var g=0,x=0;x<l;x++)if(a.get(x,v))(g&1)===1&&g++,h[g]++;else if((g&1)===0)if(g===4)if(r.foundPatternCross(h)){var m=this.handlePossibleCenter(h,v,x,n);if(m===!0)if(c=2,this.hasSkipped===!0)f=this.haveMultiplyConfirmedCenters();else{var w=this.findRowSkip();w>h[2]&&(v+=w-h[2]-c,x=l-1)}else{h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,g=3;continue}g=0,h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0}else h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,g=3;else h[++g]++;else h[g]++;if(r.foundPatternCross(h)){var m=this.handlePossibleCenter(h,v,l,n);m===!0&&(c=h[0],this.hasSkipped&&(f=this.haveMultiplyConfirmedCenters()))}}var S=this.selectBestPatterns();return de.orderBestPatterns(S),new qE(S)},r.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},r.foundPatternCross=function(e){for(var t=0,n=0;n<5;n++){var a=e[n];if(a===0)return!1;t+=a}if(t<7)return!1;var o=t/7,l=o/2;return Math.abs(o-e[0])<l&&Math.abs(o-e[1])<l&&Math.abs(3*o-e[2])<3*l&&Math.abs(o-e[3])<l&&Math.abs(o-e[4])<l},r.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},r.prototype.crossCheckDiagonal=function(e,t,n,a){for(var o=this.getCrossCheckStateCount(),l=0,c=this.image;e>=l&&t>=l&&c.get(t-l,e-l);)o[2]++,l++;if(e<l||t<l)return!1;for(;e>=l&&t>=l&&!c.get(t-l,e-l)&&o[1]<=n;)o[1]++,l++;if(e<l||t<l||o[1]>n)return!1;for(;e>=l&&t>=l&&c.get(t-l,e-l)&&o[0]<=n;)o[0]++,l++;if(o[0]>n)return!1;var f=c.getHeight(),h=c.getWidth();for(l=1;e+l<f&&t+l<h&&c.get(t+l,e+l);)o[2]++,l++;if(e+l>=f||t+l>=h)return!1;for(;e+l<f&&t+l<h&&!c.get(t+l,e+l)&&o[3]<n;)o[3]++,l++;if(e+l>=f||t+l>=h||o[3]>=n)return!1;for(;e+l<f&&t+l<h&&c.get(t+l,e+l)&&o[4]<n;)o[4]++,l++;if(o[4]>=n)return!1;var v=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(v-a)<2*a&&r.foundPatternCross(o)},r.prototype.crossCheckVertical=function(e,t,n,a){for(var o=this.image,l=o.getHeight(),c=this.getCrossCheckStateCount(),f=e;f>=0&&o.get(t,f);)c[2]++,f--;if(f<0)return NaN;for(;f>=0&&!o.get(t,f)&&c[1]<=n;)c[1]++,f--;if(f<0||c[1]>n)return NaN;for(;f>=0&&o.get(t,f)&&c[0]<=n;)c[0]++,f--;if(c[0]>n)return NaN;for(f=e+1;f<l&&o.get(t,f);)c[2]++,f++;if(f===l)return NaN;for(;f<l&&!o.get(t,f)&&c[3]<n;)c[3]++,f++;if(f===l||c[3]>=n)return NaN;for(;f<l&&o.get(t,f)&&c[4]<n;)c[4]++,f++;if(c[4]>=n)return NaN;var h=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(h-a)>=2*a?NaN:r.foundPatternCross(c)?r.centerFromEnd(c,f):NaN},r.prototype.crossCheckHorizontal=function(e,t,n,a){for(var o=this.image,l=o.getWidth(),c=this.getCrossCheckStateCount(),f=e;f>=0&&o.get(f,t);)c[2]++,f--;if(f<0)return NaN;for(;f>=0&&!o.get(f,t)&&c[1]<=n;)c[1]++,f--;if(f<0||c[1]>n)return NaN;for(;f>=0&&o.get(f,t)&&c[0]<=n;)c[0]++,f--;if(c[0]>n)return NaN;for(f=e+1;f<l&&o.get(f,t);)c[2]++,f++;if(f===l)return NaN;for(;f<l&&!o.get(f,t)&&c[3]<n;)c[3]++,f++;if(f===l||c[3]>=n)return NaN;for(;f<l&&o.get(f,t)&&c[4]<n;)c[4]++,f++;if(c[4]>=n)return NaN;var h=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(h-a)>=a?NaN:r.foundPatternCross(c)?r.centerFromEnd(c,f):NaN},r.prototype.handlePossibleCenter=function(e,t,n,a){var o=e[0]+e[1]+e[2]+e[3]+e[4],l=r.centerFromEnd(e,n),c=this.crossCheckVertical(t,Math.floor(l),e[2],o);if(!isNaN(c)&&(l=this.crossCheckHorizontal(Math.floor(l),Math.floor(c),e[2],o),!isNaN(l)&&(!a||this.crossCheckDiagonal(Math.floor(c),Math.floor(l),e[2],o)))){for(var f=o/7,h=!1,v=this.possibleCenters,g=0,x=v.length;g<x;g++){var m=v[g];if(m.aboutEquals(f,c,l)){v[g]=m.combineEstimate(c,l,f),h=!0;break}}if(!h){var w=new XE(l,c,f);v.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return!0}return!1},r.prototype.findRowSkip=function(){var e,t,n=this.possibleCenters.length;if(n<=1)return 0;var a=null;try{for(var o=ts(this.possibleCenters),l=o.next();!l.done;l=o.next()){var c=l.value;if(c.getCount()>=r.CENTER_QUORUM)if(a==null)a=c;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-c.getX())-Math.abs(a.getY()-c.getY()))/2)}}catch(f){e={error:f}}finally{try{l&&!l.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return 0},r.prototype.haveMultiplyConfirmedCenters=function(){var e,t,n,a,o=0,l=0,c=this.possibleCenters.length;try{for(var f=ts(this.possibleCenters),h=f.next();!h.done;h=f.next()){var v=h.value;v.getCount()>=r.CENTER_QUORUM&&(o++,l+=v.getEstimatedModuleSize())}}catch(S){e={error:S}}finally{try{h&&!h.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}if(o<3)return!1;var g=l/c,x=0;try{for(var m=ts(this.possibleCenters),w=m.next();!w.done;w=m.next()){var v=w.value;x+=Math.abs(v.getEstimatedModuleSize()-g)}}catch(S){n={error:S}}finally{try{w&&!w.done&&(a=m.return)&&a.call(m)}finally{if(n)throw n.error}}return x<=.05*l},r.prototype.selectBestPatterns=function(){var e,t,n,a,o=this.possibleCenters.length;if(o<3)throw new W;var l=this.possibleCenters,c;if(o>3){var f=0,h=0;try{for(var v=ts(this.possibleCenters),g=v.next();!g.done;g=v.next()){var x=g.value,m=x.getEstimatedModuleSize();f+=m,h+=m*m}}catch(N){e={error:N}}finally{try{g&&!g.done&&(t=v.return)&&t.call(v)}finally{if(e)throw e.error}}c=f/o;var w=Math.sqrt(h/o-c*c);l.sort(function(N,k){var L=Math.abs(k.getEstimatedModuleSize()-c),Z=Math.abs(N.getEstimatedModuleSize()-c);return L<Z?-1:L>Z?1:0});for(var S=Math.max(.2*c,w),E=0;E<l.length&&l.length>3;E++){var b=l[E];Math.abs(b.getEstimatedModuleSize()-c)>S&&(l.splice(E,1),E--)}}if(l.length>3){var f=0;try{for(var T=ts(l),O=T.next();!O.done;O=T.next()){var D=O.value;f+=D.getEstimatedModuleSize()}}catch(k){n={error:k}}finally{try{O&&!O.done&&(a=T.return)&&a.call(T)}finally{if(n)throw n.error}}c=f/l.length,l.sort(function(k,L){if(L.getCount()===k.getCount()){var Z=Math.abs(L.getEstimatedModuleSize()-c),J=Math.abs(k.getEstimatedModuleSize()-c);return Z<J?1:Z>J?-1:0}else return L.getCount()-k.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]},r.CENTER_QUORUM=2,r.MIN_SKIP=3,r.MAX_MODULES=57,r})(),YE=(function(){function r(e){this.image=e}return r.prototype.getImage=function(){return this.image},r.prototype.getResultPointCallback=function(){return this.resultPointCallback},r.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(nt.NEED_RESULT_POINT_CALLBACK);var t=new $E(this.image,this.resultPointCallback),n=t.find(e);return this.processFinderPatternInfo(n)},r.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),n=e.getTopRight(),a=e.getBottomLeft(),o=this.calculateModuleSize(t,n,a);if(o<1)throw new W("No pattern found in proccess finder.");var l=r.computeDimension(t,n,a,o),c=La.getProvisionalVersionForDimension(l),f=c.getDimensionForVersion()-7,h=null;if(c.getAlignmentPatternCenters().length>0)for(var v=n.getX()-t.getX()+a.getX(),g=n.getY()-t.getY()+a.getY(),x=1-3/f,m=Math.floor(t.getX()+x*(v-t.getX())),w=Math.floor(t.getY()+x*(g-t.getY())),S=4;S<=16;S<<=1)try{h=this.findAlignmentInRegion(o,m,w,S);break}catch(O){if(!(O instanceof W))throw O}var E=r.createTransform(t,n,a,h,l),b=r.sampleGrid(this.image,E,l),T;return h===null?T=[a,t,n]:T=[a,t,n,h],new Nd(b,T)},r.createTransform=function(e,t,n,a,o){var l=o-3.5,c,f,h,v;return a!==null?(c=a.getX(),f=a.getY(),h=l-3,v=h):(c=t.getX()-e.getX()+n.getX(),f=t.getY()-e.getY()+n.getY(),h=l,v=l),Mg.quadrilateralToQuadrilateral(3.5,3.5,l,3.5,h,v,3.5,l,e.getX(),e.getY(),t.getX(),t.getY(),c,f,n.getX(),n.getY())},r.sampleGrid=function(e,t,n){var a=Md.getInstance();return a.sampleGridWithTransform(e,n,n,t)},r.computeDimension=function(e,t,n,a){var o=Le.round(de.distance(e,t)/a),l=Le.round(de.distance(e,n)/a),c=Math.floor((o+l)/2)+7;switch(c&3){case 0:c++;break;case 2:c--;break;case 3:throw new W("Dimensions could be not found.")}return c},r.prototype.calculateModuleSize=function(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2},r.prototype.calculateModuleSizeOneWay=function(e,t){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?a/7:isNaN(a)?n/7:(n+a)/14},r.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,n,a){var o=this.sizeOfBlackWhiteBlackRun(e,t,n,a),l=1,c=e-(n-e);c<0?(l=e/(e-c),c=0):c>=this.image.getWidth()&&(l=(this.image.getWidth()-1-e)/(c-e),c=this.image.getWidth()-1);var f=Math.floor(t-(a-t)*l);return l=1,f<0?(l=t/(t-f),f=0):f>=this.image.getHeight()&&(l=(this.image.getHeight()-1-t)/(f-t),f=this.image.getHeight()-1),c=Math.floor(e+(c-e)*l),o+=this.sizeOfBlackWhiteBlackRun(e,t,c,f),o-1},r.prototype.sizeOfBlackWhiteBlackRun=function(e,t,n,a){var o=Math.abs(a-t)>Math.abs(n-e);if(o){var l=e;e=t,t=l,l=n,n=a,a=l}for(var c=Math.abs(n-e),f=Math.abs(a-t),h=-c/2,v=e<n?1:-1,g=t<a?1:-1,x=0,m=n+v,w=e,S=t;w!==m;w+=v){var E=o?S:w,b=o?w:S;if(x===1===this.image.get(E,b)){if(x===2)return Le.distance(w,S,e,t);x++}if(h+=f,h>0){if(S===a)break;S+=g,h-=c}}return x===2?Le.distance(n+v,a,e,t):NaN},r.prototype.findAlignmentInRegion=function(e,t,n,a){var o=Math.floor(a*e),l=Math.max(0,t-o),c=Math.min(this.image.getWidth()-1,t+o);if(c-l<e*3)throw new W("Alignment top exceeds estimated module size.");var f=Math.max(0,n-o),h=Math.min(this.image.getHeight()-1,n+o);if(h-f<e*3)throw new W("Alignment bottom exceeds estimated module size.");var v=new VE(this.image,l,f,c-l,h-f,e,this.resultPointCallback);return v.find()},r})(),tu=(function(){function r(){this.decoder=new UE}return r.prototype.getDecoder=function(){return this.decoder},r.prototype.decode=function(e,t){var n,a;if(t!=null&&t.get(nt.PURE_BARCODE)!==void 0){var o=r.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(o,t),a=r.NO_POINTS}else{var l=new YE(e.getBlackMatrix()).detect(t);n=this.decoder.decodeBitMatrix(l.getBits(),t),a=l.getPoints()}n.getOther()instanceof Ug&&n.getOther().applyMirroredCorrection(a);var c=new Zt(n.getText(),n.getRawBytes(),void 0,a,pe.QR_CODE,void 0),f=n.getByteSegments();f!==null&&c.putMetadata(Xt.BYTE_SEGMENTS,f);var h=n.getECLevel();return h!==null&&c.putMetadata(Xt.ERROR_CORRECTION_LEVEL,h),n.hasStructuredAppend()&&(c.putMetadata(Xt.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),c.putMetadata(Xt.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),c},r.prototype.reset=function(){},r.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t===null||n===null)throw new W;var a=this.moduleSize(t,e),o=t[1],l=n[1],c=t[0],f=n[0];if(c>=f||o>=l)throw new W;if(l-o!==f-c&&(f=c+(l-o),f>=e.getWidth()))throw new W;var h=Math.round((f-c+1)/a),v=Math.round((l-o+1)/a);if(h<=0||v<=0)throw new W;if(v!==h)throw new W;var g=Math.floor(a/2);o+=g,c+=g;var x=c+Math.floor((h-1)*a)-f;if(x>0){if(x>g)throw new W;c-=x}var m=o+Math.floor((v-1)*a)-l;if(m>0){if(m>g)throw new W;o-=m}for(var w=new Qr(h,v),S=0;S<v;S++)for(var E=o+Math.floor(S*a),b=0;b<h;b++)e.get(c+Math.floor(b*a),E)&&w.set(b,S);return w},r.moduleSize=function(e,t){for(var n=t.getHeight(),a=t.getWidth(),o=e[0],l=e[1],c=!0,f=0;o<a&&l<n;){if(c!==t.get(o,l)){if(++f===5)break;c=!c}o++,l++}if(o===a||l===n)throw new W;return(o-e[0])/7},r.NO_POINTS=new Array,r})(),WE=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ke=(function(){function r(){}return r.prototype.PDF417Common=function(){},r.getBitCountSum=function(e){return Le.sum(e)},r.toIntArray=function(e){var t,n;if(e==null||!e.length)return r.EMPTY_INT_ARRAY;var a=new Int32Array(e.length),o=0;try{for(var l=WE(e),c=l.next();!c.done;c=l.next()){var f=c.value;a[o++]=f}}catch(h){t={error:h}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return a},r.getCodeword=function(e){var t=Dt.binarySearch(r.SYMBOL_TABLE,e&262143);return t<0?-1:(r.CODEWORD_TABLE[t]-1)%r.NUMBER_OF_CODEWORDS},r.NUMBER_OF_CODEWORDS=929,r.MAX_CODEWORDS_IN_BARCODE=r.NUMBER_OF_CODEWORDS-1,r.MIN_ROWS_IN_BARCODE=3,r.MAX_ROWS_IN_BARCODE=90,r.MODULES_IN_CODEWORD=17,r.MODULES_IN_STOP_PATTERN=18,r.BARS_IN_MODULE=8,r.EMPTY_INT_ARRAY=new Int32Array([]),r.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),r.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),r})(),ZE=(function(){function r(e,t){this.bits=e,this.points=t}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r})(),KE=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},QE=(function(){function r(){}return r.detectMultiple=function(e,t,n){var a=e.getBlackMatrix(),o=r.detect(n,a);return o.length||(a=a.clone(),a.rotate180(),o=r.detect(n,a)),new ZE(a,o)},r.detect=function(e,t){for(var n,a,o=new Array,l=0,c=0,f=!1;l<t.getHeight();){var h=r.findVertices(t,l,c);if(h[0]==null&&h[3]==null){if(!f)break;f=!1,c=0;try{for(var v=(n=void 0,KE(o)),g=v.next();!g.done;g=v.next()){var x=g.value;x[1]!=null&&(l=Math.trunc(Math.max(l,x[1].getY()))),x[3]!=null&&(l=Math.max(l,Math.trunc(x[3].getY())))}}catch(m){n={error:m}}finally{try{g&&!g.done&&(a=v.return)&&a.call(v)}finally{if(n)throw n.error}}l+=r.ROW_STEP;continue}if(f=!0,o.push(h),!e)break;h[2]!=null?(c=Math.trunc(h[2].getX()),l=Math.trunc(h[2].getY())):(c=Math.trunc(h[4].getX()),l=Math.trunc(h[4].getY()))}return o},r.findVertices=function(e,t,n){var a=e.getHeight(),o=e.getWidth(),l=new Array(8);return r.copyToResult(l,r.findRowsWithPattern(e,a,o,t,n,r.START_PATTERN),r.INDEXES_START_PATTERN),l[4]!=null&&(n=Math.trunc(l[4].getX()),t=Math.trunc(l[4].getY())),r.copyToResult(l,r.findRowsWithPattern(e,a,o,t,n,r.STOP_PATTERN),r.INDEXES_STOP_PATTERN),l},r.copyToResult=function(e,t,n){for(var a=0;a<n.length;a++)e[n[a]]=t[a]},r.findRowsWithPattern=function(e,t,n,a,o,l){for(var c=new Array(4),f=!1,h=new Int32Array(l.length);a<t;a+=r.ROW_STEP){var v=r.findGuardPattern(e,o,a,n,!1,l,h);if(v!=null){for(;a>0;){var g=r.findGuardPattern(e,o,--a,n,!1,l,h);if(g!=null)v=g;else{a++;break}}c[0]=new de(v[0],a),c[1]=new de(v[1],a),f=!0;break}}var x=a+1;if(f){for(var m=0,g=Int32Array.from([Math.trunc(c[0].getX()),Math.trunc(c[1].getX())]);x<t;x++){var v=r.findGuardPattern(e,g[0],x,n,!1,l,h);if(v!=null&&Math.abs(g[0]-v[0])<r.MAX_PATTERN_DRIFT&&Math.abs(g[1]-v[1])<r.MAX_PATTERN_DRIFT)g=v,m=0;else{if(m>r.SKIPPED_ROW_COUNT_MAX)break;m++}}x-=m+1,c[2]=new de(g[0],x),c[3]=new de(g[1],x)}return x-a<r.BARCODE_MIN_HEIGHT&&Dt.fill(c,null),c},r.findGuardPattern=function(e,t,n,a,o,l,c){Dt.fillWithin(c,0,c.length,0);for(var f=t,h=0;e.get(f,n)&&f>0&&h++<r.MAX_PIXEL_DRIFT;)f--;for(var v=f,g=0,x=l.length,m=o;v<a;v++){var w=e.get(v,n);if(w!==m)c[g]++;else{if(g===x-1){if(r.patternMatchVariance(c,l,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE)return new Int32Array([f,v]);f+=c[0]+c[1],rt.arraycopy(c,2,c,0,g-1),c[g-1]=0,c[g]=0,g--}else g++;c[g]=1,m=!m}}return g===x-1&&r.patternMatchVariance(c,l,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE?new Int32Array([f,v-1]):null},r.patternMatchVariance=function(e,t,n){for(var a=e.length,o=0,l=0,c=0;c<a;c++)o+=e[c],l+=t[c];if(o<l)return 1/0;var f=o/l;n*=f;for(var h=0,v=0;v<a;v++){var g=e[v],x=t[v]*f,m=g>x?g-x:x-g;if(m>n)return 1/0;h+=m}return h/o},r.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),r.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),r.MAX_AVG_VARIANCE=.42,r.MAX_INDIVIDUAL_VARIANCE=.8,r.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),r.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),r.MAX_PIXEL_DRIFT=3,r.MAX_PATTERN_DRIFT=5,r.SKIPPED_ROW_COUNT_MAX=25,r.ROW_STEP=5,r.BARCODE_MIN_HEIGHT=10,r})(),JE=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Pa=(function(){function r(e,t){if(t.length===0)throw new ge;this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var a=1;a<n&&t[a]===0;)a++;a===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-a),rt.arraycopy(t,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){var t,n;if(e===0)return this.getCoefficient(0);if(e===1){var a=0;try{for(var o=JE(this.coefficients),l=o.next();!l.done;l=o.next()){var c=l.value;a=this.field.add(a,c)}}catch(g){t={error:g}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return a}for(var f=this.coefficients[0],h=this.coefficients.length,v=1;v<h;v++)f=this.field.add(this.field.multiply(e,f),this.coefficients[v]);return f},r.prototype.add=function(e){if(!this.field.equals(e.field))throw new ge("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var a=t;t=n,n=a}var o=new Int32Array(n.length),l=n.length-t.length;rt.arraycopy(n,0,o,0,l);for(var c=l;c<n.length;c++)o[c]=this.field.add(t[c-l],n[c]);return new r(this.field,o)},r.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new ge("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},r.prototype.multiply=function(e){return e instanceof r?this.multiplyOther(e):this.multiplyScalar(e)},r.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new ge("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new r(this.field,new Int32Array([0]));for(var t=this.coefficients,n=t.length,a=e.coefficients,o=a.length,l=new Int32Array(n+o-1),c=0;c<n;c++)for(var f=t[c],h=0;h<o;h++)l[c+h]=this.field.add(l[c+h],this.field.multiply(f,a[h]));return new r(this.field,l)},r.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),n=0;n<e;n++)t[n]=this.field.subtract(0,this.coefficients[n]);return new r(this.field,t)},r.prototype.multiplyScalar=function(e){if(e===0)return new r(this.field,new Int32Array([0]));if(e===1)return this;for(var t=this.coefficients.length,n=new Int32Array(t),a=0;a<t;a++)n[a]=this.field.multiply(this.coefficients[a],e);return new r(this.field,n)},r.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new ge;if(t===0)return new r(this.field,new Int32Array([0]));for(var n=this.coefficients.length,a=new Int32Array(n+e),o=0;o<n;o++)a[o]=this.field.multiply(this.coefficients[o],t);return new r(this.field,a)},r.prototype.toString=function(){for(var e=new Ce,t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(t===0||n!==1)&&e.append(n),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},r})(),eb=(function(){function r(){}return r.prototype.add=function(e,t){return(e+t)%this.modulus},r.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new ge;return this.logTable[e]},r.prototype.inverse=function(e){if(e===0)throw new Ng;return this.expTable[this.modulus-this.logTable[e]-1]},r.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},r.prototype.getSize=function(){return this.modulus},r.prototype.equals=function(e){return e===this},r})(),tb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),rb=(function(r){tb(e,r);function e(t,n){var a=r.call(this)||this;a.modulus=t,a.expTable=new Int32Array(t),a.logTable=new Int32Array(t);for(var o=1,l=0;l<t;l++)a.expTable[l]=o,o=o*n%t;for(var l=0;l<t-1;l++)a.logTable[a.expTable[l]]=l;return a.zero=new Pa(a,new Int32Array([0])),a.one=new Pa(a,new Int32Array([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,n){if(t<0)throw new ge;if(n===0)return this.zero;var a=new Int32Array(t+1);return a[0]=n,new Pa(this,a)},e.PDF417_GF=new e(ke.NUMBER_OF_CODEWORDS,3),e})(eb),nb=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ab=(function(){function r(){this.field=rb.PDF417_GF}return r.prototype.decode=function(e,t,n){for(var a,o,l=new Pa(this.field,e),c=new Int32Array(t),f=!1,h=t;h>0;h--){var v=l.evaluateAt(this.field.exp(h));c[t-h]=v,v!==0&&(f=!0)}if(!f)return 0;var g=this.field.getOne();if(n!=null)try{for(var x=nb(n),m=x.next();!m.done;m=x.next()){var w=m.value,S=this.field.exp(e.length-1-w),E=new Pa(this.field,new Int32Array([this.field.subtract(0,S),1]));g=g.multiply(E)}}catch(Z){a={error:Z}}finally{try{m&&!m.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}for(var b=new Pa(this.field,c),T=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),b,t),O=T[0],D=T[1],N=this.findErrorLocations(O),k=this.findErrorMagnitudes(D,O,N),h=0;h<N.length;h++){var L=e.length-1-this.field.log(N[h]);if(L<0)throw mt.getChecksumInstance();e[L]=this.field.subtract(e[L],k[h])}return N.length},r.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var a=e;e=t,t=a}for(var o=e,l=t,c=this.field.getZero(),f=this.field.getOne();l.getDegree()>=Math.round(n/2);){var h=o,v=c;if(o=l,c=f,o.isZero())throw mt.getChecksumInstance();l=h;for(var g=this.field.getZero(),x=o.getCoefficient(o.getDegree()),m=this.field.inverse(x);l.getDegree()>=o.getDegree()&&!l.isZero();){var w=l.getDegree()-o.getDegree(),S=this.field.multiply(l.getCoefficient(l.getDegree()),m);g=g.add(this.field.buildMonomial(w,S)),l=l.subtract(o.multiplyByMonomial(w,S))}f=g.multiply(c).subtract(v).negative()}var E=f.getCoefficient(0);if(E===0)throw mt.getChecksumInstance();var b=this.field.inverse(E),T=f.multiply(b),O=l.multiply(b);return[T,O]},r.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),n=new Int32Array(t),a=0,o=1;o<this.field.getSize()&&a<t;o++)e.evaluateAt(o)===0&&(n[a]=this.field.inverse(o),a++);if(a!==t)throw mt.getChecksumInstance();return n},r.prototype.findErrorMagnitudes=function(e,t,n){for(var a=t.getDegree(),o=new Int32Array(a),l=1;l<=a;l++)o[a-l]=this.field.multiply(l,t.getCoefficient(l));for(var c=new Pa(this.field,o),f=n.length,h=new Int32Array(f),l=0;l<f;l++){var v=this.field.inverse(n[l]),g=this.field.subtract(0,e.evaluateAt(v)),x=this.field.inverse(c.evaluateAt(v));h[l]=this.field.multiply(g,x)}return h},r})(),gd=(function(){function r(e,t,n,a,o){e instanceof r?this.constructor_2(e):this.constructor_1(e,t,n,a,o)}return r.prototype.constructor_1=function(e,t,n,a,o){var l=t==null||n==null,c=a==null||o==null;if(l&&c)throw new W;l?(t=new de(0,a.getY()),n=new de(0,o.getY())):c&&(a=new de(e.getWidth()-1,t.getY()),o=new de(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=a,this.bottomRight=o,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(a.getX(),o.getX())),this.minY=Math.trunc(Math.min(t.getY(),a.getY())),this.maxY=Math.trunc(Math.max(n.getY(),o.getY()))},r.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},r.merge=function(e,t){return e==null?t:t==null?e:new r(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},r.prototype.addMissingRows=function(e,t,n){var a=this.topLeft,o=this.bottomLeft,l=this.topRight,c=this.bottomRight;if(e>0){var f=n?this.topLeft:this.topRight,h=Math.trunc(f.getY()-e);h<0&&(h=0);var v=new de(f.getX(),h);n?a=v:l=v}if(t>0){var g=n?this.bottomLeft:this.bottomRight,x=Math.trunc(g.getY()+t);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);var m=new de(g.getX(),x);n?o=m:c=m}return new r(this.image,a,o,l,c)},r.prototype.getMinX=function(){return this.minX},r.prototype.getMaxX=function(){return this.maxX},r.prototype.getMinY=function(){return this.minY},r.prototype.getMaxY=function(){return this.maxY},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getBottomRight=function(){return this.bottomRight},r})(),ib=(function(){function r(e,t,n,a){this.columnCount=e,this.errorCorrectionLevel=a,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}return r.prototype.getColumnCount=function(){return this.columnCount},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getRowCount=function(){return this.rowCount},r.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},r.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},r})(),kd=(function(){function r(){this.buffer=""}return r.form=function(e,t){var n=-1;function a(l,c,f,h,v,g){if(l==="%%")return"%";if(t[++n]!==void 0){l=h?parseInt(h.substr(1)):void 0;var x=v?parseInt(v.substr(1)):void 0,m;switch(g){case"s":m=t[n];break;case"c":m=t[n][0];break;case"f":m=parseFloat(t[n]).toFixed(l);break;case"p":m=parseFloat(t[n]).toPrecision(l);break;case"e":m=parseFloat(t[n]).toExponential(l);break;case"x":m=parseInt(t[n]).toString(x||16);break;case"d":m=parseFloat(parseInt(t[n],x||10).toPrecision(l)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(x);for(var w=parseInt(f),S=f&&f[0]+""=="0"?"0":" ";m.length<w;)m=c!==void 0?m+S:S+m;return m}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},r.prototype.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.buffer+=r.form(e,t)},r.prototype.toString=function(){return this.buffer},r})(),ob=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fg=(function(){function r(e){this.boundingBox=new gd(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return r.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(t!=null)return t;for(var n=1;n<r.MAX_NEARBY_DISTANCE;n++){var a=this.imageRowToCodewordIndex(e)-n;if(a>=0&&(t=this.codewords[a],t!=null)||(a=this.imageRowToCodewordIndex(e)+n,a<this.codewords.length&&(t=this.codewords[a],t!=null)))return t}return null},r.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},r.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},r.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.getCodewords=function(){return this.codewords},r.prototype.toString=function(){var e,t,n=new kd,a=0;try{for(var o=ob(this.codewords),l=o.next();!l.done;l=o.next()){var c=l.value;if(c==null){n.format("%3d:    |   %n",a++);continue}n.format("%3d: %3d|%3d%n",a++,c.getRowNumber(),c.getValue())}}catch(f){e={error:f}}finally{try{l&&!l.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n.toString()},r.MAX_NEARBY_DISTANCE=5,r})(),sb=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lb=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),a,o=[],l;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)o.push(a.value)}catch(c){l={error:c}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(l)throw l.error}}return o},os=(function(){function r(){this.values=new Map}return r.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)},r.prototype.getValue=function(){var e,t,n=-1,a=new Array,o=function(g,x){var m={getKey:function(){return g},getValue:function(){return x}};m.getValue()>n?(n=m.getValue(),a=[],a.push(m.getKey())):m.getValue()===n&&a.push(m.getKey())};try{for(var l=sb(this.values.entries()),c=l.next();!c.done;c=l.next()){var f=lb(c.value,2),h=f[0],v=f[1];o(h,v)}}catch(g){e={error:g}}finally{try{c&&!c.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}return ke.toIntArray(a)},r.prototype.getConfidence=function(e){return this.values.get(e)},r})(),ub=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Xf=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mp=(function(r){ub(e,r);function e(t,n){var a=r.call(this,t)||this;return a._isLeft=n,a}return e.prototype.setRowNumbers=function(){var t,n;try{for(var a=Xf(this.getCodewords()),o=a.next();!o.done;o=a.next()){var l=o.value;l?.setRowNumberAsRowIndicatorColumn()}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,t);for(var a=this.getBoundingBox(),o=this._isLeft?a.getTopLeft():a.getTopRight(),l=this._isLeft?a.getBottomLeft():a.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=-1,v=1,g=0,x=c;x<f;x++)if(n[x]!=null){var m=n[x],w=m.getRowNumber()-h;if(w===0)g++;else if(w===1)v=Math.max(v,g),g=1,h=m.getRowNumber();else if(w<0||m.getRowNumber()>=t.getRowCount()||w>x)n[x]=null;else{var S=void 0;v>2?S=(v-2)*w:S=w;for(var E=S>=x,b=1;b<=S&&!E;b++)E=n[x-b]!=null;E?n[x]=null:(h=m.getRowNumber(),g=1)}}},e.prototype.getRowHeights=function(){var t,n,a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);var o=new Int32Array(a.getRowCount());try{for(var l=Xf(this.getCodewords()),c=l.next();!c.done;c=l.next()){var f=c.value;if(f!=null){var h=f.getRowNumber();if(h>=o.length)continue;o[h]++}}}catch(v){t={error:v}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return o},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var n=this.getBoundingBox(),a=this._isLeft?n.getTopLeft():n.getTopRight(),o=this._isLeft?n.getBottomLeft():n.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.getCodewords(),h=-1,v=l;v<c;v++)if(f[v]!=null){var g=f[v];g.setRowNumberAsRowIndicatorColumn();var x=g.getRowNumber()-h;x===0||(x===1?h=g.getRowNumber():g.getRowNumber()>=t.getRowCount()?f[v]=null:h=g.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var t,n,a=this.getCodewords(),o=new os,l=new os,c=new os,f=new os;try{for(var h=Xf(a),v=h.next();!v.done;v=h.next()){var g=v.value;if(g!=null){g.setRowNumberAsRowIndicatorColumn();var x=g.getValue()%30,m=g.getRowNumber();switch(this._isLeft||(m+=2),m%3){case 0:l.setValue(x*3+1);break;case 1:f.setValue(x/3),c.setValue(x%3);break;case 2:o.setValue(x+1);break}}}}catch(S){t={error:S}}finally{try{v&&!v.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}if(o.getValue().length===0||l.getValue().length===0||c.getValue().length===0||f.getValue().length===0||o.getValue()[0]<1||l.getValue()[0]+c.getValue()[0]<ke.MIN_ROWS_IN_BARCODE||l.getValue()[0]+c.getValue()[0]>ke.MAX_ROWS_IN_BARCODE)return null;var w=new ib(o.getValue()[0],l.getValue()[0],c.getValue()[0],f.getValue()[0]);return this.removeIncorrectCodewords(a,w),w},e.prototype.removeIncorrectCodewords=function(t,n){for(var a=0;a<t.length;a++){var o=t[a];if(t[a]!=null){var l=o.getValue()%30,c=o.getRowNumber();if(c>n.getRowCount()){t[a]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:l*3+1!==n.getRowCountUpperPart()&&(t[a]=null);break;case 1:(Math.trunc(l/3)!==n.getErrorCorrectionLevel()||l%3!==n.getRowCountLowerPart())&&(t[a]=null);break;case 2:l+1!==n.getColumnCount()&&(t[a]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+r.prototype.toString.call(this)},e})(Fg),cb=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fb=(function(){function r(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return r.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=ke.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns},r.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},r.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var n=this.detectionResultColumns[t].getCodewords(),a=0;a<n.length;a++)n[a]!=null&&(n[a].hasValidRowNumber()||this.adjustRowNumbers(t,a,n));return e},r.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},r.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&t[n]!=null&&e[n].getRowNumber()===t[n].getRowNumber())for(var a=1;a<=this.barcodeColumnCount;a++){var o=this.detectionResultColumns[a].getCodewords()[n];o!=null&&(o.setRowNumber(e[n].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[n]=null))}}},r.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null)for(var a=t[n].getRowNumber(),o=0,l=this.barcodeColumnCount+1;l>0&&o<this.ADJUST_ROW_NUMBER_SKIP;l--){var c=this.detectionResultColumns[l].getCodewords()[n];c!=null&&(o=r.adjustRowNumberIfValid(a,o,c),c.hasValidRowNumber()||e++)}return e},r.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null)for(var a=t[n].getRowNumber(),o=0,l=1;l<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;l++){var c=this.detectionResultColumns[l].getCodewords()[n];c!=null&&(o=r.adjustRowNumberIfValid(a,o,c),c.hasValidRowNumber()||e++)}return e},r.adjustRowNumberIfValid=function(e,t,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t},r.prototype.adjustRowNumbers=function(e,t,n){var a,o;if(this.detectionResultColumns[e-1]!=null){var l=n[t],c=this.detectionResultColumns[e-1].getCodewords(),f=c;this.detectionResultColumns[e+1]!=null&&(f=this.detectionResultColumns[e+1].getCodewords());var h=new Array(14);h[2]=c[t],h[3]=f[t],t>0&&(h[0]=n[t-1],h[4]=c[t-1],h[5]=f[t-1]),t>1&&(h[8]=n[t-2],h[10]=c[t-2],h[11]=f[t-2]),t<n.length-1&&(h[1]=n[t+1],h[6]=c[t+1],h[7]=f[t+1]),t<n.length-2&&(h[9]=n[t+2],h[12]=c[t+2],h[13]=f[t+2]);try{for(var v=cb(h),g=v.next();!g.done;g=v.next()){var x=g.value;if(r.adjustRowNumber(l,x))return}}catch(m){a={error:m}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}}},r.adjustRowNumber=function(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1},r.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},r.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},r.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},r.prototype.setBoundingBox=function(e){this.boundingBox=e},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},r.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},r.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new kd,n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(var a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){t.format("    |   ");continue}var o=this.detectionResultColumns[a].getCodewords()[n];if(o==null){t.format("    |   ");continue}t.format(" %3d|%3d",o.getRowNumber(),o.getValue())}t.format("%n")}return t.toString()},r})(),db=(function(){function r(e,t,n,a){this.rowNumber=r.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(n),this.value=Math.trunc(a)}return r.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},r.prototype.isValidRowNumber=function(e){return e!==r.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},r.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},r.prototype.getWidth=function(){return this.endX-this.startX},r.prototype.getStartX=function(){return this.startX},r.prototype.getEndX=function(){return this.endX},r.prototype.getBucket=function(){return this.bucket},r.prototype.getValue=function(){return this.value},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.setRowNumber=function(e){this.rowNumber=e},r.prototype.toString=function(){return this.rowNumber+"|"+this.value},r.BARCODE_ROW_UNKNOWN=-1,r})(),hb=(function(){function r(){}return r.initialize=function(){for(var e=0;e<ke.SYMBOL_TABLE.length;e++)for(var t=ke.SYMBOL_TABLE[e],n=t&1,a=0;a<ke.BARS_IN_MODULE;a++){for(var o=0;(t&1)===n;)o+=1,t>>=1;n=t&1,r.RATIOS_TABLE[e]||(r.RATIOS_TABLE[e]=new Array(ke.BARS_IN_MODULE)),r.RATIOS_TABLE[e][ke.BARS_IN_MODULE-a-1]=Math.fround(o/ke.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},r.getDecodedValue=function(e){var t=r.getDecodedCodewordValue(r.sampleBitCounts(e));return t!==-1?t:r.getClosestDecodedValue(e)},r.sampleBitCounts=function(e){for(var t=Le.sum(e),n=new Int32Array(ke.BARS_IN_MODULE),a=0,o=0,l=0;l<ke.MODULES_IN_CODEWORD;l++){var c=t/(2*ke.MODULES_IN_CODEWORD)+l*t/ke.MODULES_IN_CODEWORD;o+e[a]<=c&&(o+=e[a],a++),n[a]++}return n},r.getDecodedCodewordValue=function(e){var t=r.getBitValue(e);return ke.getCodeword(t)===-1?-1:t},r.getBitValue=function(e){for(var t=0,n=0;n<e.length;n++)for(var a=0;a<e[n];a++)t=t<<1|(n%2===0?1:0);return Math.trunc(t)},r.getClosestDecodedValue=function(e){var t=Le.sum(e),n=new Array(ke.BARS_IN_MODULE);if(t>1)for(var a=0;a<n.length;a++)n[a]=Math.fround(e[a]/t);var o=hd.MAX_VALUE,l=-1;this.bSymbolTableReady||r.initialize();for(var c=0;c<r.RATIOS_TABLE.length;c++){for(var f=0,h=r.RATIOS_TABLE[c],v=0;v<ke.BARS_IN_MODULE;v++){var g=Math.fround(h[v]-n[v]);if(f+=Math.fround(g*g),f>=o)break}f<o&&(o=f,l=ke.SYMBOL_TABLE[c])}return l},r.bSymbolTableReady=!1,r.RATIOS_TABLE=new Array(ke.SYMBOL_TABLE.length).map(function(e){return new Array(ke.BARS_IN_MODULE)}),r})(),vb=(function(){function r(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return r.prototype.getSegmentIndex=function(){return this.segmentIndex},r.prototype.setSegmentIndex=function(e){this.segmentIndex=e},r.prototype.getFileId=function(){return this.fileId},r.prototype.setFileId=function(e){this.fileId=e},r.prototype.getOptionalData=function(){return this.optionalData},r.prototype.setOptionalData=function(e){this.optionalData=e},r.prototype.isLastSegment=function(){return this.lastSegment},r.prototype.setLastSegment=function(e){this.lastSegment=e},r.prototype.getSegmentCount=function(){return this.segmentCount},r.prototype.setSegmentCount=function(e){this.segmentCount=e},r.prototype.getSender=function(){return this.sender||null},r.prototype.setSender=function(e){this.sender=e},r.prototype.getAddressee=function(){return this.addressee||null},r.prototype.setAddressee=function(e){this.addressee=e},r.prototype.getFileName=function(){return this.fileName},r.prototype.setFileName=function(e){this.fileName=e},r.prototype.getFileSize=function(){return this.fileSize},r.prototype.setFileSize=function(e){this.fileSize=e},r.prototype.getChecksum=function(){return this.checksum},r.prototype.setChecksum=function(e){this.checksum=e},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.setTimestamp=function(e){this.timestamp=e},r})(),Bp=(function(){function r(){}return r.parseLong=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},r})(),pb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),gb=(function(r){pb(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="NullPointerException",e})(dr),yb=(function(){function r(){}return r.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},r.prototype.writeBytesOffset=function(e,t,n){if(e==null)throw new gb;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new Id;if(n===0)return;for(var a=0;a<n;a++)this.write(e[t+a])},r.prototype.flush=function(){},r.prototype.close=function(){},r})(),xb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),mb=(function(r){xb(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e})(dr),_b=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),wb=(function(r){_b(e,r);function e(t){t===void 0&&(t=32);var n=r.call(this)||this;if(n.count=0,t<0)throw new ge("Negative initial size: "+t);return n.buf=new Uint8Array(t),n}return e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var n=this.buf.length,a=n<<1;if(a-t<0&&(a=t),a<0){if(t<0)throw new mb;a=Oe.MAX_VALUE}this.buf=Dt.copyOfUint8Array(this.buf,a)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,n,a){if(n<0||n>t.length||a<0||n+a-t.length>0)throw new Id;this.ensureCapacity(this.count+a),rt.arraycopy(t,n,this.buf,this.count,a),this.count+=a},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Dt.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e})(yb),Ke;(function(r){r[r.ALPHA=0]="ALPHA",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.PUNCT=3]="PUNCT",r[r.ALPHA_SHIFT=4]="ALPHA_SHIFT",r[r.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ke||(Ke={}));function zg(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var zl;function ta(r){if(typeof zl>"u"&&(zl=zg()),zl===null)throw new Error("BigInt is not supported!");return zl(r)}function Eb(){var r=[];r[0]=ta(1);var e=ta(900);r[1]=e;for(var t=2;t<16;t++)r[t]=r[t-1]*e;return r}var bb=(function(){function r(){}return r.decode=function(e,t){var n=new Ce(""),a=Rt.ISO8859_1;n.enableDecoding(a);for(var o=1,l=e[o++],c=new vb;o<e[0];){switch(l){case r.TEXT_COMPACTION_MODE_LATCH:o=r.textCompaction(e,o,n);break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:o=r.byteCompaction(l,e,a,o,n);break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[o++]);break;case r.NUMERIC_COMPACTION_MODE_LATCH:o=r.numericCompaction(e,o,n);break;case r.ECI_CHARSET:Rt.getCharacterSetECIByValue(e[o++]);break;case r.ECI_GENERAL_PURPOSE:o+=2;break;case r.ECI_USER_DEFINED:o++;break;case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=r.decodeMacroBlock(e,o,c);break;case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:throw new se;default:o--,o=r.textCompaction(e,o,n);break}if(o<e.length)l=e[o++];else throw se.getFormatInstance()}if(n.length()===0)throw se.getFormatInstance();var f=new uu(null,n.toString(),null,t);return f.setOther(c),f},r.decodeMacroBlock=function(e,t,n){if(t+r.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw se.getFormatInstance();for(var a=new Int32Array(r.NUMBER_OF_SEQUENCE_CODEWORDS),o=0;o<r.NUMBER_OF_SEQUENCE_CODEWORDS;o++,t++)a[o]=e[t];n.setSegmentIndex(Oe.parseInt(r.decodeBase900toBase10(a,r.NUMBER_OF_SEQUENCE_CODEWORDS)));var l=new Ce;t=r.textCompaction(e,t,l),n.setFileId(l.toString());var c=-1;for(e[t]===r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=t+1);t<e[0];)switch(e[t]){case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var f=new Ce;t=r.textCompaction(e,t+1,f),n.setFileName(f.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var h=new Ce;t=r.textCompaction(e,t+1,h),n.setSender(h.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var v=new Ce;t=r.textCompaction(e,t+1,v),n.setAddressee(v.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var g=new Ce;t=r.numericCompaction(e,t+1,g),n.setSegmentCount(Oe.parseInt(g.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var x=new Ce;t=r.numericCompaction(e,t+1,x),n.setTimestamp(Bp.parseLong(x.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var m=new Ce;t=r.numericCompaction(e,t+1,m),n.setChecksum(Oe.parseInt(m.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var w=new Ce;t=r.numericCompaction(e,t+1,w),n.setFileSize(Bp.parseLong(w.toString()));break;default:throw se.getFormatInstance()}break;case r.MACRO_PDF417_TERMINATOR:t++,n.setLastSegment(!0);break;default:throw se.getFormatInstance()}if(c!==-1){var S=t-c;n.isLastSegment()&&S--,n.setOptionalData(Dt.copyOfRange(e,c,c+S))}return t},r.textCompaction=function(e,t,n){for(var a=new Int32Array((e[0]-t)*2),o=new Int32Array((e[0]-t)*2),l=0,c=!1;t<e[0]&&!c;){var f=e[t++];if(f<r.TEXT_COMPACTION_MODE_LATCH)a[l]=f/30,a[l+1]=f%30,l+=2;else switch(f){case r.TEXT_COMPACTION_MODE_LATCH:a[l++]=r.TEXT_COMPACTION_MODE_LATCH;break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:t--,c=!0;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[l]=r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,f=e[t++],o[l]=f,l++;break}}return r.decodeTextCompaction(a,o,l,n),t},r.decodeTextCompaction=function(e,t,n,a){for(var o=Ke.ALPHA,l=Ke.ALPHA,c=0;c<n;){var f=e[c],h="";switch(o){case Ke.ALPHA:if(f<26)h=String.fromCharCode(65+f);else switch(f){case 26:h=" ";break;case r.LL:o=Ke.LOWER;break;case r.ML:o=Ke.MIXED;break;case r.PS:l=o,o=Ke.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[c]);break;case r.TEXT_COMPACTION_MODE_LATCH:o=Ke.ALPHA;break}break;case Ke.LOWER:if(f<26)h=String.fromCharCode(97+f);else switch(f){case 26:h=" ";break;case r.AS:l=o,o=Ke.ALPHA_SHIFT;break;case r.ML:o=Ke.MIXED;break;case r.PS:l=o,o=Ke.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[c]);break;case r.TEXT_COMPACTION_MODE_LATCH:o=Ke.ALPHA;break}break;case Ke.MIXED:if(f<r.PL)h=r.MIXED_CHARS[f];else switch(f){case r.PL:o=Ke.PUNCT;break;case 26:h=" ";break;case r.LL:o=Ke.LOWER;break;case r.AL:o=Ke.ALPHA;break;case r.PS:l=o,o=Ke.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[c]);break;case r.TEXT_COMPACTION_MODE_LATCH:o=Ke.ALPHA;break}break;case Ke.PUNCT:if(f<r.PAL)h=r.PUNCT_CHARS[f];else switch(f){case r.PAL:o=Ke.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[c]);break;case r.TEXT_COMPACTION_MODE_LATCH:o=Ke.ALPHA;break}break;case Ke.ALPHA_SHIFT:if(o=l,f<26)h=String.fromCharCode(65+f);else switch(f){case 26:h=" ";break;case r.TEXT_COMPACTION_MODE_LATCH:o=Ke.ALPHA;break}break;case Ke.PUNCT_SHIFT:if(o=l,f<r.PAL)h=r.PUNCT_CHARS[f];else switch(f){case r.PAL:o=Ke.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[c]);break;case r.TEXT_COMPACTION_MODE_LATCH:o=Ke.ALPHA;break}break}h!==""&&a.append(h),c++}},r.byteCompaction=function(e,t,n,a,o){var l=new wb,c=0,f=0,h=!1;switch(e){case r.BYTE_COMPACTION_MODE_LATCH:for(var v=new Int32Array(6),g=t[a++];a<t[0]&&!h;)switch(v[c++]=g,f=900*f+g,g=t[a++],g){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:a--,h=!0;break;default:if(c%5===0&&c>0){for(var x=0;x<6;++x)l.write(Number(ta(f)>>ta(8*(5-x))));f=0,c=0}break}a===t[0]&&g<r.TEXT_COMPACTION_MODE_LATCH&&(v[c++]=g);for(var m=0;m<c;m++)l.write(v[m]);break;case r.BYTE_COMPACTION_MODE_LATCH_6:for(;a<t[0]&&!h;){var w=t[a++];if(w<r.TEXT_COMPACTION_MODE_LATCH)c++,f=900*f+w;else switch(w){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:a--,h=!0;break}if(c%5===0&&c>0){for(var x=0;x<6;++x)l.write(Number(ta(f)>>ta(8*(5-x))));f=0,c=0}}break}return o.append(Mr.decode(l.toByteArray(),n)),a},r.numericCompaction=function(e,t,n){for(var a=0,o=!1,l=new Int32Array(r.MAX_NUMERIC_CODEWORDS);t<e[0]&&!o;){var c=e[t++];if(t===e[0]&&(o=!0),c<r.TEXT_COMPACTION_MODE_LATCH)l[a]=c,a++;else switch(c){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:t--,o=!0;break}(a%r.MAX_NUMERIC_CODEWORDS===0||c===r.NUMERIC_COMPACTION_MODE_LATCH||o)&&a>0&&(n.append(r.decodeBase900toBase10(l,a)),a=0)}return t},r.decodeBase900toBase10=function(e,t){for(var n=ta(0),a=0;a<t;a++)n+=r.EXP900[t-a-1]*ta(e[a]);var o=n.toString();if(o.charAt(0)!=="1")throw new se;return o.substring(1)},r.TEXT_COMPACTION_MODE_LATCH=900,r.BYTE_COMPACTION_MODE_LATCH=901,r.NUMERIC_COMPACTION_MODE_LATCH=902,r.BYTE_COMPACTION_MODE_LATCH_6=924,r.ECI_USER_DEFINED=925,r.ECI_GENERAL_PURPOSE=926,r.ECI_CHARSET=927,r.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,r.MACRO_PDF417_TERMINATOR=922,r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,r.MAX_NUMERIC_CODEWORDS=15,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,r.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,r.PL=25,r.LL=27,r.AS=27,r.ML=28,r.AL=28,r.PS=29,r.PAL=29,r.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,r.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",r.EXP900=zg()?Eb():[],r.NUMBER_OF_SEQUENCE_CODEWORDS=2,r})(),rs=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ab=(function(){function r(){}return r.decode=function(e,t,n,a,o,l,c){for(var f=new gd(e,t,n,a,o),h=null,v=null,g,x=!0;;x=!1){if(t!=null&&(h=r.getRowIndicatorColumn(e,f,t,!0,l,c)),a!=null&&(v=r.getRowIndicatorColumn(e,f,a,!1,l,c)),g=r.merge(h,v),g==null)throw W.getNotFoundInstance();var m=g.getBoundingBox();if(x&&m!=null&&(m.getMinY()<f.getMinY()||m.getMaxY()>f.getMaxY()))f=m;else break}g.setBoundingBox(f);var w=g.getBarcodeColumnCount()+1;g.setDetectionResultColumn(0,h),g.setDetectionResultColumn(w,v);for(var S=h!=null,E=1;E<=w;E++){var b=S?E:w-E;if(g.getDetectionResultColumn(b)===void 0){var T=void 0;b===0||b===w?T=new Mp(f,b===0):T=new Fg(f),g.setDetectionResultColumn(b,T);for(var O=-1,D=O,N=f.getMinY();N<=f.getMaxY();N++){if(O=r.getStartColumn(g,b,N,S),O<0||O>f.getMaxX()){if(D===-1)continue;O=D}var k=r.detectCodeword(e,f.getMinX(),f.getMaxX(),S,O,N,l,c);k!=null&&(T.setCodeword(N,k),D=O,l=Math.min(l,k.getWidth()),c=Math.max(c,k.getWidth()))}}}return r.createDecoderResult(g)},r.merge=function(e,t){if(e==null&&t==null)return null;var n=r.getBarcodeMetadata(e,t);if(n==null)return null;var a=gd.merge(r.adjustBoundingBox(e),r.adjustBoundingBox(t));return new fb(n,a)},r.adjustBoundingBox=function(e){var t,n;if(e==null)return null;var a=e.getRowHeights();if(a==null)return null;var o=r.getMax(a),l=0;try{for(var c=rs(a),f=c.next();!f.done;f=c.next()){var h=f.value;if(l+=o-h,h>0)break}}catch(m){t={error:m}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}for(var v=e.getCodewords(),g=0;l>0&&v[g]==null;g++)l--;for(var x=0,g=a.length-1;g>=0&&(x+=o-a[g],!(a[g]>0));g--);for(var g=v.length-1;x>0&&v[g]==null;g--)x--;return e.getBoundingBox().addMissingRows(l,x,e.isLeft())},r.getMax=function(e){var t,n,a=-1;try{for(var o=rs(e),l=o.next();!l.done;l=o.next()){var c=l.value;a=Math.max(a,c)}}catch(f){t={error:f}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return a},r.getBarcodeMetadata=function(e,t){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();var a;return t==null||(a=t.getBarcodeMetadata())==null?n:n.getColumnCount()!==a.getColumnCount()&&n.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&n.getRowCount()!==a.getRowCount()?null:n},r.getRowIndicatorColumn=function(e,t,n,a,o,l){for(var c=new Mp(t,a),f=0;f<2;f++)for(var h=f===0?1:-1,v=Math.trunc(Math.trunc(n.getX())),g=Math.trunc(Math.trunc(n.getY()));g<=t.getMaxY()&&g>=t.getMinY();g+=h){var x=r.detectCodeword(e,0,e.getWidth(),a,v,g,o,l);x!=null&&(c.setCodeword(g,x),a?v=x.getStartX():v=x.getEndX())}return c},r.adjustCodewordCount=function(e,t){var n=t[0][1],a=n.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-r.getNumberOfECCodeWords(e.getBarcodeECLevel());if(a.length===0){if(o<1||o>ke.MAX_CODEWORDS_IN_BARCODE)throw W.getNotFoundInstance();n.setValue(o)}else a[0]!==o&&n.setValue(o)},r.createDecoderResult=function(e){var t=r.createBarcodeMatrix(e);r.adjustCodewordCount(e,t);for(var n=new Array,a=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],l=new Array,c=0;c<e.getBarcodeRowCount();c++)for(var f=0;f<e.getBarcodeColumnCount();f++){var h=t[c][f+1].getValue(),v=c*e.getBarcodeColumnCount()+f;h.length===0?n.push(v):h.length===1?a[v]=h[0]:(l.push(v),o.push(h))}for(var g=new Array(o.length),x=0;x<g.length;x++)g[x]=o[x];return r.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),a,ke.toIntArray(n),ke.toIntArray(l),g)},r.createDecoderResultFromAmbiguousValues=function(e,t,n,a,o){for(var l=new Int32Array(a.length),c=100;c-- >0;){for(var f=0;f<l.length;f++)t[a[f]]=o[f][l[f]];try{return r.decodeCodewords(t,e,n)}catch(v){var h=v instanceof mt;if(!h)throw v}if(l.length===0)throw mt.getChecksumInstance();for(var f=0;f<l.length;f++)if(l[f]<o[f].length-1){l[f]++;break}else if(l[f]=0,f===l.length-1)throw mt.getChecksumInstance()}throw mt.getChecksumInstance()},r.createBarcodeMatrix=function(e){for(var t,n,a,o,l=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),c=0;c<l.length;c++)for(var f=0;f<l[c].length;f++)l[c][f]=new os;var h=0;try{for(var v=rs(e.getDetectionResultColumns()),g=v.next();!g.done;g=v.next()){var x=g.value;if(x!=null)try{for(var m=(a=void 0,rs(x.getCodewords())),w=m.next();!w.done;w=m.next()){var S=w.value;if(S!=null){var E=S.getRowNumber();if(E>=0){if(E>=l.length)continue;l[E][h].setValue(S.getValue())}}}}catch(b){a={error:b}}finally{try{w&&!w.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}h++}}catch(b){t={error:b}}finally{try{g&&!g.done&&(n=v.return)&&n.call(v)}finally{if(t)throw t.error}}return l},r.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},r.getStartColumn=function(e,t,n,a){var o,l,c=a?1:-1,f=null;if(r.isValidBarcodeColumn(e,t-c)&&(f=e.getDetectionResultColumn(t-c).getCodeword(n)),f!=null)return a?f.getEndX():f.getStartX();if(f=e.getDetectionResultColumn(t).getCodewordNearby(n),f!=null)return a?f.getStartX():f.getEndX();if(r.isValidBarcodeColumn(e,t-c)&&(f=e.getDetectionResultColumn(t-c).getCodewordNearby(n)),f!=null)return a?f.getEndX():f.getStartX();for(var h=0;r.isValidBarcodeColumn(e,t-c);){t-=c;try{for(var v=(o=void 0,rs(e.getDetectionResultColumn(t).getCodewords())),g=v.next();!g.done;g=v.next()){var x=g.value;if(x!=null)return(a?x.getEndX():x.getStartX())+c*h*(x.getEndX()-x.getStartX())}}catch(m){o={error:m}}finally{try{g&&!g.done&&(l=v.return)&&l.call(v)}finally{if(o)throw o.error}}h++}return a?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},r.detectCodeword=function(e,t,n,a,o,l,c,f){o=r.adjustCodewordStartColumn(e,t,n,a,o,l);var h=r.getModuleBitCount(e,t,n,a,o,l);if(h==null)return null;var v,g=Le.sum(h);if(a)v=o+g;else{for(var x=0;x<h.length/2;x++){var m=h[x];h[x]=h[h.length-1-x],h[h.length-1-x]=m}v=o,o=v-g}if(!r.checkCodewordSkew(g,c,f))return null;var w=hb.getDecodedValue(h),S=ke.getCodeword(w);return S===-1?null:new db(o,v,r.getCodewordBucketNumber(w),S)},r.getModuleBitCount=function(e,t,n,a,o,l){for(var c=o,f=new Int32Array(8),h=0,v=a?1:-1,g=a;(a?c<n:c>=t)&&h<f.length;)e.get(c,l)===g?(f[h]++,c+=v):(h++,g=!g);return h===f.length||c===(a?n:t)&&h===f.length-1?f:null},r.getNumberOfECCodeWords=function(e){return 2<<e},r.adjustCodewordStartColumn=function(e,t,n,a,o,l){for(var c=o,f=a?-1:1,h=0;h<2;h++){for(;(a?c>=t:c<n)&&a===e.get(c,l);){if(Math.abs(o-c)>r.CODEWORD_SKEW_SIZE)return o;c+=f}f=-f,a=!a}return c},r.checkCodewordSkew=function(e,t,n){return t-r.CODEWORD_SKEW_SIZE<=e&&e<=n+r.CODEWORD_SKEW_SIZE},r.decodeCodewords=function(e,t,n){if(e.length===0)throw se.getFormatInstance();var a=1<<t+1,o=r.correctErrors(e,n,a);r.verifyCodewordCount(e,a);var l=bb.decode(e,""+t);return l.setErrorsCorrected(o),l.setErasures(n.length),l},r.correctErrors=function(e,t,n){if(t!=null&&t.length>n/2+r.MAX_ERRORS||n<0||n>r.MAX_EC_CODEWORDS)throw mt.getChecksumInstance();return r.errorCorrection.decode(e,n,t)},r.verifyCodewordCount=function(e,t){if(e.length<4)throw se.getFormatInstance();var n=e[0];if(n>e.length)throw se.getFormatInstance();if(n===0)if(t<e.length)e[0]=e.length-t;else throw se.getFormatInstance()},r.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),n=0,a=t.length-1;!((e&1)!==n&&(n=e&1,a--,a<0));)t[a]++,e>>=1;return t},r.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},r.getCodewordBucketNumber_number=function(e){return r.getCodewordBucketNumber(r.getBitCountForCodeword(e))},r.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},r.toString=function(e){for(var t=new kd,n=0;n<e.length;n++){t.format("Row %2d: ",n);for(var a=0;a<e[n].length;a++){var o=e[n][a];o.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}t.format("%n")}return t.toString()},r.CODEWORD_SKEW_SIZE=2,r.MAX_ERRORS=3,r.MAX_EC_CODEWORDS=512,r.errorCorrection=new ab,r})(),Sb=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ru=(function(){function r(){}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n=r.decode(e,t,!1);if(n==null||n.length===0||n[0]==null)throw W.getNotFoundInstance();return n[0]},r.prototype.decodeMultiple=function(e,t){t===void 0&&(t=null);try{return r.decode(e,t,!0)}catch(n){throw n instanceof se||n instanceof mt?W.getNotFoundInstance():n}},r.decode=function(e,t,n){var a,o,l=new Array,c=QE.detectMultiple(e,t,n);try{for(var f=Sb(c.getPoints()),h=f.next();!h.done;h=f.next()){var v=h.value,g=Ab.decode(c.getBits(),v[4],v[5],v[6],v[7],r.getMinCodewordWidth(v),r.getMaxCodewordWidth(v)),x=new Zt(g.getText(),g.getRawBytes(),void 0,v,pe.PDF_417);x.putMetadata(Xt.ERROR_CORRECTION_LEVEL,g.getECLevel());var m=g.getOther();m!=null&&x.putMetadata(Xt.PDF417_EXTRA_METADATA,m),l.push(x)}}catch(w){a={error:w}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(a)throw a.error}}return l.map(function(w){return w})},r.getMaxWidth=function(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))},r.getMinWidth=function(e,t){return e==null||t==null?Oe.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},r.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(r.getMaxWidth(e[0],e[4]),r.getMaxWidth(e[6],e[2])*ke.MODULES_IN_CODEWORD/ke.MODULES_IN_STOP_PATTERN),Math.max(r.getMaxWidth(e[1],e[5]),r.getMaxWidth(e[7],e[3])*ke.MODULES_IN_CODEWORD/ke.MODULES_IN_STOP_PATTERN)))},r.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(r.getMinWidth(e[0],e[4]),r.getMinWidth(e[6],e[2])*ke.MODULES_IN_CODEWORD/ke.MODULES_IN_STOP_PATTERN),Math.min(r.getMinWidth(e[1],e[5]),r.getMinWidth(e[7],e[3])*ke.MODULES_IN_CODEWORD/ke.MODULES_IN_STOP_PATTERN)))},r.prototype.reset=function(){},r})(),Cb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),kp=(function(r){Cb(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReaderException",e})(dr),Pp=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hg=(function(){function r(){}return r.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},r.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},r.prototype.setHints=function(e){this.hints=e;var t=e!=null&&e.get(nt.TRY_HARDER)!==void 0,n=e==null?null:e.get(nt.POSSIBLE_FORMATS),a=new Array;if(n!=null){var o=n.some(function(l){return l===pe.UPC_A||l===pe.UPC_E||l===pe.EAN_13||l===pe.EAN_8||l===pe.CODABAR||l===pe.CODE_39||l===pe.CODE_93||l===pe.CODE_128||l===pe.ITF||l===pe.RSS_14||l===pe.RSS_EXPANDED});o&&!t&&a.push(new zi(e)),n.includes(pe.QR_CODE)&&a.push(new tu),n.includes(pe.DATA_MATRIX)&&a.push(new eu),n.includes(pe.AZTEC)&&a.push(new Ql),n.includes(pe.PDF_417)&&a.push(new ru),o&&t&&a.push(new zi(e))}a.length===0&&(t||a.push(new zi(e)),a.push(new tu),a.push(new eu),a.push(new Ql),a.push(new ru),t&&a.push(new zi(e))),this.readers=a},r.prototype.reset=function(){var e,t;if(this.readers!==null)try{for(var n=Pp(this.readers),a=n.next();!a.done;a=n.next()){var o=a.value;o.reset()}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},r.prototype.decodeInternal=function(e){var t,n;if(this.readers===null)throw new kp("No readers where selected, nothing can be read.");try{for(var a=Pp(this.readers),o=a.next();!o.done;o=a.next()){var l=o.value;try{return l.decode(e,this.hints)}catch(c){if(c instanceof kp)continue}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}throw new W("No MultiFormat Readers were able to detect the code.")},r})(),Tb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){Tb(e,r);function e(t,n){t===void 0&&(t=null),n===void 0&&(n=500);var a=this,o=new Hg;return o.setHints(t),a=r.call(this,o,n)||this,a}return e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e})(Yi);var Ob=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){Ob(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new ru,t)||this}return e})(Yi);var Rb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){Rb(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new tu,t)||this}return e})(Yi);var yd;(function(r){r[r.ERROR_CORRECTION=0]="ERROR_CORRECTION",r[r.CHARACTER_SET=1]="CHARACTER_SET",r[r.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",r[r.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",r[r.MIN_SIZE=4]="MIN_SIZE",r[r.MAX_SIZE=5]="MAX_SIZE",r[r.MARGIN=6]="MARGIN",r[r.PDF417_COMPACT=7]="PDF417_COMPACT",r[r.PDF417_COMPACTION=8]="PDF417_COMPACTION",r[r.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",r[r.AZTEC_LAYERS=10]="AZTEC_LAYERS",r[r.QR_VERSION=11]="QR_VERSION",r[r.GS1_FORMAT=12]="GS1_FORMAT",r[r.FORCE_C40=13]="FORCE_C40"})(yd||(yd={}));const Hl=yd;var Vg=(function(){function r(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new na(e,Int32Array.from([1])))}return r.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var n=t[t.length-1],a=this.field,o=t.length;o<=e;o++){var l=n.multiply(new na(a,Int32Array.from([1,a.exp(o-1+a.getGeneratorBase())])));t.push(l),n=l}return t[e]},r.prototype.encode=function(e,t){if(t===0)throw new ge("No error correction bytes");var n=e.length-t;if(n<=0)throw new ge("No data bytes provided");var a=this.buildGenerator(t),o=new Int32Array(n);rt.arraycopy(e,0,o,0,n);var l=new na(this.field,o);l=l.multiplyByMonomial(t,1);for(var c=l.divide(a)[1],f=c.getCoefficients(),h=t-f.length,v=0;v<h;v++)e[n+v]=0;rt.arraycopy(f,0,e,n+h,f.length)},r})(),ss=(function(){function r(){}return r.applyMaskPenaltyRule1=function(e){return r.applyMaskPenaltyRule1Internal(e,!0)+r.applyMaskPenaltyRule1Internal(e,!1)},r.applyMaskPenaltyRule2=function(e){for(var t=0,n=e.getArray(),a=e.getWidth(),o=e.getHeight(),l=0;l<o-1;l++)for(var c=n[l],f=0;f<a-1;f++){var h=c[f];h===c[f+1]&&h===n[l+1][f]&&h===n[l+1][f+1]&&t++}return r.N2*t},r.applyMaskPenaltyRule3=function(e){for(var t=0,n=e.getArray(),a=e.getWidth(),o=e.getHeight(),l=0;l<o;l++)for(var c=0;c<a;c++){var f=n[l];c+6<a&&f[c]===1&&f[c+1]===0&&f[c+2]===1&&f[c+3]===1&&f[c+4]===1&&f[c+5]===0&&f[c+6]===1&&(r.isWhiteHorizontal(f,c-4,c)||r.isWhiteHorizontal(f,c+7,c+11))&&t++,l+6<o&&n[l][c]===1&&n[l+1][c]===0&&n[l+2][c]===1&&n[l+3][c]===1&&n[l+4][c]===1&&n[l+5][c]===0&&n[l+6][c]===1&&(r.isWhiteVertical(n,c,l-4,l)||r.isWhiteVertical(n,c,l+7,l+11))&&t++}return t*r.N3},r.isWhiteHorizontal=function(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(var a=t;a<n;a++)if(e[a]===1)return!1;return!0},r.isWhiteVertical=function(e,t,n,a){n=Math.max(n,0),a=Math.min(a,e.length);for(var o=n;o<a;o++)if(e[o][t]===1)return!1;return!0},r.applyMaskPenaltyRule4=function(e){for(var t=0,n=e.getArray(),a=e.getWidth(),o=e.getHeight(),l=0;l<o;l++)for(var c=n[l],f=0;f<a;f++)c[f]===1&&t++;var h=e.getHeight()*e.getWidth(),v=Math.floor(Math.abs(t*2-h)*10/h);return v*r.N4},r.getDataMaskBit=function(e,t,n){var a,o;switch(e){case 0:a=n+t&1;break;case 1:a=n&1;break;case 2:a=t%3;break;case 3:a=(n+t)%3;break;case 4:a=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:o=n*t,a=(o&1)+o%3;break;case 6:o=n*t,a=(o&1)+o%3&1;break;case 7:o=n*t,a=o%3+(n+t&1)&1;break;default:throw new ge("Invalid mask pattern: "+e)}return a===0},r.applyMaskPenaltyRule1Internal=function(e,t){for(var n=0,a=t?e.getHeight():e.getWidth(),o=t?e.getWidth():e.getHeight(),l=e.getArray(),c=0;c<a;c++){for(var f=0,h=-1,v=0;v<o;v++){var g=t?l[c][v]:l[v][c];g===h?f++:(f>=5&&(n+=r.N1+(f-5)),f=1,h=g)}f>=5&&(n+=r.N1+(f-5))}return n},r.N1=3,r.N2=3,r.N3=40,r.N4=10,r})(),Db=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ib=(function(){function r(e,t){this.width=e,this.height=t;for(var n=new Array(t),a=0;a!==t;a++)n[a]=new Uint8Array(e);this.bytes=n}return r.prototype.getHeight=function(){return this.height},r.prototype.getWidth=function(){return this.width},r.prototype.get=function(e,t){return this.bytes[t][e]},r.prototype.getArray=function(){return this.bytes},r.prototype.setNumber=function(e,t,n){this.bytes[t][e]=n},r.prototype.setBoolean=function(e,t,n){this.bytes[t][e]=n?1:0},r.prototype.clear=function(e){var t,n;try{for(var a=Db(this.bytes),o=a.next();!o.done;o=a.next()){var l=o.value;Dt.fill(l,e)}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(var n=0,a=this.height;n<a;++n)for(var o=this.bytes[n],l=t.bytes[n],c=0,f=this.width;c<f;++c)if(o[c]!==l[c])return!1;return!0},r.prototype.toString=function(){for(var e=new Ce,t=0,n=this.height;t<n;++t){for(var a=this.bytes[t],o=0,l=this.width;o<l;++o)switch(a[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},r})(),xd=(function(){function r(){this.maskPattern=-1}return r.prototype.getMode=function(){return this.mode},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getVersion=function(){return this.version},r.prototype.getMaskPattern=function(){return this.maskPattern},r.prototype.getMatrix=function(){return this.matrix},r.prototype.toString=function(){var e=new Ce;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},r.prototype.setMode=function(e){this.mode=e},r.prototype.setECLevel=function(e){this.ecLevel=e},r.prototype.setVersion=function(e){this.version=e},r.prototype.setMaskPattern=function(e){this.maskPattern=e},r.prototype.setMatrix=function(e){this.matrix=e},r.isValidMaskPattern=function(e){return e>=0&&e<r.NUM_MASK_PATTERNS},r.NUM_MASK_PATTERNS=8,r})(),Nb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),at=(function(r){Nb(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="WriterException",e})(dr),Lp=(function(){function r(){}return r.clearMatrix=function(e){e.clear(255)},r.buildMatrix=function(e,t,n,a,o){r.clearMatrix(o),r.embedBasicPatterns(n,o),r.embedTypeInfo(t,a,o),r.maybeEmbedVersionInfo(n,o),r.embedDataBits(e,a,o)},r.embedBasicPatterns=function(e,t){r.embedPositionDetectionPatternsAndSeparators(t),r.embedDarkDotAtLeftBottomCorner(t),r.maybeEmbedPositionAdjustmentPatterns(e,t),r.embedTimingPatterns(t)},r.embedTypeInfo=function(e,t,n){var a=new Ut;r.makeTypeInfoBits(e,t,a);for(var o=0,l=a.getSize();o<l;++o){var c=a.get(a.getSize()-1-o),f=r.TYPE_INFO_COORDINATES[o],h=f[0],v=f[1];if(n.setBoolean(h,v,c),o<8){var g=n.getWidth()-o-1,x=8;n.setBoolean(g,x,c)}else{var g=8,x=n.getHeight()-7+(o-8);n.setBoolean(g,x,c)}}},r.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var n=new Ut;r.makeVersionInfoBits(e,n);for(var a=17,o=0;o<6;++o)for(var l=0;l<3;++l){var c=n.get(a);a--,t.setBoolean(o,t.getHeight()-11+l,c),t.setBoolean(t.getHeight()-11+l,o,c)}}},r.embedDataBits=function(e,t,n){for(var a=0,o=-1,l=n.getWidth()-1,c=n.getHeight()-1;l>0;){for(l===6&&(l-=1);c>=0&&c<n.getHeight();){for(var f=0;f<2;++f){var h=l-f;if(r.isEmpty(n.get(h,c))){var v=void 0;a<e.getSize()?(v=e.get(a),++a):v=!1,t!==255&&ss.getDataMaskBit(t,h,c)&&(v=!v),n.setBoolean(h,c,v)}}c+=o}o=-o,c+=o,l-=2}if(a!==e.getSize())throw new at("Not all bits consumed: "+a+"/"+e.getSize())},r.findMSBSet=function(e){return 32-Oe.numberOfLeadingZeros(e)},r.calculateBCHCode=function(e,t){if(t===0)throw new ge("0 polynomial");var n=r.findMSBSet(t);for(e<<=n-1;r.findMSBSet(e)>=n;)e^=t<<r.findMSBSet(e)-n;return e},r.makeTypeInfoBits=function(e,t,n){if(!xd.isValidMaskPattern(t))throw new at("Invalid mask pattern");var a=e.getBits()<<3|t;n.appendBits(a,5);var o=r.calculateBCHCode(a,r.TYPE_INFO_POLY);n.appendBits(o,10);var l=new Ut;if(l.appendBits(r.TYPE_INFO_MASK_PATTERN,15),n.xor(l),n.getSize()!==15)throw new at("should not happen but we got: "+n.getSize())},r.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var n=r.calculateBCHCode(e.getVersionNumber(),r.VERSION_INFO_POLY);if(t.appendBits(n,12),t.getSize()!==18)throw new at("should not happen but we got: "+t.getSize())},r.isEmpty=function(e){return e===255},r.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var n=(t+1)%2;r.isEmpty(e.get(t,6))&&e.setNumber(t,6,n),r.isEmpty(e.get(6,t))&&e.setNumber(6,t,n)}},r.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new at;e.setNumber(8,e.getHeight()-8,1)},r.embedHorizontalSeparationPattern=function(e,t,n){for(var a=0;a<8;++a){if(!r.isEmpty(n.get(e+a,t)))throw new at;n.setNumber(e+a,t,0)}},r.embedVerticalSeparationPattern=function(e,t,n){for(var a=0;a<7;++a){if(!r.isEmpty(n.get(e,t+a)))throw new at;n.setNumber(e,t+a,0)}},r.embedPositionAdjustmentPattern=function(e,t,n){for(var a=0;a<5;++a)for(var o=r.POSITION_ADJUSTMENT_PATTERN[a],l=0;l<5;++l)n.setNumber(e+l,t+a,o[l])},r.embedPositionDetectionPattern=function(e,t,n){for(var a=0;a<7;++a)for(var o=r.POSITION_DETECTION_PATTERN[a],l=0;l<7;++l)n.setNumber(e+l,t+a,o[l])},r.embedPositionDetectionPatternsAndSeparators=function(e){var t=r.POSITION_DETECTION_PATTERN[0].length;r.embedPositionDetectionPattern(0,0,e),r.embedPositionDetectionPattern(e.getWidth()-t,0,e),r.embedPositionDetectionPattern(0,e.getWidth()-t,e);var n=8;r.embedHorizontalSeparationPattern(0,n-1,e),r.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),r.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var a=7;r.embedVerticalSeparationPattern(a,0,e),r.embedVerticalSeparationPattern(e.getHeight()-a-1,0,e),r.embedVerticalSeparationPattern(a,e.getHeight()-a,e)},r.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,a=r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],o=0,l=a.length;o!==l;o++){var c=a[o];if(c>=0)for(var f=0;f!==l;f++){var h=a[f];h>=0&&r.isEmpty(t.get(h,c))&&r.embedPositionAdjustmentPattern(h-2,c-2,t)}}},r.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),r.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),r.VERSION_INFO_POLY=7973,r.TYPE_INFO_POLY=1335,r.TYPE_INFO_MASK_PATTERN=21522,r})(),Mb=(function(){function r(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return r.prototype.getDataBytes=function(){return this.dataBytes},r.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},r})(),jp=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.calculateMaskPenalty=function(e){return ss.applyMaskPenaltyRule1(e)+ss.applyMaskPenaltyRule2(e)+ss.applyMaskPenaltyRule3(e)+ss.applyMaskPenaltyRule4(e)},r.encode=function(e,t,n){n===void 0&&(n=null);var a=r.DEFAULT_BYTE_MODE_ENCODING,o=n!==null&&n.get(Hl.CHARACTER_SET)!==void 0;o&&(a=n.get(Hl.CHARACTER_SET).toString());var l=this.chooseMode(e,a),c=new Ut;if(l===it.BYTE&&(o||r.DEFAULT_BYTE_MODE_ENCODING!==a)){var f=Rt.getCharacterSetECIByName(a);f!==void 0&&this.appendECI(f,c)}this.appendModeInfo(l,c);var h=new Ut;this.appendBytes(e,l,h,a);var v;if(n!==null&&n.get(Hl.QR_VERSION)!==void 0){var g=Number.parseInt(n.get(Hl.QR_VERSION).toString(),10);v=La.getVersionForNumber(g);var x=this.calculateBitsNeeded(l,c,h,v);if(!this.willFit(x,v,t))throw new at("Data too big for requested version")}else v=this.recommendVersion(t,l,c,h);var m=new Ut;m.appendBitArray(c);var w=l===it.BYTE?h.getSizeInBytes():e.length;this.appendLengthInfo(w,v,l,m),m.appendBitArray(h);var S=v.getECBlocksForLevel(t),E=v.getTotalCodewords()-S.getTotalECCodewords();this.terminateBits(E,m);var b=this.interleaveWithECBytes(m,v.getTotalCodewords(),E,S.getNumBlocks()),T=new xd;T.setECLevel(t),T.setMode(l),T.setVersion(v);var O=v.getDimensionForVersion(),D=new Ib(O,O),N=this.chooseMaskPattern(b,t,v,D);return T.setMaskPattern(N),Lp.buildMatrix(b,t,v,N,D),T.setMatrix(D),T},r.recommendVersion=function(e,t,n,a){var o=this.calculateBitsNeeded(t,n,a,La.getVersionForNumber(1)),l=this.chooseVersion(o,e),c=this.calculateBitsNeeded(t,n,a,l);return this.chooseVersion(c,e)},r.calculateBitsNeeded=function(e,t,n,a){return t.getSize()+e.getCharacterCountBits(a)+n.getSize()},r.getAlphanumericCode=function(e){return e<r.ALPHANUMERIC_TABLE.length?r.ALPHANUMERIC_TABLE[e]:-1},r.chooseMode=function(e,t){if(t===void 0&&(t=null),Rt.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return it.KANJI;for(var n=!1,a=!1,o=0,l=e.length;o<l;++o){var c=e.charAt(o);if(r.isDigit(c))n=!0;else if(this.getAlphanumericCode(c.charCodeAt(0))!==-1)a=!0;else return it.BYTE}return a?it.ALPHANUMERIC:n?it.NUMERIC:it.BYTE},r.isOnlyDoubleByteKanji=function(e){var t;try{t=Mr.encode(e,Rt.SJIS)}catch{return!1}var n=t.length;if(n%2!==0)return!1;for(var a=0;a<n;a+=2){var o=t[a]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0},r.chooseMaskPattern=function(e,t,n,a){for(var o=Number.MAX_SAFE_INTEGER,l=-1,c=0;c<xd.NUM_MASK_PATTERNS;c++){Lp.buildMatrix(e,t,n,c,a);var f=this.calculateMaskPenalty(a);f<o&&(o=f,l=c)}return l},r.chooseVersion=function(e,t){for(var n=1;n<=40;n++){var a=La.getVersionForNumber(n);if(r.willFit(e,a,t))return a}throw new at("Data too big")},r.willFit=function(e,t,n){var a=t.getTotalCodewords(),o=t.getECBlocksForLevel(n),l=o.getTotalECCodewords(),c=a-l,f=(e+7)/8;return c>=f},r.terminateBits=function(e,t){var n=e*8;if(t.getSize()>n)throw new at("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(var a=0;a<4&&t.getSize()<n;++a)t.appendBit(!1);var o=t.getSize()&7;if(o>0)for(var a=o;a<8;a++)t.appendBit(!1);for(var l=e-t.getSizeInBytes(),a=0;a<l;++a)t.appendBits((a&1)===0?236:17,8);if(t.getSize()!==n)throw new at("Bits size does not equal capacity")},r.getNumDataBytesAndNumECBytesForBlockID=function(e,t,n,a,o,l){if(a>=n)throw new at("Block ID too large");var c=e%n,f=n-c,h=Math.floor(e/n),v=h+1,g=Math.floor(t/n),x=g+1,m=h-g,w=v-x;if(m!==w)throw new at("EC bytes mismatch");if(n!==f+c)throw new at("RS blocks mismatch");if(e!==(g+m)*f+(x+w)*c)throw new at("Total bytes mismatch");a<f?(o[0]=g,l[0]=m):(o[0]=x,l[0]=w)},r.interleaveWithECBytes=function(e,t,n,a){var o,l,c,f;if(e.getSizeInBytes()!==n)throw new at("Number of bits and data bytes does not match");for(var h=0,v=0,g=0,x=new Array,m=0;m<a;++m){var w=new Int32Array(1),S=new Int32Array(1);r.getNumDataBytesAndNumECBytesForBlockID(t,n,a,m,w,S);var E=w[0],b=new Uint8Array(E);e.toBytes(8*h,b,0,E);var T=r.generateECBytes(b,S[0]);x.push(new Mb(b,T)),v=Math.max(v,E),g=Math.max(g,T.length),h+=w[0]}if(n!==h)throw new at("Data bytes does not match offset");for(var O=new Ut,m=0;m<v;++m)try{for(var D=(o=void 0,jp(x)),N=D.next();!N.done;N=D.next()){var k=N.value,b=k.getDataBytes();m<b.length&&O.appendBits(b[m],8)}}catch(Y){o={error:Y}}finally{try{N&&!N.done&&(l=D.return)&&l.call(D)}finally{if(o)throw o.error}}for(var m=0;m<g;++m)try{for(var L=(c=void 0,jp(x)),Z=L.next();!Z.done;Z=L.next()){var k=Z.value,T=k.getErrorCorrectionBytes();m<T.length&&O.appendBits(T[m],8)}}catch(Y){c={error:Y}}finally{try{Z&&!Z.done&&(f=L.return)&&f.call(L)}finally{if(c)throw c.error}}if(t!==O.getSizeInBytes())throw new at("Interleaving error: "+t+" and "+O.getSizeInBytes()+" differ.");return O},r.generateECBytes=function(e,t){for(var n=e.length,a=new Int32Array(n+t),o=0;o<n;o++)a[o]=e[o]&255;new Vg(fr.QR_CODE_FIELD_256).encode(a,t);for(var l=new Uint8Array(t),o=0;o<t;o++)l[o]=a[n+o];return l},r.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},r.appendLengthInfo=function(e,t,n,a){var o=n.getCharacterCountBits(t);if(e>=1<<o)throw new at(e+" is bigger than "+((1<<o)-1));a.appendBits(e,o)},r.appendBytes=function(e,t,n,a){switch(t){case it.NUMERIC:r.appendNumericBytes(e,n);break;case it.ALPHANUMERIC:r.appendAlphanumericBytes(e,n);break;case it.BYTE:r.append8BitBytes(e,n,a);break;case it.KANJI:r.appendKanjiBytes(e,n);break;default:throw new at("Invalid mode: "+t)}},r.getDigit=function(e){return e.charCodeAt(0)-48},r.isDigit=function(e){var t=r.getDigit(e);return t>=0&&t<=9},r.appendNumericBytes=function(e,t){for(var n=e.length,a=0;a<n;){var o=r.getDigit(e.charAt(a));if(a+2<n){var l=r.getDigit(e.charAt(a+1)),c=r.getDigit(e.charAt(a+2));t.appendBits(o*100+l*10+c,10),a+=3}else if(a+1<n){var l=r.getDigit(e.charAt(a+1));t.appendBits(o*10+l,7),a+=2}else t.appendBits(o,4),a++}},r.appendAlphanumericBytes=function(e,t){for(var n=e.length,a=0;a<n;){var o=r.getAlphanumericCode(e.charCodeAt(a));if(o===-1)throw new at;if(a+1<n){var l=r.getAlphanumericCode(e.charCodeAt(a+1));if(l===-1)throw new at;t.appendBits(o*45+l,11),a+=2}else t.appendBits(o,6),a++}},r.append8BitBytes=function(e,t,n){var a;try{a=Mr.encode(e,n)}catch(f){throw new at(f)}for(var o=0,l=a.length;o!==l;o++){var c=a[o];t.appendBits(c,8)}},r.appendKanjiBytes=function(e,t){var n;try{n=Mr.encode(e,Rt.SJIS)}catch(g){throw new at(g)}for(var a=n.length,o=0;o<a;o+=2){var l=n[o]&255,c=n[o+1]&255,f=l<<8&4294967295|c,h=-1;if(f>=33088&&f<=40956?h=f-33088:f>=57408&&f<=60351&&(h=f-49472),h===-1)throw new at("Invalid byte sequence");var v=(h>>8)*192+(h&255);t.appendBits(v,13)}},r.appendECI=function(e,t){t.appendBits(it.ECI.getBits(),4),t.appendBits(e.getValue(),8)},r.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),r.DEFAULT_BYTE_MODE_ENCODING=Rt.UTF8.getName(),r})();var Bb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){Bb(e,r);function e(t,n,a,o,l,c,f,h){var v=r.call(this,c,f)||this;if(v.yuvData=t,v.dataWidth=n,v.dataHeight=a,v.left=o,v.top=l,o+c>n||l+f>a)throw new ge("Crop rectangle does not fit within image data.");return h&&v.reverseHorizontal(c,f),v}return e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new ge("Requested row is outside the image: "+t);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var o=(t+this.top)*this.dataWidth+this.left;return rt.arraycopy(this.yuvData,o,n,0,a),n},e.prototype.getMatrix=function(){var t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.yuvData;var a=t*n,o=new Uint8ClampedArray(a),l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return rt.arraycopy(this.yuvData,l,o,0,a),o;for(var c=0;c<n;c++){var f=c*t;rt.arraycopy(this.yuvData,l,o,f,t),l+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,a,o){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+n,a,o,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(t*n),o=this.yuvData,l=this.top*this.dataWidth+this.left,c=0;c<n;c++){for(var f=c*t,h=0;h<t;h++){var v=o[l+h*e.THUMBNAIL_SCALE_FACTOR]&255;a[f+h]=4278190080|v*65793}l+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return a},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,n){for(var a=this.yuvData,o=0,l=this.top*this.dataWidth+this.left;o<n;o++,l+=this.dataWidth)for(var c=l+t/2,f=l,h=l+t-1;f<c;f++,h--){var v=a[f];a[f]=a[h],a[h]=v}},e.prototype.invert=function(){return new lu(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(xs);var kb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){kb(e,r);function e(t,n,a,o,l,c,f){var h=r.call(this,n,a)||this;if(h.dataWidth=o,h.dataHeight=l,h.left=c,h.top=f,t.BYTES_PER_ELEMENT===4){for(var v=n*a,g=new Uint8ClampedArray(v),x=0;x<v;x++){var m=t[x],w=m>>16&255,S=m>>7&510,E=m&255;g[x]=(w+S+E)/4&255}h.luminances=g}else h.luminances=t;if(o===void 0&&(h.dataWidth=n),l===void 0&&(h.dataHeight=a),c===void 0&&(h.left=0),f===void 0&&(h.top=0),h.left+n>h.dataWidth||h.top+a>h.dataHeight)throw new ge("Crop rectangle does not fit within image data.");return h}return e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new ge("Requested row is outside the image: "+t);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var o=(t+this.top)*this.dataWidth+this.left;return rt.arraycopy(this.luminances,o,n,0,a),n},e.prototype.getMatrix=function(){var t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.luminances;var a=t*n,o=new Uint8ClampedArray(a),l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return rt.arraycopy(this.luminances,l,o,0,a),o;for(var c=0;c<n;c++){var f=c*t;rt.arraycopy(this.luminances,l,o,f,t),l+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,a,o){return new e(this.luminances,a,o,this.dataWidth,this.dataHeight,this.left+t,this.top+n)},e.prototype.invert=function(){return new lu(this)},e})(xs);var Pb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Lb=(function(r){Pb(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.forName=function(t){return this.getCharacterSetECIByName(t)},e})(Rt),jb=(function(){function r(){}return r.ISO_8859_1=Rt.ISO8859_1,r})(),md,Ub=301,Fb=function(r,e){for(var t=1,n=0;n<255;n++)e[n]=t,r[t]=n,t*=2,t>=256&&(t^=Ub);return{LOG:r,ALOG:e}};md=Fb([],[]),md.LOG;md.ALOG;var Up;(function(r){r[r.FORCE_NONE=0]="FORCE_NONE",r[r.FORCE_SQUARE=1]="FORCE_SQUARE",r[r.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(Up||(Up={}));var Fp=129,Gg=230,zb=231,Hb=235,Vb=236,Gb=237,Xb=238,qb=239,$b=240,qf=254,Yb=254,zp="[)>05",Hp="[)>06",Vp="",qe=0,Gt=1,ar=2,Ct=3,jt=4,Wt=5,Wb=(function(){function r(){}return r.prototype.getEncodingMode=function(){return qe},r.prototype.encode=function(e){var t=Hr.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(t>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),a=Hr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode())switch(a){case Wt:e.writeCodeword(zb),e.signalEncoderChange(Wt);return;case Gt:e.writeCodeword(Gg),e.signalEncoderChange(Gt);return;case Ct:e.writeCodeword(Xb),e.signalEncoderChange(Ct);break;case ar:e.writeCodeword(qb),e.signalEncoderChange(ar);break;case jt:e.writeCodeword($b),e.signalEncoderChange(jt);break;default:throw new Error("Illegal mode: "+a)}else Hr.isExtendedASCII(n)?(e.writeCodeword(Hb),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},r.prototype.encodeASCIIDigits=function(e,t){if(Hr.isDigit(e)&&Hr.isDigit(t)){var n=(e-48)*10+(t-48);return n+130}throw new Error("not digits: "+e+t)},r})(),Zb=(function(){function r(){}return r.prototype.getEncodingMode=function(){return Wt},r.prototype.encode=function(e){var t=new Ce;for(t.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();t.append(n),e.pos++;var a=Hr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){e.signalEncoderChange(qe);break}}var o=t.length()-1,l=1,c=e.getCodewordCount()+o+l;e.updateSymbolInfo(c);var f=e.getSymbolInfo().getDataCapacity()-c>0;if(e.hasMoreCharacters()||f)if(o<=249)t.setCharAt(0,Be.getCharAt(o));else if(o<=1555)t.setCharAt(0,Be.getCharAt(Math.floor(o/250)+249)),t.insert(1,Be.getCharAt(o%250));else throw new Error("Message length not in valid ranges: "+o);for(var h=0,n=t.length();h<n;h++)e.writeCodeword(this.randomize255State(t.charAt(h).charCodeAt(0),e.getCodewordCount()+1))},r.prototype.randomize255State=function(e,t){var n=149*t%255+1,a=e+n;return a<=255?a:a-256},r})(),Pd=(function(){function r(){}return r.prototype.getEncodingMode=function(){return Gt},r.prototype.encodeMaximal=function(e){for(var t=new Ce,n=0,a=e.pos,o=0;e.hasMoreCharacters();){var l=e.getCurrentChar();e.pos++,n=this.encodeChar(l,t),t.length()%3===0&&(a=e.pos,o=t.length())}if(o!==t.length()){var c=Math.floor(t.length()/3*2),f=Math.floor(e.getCodewordCount()+c+1);e.updateSymbolInfo(f);var h=e.getSymbolInfo().getDataCapacity()-f,v=Math.floor(t.length()%3);(v===2&&h!==2||v===1&&(n>3||h!==1))&&(e.pos=a)}t.length()>0&&e.writeCodeword(Gg),this.handleEOD(e,t)},r.prototype.encode=function(e){for(var t=new Ce;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var a=this.encodeChar(n,t),o=Math.floor(t.length()/3)*2,l=e.getCodewordCount()+o;e.updateSymbolInfo(l);var c=e.getSymbolInfo().getDataCapacity()-l;if(!e.hasMoreCharacters()){var f=new Ce;for(t.length()%3===2&&c!==2&&(a=this.backtrackOneCharacter(e,t,f,a));t.length()%3===1&&(a>3||c!==1);)a=this.backtrackOneCharacter(e,t,f,a);break}var h=t.length();if(h%3===0){var v=Hr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(v!==this.getEncodingMode()){e.signalEncoderChange(qe);break}}}this.handleEOD(e,t)},r.prototype.backtrackOneCharacter=function(e,t,n,a){var o=t.length(),l=t.toString().substring(0,o-a);t.setLengthToZero(),t.append(l),e.pos--;var c=e.getCurrentChar();return a=this.encodeChar(c,n),e.resetSymbolInfo(),a},r.prototype.writeNextTriplet=function(e,t){e.writeCodewords(this.encodeToCodewords(t.toString()));var n=t.toString().substring(3);t.setLengthToZero(),t.append(n)},r.prototype.handleEOD=function(e,t){var n=Math.floor(t.length()/3*2),a=t.length()%3,o=e.getCodewordCount()+n;e.updateSymbolInfo(o);var l=e.getSymbolInfo().getDataCapacity()-o;if(a===2){for(t.append("\0");t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(qf)}else if(l===1&&a===1){for(;t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(qf),e.pos--}else if(a===0){for(;t.length()>=3;)this.writeNextTriplet(e,t);(l>0||e.hasMoreCharacters())&&e.writeCodeword(qf)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(qe)},r.prototype.encodeChar=function(e,t){if(e===32)return t.append(3),1;if(e>=48&&e<=57)return t.append(e-48+4),1;if(e>=65&&e<=90)return t.append(e-65+14),1;if(e<32)return t.append(0),t.append(e),2;if(e<=47)return t.append(1),t.append(e-33),2;if(e<=64)return t.append(1),t.append(e-58+15),2;if(e<=95)return t.append(1),t.append(e-91+22),2;if(e<=127)return t.append(2),t.append(e-96),2;t.append("1");var n=2;return n+=this.encodeChar(e-128,t),n},r.prototype.encodeToCodewords=function(e){var t=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=t/256,a=t%256,o=new Ce;return o.append(n),o.append(a),o.toString()},r})(),Kb=(function(){function r(){}return r.prototype.getEncodingMode=function(){return jt},r.prototype.encode=function(e){for(var t=new Ce;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,t),e.pos++;var a=t.length();if(a>=4){e.writeCodewords(this.encodeToCodewords(t.toString()));var o=t.toString().substring(4);t.setLengthToZero(),t.append(o);var l=Hr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(l!==this.getEncodingMode()){e.signalEncoderChange(qe);break}}}t.append(Be.getCharAt(31)),this.handleEOD(e,t)},r.prototype.handleEOD=function(e,t){try{var n=t.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),o=e.getRemainingCharacters();if(o>a&&(e.updateSymbolInfo(e.getCodewordCount()+1),a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),o<=a&&a<=2)return}if(n>4)throw new Error("Count must not exceed 4");var l=n-1,c=this.encodeToCodewords(t.toString()),f=!e.hasMoreCharacters(),h=f&&l<=2;if(l<=2){e.updateSymbolInfo(e.getCodewordCount()+l);var a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();a>=3&&(h=!1,e.updateSymbolInfo(e.getCodewordCount()+c.length))}h?(e.resetSymbolInfo(),e.pos-=l):e.writeCodewords(c)}finally{e.signalEncoderChange(qe)}},r.prototype.encodeChar=function(e,t){e>=32&&e<=63?t.append(e):e>=64&&e<=94?t.append(Be.getCharAt(e-64)):Hr.illegalCharacter(Be.getCharAt(e))},r.prototype.encodeToCodewords=function(e){var t=e.length;if(t===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),a=t>=2?e.charAt(1).charCodeAt(0):0,o=t>=3?e.charAt(2).charCodeAt(0):0,l=t>=4?e.charAt(3).charCodeAt(0):0,c=(n<<18)+(a<<12)+(o<<6)+l,f=c>>16&255,h=c>>8&255,v=c&255,g=new Ce;return g.append(f),t>=2&&g.append(h),t>=3&&g.append(v),g.toString()},r})(),Qb=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Jb=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fe=(function(){function r(e,t,n,a,o,l,c,f){c===void 0&&(c=0),f===void 0&&(f=0),this.rectangular=e,this.dataCapacity=t,this.errorCodewords=n,this.matrixWidth=a,this.matrixHeight=o,this.dataRegions=l,this.rsBlockData=c,this.rsBlockError=f}return r.lookup=function(e,t,n,a,o){var l,c;t===void 0&&(t=0),n===void 0&&(n=null),a===void 0&&(a=null),o===void 0&&(o=!0);try{for(var f=Jb(tA),h=f.next();!h.done;h=f.next()){var v=h.value;if(!(t===1&&v.rectangular)&&!(t===2&&!v.rectangular)&&!(n!=null&&(v.getSymbolWidth()<n.getWidth()||v.getSymbolHeight()<n.getHeight()))&&!(a!=null&&(v.getSymbolWidth()>a.getWidth()||v.getSymbolHeight()>a.getHeight()))&&e<=v.dataCapacity)return v}}catch(g){l={error:g}}finally{try{h&&!h.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}if(o)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},r.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},r.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},r.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},r.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},r.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},r.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},r.prototype.getDataCapacity=function(){return this.dataCapacity},r.prototype.getErrorCodewords=function(){return this.errorCodewords},r.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},r.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},r})(),eA=(function(r){Qb(e,r);function e(){return r.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(t){return t<=8?156:155},e})(Fe),tA=[new Fe(!1,3,5,8,8,1),new Fe(!1,5,7,10,10,1),new Fe(!0,5,7,16,6,1),new Fe(!1,8,10,12,12,1),new Fe(!0,10,11,14,6,2),new Fe(!1,12,12,14,14,1),new Fe(!0,16,14,24,10,1),new Fe(!1,18,14,16,16,1),new Fe(!1,22,18,18,18,1),new Fe(!0,22,18,16,10,2),new Fe(!1,30,20,20,20,1),new Fe(!0,32,24,16,14,2),new Fe(!1,36,24,22,22,1),new Fe(!1,44,28,24,24,1),new Fe(!0,49,28,22,14,2),new Fe(!1,62,36,14,14,4),new Fe(!1,86,42,16,16,4),new Fe(!1,114,48,18,18,4),new Fe(!1,144,56,20,20,4),new Fe(!1,174,68,22,22,4),new Fe(!1,204,84,24,24,4,102,42),new Fe(!1,280,112,14,14,16,140,56),new Fe(!1,368,144,16,16,16,92,36),new Fe(!1,456,192,18,18,16,114,48),new Fe(!1,576,224,20,20,16,144,56),new Fe(!1,696,272,22,22,16,174,68),new Fe(!1,816,336,24,24,16,136,56),new Fe(!1,1050,408,18,18,36,175,68),new Fe(!1,1304,496,20,20,36,163,62),new eA],rA=(function(){function r(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var t=e.split("").map(function(c){return c.charCodeAt(0)}),n=new Ce,a=0,o=t.length;a<o;a++){var l=String.fromCharCode(t[a]&255);if(l==="?"&&e.charAt(a)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(l)}this.msg=n.toString(),this.shape=0,this.codewords=new Ce,this.newEncoding=-1}return r.prototype.setSymbolShape=function(e){this.shape=e},r.prototype.setSizeConstraints=function(e,t){this.minSize=e,this.maxSize=t},r.prototype.getMessage=function(){return this.msg},r.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},r.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCodewords=function(){return this.codewords},r.prototype.writeCodewords=function(e){this.codewords.append(e)},r.prototype.writeCodeword=function(e){this.codewords.append(e)},r.prototype.getCodewordCount=function(){return this.codewords.length()},r.prototype.getNewEncoding=function(){return this.newEncoding},r.prototype.signalEncoderChange=function(e){this.newEncoding=e},r.prototype.resetEncoderSignal=function(){this.newEncoding=-1},r.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},r.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},r.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},r.prototype.getSymbolInfo=function(){return this.symbolInfo},r.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Fe.lookup(e,this.shape,this.minSize,this.maxSize,!0))},r.prototype.resetSymbolInfo=function(){this.symbolInfo=null},r})(),nA=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),aA=(function(r){nA(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Ct},e.prototype.encode=function(t){for(var n=new Ce;t.hasMoreCharacters();){var a=t.getCurrentChar();t.pos++,this.encodeChar(a,n);var o=n.length();if(o%3===0){this.writeNextTriplet(t,n);var l=Hr.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(l!==this.getEncodingMode()){t.signalEncoderChange(qe);break}}}this.handleEOD(t,n)},e.prototype.encodeChar=function(t,n){switch(t){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:t>=48&&t<=57?n.append(t-48+4):t>=65&&t<=90?n.append(t-65+14):Hr.illegalCharacter(Be.getCharAt(t));break}return 1},e.prototype.handleEOD=function(t,n){t.updateSymbolInfo();var a=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),o=n.length();t.pos-=o,(t.getRemainingCharacters()>1||a>1||t.getRemainingCharacters()!==a)&&t.writeCodeword(Yb),t.getNewEncoding()<0&&t.signalEncoderChange(qe)},e})(Pd),iA=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),oA=(function(r){iA(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return ar},e.prototype.encodeChar=function(t,n){if(t===32)return n.append(3),1;if(t>=48&&t<=57)return n.append(t-48+4),1;if(t>=97&&t<=122)return n.append(t-97+14),1;if(t<32)return n.append(0),n.append(t),2;if(t<=47)return n.append(1),n.append(t-33),2;if(t<=64)return n.append(1),n.append(t-58+15),2;if(t>=91&&t<=95)return n.append(1),n.append(t-91+22),2;if(t===96)return n.append(2),n.append(0),2;if(t<=90)return n.append(2),n.append(t-65+1),2;if(t<=127)return n.append(2),n.append(t-123+27),2;n.append("1");var a=2;return a+=this.encodeChar(t-128,n),a},e})(Pd),Hr=(function(){function r(){}return r.randomize253State=function(e){var t=149*e%253+1,n=Fp+t;return n<=254?n:n-254},r.encodeHighLevel=function(e,t,n,a,o){t===void 0&&(t=0),n===void 0&&(n=null),a===void 0&&(a=null),o===void 0&&(o=!1);var l=new Pd,c=[new Wb,l,new oA,new aA,new Kb,new Zb],f=new rA(e);f.setSymbolShape(t),f.setSizeConstraints(n,a),e.startsWith(zp)&&e.endsWith(Vp)?(f.writeCodeword(Vb),f.setSkipAtEnd(2),f.pos+=zp.length):e.startsWith(Hp)&&e.endsWith(Vp)&&(f.writeCodeword(Gb),f.setSkipAtEnd(2),f.pos+=Hp.length);var h=qe;for(o&&(l.encodeMaximal(f),h=f.getNewEncoding(),f.resetEncoderSignal());f.hasMoreCharacters();)c[h].encode(f),f.getNewEncoding()>=0&&(h=f.getNewEncoding(),f.resetEncoderSignal());var v=f.getCodewordCount();f.updateSymbolInfo();var g=f.getSymbolInfo().getDataCapacity();v<g&&h!==qe&&h!==Wt&&h!==jt&&f.writeCodeword("þ");var x=f.getCodewords();for(x.length()<g&&x.append(Fp);x.length()<g;)x.append(this.randomize253State(x.length()+1));return f.getCodewords().toString()},r.lookAheadTest=function(e,t,n){var a=this.lookAheadTestIntern(e,t,n);if(n===Ct&&a===Ct){for(var o=Math.min(t+3,e.length),l=t;l<o;l++)if(!this.isNativeX12(e.charCodeAt(l)))return qe}else if(n===jt&&a===jt){for(var o=Math.min(t+4,e.length),l=t;l<o;l++)if(!this.isNativeEDIFACT(e.charCodeAt(l)))return qe}return a},r.lookAheadTestIntern=function(e,t,n){if(t>=e.length)return n;var a;n===qe?a=[0,1,1,1,1,1.25]:(a=[1,2,2,2,2,2.25],a[n]=0);for(var o=0,l=new Uint8Array(6),c=[];;){if(t+o===e.length){Dt.fill(l,0),Dt.fill(c,0);var f=this.findMinimums(a,c,Oe.MAX_VALUE,l),h=this.getMinimumCount(l);if(c[qe]===f)return qe;if(h===1){if(l[Wt]>0)return Wt;if(l[jt]>0)return jt;if(l[ar]>0)return ar;if(l[Ct]>0)return Ct}return Gt}var v=e.charCodeAt(t+o);if(o++,this.isDigit(v)?a[qe]+=.5:this.isExtendedASCII(v)?(a[qe]=Math.ceil(a[qe]),a[qe]+=2):(a[qe]=Math.ceil(a[qe]),a[qe]++),this.isNativeC40(v)?a[Gt]+=2/3:this.isExtendedASCII(v)?a[Gt]+=8/3:a[Gt]+=4/3,this.isNativeText(v)?a[ar]+=2/3:this.isExtendedASCII(v)?a[ar]+=8/3:a[ar]+=4/3,this.isNativeX12(v)?a[Ct]+=2/3:this.isExtendedASCII(v)?a[Ct]+=13/3:a[Ct]+=10/3,this.isNativeEDIFACT(v)?a[jt]+=3/4:this.isExtendedASCII(v)?a[jt]+=17/4:a[jt]+=13/4,this.isSpecialB256(v)?a[Wt]+=4:a[Wt]++,o>=4){if(Dt.fill(l,0),Dt.fill(c,0),this.findMinimums(a,c,Oe.MAX_VALUE,l),c[qe]<this.min(c[Wt],c[Gt],c[ar],c[Ct],c[jt]))return qe;if(c[Wt]<c[qe]||c[Wt]+1<this.min(c[Gt],c[ar],c[Ct],c[jt]))return Wt;if(c[jt]+1<this.min(c[Wt],c[Gt],c[ar],c[Ct],c[qe]))return jt;if(c[ar]+1<this.min(c[Wt],c[Gt],c[jt],c[Ct],c[qe]))return ar;if(c[Ct]+1<this.min(c[Wt],c[Gt],c[jt],c[ar],c[qe]))return Ct;if(c[Gt]+1<this.min(c[qe],c[Wt],c[jt],c[ar])){if(c[Gt]<c[Ct])return Gt;if(c[Gt]===c[Ct]){for(var g=t+o+1;g<e.length;){var x=e.charCodeAt(g);if(this.isX12TermSep(x))return Ct;if(!this.isNativeX12(x))break;g++}return Gt}}}}},r.min=function(e,t,n,a,o){var l=Math.min(e,Math.min(t,Math.min(n,a)));return o===void 0?l:Math.min(l,o)},r.findMinimums=function(e,t,n,a){for(var o=0;o<6;o++){var l=t[o]=Math.ceil(e[o]);n>l&&(n=l,Dt.fill(a,0)),n===l&&(a[o]=a[o]+1)}return n},r.getMinimumCount=function(e){for(var t=0,n=0;n<6;n++)t+=e[n];return t||0},r.isDigit=function(e){return e>=48&&e<=57},r.isExtendedASCII=function(e){return e>=128&&e<=255},r.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},r.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},r.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},r.isX12TermSep=function(e){return e===13||e===42||e===62},r.isNativeEDIFACT=function(e){return e>=32&&e<=94},r.isSpecialB256=function(e){return!1},r.determineConsecutiveDigitCount=function(e,t){t===void 0&&(t=0);for(var n=e.length,a=t;a<n&&this.isDigit(e.charCodeAt(a));)a++;return a-t},r.illegalCharacter=function(e){var t=Oe.toHexString(e.charCodeAt(0));throw t="0000".substring(0,4-t.length)+t,new Error("Illegal character: "+e+" (0x"+t+")")},r})(),$f=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gp=(function(){function r(e){this.charset=e,this.name=e.name}return r.prototype.canEncode=function(e){try{return Mr.encode(e,this.charset)!=null}catch{return!1}},r})(),sA=(function(){function r(e,t,n){var a,o,l,c,f,h;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(J){return new Gp(Lb.forName(J))}),this.encoders=[];var v=[];v.push(new Gp(jb.ISO_8859_1));for(var g=t!=null&&t.name.startsWith("UTF"),x=0;x<e.length;x++){var m=!1;try{for(var w=(a=void 0,$f(v)),S=w.next();!S.done;S=w.next()){var E=S.value,b=e.charAt(x),T=b.charCodeAt(0);if(T===n||E.canEncode(b)){m=!0;break}}}catch(J){a={error:J}}finally{try{S&&!S.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}if(!m)try{for(var O=(l=void 0,$f(this.ENCODERS)),D=O.next();!D.done;D=O.next()){var E=D.value;if(E.canEncode(e.charAt(x))){v.push(E),m=!0;break}}}catch(J){l={error:J}}finally{try{D&&!D.done&&(c=O.return)&&c.call(O)}finally{if(l)throw l.error}}m||(g=!0)}if(v.length===1&&!g)this.encoders=[v[0]];else{this.encoders=[];var N=0;try{for(var k=$f(v),L=k.next();!L.done;L=k.next()){var E=L.value;this.encoders[N++]=E}}catch(J){f={error:J}}finally{try{L&&!L.done&&(h=k.return)&&h.call(k)}finally{if(f)throw f.error}}}var Z=-1;if(t!=null){for(var x=0;x<this.encoders.length;x++)if(this.encoders[x]!=null&&t.name===this.encoders[x].name){Z=x;break}}this.priorityEncoderIndex=Z}return r.prototype.length=function(){return this.encoders.length},r.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},r.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},r.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},r.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},r.prototype.canEncode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return!0},r.prototype.encode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return Mr.encode(Be.getCharAt(e),this.encoders[t].name)},r})(),lA=3,uA=(function(){function r(e,t,n){this.fnc1=n;var a=new sA(e,t,n);if(a.length()===1)for(var o=0;o<this.bytes.length;o++){var l=e.charAt(o).charCodeAt(0);this.bytes[o]=l===n?1e3:l}else this.bytes=this.encodeMinimally(e,a,n)}return r.prototype.getFNC1Character=function(){return this.fnc1},r.prototype.length=function(){return this.bytes.length},r.prototype.haveNCharacters=function(e,t){if(e+t-1>=this.bytes.length)return!1;for(var n=0;n<t;n++)if(this.isECI(e+n))return!1;return!0},r.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},r.prototype.subSequence=function(e,t){if(e<0||e>t||t>this.length())throw new Error(""+e);for(var n=new Ce,a=e;a<t;a++){if(this.isECI(a))throw new Error("value at "+a+" is not a character but an ECI");n.append(this.charAt(a))}return n.toString()},r.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},r.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},r.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},r.prototype.addEdge=function(e,t,n){(e[t][n.encoderIndex]==null||e[t][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[t][n.encoderIndex]=n)},r.prototype.addEdges=function(e,t,n,a,o,l){var c=e.charAt(a).charCodeAt(0),f=0,h=t.length();t.getPriorityEncoderIndex()>=0&&(c===l||t.canEncode(c,t.getPriorityEncoderIndex()))&&(f=t.getPriorityEncoderIndex(),h=f+1);for(var v=f;v<h;v++)(c===l||t.canEncode(c,v))&&this.addEdge(n,a+1,new Xp(c,t,v,o,l))},r.prototype.encodeMinimally=function(e,t,n){var a=e.length,o=new Xp[a+1][t.length()];this.addEdges(e,t,o,0,null,n);for(var l=1;l<=a;l++){for(var c=0;c<t.length();c++)o[l][c]!=null&&l<a&&this.addEdges(e,t,o,l,o[l][c],n);for(var c=0;c<t.length();c++)o[l-1][c]=null}for(var f=-1,h=Oe.MAX_VALUE,c=0;c<t.length();c++)if(o[a][c]!=null){var v=o[a][c];v.cachedTotalSize<h&&(h=v.cachedTotalSize,f=c)}if(f<0)throw new Error('Failed to encode "'+e+'"');for(var g=[],x=o[a][f];x!=null;){if(x.isFNC1())g.unshift(1e3);else for(var m=t.encode(x.c,x.encoderIndex),l=m.length-1;l>=0;l--)g.unshift(m[l]&255);var w=x.previous===null?0:x.previous.encoderIndex;w!==x.encoderIndex&&g.unshift(256+t.getECIValue(x.encoderIndex)),x=x.previous}for(var S=[],l=0;l<S.length;l++)S[l]=g[l];return S},r})(),Xp=(function(){function r(e,t,n,a,o){this.c=e,this.encoderSet=t,this.encoderIndex=n,this.previous=a,this.fnc1=o,this.c=e===o?1e3:e;var l=this.isFNC1()?1:t.encode(e,n).length,c=a===null?0:a.encoderIndex;c!==n&&(l+=lA),a!=null&&(l+=a.cachedTotalSize),this.cachedTotalSize=l}return r.prototype.isFNC1=function(){return this.c===1e3},r})(),cA=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();var qp;(function(r){r[r.ASCII=0]="ASCII",r[r.C40=1]="C40",r[r.TEXT=2]="TEXT",r[r.X12=3]="X12",r[r.EDF=4]="EDF",r[r.B256=5]="B256"})(qp||(qp={}));(function(r){cA(e,r);function e(t,n,a,o,l){var c=r.call(this,t,n,a)||this;return c.shape=o,c.macroId=l,c}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(uA);var fA=(function(){function r(){}return r.prototype.isCompact=function(){return this.compact},r.prototype.setCompact=function(e){this.compact=e},r.prototype.getSize=function(){return this.size},r.prototype.setSize=function(e){this.size=e},r.prototype.getLayers=function(){return this.layers},r.prototype.setLayers=function(e){this.layers=e},r.prototype.getCodeWords=function(){return this.codeWords},r.prototype.setCodeWords=function(e){this.codeWords=e},r.prototype.getMatrix=function(){return this.matrix},r.prototype.setMatrix=function(e){this.matrix=e},r})(),$p=(function(){function r(){}return r.singletonList=function(e){return[e]},r.min=function(e,t){return e.sort(t)[0]},r})(),dA=(function(){function r(e){this.previous=e}return r.prototype.getPrevious=function(){return this.previous},r})(),hA=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Ld=(function(r){hA(e,r);function e(t,n,a){var o=r.call(this,t)||this;return o.value=n,o.bitCount=a,o}return e.prototype.appendTo=function(t,n){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,n){return new e(this,t,n)},e.prototype.addBinaryShift=function(t,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,n)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+Oe.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e})(dA),vA=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),pA=(function(r){vA(e,r);function e(t,n,a){var o=r.call(this,t,0,0)||this;return o.binaryShiftStart=n,o.binaryShiftByteCount=a,o}return e.prototype.appendTo=function(t,n){for(var a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):a===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(n[this.binaryShiftStart+a],8)},e.prototype.addBinaryShift=function(t,n){return new e(this,t,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(Ld);function gA(r,e,t){return new pA(r,e,t)}function ns(r,e,t){return new Ld(r,e,t)}var yA=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],aa=0,nu=1,Nr=2,Xg=3,Kr=4,xA=new Ld(null,0,0),Yf=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],mA=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function _A(r){var e,t;try{for(var n=mA(r),a=n.next();!a.done;a=n.next()){var o=a.value;Dt.fill(o,-1)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r[aa][Kr]=0,r[nu][Kr]=0,r[nu][aa]=28,r[Xg][Kr]=0,r[Nr][Kr]=0,r[Nr][aa]=15,r}var qg=_A(Dt.createInt32Array(6,6)),wA=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},EA=(function(){function r(e,t,n,a){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=a}return r.prototype.getMode=function(){return this.mode},r.prototype.getToken=function(){return this.token},r.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},r.prototype.getBitCount=function(){return this.bitCount},r.prototype.latchAndAppend=function(e,t){var n=this.bitCount,a=this.token;if(e!==this.mode){var o=Yf[this.mode][e];a=ns(a,o&65535,o>>16),n+=o>>16}var l=e===Nr?4:5;return a=ns(a,t,l),new r(a,e,0,n+l)},r.prototype.shiftAndAppend=function(e,t){var n=this.token,a=this.mode===Nr?4:5;return n=ns(n,qg[this.mode][e],a),n=ns(n,t,5),new r(n,this.mode,0,this.bitCount+a+5)},r.prototype.addBinaryShiftChar=function(e){var t=this.token,n=this.mode,a=this.bitCount;if(this.mode===Kr||this.mode===Nr){var o=Yf[n][aa];t=ns(t,o&65535,o>>16),a+=o>>16,n=aa}var l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new r(t,n,this.binaryShiftByteCount+1,a+l);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(e+1)),c},r.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var t=this.token;return t=gA(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new r(t,this.mode,0,this.bitCount)},r.prototype.isBetterThanOrEqualTo=function(e){var t=this.bitCount+(Yf[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=r.calculateBinaryShiftCost(e)-r.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount},r.prototype.toBitArray=function(e){for(var t,n,a=[],o=this.endBinaryShift(e.length).token;o!==null;o=o.getPrevious())a.unshift(o);var l=new Ut;try{for(var c=wA(a),f=c.next();!f.done;f=c.next()){var h=f.value;h.appendTo(l,e)}}catch(v){t={error:v}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return l},r.prototype.toString=function(){return Be.format("%s bits=%d bytes=%d",yA[this.mode],this.bitCount,this.binaryShiftByteCount)},r.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},r.INITIAL_STATE=new r(xA,aa,0,0),r})();function bA(r){var e=Be.getCharCode(" "),t=Be.getCharCode("."),n=Be.getCharCode(",");r[aa][e]=1;for(var a=Be.getCharCode("Z"),o=Be.getCharCode("A"),l=o;l<=a;l++)r[aa][l]=l-o+2;r[nu][e]=1;for(var c=Be.getCharCode("z"),f=Be.getCharCode("a"),l=f;l<=c;l++)r[nu][l]=l-f+2;r[Nr][e]=1;for(var h=Be.getCharCode("9"),v=Be.getCharCode("0"),l=v;l<=h;l++)r[Nr][l]=l-v+2;r[Nr][n]=12,r[Nr][t]=13;for(var g=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],x=0;x<g.length;x++)r[Xg][Be.getCharCode(g[x])]=x;for(var m=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],x=0;x<m.length;x++)Be.getCharCode(m[x])>0&&(r[Kr][Be.getCharCode(m[x])]=x);return r}var Wf=bA(Dt.createInt32Array(5,256)),Vl=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},AA=(function(){function r(e){this.text=e}return r.prototype.encode=function(){for(var e=Be.getCharCode(" "),t=Be.getCharCode(`
`),n=$p.singletonList(EA.INITIAL_STATE),a=0;a<this.text.length;a++){var o=void 0,l=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case Be.getCharCode("\r"):o=l===t?2:0;break;case Be.getCharCode("."):o=l===e?3:0;break;case Be.getCharCode(","):o=l===e?4:0;break;case Be.getCharCode(":"):o=l===e?5:0;break;default:o=0}o>0?(n=r.updateStateListForPair(n,a,o),a++):n=this.updateStateListForChar(n,a)}var c=$p.min(n,function(f,h){return f.getBitCount()-h.getBitCount()});return c.toBitArray(this.text)},r.prototype.updateStateListForChar=function(e,t){var n,a,o=[];try{for(var l=Vl(e),c=l.next();!c.done;c=l.next()){var f=c.value;this.updateStateForChar(f,t,o)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return r.simplifyStates(o)},r.prototype.updateStateForChar=function(e,t,n){for(var a=this.text[t]&255,o=Wf[e.getMode()][a]>0,l=null,c=0;c<=Kr;c++){var f=Wf[c][a];if(f>0){if(l==null&&(l=e.endBinaryShift(t)),!o||c===e.getMode()||c===Nr){var h=l.latchAndAppend(c,f);n.push(h)}if(!o&&qg[e.getMode()][c]>=0){var v=l.shiftAndAppend(c,f);n.push(v)}}}if(e.getBinaryShiftByteCount()>0||Wf[e.getMode()][a]===0){var g=e.addBinaryShiftChar(t);n.push(g)}},r.updateStateListForPair=function(e,t,n){var a,o,l=[];try{for(var c=Vl(e),f=c.next();!f.done;f=c.next()){var h=f.value;this.updateStateForPair(h,t,n,l)}}catch(v){a={error:v}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}return this.simplifyStates(l)},r.updateStateForPair=function(e,t,n,a){var o=e.endBinaryShift(t);if(a.push(o.latchAndAppend(Kr,n)),e.getMode()!==Kr&&a.push(o.shiftAndAppend(Kr,n)),n===3||n===4){var l=o.latchAndAppend(Nr,16-n).latchAndAppend(Nr,1);a.push(l)}if(e.getBinaryShiftByteCount()>0){var c=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);a.push(c)}},r.simplifyStates=function(e){var t,n,a,o,l=[];try{for(var c=Vl(e),f=c.next();!f.done;f=c.next()){var h=f.value,v=!0,g=function(E){if(E.isBetterThanOrEqualTo(h))return v=!1,"break";h.isBetterThanOrEqualTo(E)&&(l=l.filter(function(b){return b!==E}))};try{for(var x=(a=void 0,Vl(l)),m=x.next();!m.done;m=x.next()){var w=m.value,S=g(w);if(S==="break")break}}catch(E){a={error:E}}finally{try{m&&!m.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}v&&l.push(h)}}catch(E){t={error:E}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return l},r})(),SA=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.encodeBytes=function(e){return r.encode(e,r.DEFAULT_EC_PERCENT,r.DEFAULT_AZTEC_LAYERS)},r.encode=function(e,t,n){var a=new AA(e).encode(),o=Oe.truncDivision(a.getSize()*t,100)+11,l=a.getSize()+o,c,f,h,v,g;if(n!==r.DEFAULT_AZTEC_LAYERS){if(c=n<0,f=Math.abs(n),f>(c?r.MAX_NB_BITS_COMPACT:r.MAX_NB_BITS))throw new ge(Be.format("Illegal value %s for layers",n));h=r.totalBitsInLayer(f,c),v=r.WORD_SIZE[f];var x=h-h%v;if(g=r.stuffBits(a,v),g.getSize()+o>x)throw new ge("Data to large for user specified layer");if(c&&g.getSize()>v*64)throw new ge("Data to large for user specified layer")}else{v=0,g=null;for(var m=0;;m++){if(m>r.MAX_NB_BITS)throw new ge("Data too large for an Aztec code");if(c=m<=3,f=c?m+1:m,h=r.totalBitsInLayer(f,c),!(l>h)){(g==null||v!==r.WORD_SIZE[f])&&(v=r.WORD_SIZE[f],g=r.stuffBits(a,v));var x=h-h%v;if(!(c&&g.getSize()>v*64)&&g.getSize()+o<=x)break}}}var w=r.generateCheckWords(g,h,v),S=g.getSize()/v,E=r.generateModeMessage(c,f,S),b=(c?11:14)+f*4,T=new Int32Array(b),O;if(c){O=b;for(var m=0;m<T.length;m++)T[m]=m}else{O=b+1+2*Oe.truncDivision(Oe.truncDivision(b,2)-1,15);for(var D=Oe.truncDivision(b,2),N=Oe.truncDivision(O,2),m=0;m<D;m++){var k=m+Oe.truncDivision(m,15);T[D-m-1]=N-k-1,T[D+m]=N+k+1}}for(var L=new Qr(O),m=0,Z=0;m<f;m++){for(var J=(f-m)*4+(c?9:12),Y=0;Y<J;Y++)for(var q=Y*2,ee=0;ee<2;ee++)w.get(Z+q+ee)&&L.set(T[m*2+ee],T[m*2+Y]),w.get(Z+J*2+q+ee)&&L.set(T[m*2+Y],T[b-1-m*2-ee]),w.get(Z+J*4+q+ee)&&L.set(T[b-1-m*2-ee],T[b-1-m*2-Y]),w.get(Z+J*6+q+ee)&&L.set(T[b-1-m*2-Y],T[m*2+ee]);Z+=J*8}if(r.drawModeMessage(L,c,O,E),c)r.drawBullsEye(L,Oe.truncDivision(O,2),5);else{r.drawBullsEye(L,Oe.truncDivision(O,2),7);for(var m=0,Y=0;m<Oe.truncDivision(b,2)-1;m+=15,Y+=16)for(var ee=Oe.truncDivision(O,2)&1;ee<O;ee+=2)L.set(Oe.truncDivision(O,2)-Y,ee),L.set(Oe.truncDivision(O,2)+Y,ee),L.set(ee,Oe.truncDivision(O,2)-Y),L.set(ee,Oe.truncDivision(O,2)+Y)}var ne=new fA;return ne.setCompact(c),ne.setSize(O),ne.setLayers(f),ne.setCodeWords(S),ne.setMatrix(L),ne},r.drawBullsEye=function(e,t,n){for(var a=0;a<n;a+=2)for(var o=t-a;o<=t+a;o++)e.set(o,t-a),e.set(o,t+a),e.set(t-a,o),e.set(t+a,o);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)},r.generateModeMessage=function(e,t,n){var a=new Ut;return e?(a.appendBits(t-1,2),a.appendBits(n-1,6),a=r.generateCheckWords(a,28,4)):(a.appendBits(t-1,5),a.appendBits(n-1,11),a=r.generateCheckWords(a,40,4)),a},r.drawModeMessage=function(e,t,n,a){var o=Oe.truncDivision(n,2);if(t)for(var l=0;l<7;l++){var c=o-3+l;a.get(l)&&e.set(c,o-5),a.get(l+7)&&e.set(o+5,c),a.get(20-l)&&e.set(c,o+5),a.get(27-l)&&e.set(o-5,c)}else for(var l=0;l<10;l++){var c=o-5+l+Oe.truncDivision(l,5);a.get(l)&&e.set(c,o-7),a.get(l+10)&&e.set(o+7,c),a.get(29-l)&&e.set(c,o+7),a.get(39-l)&&e.set(o-7,c)}},r.generateCheckWords=function(e,t,n){var a,o,l=e.getSize()/n,c=new Vg(r.getGF(n)),f=Oe.truncDivision(t,n),h=r.bitsToWords(e,n,f);c.encode(h,f-l);var v=t%n,g=new Ut;g.appendBits(0,v);try{for(var x=SA(Array.from(h)),m=x.next();!m.done;m=x.next()){var w=m.value;g.appendBits(w,n)}}catch(S){a={error:S}}finally{try{m&&!m.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}return g},r.bitsToWords=function(e,t,n){var a=new Int32Array(n),o,l;for(o=0,l=e.getSize()/t;o<l;o++){for(var c=0,f=0;f<t;f++)c|=e.get(o*t+f)?1<<t-f-1:0;a[o]=c}return a},r.getGF=function(e){switch(e){case 4:return fr.AZTEC_PARAM;case 6:return fr.AZTEC_DATA_6;case 8:return fr.AZTEC_DATA_8;case 10:return fr.AZTEC_DATA_10;case 12:return fr.AZTEC_DATA_12;default:throw new ge("Unsupported word size "+e)}},r.stuffBits=function(e,t){for(var n=new Ut,a=e.getSize(),o=(1<<t)-2,l=0;l<a;l+=t){for(var c=0,f=0;f<t;f++)(l+f>=a||e.get(l+f))&&(c|=1<<t-1-f);(c&o)===o?(n.appendBits(c&o,t),l--):(c&o)===0?(n.appendBits(c|1,t),l--):n.appendBits(c,t)}return n},r.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},r.DEFAULT_EC_PERCENT=33,r.DEFAULT_AZTEC_LAYERS=0,r.MAX_NB_BITS=32,r.MAX_NB_BITS_COMPACT=4,r.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),r})();var CA=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),TA=(function(r){CA(e,r);function e(t){var n=r.call(this,t.width,t.height)||this;return n.canvas=t,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(t),n}return e.makeBufferFromCanvasImageData=function(t){var n;try{n=t.getContext("2d",{willReadFrequently:!0})}catch{n=t.getContext("2d")}if(!n)throw new Error("Couldn't get canvas context.");var a=n.getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(a.data,t.width,t.height)},e.toGrayscaleBuffer=function(t,n,a){for(var o=new Uint8ClampedArray(n*a),l=0,c=0,f=t.length;l<f;l+=4,c++){var h=void 0,v=t[l+3];if(v===0)h=255;else{var g=t[l],x=t[l+1],m=t[l+2];h=306*g+601*x+117*m+512>>10}o[c]=h}return o},e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new ge("Requested row is outside the image: "+t);var a=this.getWidth(),o=t*a;return n===null?n=this.buffer.slice(o,o+a):(n.length<a&&(n=new Uint8ClampedArray(a)),n.set(this.buffer.slice(o,o+a))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,a,o){return r.prototype.crop.call(this,t,n,a,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new lu(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var n=this.getTempCanvasElement();if(!n)throw new Error("Could not create a Canvas element.");var a=t*e.DEGREE_TO_RADIANS,o=this.canvas.width,l=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*l),f=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*l);n.width=c,n.height=f;var h=n.getContext("2d");if(!h)throw new Error("Could not create a Canvas Context element.");return h.translate(c/2,f/2),h.rotate(a),h.drawImage(this.canvas,o/-2,l/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.DEGREE_TO_RADIANS=Math.PI/180,e})(xs);function $g(){return typeof navigator<"u"}function OA(){return $g()&&!!navigator.mediaDevices}function RA(){return!!(OA()&&navigator.mediaDevices.enumerateDevices)}var Vi=function(){return Vi=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},Vi.apply(this,arguments)},lt=function(r,e,t,n){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(v){try{h(n.next(v))}catch(g){l(g)}}function f(v){try{h(n.throw(v))}catch(g){l(g)}}function h(v){v.done?o(v.value):a(v.value).then(c,f)}h((n=n.apply(r,e||[])).next())})},ut=function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,a,o,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(h){return function(v){return f([h,v])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,a&&(o=h[0]&2?a.return:h[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,h[1])).done)return o;switch(a=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,a=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(r,t)}catch(v){h=[6,v],a=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Zf=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},DA={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},Wi=(function(){function r(e,t,n){t===void 0&&(t=new Map),n===void 0&&(n={}),this.reader=e,this.hints=t,this.options=Vi(Vi({},DA),n)}return Object.defineProperty(r.prototype,"possibleFormats",{set:function(e){this.hints.set(nt.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),r.addVideoSource=function(e,t){try{e.srcObject=t}catch{console.error("got interrupted by new loading request")}},r.mediaStreamSetTorch=function(e,t){return lt(this,void 0,void 0,function(){return ut(this,function(n){switch(n.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:t?"flash":"off",torch:!!t}]})];case 1:return n.sent(),[2]}})})},r.mediaStreamIsTorchCompatible=function(e){var t,n,a=e.getVideoTracks();try{for(var o=Zf(a),l=o.next();!l.done;l=o.next()){var c=l.value;if(r.mediaStreamIsTorchCompatibleTrack(c))return!0}}catch(f){t={error:f}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!1},r.mediaStreamIsTorchCompatibleTrack=function(e){try{var t=e.getCapabilities();return"torch"in t}catch(n){return console.error(n),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},r.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},r.getMediaElement=function(e,t){var n=document.getElementById(e);if(!n)throw new pt("element with id '".concat(e,"' not found"));if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new pt("element with id '".concat(e,"' must be an ").concat(t," element"));return n},r.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return r.getMediaElement(e,"video");if(!e&&typeof document<"u"){var t=document.createElement("video");return t.width=200,t.height=200,t}throw new Error("Couldn't get videoElement from videoSource!")},r.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return r.getMediaElement(e,"img");if(typeof e>"u"){var t=document.createElement("img");return t.width=200,t.height=200,t}throw new Error("Couldn't get imageElement from imageSource!")},r.prepareVideoElement=function(e){var t=r.createVideoElement(e);return t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},r.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},r.createBinaryBitmapFromCanvas=function(e){var t=new TA(e),n=new Ig(t);return new Dg(n)},r.drawImageOnCanvas=function(e,t){e.drawImage(t,0,0)},r.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},r.createCaptureCanvas=function(e){if(!e)throw new pt("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var t=document.createElement("canvas"),n=r.getMediaElementDimensions(e),a=n.width,o=n.height;return t.style.width=a+"px",t.style.height=o+"px",t.width=a,t.height=o,t},r.tryPlayVideo=function(e){return lt(this,void 0,void 0,function(){var t;return ut(this,function(n){switch(n.label){case 0:if(e?.ended)return console.error("Trying to play video that has ended."),[2,!1];if(r.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[2,!0];case 3:return t=n.sent(),console.warn("It was not possible to play the video.",t),[2,!1];case 4:return[2]}})})},r.createCanvasFromMediaElement=function(e){var t=r.createCaptureCanvas(e),n=t.getContext("2d");if(!n)throw new Error("Couldn't find Canvas 2D Context.");return r.drawImageOnCanvas(n,e),t},r.createBinaryBitmapFromMediaElem=function(e){var t=r.createCanvasFromMediaElement(e);return r.createBinaryBitmapFromCanvas(t)},r.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},r.listVideoInputDevices=function(){return lt(this,void 0,void 0,function(){var e,t,n,a,o,l,c,f,h,v,g,x;return ut(this,function(m){switch(m.label){case 0:if(!$g())throw new Error("Can't enumerate devices, navigator is not present.");if(!RA())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=m.sent(),t=[];try{for(n=Zf(e),a=n.next();!a.done;a=n.next())o=a.value,l=o.kind==="video"?"videoinput":o.kind,l==="videoinput"&&(c=o.deviceId||o.id,f=o.label||"Video device ".concat(t.length+1),h=o.groupId,v={deviceId:c,label:f,kind:l,groupId:h},t.push(v))}catch(w){g={error:w}}finally{try{a&&!a.done&&(x=n.return)&&x.call(n)}finally{if(g)throw g.error}}return[2,t]}})})},r.findDeviceById=function(e){return lt(this,void 0,void 0,function(){var t;return ut(this,function(n){switch(n.label){case 0:return[4,r.listVideoInputDevices()];case 1:return t=n.sent(),t?[2,t.find(function(a){return a.deviceId===e})]:[2]}})})},r.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},r.releaseAllStreams=function(){r.streamTracker.length!==0&&r.streamTracker.forEach(function(e){e.getTracks().forEach(function(t){return t.stop()})}),r.streamTracker=[]},r.playVideoOnLoadAsync=function(e,t){return lt(this,void 0,void 0,function(){var n;return ut(this,function(a){switch(a.label){case 0:return[4,r.tryPlayVideo(e)];case 1:return n=a.sent(),n?[2,!0]:[2,new Promise(function(o,l){var c=setTimeout(function(){r.isVideoPlaying(e)||(l(!1),e.removeEventListener("canplay",f))},t),f=function(){r.tryPlayVideo(e).then(function(h){clearTimeout(c),e.removeEventListener("canplay",f),o(h)})};e.addEventListener("canplay",f)})]}})})},r.attachStreamToVideo=function(e,t,n){return n===void 0&&(n=5e3),lt(this,void 0,void 0,function(){var a;return ut(this,function(o){switch(o.label){case 0:return a=r.prepareVideoElement(t),r.addVideoSource(a,e),[4,r.playVideoOnLoadAsync(a,n)];case 1:return o.sent(),[2,a]}})})},r._waitImageLoad=function(e){return new Promise(function(t,n){var a=1e4,o=setTimeout(function(){r.isImageLoaded(e)||(e.removeEventListener("load",l),n())},a),l=function(){clearTimeout(o),e.removeEventListener("load",l),t()};e.addEventListener("load",l)})},r.checkCallbackFnOrThrow=function(e){if(!e)throw new pt("`callbackFn` is a required parameter, you cannot capture results without it.")},r.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(t){return t.stop()}),e=void 0},r.prototype.decode=function(e){var t=r.createCanvasFromMediaElement(e);return this.decodeFromCanvas(t)},r.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},r.prototype.decodeFromCanvas=function(e){var t=r.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(t)},r.prototype.decodeFromImageElement=function(e){return lt(this,void 0,void 0,function(){var t;return ut(this,function(n){switch(n.label){case 0:if(!e)throw new pt("An image element must be provided.");return t=r.prepareImageElement(e),[4,this._decodeOnLoadImage(t)];case 1:return[2,n.sent()]}})})},r.prototype.decodeFromImageUrl=function(e){return lt(this,void 0,void 0,function(){var t;return ut(this,function(n){switch(n.label){case 0:if(!e)throw new pt("An URL must be provided.");t=r.prepareImageElement(),t.src=e,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.decodeFromImageElement(t)];case 2:return[2,n.sent()];case 3:return r.destroyImageElement(t),[7];case 4:return[2]}})})},r.prototype.decodeFromConstraints=function(e,t,n){return lt(this,void 0,void 0,function(){var a,o;return ut(this,function(l){switch(l.label){case 0:return r.checkCallbackFnOrThrow(n),[4,this.getUserMedia(e)];case 1:a=l.sent(),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this.decodeFromStream(a,t,n)];case 3:return[2,l.sent()];case 4:throw o=l.sent(),r.disposeMediaStream(a),o;case 5:return[2]}})})},r.prototype.decodeFromStream=function(e,t,n){return lt(this,void 0,void 0,function(){var a,o,l,c,f,h,v,g,x,m=this;return ut(this,function(w){switch(w.label){case 0:return r.checkCallbackFnOrThrow(n),a=this.options.tryPlayVideoTimeout,[4,r.attachStreamToVideo(e,t,a)];case 1:return o=w.sent(),l=function(){r.disposeMediaStream(e),r.cleanVideoSource(o)},c=this.scan(o,n,l),f=e.getVideoTracks(),h=Vi(Vi({},c),{stop:function(){c.stop()},streamVideoConstraintsApply:function(S,E){return lt(this,void 0,void 0,function(){var b,T,O,D,N,k,L;return ut(this,function(Z){switch(Z.label){case 0:b=E?f.filter(E):f,Z.label=1;case 1:Z.trys.push([1,6,7,8]),T=Zf(b),O=T.next(),Z.label=2;case 2:return O.done?[3,5]:(D=O.value,[4,D.applyConstraints(S)]);case 3:Z.sent(),Z.label=4;case 4:return O=T.next(),[3,2];case 5:return[3,8];case 6:return N=Z.sent(),k={error:N},[3,8];case 7:try{O&&!O.done&&(L=T.return)&&L.call(T)}finally{if(k)throw k.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(S){return f.find(S).getConstraints()},streamVideoSettingsGet:function(S){return f.find(S).getSettings()},streamVideoCapabilitiesGet:function(S){return f.find(S).getCapabilities()}}),v=r.mediaStreamIsTorchCompatible(e),v&&(g=f?.find(function(S){return r.mediaStreamIsTorchCompatibleTrack(S)}),x=function(S){return lt(m,void 0,void 0,function(){return ut(this,function(E){switch(E.label){case 0:return[4,r.mediaStreamSetTorch(g,S)];case 1:return E.sent(),[2]}})})},h.switchTorch=x,h.stop=function(){return lt(m,void 0,void 0,function(){return ut(this,function(S){switch(S.label){case 0:return c.stop(),[4,x(!1)];case 1:return S.sent(),[2]}})})}),[2,h]}})})},r.prototype.decodeFromVideoDevice=function(e,t,n){return lt(this,void 0,void 0,function(){var a,o;return ut(this,function(l){switch(l.label){case 0:return r.checkCallbackFnOrThrow(n),e?a={deviceId:{exact:e}}:a={facingMode:"environment"},o={video:a},[4,this.decodeFromConstraints(o,t,n)];case 1:return[2,l.sent()]}})})},r.prototype.decodeFromVideoElement=function(e,t){return lt(this,void 0,void 0,function(){var n,a;return ut(this,function(o){switch(o.label){case 0:if(r.checkCallbackFnOrThrow(t),!e)throw new pt("A video element must be provided.");return n=r.prepareVideoElement(e),a=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(n,a)];case 1:return o.sent(),[2,this.scan(n,t)]}})})},r.prototype.decodeFromVideoUrl=function(e,t){return lt(this,void 0,void 0,function(){var n,a,o,l;return ut(this,function(c){switch(c.label){case 0:if(r.checkCallbackFnOrThrow(t),!e)throw new pt("An URL must be provided.");return n=r.prepareVideoElement(),n.src=e,a=function(){r.cleanVideoSource(n)},o=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(n,o)];case 1:return c.sent(),l=this.scan(n,t,a),[2,l]}})})},r.prototype.decodeOnceFromConstraints=function(e,t){return lt(this,void 0,void 0,function(){var n;return ut(this,function(a){switch(a.label){case 0:return[4,this.getUserMedia(e)];case 1:return n=a.sent(),[4,this.decodeOnceFromStream(n,t)];case 2:return[2,a.sent()]}})})},r.prototype.decodeOnceFromStream=function(e,t){return lt(this,void 0,void 0,function(){var n,a,o;return ut(this,function(l){switch(l.label){case 0:return n=!!t,[4,r.attachStreamToVideo(e,t)];case 1:a=l.sent(),l.label=2;case 2:return l.trys.push([2,,4,5]),[4,this.scanOneResult(a)];case 3:return o=l.sent(),[2,o];case 4:return n||r.cleanVideoSource(a),[7];case 5:return[2]}})})},r.prototype.decodeOnceFromVideoDevice=function(e,t){return lt(this,void 0,void 0,function(){var n,a;return ut(this,function(o){switch(o.label){case 0:return e?n={deviceId:{exact:e}}:n={facingMode:"environment"},a={video:n},[4,this.decodeOnceFromConstraints(a,t)];case 1:return[2,o.sent()]}})})},r.prototype.decodeOnceFromVideoElement=function(e){return lt(this,void 0,void 0,function(){var t,n;return ut(this,function(a){switch(a.label){case 0:if(!e)throw new pt("A video element must be provided.");return t=r.prepareVideoElement(e),n=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(t,n)];case 1:return a.sent(),[4,this.scanOneResult(t)];case 2:return[2,a.sent()]}})})},r.prototype.decodeOnceFromVideoUrl=function(e){return lt(this,void 0,void 0,function(){var t,n;return ut(this,function(a){switch(a.label){case 0:if(!e)throw new pt("An URL must be provided.");t=r.prepareVideoElement(),t.src=e,n=this.decodeOnceFromVideoElement(t),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,n];case 2:return[2,a.sent()];case 3:return r.cleanVideoSource(t),[7];case 4:return[2]}})})},r.prototype.scanOneResult=function(e,t,n,a){var o=this;return t===void 0&&(t=!0),n===void 0&&(n=!0),a===void 0&&(a=!0),new Promise(function(l,c){o.scan(e,function(f,h,v){if(f){l(f),v.stop();return}if(h){if(h instanceof W&&t||h instanceof mt&&n||h instanceof se&&a)return;v.stop(),c(h)}})})},r.prototype.scan=function(e,t,n){var a=this;r.checkCallbackFnOrThrow(t);var o=r.createCaptureCanvas(e),l;try{l=o.getContext("2d",{willReadFrequently:!0})}catch{l=o.getContext("2d")}if(!l)throw new Error("Couldn't create canvas for visual element scan.");var c=function(){l=void 0,o=void 0},f=!1,h,v=function(){f=!0,clearTimeout(h),c(),n&&n()},g={stop:v},x=function(){if(!f)try{r.drawImageOnCanvas(l,e);var m=a.decodeFromCanvas(o);t(m,void 0,g),h=setTimeout(x,a.options.delayBetweenScanSuccess)}catch(b){t(void 0,b,g);var w=b instanceof mt,S=b instanceof se,E=b instanceof W;if(w||S||E){h=setTimeout(x,a.options.delayBetweenScanAttempts);return}c(),n&&n(b)}};return x(),g},r.prototype._decodeOnLoadImage=function(e){return lt(this,void 0,void 0,function(){var t;return ut(this,function(n){switch(n.label){case 0:return t=r.isImageLoaded(e),t?[3,2]:[4,r._waitImageLoad(e)];case 1:n.sent(),n.label=2;case 2:return[2,this.decode(e)]}})})},r.prototype.getUserMedia=function(e){return lt(this,void 0,void 0,function(){var t;return ut(this,function(n){switch(n.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return t=n.sent(),r.streamTracker.push(t),[2,t]}})})},r.streamTracker=[],r})(),IA=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){IA(e,r);function e(t,n){return r.call(this,new Ql,t,n)||this}return e})(Wi);var NA=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){NA(e,r);function e(t,n){return r.call(this,new zi(t),t,n)||this}return e})(Wi);var MA=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){MA(e,r);function e(t,n){return r.call(this,new eu,t,n)||this}return e})(Wi);var BA=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){BA(e,r);function e(t,n){var a=this,o=new Hg;return o.setHints(t),a=r.call(this,o,t,n)||this,a.reader=o,a}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(t){this.hints.set(nt.POSSIBLE_FORMATS,t),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e.prototype.setHints=function(t){this.hints=t,this.reader.setHints(this.hints)},e})(Wi);var kA=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})();(function(r){kA(e,r);function e(t,n){return r.call(this,new ru,t,n)||this}return e})(Wi);var PA=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),LA=(function(r){PA(e,r);function e(t,n){return r.call(this,new tu,t,n)||this}return e})(Wi);const jA={BASE_URL:"/IARE-Canteen-Web/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_BASE:"/IARE-Canteen-Web/",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpucWhvb2hqdWd5Ymxnd2Vwb3ZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ0OTk0OTAsImV4cCI6MjA3MDA3NTQ5MH0.dEWUpJtDbzLKRv9UtxpJLEmSMT6M_QChI3eu8EjO3dY",VITE_SUPABASE_URL:"https://znqhoohjugyblgwepovp.supabase.co"},Je=r=>String(r||"").toUpperCase();function UA(){return _.jsx(FA,{children:_.jsx(zA,{})})}class FA extends cx.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Unhandled error in App:",e,t)}render(){return this.state.hasError?_.jsxs("div",{style:{padding:24},children:[_.jsx("h2",{children:"Application error"}),_.jsx("pre",{style:{whiteSpace:"pre-wrap",color:"crimson"},children:String(this.state.error)})]}):this.props.children}}function zA(){const r=ia();iu();const[e,t]=U.useState("checking"),a={"/":"Dashboard","/place-order":"Place Order","/orders":"Orders","/inventory":"Inventory Management","/scan":"Scan QR","/reports":"Reports","/ai":"AI Predictions","/settings":"Settings"}[r.pathname]||"Dashboard",[o,l]=U.useState("live"),[c,f]=U.useState(!1),[h,v]=U.useState([]),[g,x]=U.useState([]),[m,w]=U.useState([]),[S,E]=U.useState([]),[b,T]=U.useState({}),O=async(N,k)=>{const L=[...g];x(Z=>Z.map(J=>J.id===N?{...J,status:k}:J)),T(Z=>({...Z,[N]:!0}));try{const{data:Z,error:J}=await ze.rpc("update_order_status_flexible",{p_order_id:N,p_new_status:String(k).toLowerCase()});if(J)throw J;const Y=L.find(ne=>ne.id===N)||g.find(ne=>ne.id===N);if(!Y)return;const q=Y.status,ee=new Date().toLocaleString();if(k==="READY"){x(ne=>ne.map(oe=>oe.id===N?{...oe,status:"READY"}:oe)),v(ne=>{const oe=ne.filter(le=>!(le.orderId===N&&le.to==="PREPARING"));return[{orderId:N,itemName:Y.item_name,from:q,to:"READY",ts:Date.now()},...oe]}),E(ne=>[{orderId:N,itemName:Y.item_name,from:q,to:"READY",at:ee,ts:Date.now(),prevLoc:"live",nextLoc:"live"},...ne.filter(oe=>!(oe.orderId===N&&oe.to==="PREPARING"))]);return}if(k==="DELIVERED"){x(ne=>ne.filter(oe=>oe.id!==N)),w(ne=>[{...Y,status:"DELIVERED",deliveredAt:Date.now()},...ne]),v(ne=>{const oe=ne.filter(le=>!(le.orderId===N&&le.to==="PREPARING"));return[{orderId:N,itemName:Y.item_name,from:q,to:"DELIVERED",ts:Date.now()},...oe]}),E(ne=>[{orderId:N,itemName:Y.item_name,from:q,to:"DELIVERED",at:ee,ts:Date.now(),prevLoc:"live",nextLoc:"delivered"},...ne.filter(oe=>!(oe.orderId===N&&oe.to==="PREPARING"))]);return}x(ne=>ne.map(oe=>oe.id===N?{...oe,status:k}:oe)),v(ne=>[{orderId:N,itemName:Y.item_name,from:q,to:k,ts:Date.now()},...ne]),E(ne=>[{orderId:N,itemName:Y.item_name,from:q,to:k,at:ee,ts:Date.now(),prevLoc:"live",nextLoc:"live"},...ne])}catch(Z){console.error("Failed to update order status:",Z);try{x(L)}catch{}alert("Failed to update order status: "+(Z.message||Z))}finally{T(Z=>{const J={...Z};return delete J[N],J})}};U.useEffect(()=>{const N=async()=>{try{const J="https://znqhoohjugyblgwepovp.supabase.co",Y="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpucWhvb2hqdWd5Ymxnd2Vwb3ZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ0OTk0OTAsImV4cCI6MjA3MDA3NTQ5MH0.dEWUpJtDbzLKRv9UtxpJLEmSMT6M_QChI3eu8EjO3dY";t("connecting");const q=1e3;let ee=0,ne=[];for(;;){const I=ee+q-1,{data:z,error:K}=await ze.from("orders").select("*").order("created_at",{ascending:!1}).range(ee,I);if(K)throw K;const ue=z||[];if(console.log("Fetched batch:",ue.length,"orders"),ne=ne.concat(ue),ue.length<q)break;ee+=q}try{const I=Array.from(new Set((ne||[]).map(z=>z.item_id||z.itemId||z.item).filter(Boolean)));if(I.length>0){let z=Object.create(null);try{const{data:K,error:ue}=await ze.from("order_items").select("*").in("id",I);if(ue)throw ue;for(const $ of K||[]){const ae=$.id||$.item_id||$.code||$.slug,ie=$.price??$.cost??$.rate??$.amount;ae&&typeof ie=="number"&&(z[ae]=ie)}const B=I.filter($=>z[$]==null);if(B.length>0){const{data:$}=await ze.from("order_items").select("*").in("item_id",B);for(const ae of $||[]){const ie=ae.item_id||ae.id||ae.code||ae.slug,fe=ae.price??ae.cost??ae.rate??ae.amount;ie&&typeof fe=="number"&&(z[ie]=fe)}}}catch{const{data:ue,error:B}=await ze.from("food_items").select("*").in("id",I);if(!B)for(const $ of ue||[]){const ae=$.id||$.item_id||$.code||$.slug,ie=$.price??$.cost??$.rate??$.amount;ae&&typeof ie=="number"&&(z[ae]=ie)}}ne=ne.map(K=>{const ue=K.item_id||K.itemId||K.item,B=z[ue];return B!=null&&(K.total_amount==null||Number.isNaN(K.total_amount))?{...K,total_amount:B}:K})}}catch(I){console.warn("Price merge skipped:",I?.message||I)}const oe=(ne||[]).filter(I=>Je(I.status)!=="DELIVERED"),le=(ne||[]).filter(I=>Je(I.status)==="DELIVERED");console.log("Total orders fetched:",ne.length),console.log("Live orders:",oe.length),console.log("Past orders:",le.length),console.log("Sample order:",ne[0]),x(oe),w(le),t("connected")}catch(J){console.error("Supabase orders fetch failed:",J),t("error"),J.message?.includes("JWT")?console.error("Authentication error - check your Supabase anon key"):J.message?.includes('relation "orders" does not exist')&&console.error("Orders table does not exist - run the SQL script in Supabase")}};N();let k=setInterval(N,1e3),L=!1;const Z=ze.channel("public:orders").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders"},async J=>{L||(L=!0,k&&(clearInterval(k),k=null));let Y=J.new;try{if(Y&&(Y.total==null||Number.isNaN(Y.total))){const q=Y.item_id||Y.itemId||Y.item;if(q){let ee=null;try{const{data:ne,error:oe}=await ze.from("order_items").select("*").or(`id.eq.${q},item_id.eq.${q}`);if(!oe){const le=(ne||[])[0];ee=le?le.price??le.cost??le.rate??le.amount??null:null}}catch{}if(ee==null)try{const{data:ne,error:oe}=await ze.from("food_items").select("*").or(`id.eq.${q},item_id.eq.${q}`);if(!oe){const le=(ne||[])[0];ee=le?le.price??le.cost??le.rate??le.amount??null:null}}catch{}typeof ee=="number"&&(Y={...Y,total_amount:ee})}}}catch{}x(q=>[Y,...q])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders"},async J=>{L||(L=!0,k&&(clearInterval(k),k=null));let Y=J.new;try{x(q=>{const ee=q.find(le=>le.id===J.new.id),ne=ee&&(ee.order_token||ee.token_no);let oe={...J.new};return ne&&(oe.token_no=ne,oe.order_token=ne),Je(oe.status)==="DELIVERED"?q.filter(le=>le.id!==oe.id):q.map(le=>le.id===oe.id?oe:le)}),Je(J.new.status)==="DELIVERED"&&w(q=>[{...Y,deliveredAt:Date.now()},...q.filter(ee=>ee.id!==Y.id)]);return}catch{Je(Y.status)==="DELIVERED"?(x(ee=>ee.filter(ne=>ne.id!==Y.id)),w(ee=>[{...Y,deliveredAt:Date.now()},...ee.filter(ne=>ne.id!==Y.id)])):x(ee=>ee.map(ne=>ne.id===Y.id?Y:ne))}}).subscribe();return()=>{k&&clearInterval(k);try{Z.unsubscribe()}catch{}}},[]);const D=async N=>{if(!N)return;const{orderId:k,from:L,to:Z,prevLoc:J,nextLoc:Y}=N;if(J==="live"&&Y==="delivered"){const q=m.find(ee=>ee.id===k);if(!q)return;w(ee=>ee.filter(ne=>ne.id!==k)),x(ee=>[{...q,status:L},...ee]),v(ee=>[{orderId:k,itemName:q.item_name,from:Z,to:L,ts:Date.now()},...ee]);try{await ze.rpc("update_order_status_flexible",{p_order_id:k,p_new_status:String(L).toLowerCase()})}catch{}}else if(J==="live"&&Y==="live"){x(q=>q.map(ee=>ee.id===k?{...ee,status:L}:ee));try{const ee=g.find(ne=>ne.id===k)?.item_name||"Order Item";v(ne=>[{orderId:k,itemName:ee,from:Z,to:L,ts:Date.now()},...ne])}catch{}try{await ze.rpc("update_order_status_flexible",{p_order_id:k,p_new_status:String(L).toLowerCase()})}catch{}}E(q=>q.filter(ee=>ee!==N))};return U.useEffect(()=>{const N=setInterval(()=>{v(k=>k.filter(L=>Date.now()-L.ts<25e3)),E(k=>k.filter(L=>L.ts?Date.now()-L.ts<25e3:!0))},1e3);return()=>clearInterval(N)},[]),U.useEffect(()=>{window.__IARE_ORDERS__=g,window.__IARE_DELIVERED__=m},[g,m]),_.jsxs("div",{className:"app",children:[_.jsxs("aside",{className:"sidebar",children:[_.jsx("h2",{className:"brand",children:"IARE Canteen"}),_.jsxs("nav",{className:"nav",children:[_.jsx(xn,{to:"/",end:!0,children:"Home"}),_.jsx(xn,{to:"/place-order",children:"Place Order"}),_.jsx(xn,{to:"/orders",children:"Orders"}),_.jsx(xn,{to:"/inventory",children:"Inventory Management"}),_.jsx(xn,{to:"/scan",children:"Scan QR"}),_.jsx(xn,{to:"/reports",children:"Reports"}),_.jsx(xn,{to:"/ai",children:"AI Predictions"}),_.jsx(xn,{to:"/settings",children:"Settings"})]})]}),_.jsxs("main",{className:"main",children:[_.jsxs("header",{className:"topbar",children:[_.jsx("div",{style:{display:"flex",alignItems:"center",gap:12},children:_.jsx("h1",{style:{margin:0},children:a})}),r.pathname==="/orders"&&_.jsxs("div",{className:"actions",style:{justifyContent:"center"},children:[_.jsx("button",{className:"btn",onClick:()=>l("activity"),disabled:o==="activity",children:"⏱ Recent"}),_.jsx("button",{className:"btn",onClick:()=>l("live"),disabled:o==="live",children:"🔴 Live"}),_.jsx("button",{className:"btn",onClick:()=>l("past"),disabled:o==="past",children:"📜 Past"}),o==="live"&&_.jsx("button",{className:"btn",onClick:()=>f(N=>!N),children:c?"📃 List Mode":"🖼 Picture Mode"})]}),r.pathname!=="/orders"&&r.pathname!=="/place-order"&&_.jsx("input",{className:"search",placeholder:"Search"})]}),_.jsxs(sm,{children:[_.jsx(yn,{path:"/",element:_.jsx(HA,{recent:h,orders:g,onUpdateStatus:O,updatingIds:b})}),_.jsx(yn,{path:"/place-order",element:_.jsx(VA,{})}),_.jsx(yn,{path:"/orders",element:_.jsx(GA,{orders:g,deliveredOrders:m,activity:S,onUpdateStatus:O,onRevert:D,view:o,pictureMode:c,updatingIds:b})}),_.jsx(yn,{path:"/inventory",element:_.jsx(XA,{})}),_.jsx(yn,{path:"/scan",element:_.jsx(ZA,{})}),_.jsx(yn,{path:"/reports",element:_.jsx(qA,{})}),_.jsx(yn,{path:"/ai",element:_.jsx($A,{})}),_.jsx(yn,{path:"/settings",element:_.jsx(YA,{})})]})]})]})}function $e({title:r,children:e}){return _.jsxs("section",{className:"card",children:[r?_.jsx("h2",{children:r}):null,e]})}function HA({orders:r,recent:e=[],onUpdateStatus:t,updatingIds:n={}}){const a=iu(),o=[...r].sort((x,m)=>(m.createdAt??0)-(x.createdAt??0)).slice(0,2),l=window.__IARE_DELIVERED__||[],c=r.length+l.length,f=r.filter(x=>Je(x.status)!=="READY").length,h=l.length,[v,g]=U.useState([]);return U.useEffect(()=>{(async()=>{try{let w=0,S=[];for(;;){const b=w+1e3-1,{data:T,error:O}=await ze.from("food_items").select("*").range(w,b);if(O)throw O;const D=T||[];if(S=S.concat(D),D.length<1e3)break;w+=1e3}const E=S.map(b=>{const T=b.name??b.item_name??b.title??b.label??"Item",O=(typeof b.available_quantity=="number"?b.available_quantity>0:void 0)??b.in_stock??b.available??b.is_available??(typeof b.stock=="number"?b.stock>0:void 0)??(typeof b.status=="string"?String(b.status).toLowerCase()==="in":void 0)??!0;return{name:T,inStock:!!O}});g(E.filter(b=>!b.inStock))}catch{g([])}})()},[]),_.jsxs("div",{style:{display:"grid",gap:16},children:[_.jsxs("div",{className:"grid-2",children:[_.jsx($e,{title:"Orders Today",children:_.jsxs("div",{className:"stats",children:[_.jsxs("div",{children:[_.jsx("div",{className:"stat-value",children:c}),_.jsx("div",{className:"stat-label",children:"Total"})]}),_.jsxs("div",{children:[_.jsx("div",{className:"stat-value",children:f}),_.jsx("div",{className:"stat-label",children:"Pending"})]}),_.jsxs("div",{children:[_.jsx("div",{className:"stat-value",children:h}),_.jsx("div",{className:"stat-label",children:"Completed"})]})]})}),_.jsx($e,{title:"Quick Actions",children:_.jsx("div",{className:"actions",children:_.jsx("button",{className:"btn",onClick:()=>a("/orders"),children:"View All Orders"})})})]}),_.jsxs("div",{className:"grid-2",children:[_.jsx($e,{title:"Shortage",children:v.length===0?_.jsx("div",{className:"muted",children:"No shortages."}):_.jsxs("table",{className:"table",children:[_.jsx("thead",{children:_.jsx("tr",{children:_.jsx("th",{children:"Item"})})}),_.jsx("tbody",{children:v.slice(0,5).map((x,m)=>_.jsx("tr",{children:_.jsx("td",{children:_.jsx("strong",{children:x.name})})},m))})]})}),_.jsx($e,{title:"Recent Updates (<=25s)",children:_.jsxs("table",{className:"table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Item Name"}),_.jsx("th",{children:"From → To"}),_.jsx("th",{children:"When"})]})}),_.jsx("tbody",{children:e.map((x,m)=>_.jsxs("tr",{children:[_.jsx("td",{children:_.jsx("strong",{children:x.itemName||"Order Item"})}),_.jsxs("td",{children:[x.from," → ",x.to]}),_.jsxs("td",{children:[Math.max(0,25-Math.floor((Date.now()-x.ts)/1e3)),"s left"]})]},m))})]})})]}),_.jsx(Yg,{orders:o,onUpdateStatus:t,updatingIds:n})]})}function VA(){const[r,e]=U.useState(null),[t,n]=U.useState(null),[a,o]=U.useState([]),[l,c]=U.useState([]),[f,h]=U.useState(!1),[v,g]=U.useState("");U.useEffect(()=>{(async()=>{try{let b=0,T=[];for(;;){const D=b+1e3-1,{data:N,error:k}=await ze.from("food_items").select("*").range(b,D);if(k)throw k;const L=N||[];if(T=T.concat(L),L.length<1e3)break;b+=1e3}const O=T.map(D=>({id:D.id??D.item_id??D.slug??String(Math.random()).slice(2),name:D.name??D.item_name??"Item",price:D.price??D.cost??0,image:D.image_url??D.image??D.photo??"https://via.placeholder.com/300?text=Food",description:D.description??""}));O.length===0?(console.log("No food items found in database, using fallback items"),o([{id:"fallback_1",name:"Veg Biryani",price:180,image:"https://as1.ftcdn.net/v2/jpg/04/59/27/88/1000_F_459278894_92eSlejnR7NSwJRCbVyy9ZZibSmjbF8q.jpg",description:"Delicious vegetarian biryani"},{id:"fallback_2",name:"Masala Dosa",price:80,image:"https://as2.ftcdn.net/v2/jpg/14/45/94/59/1000_F_1445945944_eBUM7ot1AWezNkqknKsRImNvLvFbmr7z.jpg",description:"Crispy dosa with potato filling"},{id:"fallback_3",name:"Samosa",price:40,image:"https://as2.ftcdn.net/v2/jpg/15/85/73/65/1000_F_1585736532_NFMq8z0vAjbker6w9vuzoF8FmsxVRGPI.jpg",description:"Spicy potato and pea samosa"}])):o(O)}catch(E){console.error("Failed to load food_items:",E),o([{id:"fallback_1",name:"Veg Biryani",price:180,image:"https://as1.ftcdn.net/v2/jpg/04/59/27/88/1000_F_459278894_92eSlejnR7NSwJRCbVyy9ZZibSmjbF8q.jpg",description:"Delicious vegetarian biryani"},{id:"fallback_2",name:"Masala Dosa",price:80,image:"https://as2.ftcdn.net/v2/jpg/14/45/94/59/1000_F_1445945944_eBUM7ot1AWezNkqknKsRImNvLvFbmr7z.jpg",description:"Crispy dosa with potato filling"},{id:"fallback_3",name:"Samosa",price:40,image:"https://as2.ftcdn.net/v2/jpg/15/85/73/65/1000_F_1585736532_NFMq8z0vAjbker6w9vuzoF8FmsxVRGPI.jpg",description:"Spicy potato and pea samosa"}])}})()},[]);const x=async()=>{h(!0);try{let E=0,b=[];for(;;){const T=E+1e3-1,{data:O,error:D}=await ze.from("orders").select("id, item_name, status, order_placer, created_at, order_token").eq("order_placer","admin").order("created_at",{ascending:!1}).range(E,T);if(D)throw D;const N=O||[];if(b=b.concat(N),N.length<1e3)break;E+=1e3}c(b)}catch(S){console.error("Failed to fetch Counter tokens:",S)}finally{h(!1)}};U.useEffect(()=>{x()},[]);const m=async S=>{try{console.log("🔄 Using fallback method - direct insert to orders table");const E=crypto.randomUUID();console.log("🆔 Generated order ID:",E),console.log("📝 Inserting order data:",{id:E,item_name:S.name,total_amount:S.price,status:"PENDING",order_placer:"admin"});const{data:b,error:T}=await ze.from("orders").insert({id:E,item_name:S.name,total_amount:S.price,status:"PENDING",order_placer:"admin",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();if(console.log("📝 Insert response:",{data:b,error:T}),T)throw console.error("Failed to insert order:",T),T;console.log("Order created successfully (fallback):",b);const O=b.order_token||"Generated by Backend";n(O),alert(`Order placed successfully!

Token No: #${O}
Item: ${S.name}
Amount: ₹${S.price}`),x()}catch(E){throw console.error("Failed to place order (fallback):",E),E}},w=async S=>{if(!r){e(S.id);try{console.log("🚀 Attempting to place order for:",S.name,"Price:",S.price),console.log("📡 Calling backend function: create_simple_order");const{data:E,error:b}=await ze.rpc("create_simple_order",{p_item_name:S.name,p_total_amount:S.price,p_status:"PENDING",p_order_placer:"admin"});if(console.log("📡 Backend response:",{data:E,error:b}),b){console.error("❌ Failed to create order with unified function:",b),console.log("🔄 Falling back to direct insert method"),await m(S);return}if(console.log("✅ Order created successfully with token:",E),E){const T=E;n(T),alert(`Order placed successfully!

Token No: #${T}
Item: ${S.name}
Amount: ₹${S.price}`)}else n("Generated by Backend"),alert("Order placed successfully! Token generated by backend.");x()}catch(E){console.error("Failed to place order:",E),alert("Failed to place order: "+(E.message||E))}finally{e(null)}}};return _.jsxs("div",{style:{display:"grid",gap:16},children:[_.jsxs($e,{title:"Menu - Place Order (Cash Payment)",children:[_.jsx("div",{className:"form",style:{marginBottom:8},children:_.jsx("div",{className:"field",style:{minWidth:320},children:_.jsx("input",{className:"input",style:{width:"320px"},placeholder:"Search menu items...",value:v,onChange:S=>g(S.target.value)})})}),_.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:20,padding:"16px 0"},children:a.filter(S=>{const E=v.trim().toLowerCase();return E?String(S.name||"").toLowerCase().includes(E):!0}).map(S=>_.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"12px",overflow:"hidden",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",transition:"transform 0.2s, box-shadow 0.2s",cursor:"pointer"},onMouseEnter:E=>{E.currentTarget.style.transform="translateY(-2px)",E.currentTarget.style.boxShadow="0 4px 8px rgba(0,0,0,0.15)"},onMouseLeave:E=>{E.currentTarget.style.transform="translateY(0)",E.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.1)"},children:[_.jsx("div",{style:{height:"200px",backgroundImage:`url(${S.image})`,backgroundSize:"cover",backgroundPosition:"center",position:"relative"},children:_.jsxs("div",{style:{position:"absolute",top:"12px",right:"12px",backgroundColor:"#10b981",color:"white",padding:"6px 12px",borderRadius:"20px",fontSize:"14px",fontWeight:"600"},children:["₹",S.price]})}),_.jsxs("div",{style:{padding:"16px"},children:[_.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"18px",fontWeight:"600",color:"#1f2937"},children:S.name}),_.jsx("p",{style:{margin:"0 0 16px 0",fontSize:"14px",color:"#6b7280",lineHeight:"1.4"},children:S.description}),_.jsx("button",{className:"btn",onClick:()=>w(S),disabled:r===S.id,style:{width:"100%",backgroundColor:"#10b981",color:"white",padding:"12px",fontSize:"16px",fontWeight:"600",border:"none",borderRadius:"8px",cursor:r===S.id?"not-allowed":"pointer",transition:"background-color 0.2s",opacity:r===S.id?.7:1},onMouseEnter:E=>{r!==S.id&&(E.target.style.backgroundColor="#059669")},onMouseLeave:E=>{r!==S.id&&(E.target.style.backgroundColor="#10b981")},children:r===S.id?"Placing Order...":"💰 Place Order"})]})]},S.id))}),t&&_.jsxs("div",{style:{marginTop:"20px",padding:"20px",backgroundColor:"#10b981",borderRadius:"12px",color:"white",textAlign:"center",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[_.jsx("div",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"8px"},children:"🎉 Order Placed Successfully!"}),_.jsxs("div",{style:{fontSize:"24px",fontWeight:"bold",fontFamily:"monospace",marginBottom:"8px"},children:["Token No: #",t]}),_.jsx("div",{style:{fontSize:"14px",opacity:.9},children:"Please note this token number for order tracking"})]}),_.jsxs("div",{style:{marginTop:"20px",padding:"16px",backgroundColor:"#f3f4f6",borderRadius:"8px",fontSize:"14px",color:"#374151",textAlign:"center"},children:[_.jsx("strong",{children:"Instructions:"})," Click on any menu item to place an order for cash payment. Each order will be created with a unique token number and automatically appear in the Orders panel."]})]}),_.jsx($e,{title:"Counter Tokens (Placed by Counter)",children:f?_.jsx("div",{className:"muted",children:"Loading..."}):l.length===0?_.jsx("div",{className:"muted",children:"No Counter orders yet."}):_.jsxs("table",{className:"table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Token"}),_.jsx("th",{children:"Item"}),_.jsx("th",{children:"Status"}),_.jsx("th",{children:"Time"})]})}),_.jsx("tbody",{children:l.slice(0,10).map(S=>_.jsxs("tr",{children:[_.jsx("td",{children:_.jsx("span",{style:{fontFamily:"monospace",fontWeight:"bold",color:"#10b981",fontSize:"16px",backgroundColor:"#f0fdf4",padding:"4px 8px",borderRadius:"4px",border:"1px solid #bbf7d0"},children:S.token_no||S.order_token?"#"+(S.token_no||S.order_token):"N/A"})}),_.jsx("td",{children:S.item_name}),_.jsxs("td",{children:[Je(S.status)==="PENDING"&&_.jsx("span",{className:"badge pending",children:"PENDING"}),Je(S.status)==="PREPARING"&&_.jsx("span",{className:"badge preparing",children:"PREPARING"}),Je(S.status)==="READY"&&_.jsx("span",{className:"badge ready",children:"READY"}),Je(S.status)==="DELIVERED"&&_.jsx("span",{className:"badge ready",children:"DELIVERED"})]}),_.jsx("td",{children:S.created_at?new Date(S.created_at).toLocaleTimeString():"-"})]},S.id))})]})}),t&&_.jsx($e,{title:"Your Token",children:_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[_.jsxs("div",{style:{fontFamily:"monospace",fontWeight:"bold",color:"#666",fontSize:"1.1em"},children:["#",t]}),_.jsx("div",{className:"muted",children:"Please share this token at the counter."})]})})]})}function Yg({withTitle:r=!0,orders:e=[],onUpdateStatus:t=()=>{},idHeader:n="Order ID",updatingIds:a={}}){return _.jsx($e,{title:r?"Orders":void 0,children:_.jsxs("table",{className:"table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:n}),_.jsx("th",{children:"Item Name"}),_.jsx("th",{children:"Price"}),_.jsx("th",{children:"Status"}),_.jsx("th",{children:"Placed By"}),_.jsx("th",{children:"Actions"})]})}),_.jsx("tbody",{children:e.map(o=>_.jsxs("tr",{children:[_.jsx("td",{children:_.jsx("span",{style:{fontFamily:"monospace",fontWeight:"bold",color:"#666"},children:o.token_no||o.order_token?"#"+(o.token_no||o.order_token):"Not available"})}),_.jsx("td",{children:_.jsx("strong",{children:o.item_name})}),_.jsx("td",{children:o.total_amount!=null?`₹${o.total_amount}`:"-"}),_.jsxs("td",{children:[Je(o.status)==="PENDING"&&_.jsx("span",{className:"badge pending",children:"PENDING"}),Je(o.status)==="PREPARING"&&_.jsx("span",{className:"badge preparing",children:"PREPARING"}),Je(o.status)==="READY"&&_.jsx("span",{className:"badge ready",children:"READY"})]}),_.jsx("td",{children:o.order_placer==="admin"?_.jsx("span",{style:{backgroundColor:"#3b82f6",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"500"},children:"🧑‍💻 Counter"}):_.jsx("span",{style:{backgroundColor:"#6b7280",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"500"},children:"🧑‍🎓 Student"})}),_.jsx("td",{className:"actions",children:a[o.id]?_.jsxs("button",{className:"btn",disabled:!0,children:[_.jsx("span",{className:"spinner",style:{marginRight:6}}),"Updating..."]}):_.jsxs(_.Fragment,{children:[Je(o.status)==="PENDING"&&_.jsx("button",{className:"btn",onClick:()=>t(o.id,"PREPARING"),children:"Mark Preparing"}),Je(o.status)==="PREPARING"&&_.jsx("button",{className:"btn",onClick:()=>t(o.id,"READY"),children:"Mark Ready"}),Je(o.status)==="READY"&&_.jsx("button",{className:"btn",onClick:()=>t(o.id,"DELIVERED"),children:"Mark Delivered"})]})})]},o.id))})]})})}function GA({orders:r,deliveredOrders:e=[],activity:t=[],onUpdateStatus:n,onRevert:a,view:o="live",pictureMode:l=!1,updatingIds:c={}}){const f=o==="live",[h,v]=U.useState([]);U.useEffect(()=>{(async()=>{try{let S=0,E=[];for(;;){const b=S+1e3-1,{data:T,error:O}=await ze.from("food_items").select("*").range(S,b);if(O)throw O;const D=T||[];if(E=E.concat(D),D.length<1e3)break;S+=1e3}v(E)}catch(w){console.error("Failed to fetch food_items for orders:",w),v([])}})()},[]);const g=m=>{try{const w=r.find(E=>E.id===m)||e.find(E=>E.id===m),S=w&&(w.token_no||w.order_token);return S?"#"+S:"Not available"}catch{return"Not available"}},x=m=>{const w=(m.item_name||"").toLowerCase(),S=h.find(E=>{const b=(E.name||E.item_name||"").toLowerCase();return b===w||b.includes(w)||w.includes(b)});return S&&S.image_url?S.image_url:w.includes("samosa")?"https://as2.ftcdn.net/v2/jpg/15/85/73/65/1000_F_1585736532_NFMq8z0vAjbker6w9vuzoF8FmsxVRGPI.jpg":w.includes("biryani")?"https://as1.ftcdn.net/v2/jpg/04/59/27/88/1000_F_459278894_92eSlejnR7NSwJRCbVyy9ZZibSmjbF8q.jpg":w.includes("dosa")?"https://as2.ftcdn.net/v2/jpg/14/45/94/59/1000_F_1445945944_eBUM7ot1AWezNkqknKsRImNvLvFbmr7z.jpg":"https://via.placeholder.com/300?text=Food"};return _.jsxs("div",{style:{display:"grid",gap:16},children:[o==="activity"?_.jsx($e,{title:void 0,children:_.jsxs("table",{className:"table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Item Name"}),_.jsx("th",{children:"Token No"}),_.jsx("th",{children:"From → To"}),_.jsx("th",{children:"At"}),_.jsx("th",{children:"Actions"})]})}),_.jsx("tbody",{children:t.slice(0,20).map((m,w)=>_.jsxs("tr",{children:[_.jsx("td",{children:_.jsx("strong",{children:m.itemName||"Order Item"})}),_.jsx("td",{children:g(m.orderId)}),_.jsxs("td",{children:[m.from," → ",m.to]}),_.jsx("td",{children:m.at}),_.jsx("td",{children:_.jsx("button",{className:"btn",onClick:()=>a(m),children:"Revert"})})]},w))})]})}):f?l?_.jsx($e,{title:void 0,children:_.jsx("div",{className:"cards-grid",children:r.map(m=>_.jsxs("div",{className:"order-card",children:[_.jsx("div",{className:"avatar",children:_.jsx("img",{src:x(m),alt:m.item_name||"Order Item",loading:"lazy",style:{objectFit:"cover",width:"100%",height:"100%",transition:"opacity 0.2s ease-in-out",backgroundColor:"#f3f4f6"},onLoad:w=>{w.currentTarget.style.opacity="1"},onError:w=>{const S=w.currentTarget;S.src!=="https://via.placeholder.com/300?text=Food"&&(S.style.opacity="0.5",setTimeout(()=>{S.src="https://via.placeholder.com/300?text=Food",S.style.opacity="1"},100))}})}),_.jsx("div",{style:{fontFamily:"monospace",fontWeight:"bold",color:"#666",fontSize:"0.9em",marginBottom:4},children:m.token_no||m.order_token?"#"+(m.token_no||m.order_token):"Not available"}),_.jsx("div",{style:{fontWeight:600,fontSize:"1.1em"},children:m.item_name}),_.jsx("div",{style:{marginBottom:8},children:m.order_placer==="admin"?_.jsx("span",{style:{backgroundColor:"#3b82f6",color:"white",padding:"2px 6px",borderRadius:"4px",fontSize:"10px",fontWeight:"500"},children:"🧑‍💻 Counter"}):_.jsx("span",{style:{backgroundColor:"#6b7280",color:"white",padding:"2px 6px",borderRadius:"4px",fontSize:"10px",fontWeight:"500"},children:"🧑‍🎓 Student"})}),_.jsxs("div",{style:{marginBottom:12},children:[Je(m.status)==="PENDING"&&_.jsx("span",{className:"badge pending",children:"PENDING"}),Je(m.status)==="PREPARING"&&_.jsx("span",{className:"badge preparing",children:"PREPARING"}),Je(m.status)==="READY"&&_.jsx("span",{className:"badge ready",children:"READY"}),Je(m.status)==="DELIVERED"&&_.jsx("span",{className:"badge ready",children:"DELIVERED"})]}),_.jsx("div",{className:"actions",style:{justifyContent:"center"},children:c&&c[m.id]?_.jsxs("button",{className:"btn",disabled:!0,children:[_.jsx("span",{className:"spinner",style:{marginRight:6}}),"Updating..."]}):_.jsxs(_.Fragment,{children:[Je(m.status)==="PENDING"&&_.jsx("button",{className:"btn",onClick:()=>n(m.id,"PREPARING"),children:"Mark Preparing"}),Je(m.status)==="PREPARING"&&_.jsxs(_.Fragment,{children:[_.jsx("button",{className:"btn",onClick:()=>n(m.id,"READY"),children:"Mark Ready"}),_.jsx("button",{className:"btn",onClick:()=>n(m.id,"DELIVERED"),children:"Mark Delivered"})]}),Je(m.status)==="READY"&&_.jsx("button",{className:"btn",onClick:()=>n(m.id,"DELIVERED"),children:"Mark Delivered"})]})})]},m.id))})}):_.jsx(Yg,{withTitle:!1,idHeader:"Token No",orders:r,onUpdateStatus:n,updatingIds:c}):_.jsx($e,{title:void 0,children:_.jsxs("table",{className:"table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Token No"}),_.jsx("th",{children:"Item Name"}),_.jsx("th",{children:"Price"}),_.jsx("th",{children:"Status"})]})}),_.jsx("tbody",{children:e.map(m=>_.jsxs("tr",{children:[_.jsx("td",{children:_.jsx("span",{style:{fontFamily:"monospace",fontWeight:"bold",color:"#666"},children:m.token_no||m.order_token?"#"+(m.token_no||m.order_token):"Not available"})}),_.jsx("td",{children:_.jsx("strong",{children:m.item_name})}),_.jsx("td",{children:m.total_amount!=null?`₹${m.total_amount}`:"-"}),_.jsx("td",{children:_.jsx("span",{className:"badge ready",children:"DELIVERED"})})]},m.id))})]})}),null]})}function XA(){iu();const[r,e]=U.useState([]),[t,n]=U.useState({id:"",name:""}),[a,o]=U.useState(""),[l,c]=U.useState("all"),[f,h]=U.useState("id"),[v,g]=U.useState("available_quantity");U.useEffect(()=>{(async()=>{try{let O=0,D=[];for(;;){const q=O+1e3-1,{data:ee,error:ne}=await ze.from("food_items").select("*").range(O,q);if(ne)throw ne;const oe=ee||[];if(D=D.concat(oe),oe.length<1e3)break;O+=1e3}const N=D[0]||{},k=["id","item_id","slug","code"],L=["available_quantity","in_stock","available","is_available","stock","status"],Z=k.find(q=>Object.prototype.hasOwnProperty.call(N,q))||"id",J=L.find(q=>Object.prototype.hasOwnProperty.call(N,q))||"in_stock";h(Z),g(J);const Y=D.map(q=>{const ee=q[Z]??String(Math.random()).slice(2),ne=q.name??q.item_name??q.title??q.label??"Item",oe=q.price??q.cost??0,le=q.available_quantity??q.quantity??q.stock??0,I=(typeof le=="number"?le>0:void 0)??q.in_stock??q.available??q.is_available??(typeof q.stock=="number"?q.stock>0:void 0)??(typeof q.status=="string"?String(q.status).toLowerCase()==="in":void 0)??!0;return{id:ee,name:ne,price:oe,availableQuantity:le,inStock:!!I,originalData:q}});e(Y)}catch(T){console.error("Failed to fetch food_items from Supabase:",T)}})()},[]);const x=()=>{if(!t.name)return;const b="local-"+Math.random().toString(36).slice(2,10);e(T=>[...T,{id:b,name:t.name,inStock:!0,_local:!0}]),n({id:"",name:""})},m=async(b,T)=>{const O=r;e(D=>D.map(N=>N.id===b?{...N,inStock:T}:N));try{const D=r.find(L=>L.id===b);if(D&&D._local)return;let N={};v==="stock"?N[v]=T?1:0:v==="status"?N[v]=T?"in":"out":v==="available_quantity"?N[v]=T?1:0:N[v]=!!T;const{error:k}=await ze.from("food_items").update(N).eq(f,b);if(k)throw k}catch(D){console.error("Failed to update stock in Supabase:",D),e(O),alert("Failed to update in backend. Please try again.")}},w=async(b,T)=>{const O=r;e(D=>D.map(N=>N.id===b?{...N,availableQuantity:T,inStock:T>0}:N));try{const D=r.find(k=>k.id===b);if(D&&D._local)return;const{error:N}=await ze.from("food_items").update({available_quantity:T}).eq(f,b);if(N)throw N}catch(D){console.error("Failed to update quantity in Supabase:",D),e(O),alert("Failed to update quantity in backend. Please try again.")}},S=b=>{e(T=>T.filter(O=>O.id!==b))},E=r.filter(b=>{const T=a.trim().toLowerCase(),O=T?String(b.name||"").toLowerCase().includes(T):!0,D=l==="all"||(l==="in"?b.inStock:!b.inStock);return O&&D}).sort((b,T)=>(b.availableQuantity||0)-(T.availableQuantity||0));return _.jsxs("div",{style:{display:"grid",gap:16},children:[_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"12px",marginBottom:"16px"},children:[_.jsxs("div",{style:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"12px",textAlign:"center"},children:[_.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#1e293b"},children:r.length}),_.jsx("div",{style:{fontSize:"12px",color:"#64748b"},children:"Total"})]}),_.jsxs("div",{style:{backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"8px",padding:"12px",textAlign:"center"},children:[_.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#166534"},children:r.filter(b=>b.inStock).length}),_.jsx("div",{style:{fontSize:"12px",color:"#16a34a"},children:"In Stock"})]}),_.jsxs("div",{style:{backgroundColor:"#fefce8",border:"1px solid #fde047",borderRadius:"8px",padding:"12px",textAlign:"center"},children:[_.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#a16207"},children:r.filter(b=>b.inStock&&b.availableQuantity<=20&&b.availableQuantity>5).length}),_.jsx("div",{style:{fontSize:"12px",color:"#ca8a04"},children:"Low Stock"})]}),_.jsxs("div",{style:{backgroundColor:"#fef2f2",border:"1px solid #fca5a5",borderRadius:"8px",padding:"12px",textAlign:"center"},children:[_.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#991b1b"},children:r.filter(b=>b.inStock&&b.availableQuantity<=5&&b.availableQuantity>0).length}),_.jsx("div",{style:{fontSize:"12px",color:"#dc2626"},children:"Very Low"})]}),_.jsxs("div",{style:{backgroundColor:"#f1f5f9",border:"1px solid #cbd5e1",borderRadius:"8px",padding:"12px",textAlign:"center"},children:[_.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#475569"},children:r.filter(b=>!b.inStock).length}),_.jsx("div",{style:{fontSize:"12px",color:"#64748b"},children:"Out of Stock"})]})]}),_.jsx($e,{title:"Search Items",children:_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto 1fr",gap:"16px",alignItems:"start"},children:[_.jsx("div",{children:_.jsxs("div",{className:"form",style:{display:"flex",alignItems:"end",gap:"16px",flexWrap:"wrap"},children:[_.jsx("div",{className:"field",style:{minWidth:280},children:_.jsx("input",{className:"input",style:{width:"100%"},placeholder:"Search food items...",value:a,onChange:b=>o(b.target.value)})}),_.jsxs("div",{className:"actions",children:[_.jsx("button",{className:`btn ${l==="all"?"active":""}`,onClick:()=>c("all"),children:"All"}),_.jsx("button",{className:`btn ${l==="in"?"active":""}`,onClick:()=>c("in"),children:"In Stock"}),_.jsx("button",{className:`btn ${l==="out"?"active":""}`,onClick:()=>c("out"),children:"Out of Stock"})]})]})}),_.jsx("div",{style:{borderLeft:"2px dotted #d1d5db",height:"80px",margin:"0 8px"}}),_.jsxs("div",{children:[_.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#374151",marginBottom:"12px",marginTop:"0px"},children:"Add Item"}),_.jsxs("div",{className:"form",style:{display:"flex",alignItems:"end",gap:"12px"},children:[_.jsx("div",{className:"field",style:{minWidth:200},children:_.jsx("input",{className:"input",placeholder:"Item name...",value:t.name,onChange:b=>n({...t,name:b.target.value})})}),_.jsx("button",{className:"btn",onClick:x,children:"Add Item"})]})]})]})}),_.jsx($e,{children:_.jsxs("table",{className:"table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Item Name"}),_.jsx("th",{children:"Price"}),_.jsx("th",{children:"Available Quantity"}),_.jsx("th",{children:"Stock Status"}),_.jsx("th",{children:"Actions"})]})}),_.jsx("tbody",{children:E.map(b=>_.jsxs("tr",{children:[_.jsx("td",{children:_.jsx("strong",{children:b.name})}),_.jsxs("td",{children:["₹",b.price]}),_.jsx("td",{children:_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[_.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:b.availableQuantity>20?"#10b981":b.availableQuantity>5?"#f59e0b":b.availableQuantity>0?"#ef4444":"#6b7280"},children:b.availableQuantity}),_.jsx("input",{type:"number",className:"input",style:{width:80,fontSize:"12px"},value:b.availableQuantity,onChange:T=>w(b.id,Number(T.target.value)),min:"0"})]})}),_.jsx("td",{children:_.jsx("span",{style:{padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"500",backgroundColor:b.availableQuantity>20?"#dcfce7":b.availableQuantity>5?"#fef3c7":b.availableQuantity>0?"#fee2e2":"#f3f4f6",color:b.availableQuantity>20?"#166534":b.availableQuantity>5?"#92400e":b.availableQuantity>0?"#991b1b":"#6b7280"},children:b.availableQuantity>20?"🟢 In Stock":b.availableQuantity>5?"🟡 Low Stock":b.availableQuantity>0?"🟠 Very Low":"🔴 Out of Stock"})}),_.jsxs("td",{className:"actions",children:[_.jsx("button",{className:"btn",onClick:()=>w(b.id,b.availableQuantity+10),style:{fontSize:"12px",padding:"4px 8px",marginRight:"4px"},children:"+10"}),_.jsx("button",{className:"btn",onClick:()=>w(b.id,Math.max(0,b.availableQuantity-10)),style:{fontSize:"12px",padding:"4px 8px",backgroundColor:"#ef4444",marginRight:"4px"},children:"-10"}),b.inStock?_.jsx("button",{className:"btn",onClick:()=>m(b.id,!1),children:"Mark Out"}):_.jsx("button",{className:"btn",onClick:()=>m(b.id,!0),children:"Mark In"}),_.jsx("button",{className:"btn",onClick:()=>S(b.id),children:"Remove"})]})]},b.id))})]})})]})}function qA(){const[r,e]=U.useState(()=>new Date(Date.now()-864e5).toISOString().slice(0,10)),[t,n]=U.useState(()=>new Date().toISOString().slice(0,10)),[a,o]=U.useState({}),[l,c]=U.useState([]);U.useEffect(()=>{(async()=>{try{if(window.__IARE_DELIVERED__&&window.__IARE_DELIVERED__.length>0)c(window.__IARE_DELIVERED__),console.log("📊 Reports: Using window.__IARE_DELIVERED__ data");else{console.log("📊 Reports: Fetching delivered orders from Supabase...");const{data:b,error:T}=await ze.from("orders").select("*").eq("status","DELIVERED").order("created_at",{ascending:!1});if(T)throw T;c(b||[]),console.log("📊 Reports: Fetched",b?.length||0,"delivered orders from Supabase")}}catch(b){console.error("❌ Reports: Failed to fetch delivered orders:",b),c([])}})()},[]),l.length>0&&(console.log("📊 Reports: Sample delivered order data:",l[0]),console.log("📊 Reports: Available fields in delivered orders:",Object.keys(l[0]||{})));const f=E=>{const b=new Date(E);return isNaN(b)?null:b.getTime()};U.useEffect(()=>{(async()=>{try{let T=0,O=[];for(;;){const N=T+1e3-1,{data:k,error:L}=await ze.from("food_items").select("*").range(T,N);if(L)throw L;const Z=k||[];if(O=O.concat(Z),Z.length<1e3)break;T+=1e3}const D={};for(const N of O){const k=N.name??N.item_name;k&&(N.id&&(D[N.id]=k),N.item_id&&(D[N.item_id]=k),N.code&&(D[N.code]=k),N.slug&&(D[N.slug]=k))}o(D)}catch{}})()},[]);const h=l.map(E=>{const b=E.createdAt??E.created_at??E.receivedAt??E.received_at,T=E.deliveredAt??E.delivered_at??E.updated_at??E.created_at??E.createdAt,O=E.token_no??E.order_token??E.token??E.token_number??E.id??null;l.indexOf(E)<3&&console.log("🔍 Reports: Token extraction for order:",{id:E.id,token_no:E.token_no,order_token:E.order_token,token:E.token,token_number:E.token_number,extracted_token:O});const D=E.item_name??a[E.item_id]??a[E.itemId]??a[E.item]??E.items??"Item",N=E.total_amount||E.price||0;return{id:E.id,item:D,qty:1,total:N,total_amount:N,price:N,status:E.status,receivedTs:f(b),deliveredTs:f(T),token:O}}),v=E=>{if(!E)return"";const b=new Date(E);return isNaN(b)?"":b.toISOString().slice(0,10)},g=h.filter(E=>{if(!E.deliveredTs)return!1;const b=v(E.deliveredTs);return b&&b>=r&&b<=t}),x=[...g].sort((E,b)=>b.deliveredTs-E.deliveredTs).slice(0,5),m=g.reduce((E,b)=>{E.orders+=1;const T=b.total_amount||b.total||b.price||0;return E.revenue+=Number(T)||0,E.items+=1,E[b.status]=(E[b.status]||0)+1,E},{orders:0,revenue:0,items:0,PENDING:0,PREPARING:0,READY:0}),w=()=>{const E=["Order Token","Item","Total","Received At","Delivered At"],b=J=>'"'+String(J).replace(/"/g,'""')+'"',T=J=>{if(!J)return"";const Y=new Date(J);return isNaN(Y)?"":Y.toISOString().replace(/\.\d{3}Z$/,"")},O=g.map(J=>[b(J.token?"#"+J.token:""),b(J.item),b(J.total_amount||J.total||J.price||0),b(T(J.receivedTs)),b(T(J.deliveredTs))].join(",")),D=["",b("Total Revenue"),b(m.revenue)].join(","),N=[E.join(","),...O,"",D].join(`
`),k=new Blob([N],{type:"text/csv;charset=utf-8;"}),L=URL.createObjectURL(k),Z=document.createElement("a");Z.href=L,Z.download=`reports_${r}_to_${t}.csv`,Z.click(),URL.revokeObjectURL(L)},S=()=>{const E=L=>String(L).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),b=L=>{if(!L)return"";const Z=new Date(L);return isNaN(Z)?"":Z.toISOString().replace(/\.\d{3}Z$/,"")},O=`<!DOCTYPE html><html><head><meta charset="utf-8" />
      <style>
        table{border-collapse:collapse}
        td,th{border:1px solid #ccc;padding:6px}
        .text{mso-number-format:'\\@';}
        col.id{width:120px} col.item{width:260px} col.total{width:90px}
        col.recv{width:180px} col.delv{width:180px}
      </style></head><body>
      <table>
        <colgroup>
          <col class="id"/>
          <col class="item"/>
          <col class="total"/>
          <col class="recv"/>
          <col class="delv"/>
        </colgroup>
        <thead><tr>
          <th>Order ID</th><th>Item</th><th>Total</th><th>Received At</th><th>Delivered At</th>
        </tr></thead>
        <tbody>${g.map(L=>`
      <tr>
        <td>${E(L.token?"#"+L.token:"")}</td>
        <td>${E(L.item)}</td>
        <td>${E(L.total_amount||L.total||L.price||0)}</td>
        <td class="text">${E(b(L.receivedTs))}</td>
        <td class="text">${E(b(L.deliveredTs))}</td>
      </tr>`).join("")}</tbody>
        <tfoot><tr><td></td><td>Total Revenue</td><td class="text">${m.revenue}</td><td></td><td></td></tr></tfoot>
      </table></body></html>`,D=new Blob(["\uFEFF",O],{type:"application/vnd.ms-excel"}),N=URL.createObjectURL(D),k=document.createElement("a");k.href=N,k.download=`reports_${r}_to_${t}.xls`,k.click(),URL.revokeObjectURL(N)};return _.jsxs("div",{style:{display:"grid",gap:16},children:[_.jsxs("div",{className:"grid-2",children:[_.jsx($e,{title:void 0,children:_.jsxs("div",{className:"filters",children:[_.jsxs("div",{className:"field",style:{minWidth:220},children:[_.jsx("label",{className:"label",children:"From"}),_.jsx("input",{type:"date",className:"input",value:r,onChange:E=>e(E.target.value)})]}),_.jsxs("div",{className:"field",style:{minWidth:220},children:[_.jsx("label",{className:"label",children:"To"}),_.jsx("input",{type:"date",className:"input",value:t,onChange:E=>n(E.target.value)})]}),_.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:8},children:[_.jsx("button",{className:"btn",onClick:w,children:"Export CSV"}),_.jsx("button",{className:"btn",onClick:S,children:"Export Excel"})]})]})}),_.jsx($e,{title:"Status Breakdown",children:_.jsxs("div",{className:"badges",children:[_.jsxs("span",{className:"badge pending",children:["PENDING: ",m.PENDING]}),_.jsxs("span",{className:"badge preparing",children:["PREPARING: ",m.PREPARING]}),_.jsxs("span",{className:"badge ready",children:["READY: ",m.READY]})]})})]}),_.jsxs("div",{className:"grid-3",children:[_.jsxs($e,{title:"Total Orders",children:[_.jsx("div",{className:"stat-value",children:m.orders}),_.jsx("div",{className:"stat-label",children:"Received"})]}),_.jsxs($e,{title:"Revenue",children:[_.jsxs("div",{className:"stat-value",children:["₹",m.revenue]}),_.jsx("div",{className:"stat-label",children:"Total"})]}),_.jsx($e,{title:"Delivered Items",children:_.jsx("div",{className:"stat-value",children:m.items})})]}),_.jsx($e,{title:"Orders (latest 5 delivered)",children:_.jsxs("table",{className:"table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Order Token"}),_.jsx("th",{children:"Item"}),_.jsx("th",{children:"Total"}),_.jsx("th",{children:"Received"}),_.jsx("th",{children:"Delivered"})]})}),_.jsx("tbody",{children:x.map(E=>_.jsxs("tr",{children:[_.jsx("td",{children:E.token?"#"+E.token:""}),_.jsx("td",{children:E.item}),_.jsxs("td",{children:["₹",E.total_amount||E.total||E.price||0]}),_.jsx("td",{children:new Date(E.receivedTs).toLocaleString()}),_.jsx("td",{children:new Date(E.deliveredTs).toLocaleString()})]},E.id))})]})})]})}function $A(){const[r,e]=U.useState([]),[t,n]=U.useState([]),[a,o]=U.useState(null),[l,c]=U.useState(null),[f,h]=U.useState(!1),[v,g]=U.useState(!0),[x,m]=U.useState(new Date),[w,S]=U.useState("english"),[E,b]=U.useState("tomorrow"),[T,O]=U.useState(new Date),D=async()=>{h(!0);try{console.log("🤖 AI Predictions: Fetching orders data...");const I=new Date;I.setDate(I.getDate()-30);const{data:z,error:K}=await ze.from("orders").select("*").gte("created_at",I.toISOString()).order("created_at",{ascending:!1});if(K)throw K;const{data:ue,error:B}=await ze.from("food_items").select("*");if(B)throw B;e(z||[]),n(ue||[]),c(new Date),console.log("🤖 AI Predictions: Fetched",z?.length||0,"orders and",ue?.length||0,"food items"),ee(z||[],ue||[])}catch(I){console.error("❌ AI Predictions: Failed to fetch data:",I),alert("Failed to fetch data for predictions: "+I.message)}finally{h(!1)}},N=["చైత్రం","వైశాఖం","జ్యేష్ఠం","ఆషాఢం","శ్రావణం","భాద్రపదం","ఆశ్వీజం","కార్తీకం","మార్గశిరం","పుష్యం","మాఘం","ఫాల్గుణం"],k=["ఆదివారం","సోమవారం","మంగళవారం","బుధవారం","గురువారం","శుక్రవారం","శనివారం"],L={seasonal:{summer:{"Curd Rice":1.4,Rasam:1.3,Pulihora:1.2,Biryani:.8},monsoon:{Haleem:1.6,Sambar:1.2,Rasam:1.3,Dosa:1.1},winter:{Biryani:1.3,Kebabs:1.2,Pongal:1.4,Haleem:1.2}}},Z=I=>{const z=I.getMonth()+1;return z>=3&&z<=5?"summer":z>=6&&z<=9?"monsoon":"winter"},J=I=>{const z=I.getFullYear()-78,K=N[I.getMonth()],ue=k[I.getDay()];return{year:z,month:K,day:ue,date:I.getDate()}},Y={"2025-03-30":{name:"Ugadi",reduction:.7,duration:1},"2026-03-20":{name:"Ugadi",reduction:.7,duration:1},"2025-04-06":{name:"Sri Rama Navami",reduction:.8,duration:1},"2025-05-22":{name:"Hanuman Jayanti",reduction:.8,duration:1},"2025-05-15":{name:"Saraswati Pushkaralu",reduction:.6,duration:12},"2025-08-08":{name:"Varalakshmi Vratam",reduction:.7,duration:1},"2025-08-16":{name:"Krishna Janmashtami",reduction:.8,duration:1},"2025-08-27":{name:"Ganesh Chaturthi",reduction:.6,duration:9},"2025-09-21":{name:"Indira Ekadashi",reduction:.8,duration:1},"2025-09-22":{name:"Navaratri / Dasara",reduction:.6,duration:11},"2025-10-20":{name:"Deepavali",reduction:.7,duration:1}},q=I=>{const z=I.toISOString().split("T")[0];if(Y[z])return Y[z];for(const[K,ue]of Object.entries(Y)){const B=new Date(K),$=new Date(B);if($.setDate($.getDate()+ue.duration),I>=B&&I<=$)return ue}return null},ee=(I,z)=>{console.log("🤖 AI Predictions: Generating predictions...");const K=new Date,ue=new Date(K.getFullYear(),K.getMonth(),K.getDate()),B=new Date(ue);B.setDate(B.getDate()-1);const $=new Date(ue);$.setDate($.getDate()-7);const ae=new Date(ue);ae.setDate(ae.getDate()-30);const ie=I.filter(we=>new Date(we.created_at)>=ue),fe=I.filter(we=>{const ye=new Date(we.created_at);return ye>=B&&ye<ue}),Ae=I.filter(we=>new Date(we.created_at)>=$),ve=I.filter(we=>new Date(we.created_at)>=ae),_t=ie.length,Ne=fe.length,Kt=Ae.length/7,en=ve.length/30,gt={};I.forEach(we=>{const ye=we.item_name;gt[ye]||(gt[ye]={totalOrders:0,totalRevenue:0,avgPrice:0,lastOrdered:null}),gt[ye].totalOrders++,gt[ye].totalRevenue+=we.total_amount||we.price||0,gt[ye].avgPrice=gt[ye].totalRevenue/gt[ye].totalOrders;const Jt=new Date(we.created_at);(!gt[ye].lastOrdered||Jt>gt[ye].lastOrdered)&&(gt[ye].lastOrdered=Jt)});const An=Object.entries(gt).sort(([,we],[,ye])=>ye.totalOrders-we.totalOrders).slice(0,10),Sn={};I.forEach(we=>{const ye=new Date(we.created_at).getHours();Sn[ye]||(Sn[ye]=0),Sn[ye]++});const sa=Object.entries(Sn).sort(([,we],[,ye])=>ye-we).slice(0,3).map(([we])=>`${we}:00`),Zi=Z(ue),fu=J(ue),_r=q(ue),Fa=new Date(ue);Fa.setDate(Fa.getDate()+1);const la=q(Fa);Z(Fa);const ua=new Date(ue);ua.setDate(ua.getDate()+2),q(ua),Z(ua);const wr=[];for(let we=1;we<=7;we++){const ye=new Date(ue);ye.setDate(ue.getDate()+we);const Jt=q(ye),Cn=Z(ye),Es=ye.getDay()===0||ye.getDay()===6;let Tn=Kt;Es&&(ye.getDay()===0?Tn=0:Tn*=.75),Jt&&(Tn*=1-Jt.reduction+.3);const Ji=L.seasonal[Cn]||{},eo=Object.values(Ji).reduce((fa,vu)=>fa+vu,0)/Math.max(Object.keys(Ji).length,1);Tn*=eo||1,wr.push({date:ye,day:k[ye.getDay()],predicted:Math.round(Tn),festival:Jt,season:Cn,isWeekend:Es,isHoliday:ye.getDay()===0})}const _s=wr[0].predicted,Ki=wr[1].predicted,ws=Math.round(wr.reduce((we,ye)=>we+ye.predicted,0)/7),Br=[];z.forEach(we=>{const ye=we.available_quantity||we.stock||0,Jt=gt[we.name]?.totalOrders||0;ye<=5&&Jt>0?Br.push({type:"low_stock",priority:"high",message:`${we.name} is running low (${ye} left) but is popular (${Jt} orders)`,action:"Restock immediately"}):ye<=10&&Jt>5&&Br.push({type:"low_stock",priority:"medium",message:`${we.name} has ${ye} units left and moderate demand`,action:"Consider restocking soon"})}),An.length>0&&Br.push({type:"popular_item",priority:"medium",message:`${An[0][0]} is your most popular item (${An[0][1].totalOrders} orders)`,action:"Ensure adequate stock"}),sa.length>0&&Br.push({type:"peak_hours",priority:"low",message:`Peak ordering hours: ${sa.join(", ")}`,action:"Prepare extra staff during these hours"}),la&&Br.push({type:"festival_nonveg_reduction",priority:"high",message:`Tomorrow is ${la.name} - Non-veg consumption will be ${Math.round(la.reduction*100)}% lower`,action:`Reduce non-veg items by ${Math.round(la.reduction*100)}%. Focus on vegetarian options like Dosa, Idli, Sambar, Curd Rice`});const ca=L.seasonal[Zi]||{},wt=Object.entries(ca).sort(([,we],[,ye])=>ye-we)[0];wt&&wt[1]>1.2&&Br.push({type:"seasonal_boost",priority:"medium",message:`Current season (${Zi}) favors ${wt[0]} - demand is ${Math.round(wt[1]*100)}% higher`,action:`Increase ${wt[0]} preparation for seasonal demand`});const Gr=wr.find(we=>we.isHoliday),Qt=wr.find(we=>we.isWeekend&&!we.isHoliday);Gr&&Br.push({type:"holiday_planning",priority:"medium",message:"Sunday is college holiday - no orders expected (0 orders)",action:"College closed on Sunday. Focus on maintenance and preparation for Monday"}),Qt&&Br.push({type:"saturday_pattern",priority:"medium",message:"Saturday shows 25% lower demand due to Telangana college non-veg consumption patterns",action:"Reduce non-veg items by 20-30%. Focus on vegetarian options and lighter meals"});const Qi=I.reduce((we,ye)=>we+(ye.total_amount||ye.price||0),0)/I.length,du=_s*Qi,hu=Ki*Qi,za=ws*7*Qi;o({summary:{todayOrders:_t,yesterdayOrders:Ne,weekAverage:Math.round(Kt),monthAverage:Math.round(en),predictedTomorrow:_s,predictedDayAfter:Ki,weeklyAverage:ws,predictedRevenue:Math.round(du),predictedRevenueDayAfter:Math.round(hu),predictedWeeklyRevenue:Math.round(za),totalItems:z.length,totalOrders:I.length},popularItems:An.slice(0,5),peakHours:sa,recommendations:Br,itemStats:gt,weeklyPredictions:wr,teluguDate:fu,currentSeason:Zi,festival:_r,lastUpdated:new Date}),console.log("🤖 AI Predictions: Generated predictions successfully")};U.useEffect(()=>{if(v){D();const I=setInterval(()=>{console.log("🤖 AI Predictions: Auto-refreshing data..."),D()},3600*1e3);return()=>clearInterval(I)}},[v]);const ne=I=>{const z=new Date(T);I==="prev"?z.setMonth(z.getMonth()-1):z.setMonth(z.getMonth()+1),O(z)},oe=(I,z,K)=>{new Date(K.getFullYear(),K.getMonth(),1);const B=new Date(K.getFullYear(),K.getMonth()+1,0).getDate(),$=[];for(let ae=1;ae<=B;ae++){const ie=new Date(K.getFullYear(),K.getMonth(),ae),fe=q(ie),Ae=ie.getDay()===0||ie.getDay()===6,ve=ie.getDay()===0;let Ne=I.length>0?I.length/30:10;Ae&&(ve?Ne=0:Ne*=.75),fe&&(Ne*=1-fe.reduction+.3),$.push({date:ie,day:k[ie.getDay()],predicted:Math.round(Ne),festival:fe,season:Z(ie),isWeekend:Ae,isHoliday:ve})}return $},le=async()=>{console.log("🔄 Manual refresh triggered - fetching fresh data from backend"),h(!0);try{const{data:I,error:z}=await ze.from("orders").select("*").gte("created_at",new Date(Date.now()-2592e6).toISOString()).order("created_at",{ascending:!1});if(z){console.error("❌ Error fetching fresh orders:",z),alert("Failed to fetch fresh orders data");return}const{data:K,error:ue}=await ze.from("food_items").select("*").order("name",{ascending:!0});if(ue){console.error("❌ Error fetching fresh food items:",ue),alert("Failed to fetch fresh food items data");return}console.log("✅ Fresh data fetched successfully:",{orders:I?.length||0,items:K?.length||0}),e(I||[]),n(K||[]),ee(I||[],K||[]),c(new Date),console.log("🎉 AI Predictions panel refreshed with fresh backend data")}catch(I){console.error("❌ Error during manual refresh:",I),alert("Failed to refresh data from backend")}finally{h(!1)}};return _.jsxs("div",{style:{display:"grid",gap:16},children:[_.jsx($e,{children:_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"16px"},children:[_.jsxs("div",{children:[_.jsx("h2",{style:{margin:0},children:"🤖 AI Predictions & Analytics - Hyderabad"}),_.jsx("p",{style:{margin:"8px 0 0 0",color:"#666",fontSize:"14px"},children:l?`Last updated: ${l.toLocaleString()}`:"No data loaded yet"}),a&&_.jsxs("div",{style:{margin:"8px 0 0 0",fontSize:"14px",color:"#059669"},children:["📅 ",a.teluguDate.day,", ",a.teluguDate.month," ",a.teluguDate.year,a.festival&&` • 🎉 ${a.festival}`,a.currentSeason&&` • 🌤️ ${a.currentSeason} season`]})]}),_.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",flexWrap:"wrap"},children:[_.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[_.jsx("label",{style:{fontSize:"14px"},children:"Language:"}),_.jsxs("select",{value:w,onChange:I=>S(I.target.value),style:{padding:"4px 8px",borderRadius:"4px",border:"1px solid #ccc"},children:[_.jsx("option",{value:"english",children:"English"}),_.jsx("option",{value:"telugu",children:"తెలుగు"})]})]}),_.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[_.jsx("label",{style:{fontSize:"14px"},children:"Period:"}),_.jsxs("select",{value:E,onChange:I=>b(I.target.value),style:{padding:"4px 8px",borderRadius:"4px",border:"1px solid #ccc"},children:[_.jsx("option",{value:"tomorrow",children:"Tomorrow"}),_.jsx("option",{value:"day_after",children:"Day After"}),_.jsx("option",{value:"week",children:"Weekly"})]})]}),_.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px"},children:[_.jsx("input",{type:"checkbox",checked:v,onChange:I=>g(I.target.checked)}),"Auto-refresh (1hr)"]}),_.jsx("button",{className:"btn",onClick:le,disabled:f,style:{minWidth:"100px"},children:f?"Loading...":"Refresh Now"})]})]})}),f&&_.jsx($e,{children:_.jsxs("div",{style:{textAlign:"center",padding:"20px"},children:[_.jsx("div",{style:{fontSize:"18px",marginBottom:"8px"},children:"🤖"}),_.jsx("div",{children:"Loading AI predictions..."})]})}),a&&_.jsxs(_.Fragment,{children:[_.jsx($e,{title:"📊 Hyderabad Food Analytics & Predictions",children:_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[_.jsxs("div",{style:{backgroundColor:"#f0f9ff",padding:"16px",borderRadius:"8px",border:"1px solid #0ea5e9"},children:[_.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#0369a1"},children:a.summary.todayOrders}),_.jsx("div",{style:{fontSize:"14px",color:"#0369a1"},children:w==="telugu"?"ఈరోజు ఆర్డర్లు":"Orders Today"})]}),_.jsxs("div",{style:{backgroundColor:"#f0fdf4",padding:"16px",borderRadius:"8px",border:"1px solid #22c55e"},children:[_.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#15803d"},children:E==="tomorrow"?a.summary.predictedTomorrow:E==="day_after"?a.summary.predictedDayAfter:a.summary.weeklyAverage}),_.jsx("div",{style:{fontSize:"14px",color:"#15803d"},children:w==="telugu"?E==="tomorrow"?"రేపటి అంచనా":E==="day_after"?"మరుసటి రోజు అంచనా":"వారపు సగటు":E==="tomorrow"?"Predicted Tomorrow":E==="day_after"?"Day After Tomorrow":"Weekly Average"})]}),_.jsxs("div",{style:{backgroundColor:"#fef3c7",padding:"16px",borderRadius:"8px",border:"1px solid #f59e0b"},children:[_.jsxs("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#d97706"},children:["₹",E==="tomorrow"?a.summary.predictedRevenue:E==="day_after"?a.summary.predictedRevenueDayAfter:a.summary.predictedWeeklyRevenue]}),_.jsx("div",{style:{fontSize:"14px",color:"#d97706"},children:w==="telugu"?E==="tomorrow"?"రేపటి ఆదాయం":E==="day_after"?"మరుసటి రోజు ఆదాయం":"వారపు ఆదాయం":E==="tomorrow"?"Predicted Revenue":E==="day_after"?"Day After Revenue":"Weekly Revenue"})]}),_.jsxs("div",{style:{backgroundColor:"#f3e8ff",padding:"16px",borderRadius:"8px",border:"1px solid #a855f7"},children:[_.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#7c3aed"},children:a.summary.weekAverage}),_.jsx("div",{style:{fontSize:"14px",color:"#7c3aed"},children:w==="telugu"?"వారపు సగటు":"Weekly Average"})]})]})}),_.jsx($e,{title:"🔥 Most Popular Items",children:_.jsxs("table",{className:"table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Item"}),_.jsx("th",{children:"Total Orders"}),_.jsx("th",{children:"Avg Price"}),_.jsx("th",{children:"Total Revenue"}),_.jsx("th",{children:"Last Ordered"})]})}),_.jsx("tbody",{children:a.popularItems.map(([I,z],K)=>_.jsxs("tr",{children:[_.jsx("td",{children:_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[_.jsxs("span",{style:{backgroundColor:K===0?"#fbbf24":K===1?"#9ca3af":"#cd7c2f",color:"white",padding:"2px 6px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold"},children:["#",K+1]}),I]})}),_.jsx("td",{children:z.totalOrders}),_.jsxs("td",{children:["₹",Math.round(z.avgPrice)]}),_.jsxs("td",{children:["₹",Math.round(z.totalRevenue)]}),_.jsx("td",{children:z.lastOrdered?new Date(z.lastOrdered).toLocaleDateString():"N/A"})]},I))})]})}),_.jsx($e,{title:"📅 Calendar View",children:_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[_.jsxs("div",{style:{backgroundColor:"#1f2937",borderRadius:"12px",padding:"16px",color:"white",fontFamily:"system-ui, -apple-system, sans-serif"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px",paddingBottom:"12px",borderBottom:"1px solid #374151"},children:[_.jsxs("div",{children:[_.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:"white"},children:x.toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long"})}),w==="telugu"&&_.jsx("div",{style:{fontSize:"14px",color:"#9ca3af",marginTop:"2px"},children:k[x.getDay()]})]}),_.jsx("div",{style:{width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",borderRadius:"4px",backgroundColor:"#374151"},children:_.jsx("span",{style:{color:"#9ca3af",fontSize:"12px"},children:"▼"})})]}),_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[_.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"white"},children:T.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),_.jsxs("div",{style:{display:"flex",gap:"8px"},children:[_.jsx("button",{onClick:()=>ne("prev"),style:{width:"24px",height:"24px",border:"none",backgroundColor:"#374151",color:"#9ca3af",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:"▲"}),_.jsx("button",{onClick:()=>ne("next"),style:{width:"24px",height:"24px",border:"none",backgroundColor:"#374151",color:"#9ca3af",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:"▼"})]})]}),_.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"2px",marginBottom:"8px"},children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(I=>_.jsx("div",{style:{padding:"8px 4px",textAlign:"center",fontSize:"12px",color:"#9ca3af",fontWeight:"500"},children:w==="telugu"?I==="Su"?"ఆ":I==="Mo"?"సో":I==="Tu"?"మం":I==="We"?"బు":I==="Th"?"గు":I==="Fr"?"శు":"శ":I},I))}),_.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"2px"},children:(()=>{const I=T.getMonth(),z=T.getFullYear(),K=new Date(z,I,1),ue=new Date(K);ue.setDate(ue.getDate()-K.getDay());const B=[];for(let ae=0;ae<42;ae++){const ie=new Date(ue);ie.setDate(ue.getDate()+ae),B.push(ie)}const $=a?oe(r,t,T):[];return B.map((ae,ie)=>{const fe=ae.getMonth()===I,Ae=ae.toDateString()===new Date().toDateString(),ve=ae.toDateString()===x.toDateString(),_t=$.find(gt=>gt.date.toDateString()===ae.toDateString()),Ne=ae.getDay()===0,Kt=ae.getDay()===0||ae.getDay()===6,en=q(ae);return _.jsxs("div",{onClick:()=>m(ae),style:{padding:"8px 4px",textAlign:"center",cursor:"pointer",borderRadius:"6px",backgroundColor:ve?"#3b82f6":Ae?"#f59e0b":Ne?"#ef4444":Kt?"#8b5cf6":en?"#f97316":"transparent",color:ve||fe?"white":"#6b7280",fontSize:"14px",fontWeight:Ae?"bold":"normal",transition:"all 0.2s ease",position:"relative"},children:[_.jsx("div",{style:{marginBottom:"2px"},children:ae.getDate()}),_t&&_.jsx("div",{style:{fontSize:"10px",fontWeight:"bold",color:ve?"white":Ne?"#fca5a5":Kt?"#c4b5fd":en?"#fed7aa":"#10b981"},children:_t.predicted}),en&&_.jsx("div",{style:{position:"absolute",top:"2px",right:"2px",width:"6px",height:"6px",backgroundColor:"#f59e0b",borderRadius:"50%"}}),Kt&&!Ne&&_.jsx("div",{style:{position:"absolute",top:"2px",left:"2px",width:"6px",height:"6px",backgroundColor:"#8b5cf6",borderRadius:"50%"}})]},ie)})})()}),_.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",fontSize:"10px",marginTop:"12px",padding:"8px",backgroundColor:"#374151",borderRadius:"6px"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[_.jsx("div",{style:{width:"8px",height:"8px",backgroundColor:"#f59e0b",borderRadius:"50%"}}),_.jsx("span",{style:{color:"#9ca3af"},children:"Festival"})]}),_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[_.jsx("div",{style:{width:"8px",height:"8px",backgroundColor:"#8b5cf6",borderRadius:"50%"}}),_.jsx("span",{style:{color:"#9ca3af"},children:"Saturday (Less Non-veg)"})]}),_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[_.jsx("div",{style:{width:"8px",height:"8px",backgroundColor:"#ef4444",borderRadius:"50%"}}),_.jsx("span",{style:{color:"#9ca3af"},children:"Sunday (Holiday)"})]})]}),_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"16px",paddingTop:"12px",borderTop:"1px solid #374151"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[_.jsx("button",{style:{width:"20px",height:"20px",border:"none",backgroundColor:"#374151",color:"#9ca3af",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:"−"}),_.jsx("span",{style:{fontSize:"14px",color:"white"},children:(()=>{const I=a.weeklyPredictions.find(z=>z.date.toDateString()===x.toDateString());return I?`${I.predicted} orders`:"0 orders"})()}),_.jsx("button",{style:{width:"20px",height:"20px",border:"none",backgroundColor:"#374151",color:"#9ca3af",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:"+"})]}),_.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 12px",backgroundColor:"#374151",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:[_.jsx("span",{children:"▶"}),w==="telugu"?"ఫోకస్":"Focus"]})]})]}),_.jsx("div",{children:(()=>{const z=(a?oe(r,t,T):[]).find(K=>K.date.toDateString()===x.toDateString());return z?_.jsxs("div",{style:{padding:"20px",backgroundColor:"#f8f9fa",borderRadius:"12px",border:"1px solid #e5e7eb"},children:[_.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"18px"},children:w==="telugu"?"ఎంచుకున్న రోజు వివరాలు":"Selected Day Details"}),_.jsxs("div",{style:{marginBottom:"16px"},children:[_.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#1f2937"},children:z.date.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),w==="telugu"&&_.jsx("div",{style:{fontSize:"16px",color:"#6b7280",marginTop:"4px"},children:z.day})]}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px",marginBottom:"16px"},children:[_.jsxs("div",{style:{padding:"12px",backgroundColor:z.isHoliday?"#fef2f2":"#ffffff",borderRadius:"8px",border:`1px solid ${z.isHoliday?"#fca5a5":"#e5e7eb"}`},children:[_.jsx("div",{style:{fontSize:"12px",color:"#666",marginBottom:"4px"},children:w==="telugu"?"అంచనా ఆర్డర్లు":"Predicted Orders"}),_.jsx("div",{style:{fontSize:"20px",fontWeight:"bold",color:z.isHoliday?"#dc2626":"#16a34a"},children:z.predicted})]}),_.jsxs("div",{style:{padding:"12px",backgroundColor:"#ffffff",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[_.jsx("div",{style:{fontSize:"12px",color:"#666",marginBottom:"4px"},children:w==="telugu"?"రోజు రకం":"Day Type"}),_.jsx("div",{style:{fontSize:"14px",fontWeight:"600"},children:z.isHoliday?"🏫 Holiday":z.isWeekend?"🥩 Saturday (Less Non-veg)":"📅 Weekday"})]})]}),z.festival&&_.jsxs("div",{style:{padding:"12px",backgroundColor:"#fef3c7",borderRadius:"8px",border:"1px solid #fde047",marginBottom:"16px"},children:[_.jsxs("div",{style:{fontSize:"12px",color:"#d97706",marginBottom:"4px"},children:["🕉️ ",w==="telugu"?"పండుగ":"Festival"]}),_.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#d97706",marginBottom:"4px"},children:z.festival.name}),_.jsxs("div",{style:{fontSize:"14px",color:"#d97706"},children:["Non-veg reduction: ",Math.round(z.festival.reduction*100),"%"]})]}),_.jsxs("div",{style:{padding:"12px",backgroundColor:"#f0fdf4",borderRadius:"8px",border:"1px solid #bbf7d0"},children:[_.jsxs("div",{style:{fontSize:"12px",color:"#16a34a",marginBottom:"4px"},children:["💡 ",w==="telugu"?"సిఫార్సులు":"Recommendations"]}),_.jsx("div",{style:{fontSize:"14px",color:"#16a34a"},children:z.isHoliday?w==="telugu"?"కాలేజీ మూసివేయబడింది. నిర్వహణపై దృష్టి పెట్టండి":"College closed. Focus on maintenance":w==="telugu"?"సాధారణ రోజు - సాధారణ సిబ్బంది మరియు స్టాక్":"Normal day - regular staff and stock"})]})]}):null})()})]})}),_.jsx($e,{title:"📋 Weekly Predictions List",children:_.jsx("div",{style:{display:"grid",gap:"12px"},children:a.weeklyPredictions.map((I,z)=>_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",backgroundColor:I.isHoliday?"#fef2f2":I.isWeekend?"#f0f9ff":"#f9fafb",border:`1px solid ${I.isHoliday?"#fca5a5":I.isWeekend?"#0ea5e9":"#e5e7eb"}`,borderRadius:"8px"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[_.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:I.isHoliday?"#dc2626":I.isWeekend?"#0ea5e9":"#6b7280",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold"},children:I.date.getDate()}),_.jsxs("div",{children:[_.jsx("div",{style:{fontWeight:"600",fontSize:"16px"},children:w==="telugu"?I.day:I.date.toLocaleDateString("en-US",{weekday:"long"})}),_.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:[I.date.toLocaleDateString("en-US",{month:"short",day:"numeric"}),I.festival&&` • 🕉️ ${I.festival.name} (Non-veg -${Math.round(I.festival.reduction*100)}%)`,I.isHoliday&&" • 🏫 College Holiday",I.isWeekend&&!I.isHoliday&&" • 🏖️ Weekend"]})]})]}),_.jsxs("div",{style:{textAlign:"right"},children:[_.jsx("div",{style:{fontSize:"20px",fontWeight:"bold",color:I.isHoliday?"#dc2626":I.isWeekend?"#0ea5e9":"#374151"},children:I.predicted}),_.jsx("div",{style:{fontSize:"12px",color:"#666"},children:w==="telugu"?"అంచనా":"Predicted"})]})]},z))})}),_.jsx($e,{title:"⏰ Peak Ordering Hours",children:_.jsx("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:a.peakHours.map((I,z)=>_.jsxs("div",{style:{backgroundColor:z===0?"#fef2f2":z===1?"#fef3c7":"#f0fdf4",border:`1px solid ${z===0?"#fca5a5":z===1?"#fde047":"#bbf7d0"}`,padding:"12px 16px",borderRadius:"8px",textAlign:"center",minWidth:"80px"},children:[_.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:z===0?"#dc2626":z===1?"#d97706":"#16a34a"},children:I}),_.jsx("div",{style:{fontSize:"12px",color:"#666"},children:z===0?"Peak":z===1?"High":"Medium"})]},I))})}),_.jsx($e,{title:"🤖 AI Recommendations",children:a.recommendations.length===0?_.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"#666",backgroundColor:"#f9fafb",borderRadius:"8px"},children:[_.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:"✅"}),_.jsx("div",{children:"All systems running smoothly! No urgent recommendations."})]}):_.jsx("div",{style:{display:"grid",gap:"16px"},children:["high","medium","low"].map(I=>{const z=a.recommendations.filter(K=>K.priority===I).sort((K,ue)=>{const B={low_stock:0,popular_item:1,peak_hours:2};return B[K.type]-B[ue.type]});return z.length===0?null:_.jsxs("div",{children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",padding:"8px 12px",backgroundColor:I==="high"?"#fef2f2":I==="medium"?"#fefce8":"#f0fdf4",borderRadius:"6px",border:`1px solid ${I==="high"?"#fca5a5":I==="medium"?"#fde047":"#bbf7d0"}`},children:[_.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",backgroundColor:I==="high"?"#dc2626":I==="medium"?"#d97706":"#16a34a",color:"white"},children:I.toUpperCase()}),_.jsx("span",{style:{fontWeight:"600",color:I==="high"?"#dc2626":I==="medium"?"#d97706":"#16a34a"},children:I==="high"?"🚨 High Priority Alerts":I==="medium"?"⚠️ Medium Priority Alerts":"ℹ️ Low Priority Alerts"}),_.jsxs("span",{style:{fontSize:"12px",color:"#666",marginLeft:"auto"},children:[z.length," alert",z.length!==1?"s":""]})]}),_.jsx("div",{style:{display:"grid",gap:"12px"},children:z.map((K,ue)=>_.jsxs("div",{style:{padding:"16px",borderRadius:"8px",border:`1px solid ${K.priority==="high"?"#fca5a5":K.priority==="medium"?"#fde047":"#bbf7d0"}`,backgroundColor:K.priority==="high"?"#fef2f2":K.priority==="medium"?"#fefce8":"#f0fdf4"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[_.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",backgroundColor:K.priority==="high"?"#dc2626":K.priority==="medium"?"#d97706":"#16a34a",color:"white"},children:K.priority.toUpperCase()}),_.jsx("span",{style:{fontWeight:"600"},children:K.type==="low_stock"?"📦 Stock Alert":K.type==="popular_item"?"🔥 Popular Item":K.type==="peak_hours"?"⏰ Peak Hours":"💡 Suggestion"})]}),_.jsx("div",{style:{marginBottom:"8px"},children:K.message}),_.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",color:K.priority==="high"?"#dc2626":K.priority==="medium"?"#d97706":"#16a34a"},children:["💡 ",K.action]})]},ue))})]},I)})})})]}),!a&&!f&&_.jsx($e,{children:_.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[_.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"🤖"}),_.jsx("h3",{style:{margin:"0 0 8px 0"},children:"AI Predictions Ready"}),_.jsx("p",{style:{margin:"0 0 16px 0",color:"#666"},children:'Click "Refresh Now" to load the latest data and generate predictions'}),_.jsx("button",{className:"btn",onClick:le,children:"Load Predictions"})]})})]})}function YA(){const[r,e]=U.useState(()=>localStorage.getItem("theme")||"light");return U.useEffect(()=>{document.documentElement.setAttribute("data-theme",r),localStorage.setItem("theme",r)},[r]),_.jsxs("div",{style:{display:"grid",gap:16},children:[_.jsxs("div",{className:"grid-2",children:[_.jsxs("div",{className:"card",children:[_.jsx("h2",{style:{marginTop:0},children:"Appearance"}),_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[_.jsx("span",{className:"muted",children:"Light"}),_.jsxs("label",{className:"switch",children:[_.jsx("input",{type:"checkbox",checked:r==="dark",onChange:t=>e(t.target.checked?"dark":"light")}),_.jsx("span",{className:"slider"})]}),_.jsx("span",{className:"muted",children:"Dark"})]})]}),_.jsxs("div",{className:"card",children:[_.jsx("h2",{style:{marginTop:0},children:"Account"}),_.jsx("div",{className:"actions",style:{justifyContent:"flex-start"},children:_.jsx("button",{className:"btn",onClick:()=>{try{localStorage.clear()}catch{}const t=import.meta&&jA&&"/IARE-Canteen-Web/"||"/";window.location.href=t},children:"Log out"})})]})]}),_.jsx(WA,{})]})}function WA(){const[r,e]=U.useState(!1),[t,n]=U.useState(null),[a,o]=U.useState(null),[l,c]=U.useState(null),f=async()=>{e(!0),n(null),o(null);try{let x=0,m=[];for(;;){const w=x+1e3-1,{data:S,error:E}=await ze.from("orders").select("*").order("created_at",{ascending:!1}).range(x,w);if(E)throw E;const b=S||[];if(m=m.concat(b),b.length<1e3)break;x+=1e3}n(m),window.__IARE_ORDERS__=m}catch(g){o(g)}finally{e(!1)}},h=()=>{const g="https://znqhoohjugyblgwepovp.supabase.co",x="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpucWhvb2hqdWd5Ymxnd2Vwb3ZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ0OTk0OTAsImV4cCI6MjA3MDA3NTQ5MH0.dEWUpJtDbzLKRv9UtxpJLEmSMT6M_QChI3eu8EjO3dY";c({hasUrl:!0,hasKey:!0,urlLength:g?.length||0,keyLength:x?.length||0,urlPreview:`${g.substring(0,20)}...`,keyPreview:`${x.substring(0,20)}...`,isConfigured:!0,urlValue:g,keyValue:x})},v=async()=>{e(!0);try{const g=[{name:"Veg Biryani",price:180},{name:"Masala Dosa",price:80},{name:"Samosa",price:40},{name:"Chicken Biryani",price:200},{name:"Paneer Tikka",price:120},{name:"Dal Khichdi",price:60},{name:"Veg Fried Rice",price:90},{name:"Chicken Curry",price:150}],x=g[Math.floor(Math.random()*g.length)],{data:m,error:w}=await ze.rpc("create_order",{p_item_name:x.name,p_total:x.price,p_status:"PENDING"});w?o(w):(n({message:`Order created with ID: ${m} for ${x.name}`,orderId:m}),setTimeout(()=>{f()},1e3))}catch(g){o(g)}finally{e(!1)}};return _.jsxs("div",{className:"card",children:[_.jsx("h2",{style:{marginTop:0},children:"Debug"}),_.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[_.jsx("button",{className:"btn",onClick:f,disabled:r,children:r?"Fetching...":"Fetch orders from Supabase"}),_.jsx("button",{className:"btn",onClick:v,disabled:r,children:r?"Creating...":"Create Test Order"}),_.jsx("button",{className:"btn",onClick:h,children:"Check Env Vars"}),_.jsx("button",{className:"btn",onClick:()=>{n(null),o(null),c(null)},children:"Clear"})]}),_.jsxs("div",{style:{marginTop:12},children:[l&&_.jsxs("div",{style:{marginBottom:12,padding:8,backgroundColor:"#f3f4f6",borderRadius:4},children:[_.jsx("strong",{children:"Environment Variables:"}),_.jsx("br",{}),"URL: ",l.hasUrl?"✅ Set":"❌ Missing"," (",l.urlPreview,")",_.jsx("br",{}),"Key: ",l.hasKey?"✅ Set":"❌ Missing"," (",l.keyPreview,")",_.jsx("br",{}),"Status: ",l.isConfigured?"✅ Configured":"❌ Not Configured",!l.isConfigured&&_.jsxs("div",{style:{marginTop:8,padding:8,backgroundColor:"#fef3c7",borderRadius:4,fontSize:"12px"},children:[_.jsx("strong",{children:"Setup Required:"}),_.jsx("br",{}),"1. Create a ",_.jsx("code",{children:".env"})," file in the project root",_.jsx("br",{}),"2. Add your Supabase URL and anon key",_.jsx("br",{}),"3. Restart the development server"]})]}),a&&_.jsx("pre",{style:{color:"crimson",whiteSpace:"pre-wrap"},children:String(a.message||a)}),t&&_.jsx("div",{style:{maxHeight:240,overflow:"auto"},children:_.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:JSON.stringify(t,null,2)})}),!t&&!a&&!l&&_.jsx("div",{className:"muted",children:"No result yet. Click fetch to test."})]})]})}function ZA(){const r=U.useRef(null),e=U.useRef(null),t=U.useRef(null),[n,a]=U.useState(!1),[o,l]=U.useState(""),[c,f]=U.useState(null),[h,v]=U.useState(null),[g,x]=U.useState(!1),[m,w]=U.useState(!1),[S,E]=U.useState(""),[b,T]=U.useState(0),[O,D]=U.useState(""),N=async()=>{try{a(!1);try{t.current&&typeof t.current.stop=="function"&&t.current.stop()}catch{}t.current=null;try{e.current&&typeof e.current.reset=="function"&&await e.current.reset()}catch{}e.current=null;const Y=r.current;Y&&Y.srcObject&&(Y.srcObject.getTracks().forEach(ee=>ee.stop()),Y.srcObject=null)}catch{}},k=async()=>{f(null),v(null),l(""),D("");try{if(n)return;await N();const Y=new LA;e.current=Y,a(!0),await Y.decodeFromVideoDevice(null,r.current,async(q,ee,ne)=>{try{ne&&!t.current&&(t.current=ne)}catch{}if(q){const oe=String(q.getText()||"");if(console.log("Scanned text:",oe),!oe||m)return;const le=Date.now();if(S===oe&&le-b<1500)return;w(!0),E(oe),T(le);try{const I=await Z(oe);D(I?"Successfully scanned":"")}finally{w(!1)}}ee&&ee.name})}catch(Y){console.error(Y),f(Y),a(!1)}},L=Y=>{if(!Y)return{};const q=String(Y).trim();console.log("Parsing scanned text:",q);const ee=/[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}/i;if(q.startsWith("IARE_"))return console.log("Found encrypted code:",q),{encryptedCode:q};const ne=q.match(ee);if(ne)return console.log("Found UUID order ID:",ne[0]),{orderId:ne[0]};const oe=q.replace(/\D+/g,"");if(oe.length>=3&&oe.length<=10)return console.log("Found token number:",oe),{token:oe};try{const I=new URL(q).searchParams,z=I.get("token")||I.get("id")||I.get("order_id")||I.get("code");if(z){if(z.startsWith("IARE_"))return console.log("Found encrypted code in URL params:",z),{encryptedCode:z};if(ee.test(z))return console.log("Found UUID in URL params:",z),{orderId:z};const K=z.replace(/\D+/g,"");if(K.length>=3&&K.length<=10)return console.log("Found token in URL params:",K),{token:K}}}catch{}return console.log("No valid token, ID, or encrypted code found in:",q),{}},Z=async Y=>{f(null),v(null);const{token:q,orderId:ee,encryptedCode:ne}=L(Y);console.log("Parsed token:",q,"orderId:",ee,"encryptedCode:",ne);try{let oe=null;if(ne){console.log("Searching by encrypted code:",ne);const{data:le,error:I}=await ze.from("orders").select("id,item_name,encrypted_code,order_token,created_at,status,total_amount,order_placer").eq("encrypted_code",ne).limit(1).maybeSingle();if(I)throw console.error("Error searching by encrypted code:",I),I;le?(console.log("Found order by encrypted code:",le),oe=le):console.log("No order found with encrypted code:",ne)}if(!oe&&q){console.log("Searching by token:",q);const{data:le,error:I}=await ze.from("orders").select("id,item_name,encrypted_code,order_token,created_at,status,total_amount,order_placer").eq("order_token",q).limit(1).maybeSingle();if(I)throw console.error("Error searching by token:",I),I;le?(console.log("Found order by token:",le),oe=le):console.log("No order found with token:",q)}if(!oe&&ee){console.log("Searching by order ID:",ee);const{data:le,error:I}=await ze.from("orders").select("id,item_name,encrypted_code,order_token,created_at,status,total_amount,order_placer").eq("id",ee).limit(1).maybeSingle();if(I)throw console.error("Error searching by order ID:",I),I;le?(console.log("Found order by ID:",le),oe=le):console.log("No order found with ID:",ee)}if(oe)return console.log("Setting order:",oe),v(oe),oe;{const le=`No order found for scanned code. Encrypted Code: ${ne}, Token: ${q}, Order ID: ${ee}`;return console.log(le),f(new Error(le)),null}}catch(oe){return console.error("Scan lookup failed:",oe),f(oe),null}},J=async Y=>{if(h){x(!0);try{const{error:q}=await ze.rpc("update_order_status_flexible",{p_order_id:h.id,p_new_status:String(Y).toLowerCase()});if(q)throw q;v(ee=>({...ee,status:Y})),alert(`Updated to ${Y}`)}catch(q){alert("Failed to update: "+(q.message||q))}finally{x(!1)}}};return U.useEffect(()=>(k(),()=>{N()}),[]),_.jsx("div",{style:{display:"grid",gap:16},children:_.jsxs($e,{title:"QR Scanner",children:[_.jsx("div",{className:"actions",style:{marginBottom:8},children:_.jsxs("button",{className:"btn",onClick:n?N:k,children:[n?"Stop":"Start"," Camera"]})}),_.jsxs("div",{style:{marginBottom:16,padding:12,backgroundColor:"#f8fafc",borderRadius:8,border:"1px solid #e2e8f0"},children:[_.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"14px"},children:"Manual Test Input"}),_.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[_.jsx("input",{type:"text",placeholder:"Enter barcode/QR code manually for testing...",style:{flex:1,padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"14px"},onKeyPress:Y=>{if(Y.key==="Enter"){const q=Y.target.value.trim();q&&(console.log("Manual input:",q),Z(q),Y.target.value="")}}}),_.jsx("button",{className:"btn",onClick:Y=>{const q=Y.target.previousElementSibling,ee=q.value.trim();ee&&(console.log("Manual input:",ee),Z(ee),q.value="")},style:{fontSize:"12px",padding:"8px 12px"},children:"Test"})]}),_.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:4},children:"Enter an encrypted code (starts with IARE_), token number (e.g., 1234), or order ID, then press Enter or click Test"})]}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[_.jsxs("div",{children:[_.jsx("video",{ref:r,style:{width:"100%",maxHeight:320,background:"#000",borderRadius:8},muted:!0,playsInline:!0}),O&&_.jsx("div",{className:"muted",style:{marginTop:8,color:"#10b981"},children:O}),c&&_.jsx("div",{className:"muted",style:{color:"crimson",marginTop:8},children:String(c.message||c)})]}),_.jsx("div",{children:h?_.jsxs("div",{children:[_.jsxs("div",{style:{marginBottom:8},children:[_.jsxs("div",{children:["Item Name: ",_.jsx("strong",{children:h.item_name||"Order Item"})]}),_.jsxs("div",{children:["Encrypted Code: ",_.jsx("code",{style:{fontSize:"12px",backgroundColor:"#f3f4f6",padding:"2px 4px",borderRadius:"3px"},children:h.encrypted_code||"Not available"})]}),_.jsxs("div",{children:["Status: ",Je(h.status)]}),_.jsxs("div",{children:["Price: ",h.total_amount!=null?`₹${h.total_amount}`:"-"]}),_.jsxs("div",{children:["Token: ",h.order_token?`#${h.order_token}`:"Not available"]}),_.jsxs("div",{children:["Placed By: ",h.order_placer==="admin"?"Counter":"Student"]})]}),_.jsxs("div",{className:"actions",children:[Je(h.status)==="PENDING"&&_.jsx("button",{className:"btn",disabled:g,onClick:()=>J("PREPARING"),children:g?"Updating...":"Mark Preparing"}),Je(h.status)==="PREPARING"&&_.jsxs(_.Fragment,{children:[_.jsx("button",{className:"btn",disabled:g,onClick:()=>J("READY"),children:g?"Updating...":"Mark Ready"}),_.jsx("button",{className:"btn",disabled:g,onClick:()=>J("DELIVERED"),children:g?"Updating...":"Mark Delivered"})]}),Je(h.status)==="READY"&&_.jsx("button",{className:"btn",disabled:g,onClick:()=>J("DELIVERED"),children:g?"Updating...":"Mark Delivered"})]})]}):_.jsx("div",{className:"muted",children:"Scan a QR that contains an order token or ID."})})]}),_.jsx("div",{className:"muted",style:{marginTop:8},children:"Tip: Your QR can contain encrypted codes (IARE_...), order tokens (e.g., #1234), or order UUIDs."})]})})}yx.createRoot(document.getElementById("root")).render(_.jsx(U.StrictMode,{children:_.jsx(Dm,{children:_.jsx(UA,{})})}));
